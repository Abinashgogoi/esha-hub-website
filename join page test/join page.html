<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ESHA Hub - Member Registration</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Custom styling */
        .form-container {
            max-width: 800px;
            margin: 0 auto;
            padding: 2rem;
            background-color: white;
            border-radius: 12px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
        }
        .step-indicator {
            display: flex;
            justify-content: space-between;
            margin-bottom: 2rem;
        }
        .step {
            text-align: center;
            flex: 1;
            position: relative;
        }
        .step-number {
            width: 40px;
            height: 40px;
            background-color: #6b7280;
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 10px;
        }
        .step.active .step-number {
            background-color: #3b82f6;
        }
        .step.completed .step-number {
            background-color: #10b981;
        }
        .step-title {
            font-size: 0.875rem;
            color: #6b7280;
            font-weight: 600;
        }
        .active .step-title, .completed .step-title {
            color: #111827;
        }
        .step-connector {
            position: absolute;
            top: 20px;
            left: 60%;
            right: 0;
            height: 2px;
            background-color: #e5e7eb;
            z-index: -1;
        }
        .step:last-child .step-connector {
            display: none;
        }
        .terms-container {
            max-height: 400px;
            overflow-y: auto;
            border: 1px solid #e5e7eb;
            padding: 1rem;
            margin-bottom: 1rem;
            background-color: #f9fafb;
            border-radius: 8px;
        }
        .btn-disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        .resume-preview {
            background-color: #f8fafc;
            border: 1px solid #e2e8f0;
            border-radius: 8px;
            padding: 2rem;
            font-family: 'Inter', sans-serif;
        }
        .signature-canvas {
            border: 1px dashed #9ca3af;
            background-color: #f9fafb;
            cursor: crosshair;
        }
        .video-preview {
            width: 100%;
            aspect-ratio: 16/9;
            background-color: #e5e7eb;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 8px;
            margin-bottom: 1rem;
        }
        .draggable-upload-area {
            border: 2px dashed #9ca3af;
            border-radius: 8px;
            padding: 2rem;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            background-color: #f9fafb;
        }
        .draggable-upload-area:hover {
            border-color: #3b82f6;
            background-color: #eff6ff;
        }
        
        /* Animation for step transitions */
        .step-section {
            transition: all 0.3s ease;
            opacity: 1;
        }
        .step-section.hidden {
            display: none;
            opacity: 0;
        }
        #status-check {
            animation: pulse-green 2s infinite;
        }
        @keyframes pulse-green {
            0% { box-shadow: 0 0 0 0 rgba(16, 185, 129, 0.4); }
            70% { box-shadow: 0 0 0 10px rgba(16, 185, 129, 0); }
            100% { box-shadow: 0 0 0 0 rgba(16, 185, 129, 0); }
        }
    </style>
</head>
<body class="bg-gray-100 min-h-screen pt-10 pb-20">
    <div class="container mx-auto px-4">
        <div class="text-center mb-10">
            <h1 class="text-4xl font-bold text-indigo-700 mb-2">Join ESHA Hub</h1>
            <p class="text-lg text-gray-600">Become a permanent member of our innovation community</p>
        </div>

        <div class="form-container">
            <!-- Step Indicator -->
            <div class="step-indicator">
                <div class="step active" id="step1">
                    <div class="step-number">1</div>
                    <div class="step-title">Agreement</div>
                    <div class="step-connector"></div>
                </div>
                <div class="step" id="step2">
                    <div class="step-number">2</div>
                    <div class="step-title">Application</div>
                    <div class="step-connector"></div>
                </div>
                <div class="step" id="step3">
                    <div class="step-number">3</div>
                    <div class="step-title">Preview</div>
                    <div class="step-connector"></div>
                </div>
                <div class="step" id="step4">
                    <div class="step-number">4</div>
                    <div class="step-title">Status</div>
                    <div class="step-connector"></div>
                </div>
                <div class="step" id="step5">
                    <div class="step-number">5</div>
                    <div class="step-title">Upload</div>
                </div>
            </div>

            <!-- Step 1: Agreement -->
            <div class="step-section" id="section1">
                <h2 class="text-2xl font-semibold text-gray-800 mb-4">Agreement to ESHA's Values & Terms</h2>
                <div class="terms-container">
                    <h3 class="text-xl font-bold mb-4">ESHA Hub Membership Agreement</h3>
                    <p class="mb-4">Welcome to ESHA Hub, a community dedicated to innovation, collaboration, and ethical technological advancement. By joining our community, you agree to uphold these values and commit to our shared purpose.</p>
                    
                    <h4 class="font-bold text-lg mt-6 mb-2">Core Values</h4>
                    <ul class="list-disc pl-5 space-y-2 mb-4">
                        <li><strong>Integrity:</strong> We expect all members to act with honesty and ethical responsibility.</li>
                        <li><strong>Collaboration:</strong> We foster a culture of shared knowledge and mutual support.</li>
                        <li><strong>Innovation:</strong> We encourage creative thinking and groundbreaking solutions.</li>
                        <li><strong>Respect:</strong> We value diversity and maintain a harassment-free environment.</li>
                        <li><strong>Impact:</strong> We prioritize work that positively transforms society.</li>
                    </ul>
                    
                    <h4 class="font-bold text-lg mt-6 mb-2">Membership Expectations</h4>
                    <ul class="list-disc pl-5 space-y-2 mb-4">
                        <li>Active participation in community initiatives</li>
                        <li>Commitment to ethical conduct in all projects</li>
                        <li>Respect for intellectual property rights</li>
                        <li>Regular contribution of skills and knowledge</li>
                        <li>Adherence to community guidelines</li>
                    </ul>
                    
                    <h4 class="font-bold text-lg mt-6 mb-2">Confidentiality</h4>
                    <p class="mb-4">Members may gain access to proprietary information and must maintain strict confidentiality unless authorized to share.</p>
                    
                    <h4 class="font-bold text-lg mt-6 mb-2">Non-Discrimination</h4>
                    <p>ESHA Hub prohibits discrimination based on race, gender, religion, nationality, disability, sexual orientation, or any other protected characteristic.</p>
                    
                    <p class="mt-6 text-sm italic">By signing below, you acknowledge that you have read and agree to these terms and will uphold these values as an ESHA Hub member.</p>
                </div>
                
                <div class="flex items-center mb-6">
                    <input type="checkbox" id="agree-terms" class="mr-2 h-5 w-5">
                    <label for="agree-terms" class="text-gray-700">I have read and agree to ESHA's values and terms</label>
                </div>
                
                <div class="flex justify-between">
                    <button class="btn-disabled px-4 py-2 rounded-md text-white bg-indigo-600 opacity-50 cursor-not-allowed" disabled id="print-btn">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 inline mr-1" viewBox="0 0 20 20" fill="currentColor">
                            <path fill-rule="evenodd" d="M5 4v3H4a2 2 0 00-2 2v3a2 2 0 002 2h1v2a2 2 0 002 2h6a2 2 0 002-2v-2h1a2 2 0 002-2V9a2 2 0 00-2-2h-1V4a2 2 0 00-2-2H7a2 2 0 00-2 2zm8 0H7v3h6V4zm0 8H7v4h6v-4z" clip-rule="evenodd" />
                        </svg>
                        Print Agreement
                    </button>
                    <button class="px-4 py-2 rounded-md text-white bg-indigo-600 hover:bg-indigo-700 transition disabled:opacity-50 disabled:cursor-not-allowed" id="next-btn-1" disabled>
                        Next →
                    </button>
                </div>
            </div>

            <!-- Step 2: Application Form -->
            <div class="step-section hidden" id="section2">
                <h2 class="text-2xl font-semibold text-gray-800 mb-4">Application Form</h2>
                <p class="text-gray-600 mb-6">Please complete all fields below to apply for ESHA Hub membership.</p>
                
                <form id="application-form">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
                        <div>
                            <label for="full-name" class="block text-sm font-medium text-gray-700 mb-1">Full Name*</label>
                            <input type="text" id="full-name" required class="w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500">
                        </div>
                        <div>
                            <label for="email" class="block text-sm font-medium text-gray-700 mb-1">Email Address*</label>
                            <input type="email" id="email" required class="w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500">
                        </div>
                        <div>
                            <label for="phone" class="block text-sm font-medium text-gray-700 mb-1">Phone Number*</label>
                            <div class="flex">
                                <select id="country-code" class="w-20 px-3 py-2 border border-gray-300 rounded-l-md focus:ring-indigo-500 focus:border-indigo-500">
                                    <option value="">Select country code</option>
                                    <option value="+1">+1 US</option>
                                    <option value="+44">+44 UK</option>
                                    <option value="+91">+91 IN</option>
                                    <option value="+86">+86 CN</option>
                                </select>
                                <input type="tel" id="phone" required class="flex-1 px-4 py-2 border border-gray-300 rounded-r-md focus:ring-indigo-500 focus:border-indigo-500">
                            </div>
                        </div>
                        <div>
                            <label for="gender" class="block text-sm font-medium text-gray-700 mb-1">Gender*</label>
                            <select id="gender" required class="w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500">
                                <option value="">Select gender</option>
                                <option value="male">Male</option>
                                <option value="female">Female</option>
                                <option value="other">Other</option>
                            </select>
                        </div>
                        <div>
                            <label for="dob" class="block text-sm font-medium text-gray-700 mb-1">Date of Birth*</label>
                            <input type="date" id="dob" required class="w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500">
                        </div>
                        <div>
                            <label for="background" class="block text-sm font-medium text-gray-700 mb-1">Educational/Professional Background*</label>
                            <input type="text" id="background" required class="w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500">
                        </div>
                    </div>
                    
                    <div class="mb-6">
                        <label for="address" class="block text-sm font-medium text-gray-700 mb-1">Address*</label>
                        <textarea id="address" required rows="2" class="w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500"></textarea>
                    </div>
                    <div class="mb-6">
                        <label for="motivation" class="block text-sm font-medium text-gray-700 mb-1">Why do you want to join ESHA Hub? (Motivation)*</label>
                        <textarea id="motivation" required rows="3" class="w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500"></textarea>
                    </div>
                    
                    <div class="mb-6">
                        <label for="vision" class="block text-sm font-medium text-gray-700 mb-1">Your vision, goal, or dream*</label>
                        <textarea id="vision" required rows="3" class="w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500"></textarea>
                    </div>
                    
                    <div class="mb-6">
                        <label for="interest" class="block text-sm font-medium text-gray-700 mb-1">Area of Primary Interest*</label>
                        <select id="interest" required class="w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500">
                            <option value="">Select an area</option>
                            <option value="ai">Artificial Intelligence</option>
                            <option value="space">Space Exploration</option>
                            <option value="healthtech">Health Technology</option>
                            <option value="biotech">Biotechnology</option>
                            <option value="energy">Sustainable Energy</option>
                            <option value="fintech">Financial Technology</option>
                            <option value="other">Other</option>
                        </select>
                    </div>
                    
                    <div class="mb-6">
                        <label class="block text-sm font-medium text-gray-700 mb-1">Profile Image*</label>
                        <div class="flex items-center">
                            <div class="mr-4">
                                <div class="w-20 h-20 rounded-full bg-gray-200 overflow-hidden flex items-center justify-center">
                                    <img id="profile-image-preview" class="hidden w-full h-full object-cover" src="" alt="Profile Preview" src="https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/01b6dcc5-38c3-480e-96c7-a7b65e3999e9.png">
                                    <svg class="h-8 w-8 text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
                                    </svg>
                                </div>
                            </div>
                            <div class="draggable-upload-area" id="profile-dropzone">
                                <input type="file" id="profile-image" accept="image/*" class="hidden">
                                <p class="text-sm text-gray-500">Click to upload profile photo</p>
                                <p class="text-xs text-gray-400">JPG/PNG (max 2MB)</p>
                            </div>
                        </div>
                    </div>
                    <div class="mb-6">
                        <label for="portfolio" class="block text-sm font-medium text-gray-700 mb-1">Previous Work/Projects/Portfolio (Optional)</label>
                        <div class="draggable-upload-area" id="portfolio-dropzone">
                            <input type="file" id="portfolio" class="hidden" multiple>
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-10 w-10 mx-auto text-gray-400 mb-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12" />
                            </svg>
                            <p class="text-sm text-gray-500">Drag & drop files here or click to browse</p>
                            <p class="text-xs text-gray-400 mt-1">PDF, DOC, or links only (max 10MB)</p>
                        </div>
                        <div id="portfolio-files" class="mt-2 text-sm text-gray-600 hidden"></div>
                        <input type="text" id="portfolio-links" placeholder="Or paste links to your work (separated by commas)" class="w-full mt-2 px-4 py-2 border border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500 hidden">
                    </div>
                    
                    <div class="flex items-center mb-6">
                        <input type="checkbox" id="agree-confirm" required class="mr-2 h-5 w-5">
                        <label for="agree-confirm" class="text-gray-700">I understand I must submit proof of agreement at the final step</label>
                    </div>
                    
                    <div class="flex justify-between">
                        <button type="button" class="px-4 py-2 rounded-md text-gray-700 bg-gray-200 hover:bg-gray-300 transition" id="prev-btn-2">
                            ← Previous
                        </button>
                        <button type="button" class="px-4 py-2 rounded-md text-white bg-indigo-600 hover:bg-indigo-700 transition" id="next-btn-2">
                            Next →
                        </button>
                    </div>
                </form>
            </div>

            <!-- Step 3: Resume Preview -->
            <div class="step-section hidden" id="section3">
                <h2 class="text-2xl font-semibold text-gray-800 mb-4">Application Preview</h2>
                <p class="text-gray-600 mb-6">Review your information before submission.</p>
                
                <div class="resume-preview mb-6" id="resume-content">
                    <h3 class="text-2xl font-bold mb-4" id="preview-name">John Doe</h3>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6">
                        <div>
                            <h4 class="font-bold text-gray-700 mb-2">Contact Information</h4>
                            <p id="preview-email">john.doe@example.com</p>
                            <p id="preview-phone">+1 (555) 123-4567</p>
                        </div>
                        <div>
                            <h4 class="font-bold text-gray-700 mb-2">Personal Details</h4>
                            <p id="preview-gender">Male</p>
                            <p id="preview-dob">January 1, 1990</p>
                            <p id="preview-interest">Artificial Intelligence</p>
                        </div>
                    </div>
                    
                    <div class="mb-6">
                        <h4 class="font-bold text-gray-700 mb-2">Background</h4>
                        <p id="preview-background">Computer Science, MIT</p>
                    </div>
                    
                    <div class="mb-6">
                        <h4 class="font-bold text-gray-700 mb-2">Motivation for Joining ESHA</h4>
                        <p id="preview-motivation">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam in dui mauris.</p>
                    </div>
                    
                    <div class="mb-6">
                        <h4 class="font-bold text-gray-700 mb-2">Vision/Goal</h4>
                        <p id="preview-vision">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam in dui mauris.</p>
                    </div>
                    <div class="mb-6">
                        <h4 class="font-bold text-gray-700 mb-2">Address</h4>
                        <p id="preview-address">123 Main St, City, Country</p>
                    </div>
                    
                    <div id="preview-portfolio-section" class="hidden">
                        <h4 class="font-bold text-gray-700 mb-2">Portfolio</h4>
                        <div id="preview-portfolio"></div>
                    </div>
                </div>
                
                <div class="flex justify-between">
                    <button type="button" class="px-4 py-2 rounded-md text-gray-700 bg-gray-200 hover:bg-gray-300 transition" id="prev-btn-3">
                        ← Previous
                    </button>
                    <button type="button" class="px-4 py-2 rounded-md text-white bg-indigo-600 hover:bg-indigo-700 transition" id="next-btn-3">
                        Submit Application →
                    </button>
                </div>
            </div>

            <!-- Step 4: Verification Status -->
            <div class="step-section hidden" id="section4">
                <h2 class="text-2xl font-semibold text-gray-800 mb-4">Application Submitted</h2>
                <div class="text-center py-8">
                    <div class="w-20 h-20 mx-auto rounded-full bg-green-100 flex items-center justify-center mb-4" id="status-check">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-10 w-10 text-green-600" viewBox="0 0 20 20" fill="currentColor">
                            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                        </svg>
                    </div>
                    <h3 class="text-xl font-bold text-green-700 mb-2">Your application has been submitted!</h3>
                    <p class="text-gray-600 mb-6">Status: <span class="font-semibold text-indigo-600">Pending Manual Review by ESHA Team</span></p>
                    <p class="mb-8">You will receive a notification via email once your application has been reviewed. This process typically takes 3-5 business days.</p>
                    
                    <div class="bg-blue-50 border-l-4 border-blue-400 p-4 mb-8">
                        <div class="flex">
                            <div class="flex-shrink-0">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-blue-500" viewBox="0 0 20 20" fill="currentColor">
                                    <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2h-1V9z" clip-rule="evenodd" />
                                </svg>
                            </div>
                            <div class="ml-3">
                                <p class="text-sm text-blue-700">
                                    Next step: After approval, you'll need to upload your signed agreement and optional video before receiving full access to ESHA Hub.
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="flex flex-col items-center">
                    <button type="button" class="px-6 py-3 rounded-md text-white bg-indigo-600 hover:bg-indigo-700 transition" id="next-btn-4">
                        Continue to Final Steps →
                    </button>
                </div>
            </div>

            <!-- Step 5: Final Uploads -->
            <div class="step-section hidden" id="section5">
                <h2 class="text-2xl font-semibold text-gray-800 mb-4">Final Verification</h2>
                <p class="text-gray-600 mb-6">Please complete these final steps to verify your ESHA Hub membership.</p>
                
                <div class="mb-8">
                    <h3 class="text-lg font-semibold text-gray-700 mb-4">1. Video Introduction (2-3 minutes)</h3>
                    <p class="text-gray-600 mb-4">Upload a short video introducing yourself and sharing your motivation for joining ESHA.</p>
                    
                    <div class="video-preview mb-2" id="video-preview">
                        <div class="text-center">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-12 w-12 text-gray-400 mx-auto mb-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z" />
                            </svg>
                            <p class="text-gray-500">No video uploaded yet</p>
                        </div>
                    </div>
                    
                    <div class="draggable-upload-area" id="video-dropzone">
                        <input type="file" id="video-upload" accept="video/*" class="hidden">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-10 w-10 mx-auto text-gray-400 mb-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12" />
                        </svg>
                        <p class="text-sm text-gray-500">Drag & drop video file here or click to browse</p>
                        <p class="text-xs text-gray-400 mt-1">MP4, MOV, or AVI formats (max 100MB)</p>
                    </div>
                    <div id="video-file-info" class="mt-2 text-sm text-gray-600 hidden"></div>
                </div>
                
                <div class="mb-8">
                    <h3 class="text-lg font-semibold text-gray-700 mb-4">2. Signed Agreement</h3>
                    <p class="text-gray-600 mb-4">Upload your signed copy of the ESHA Hub membership agreement that you printed earlier.</p>
                    
                    <div class="draggable-upload-area" id="agreement-dropzone">
                        <input type="file" id="agreement-upload" accept=".pdf,.jpg,.jpeg,.png" class="hidden">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-10 w-10 mx-auto text-gray-400 mb-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12" />
                        </svg>
                        <p class="text-sm text-gray-500">Drag & drop scanned agreement here or click to browse</p>
                        <p class="text-xs text-gray-400 mt-1">PDF, JPG, or PNG formats (max 10MB)</p>
                    </div>
                    <div id="agreement-file-info" class="mt-2 text-sm text-gray-600 hidden"></div>
                </div>
                
                <div class="mb-8" id="optional-docs-section">
                    <h3 class="text-lg font-semibold text-gray-700 mb-4">3. Additional Documents (Optional)</h3>
                    <p class="text-gray-600 mb-4">Upload any additional supporting documents for verification (certificates, ID, etc.)</p>
                    
                    <div class="draggable-upload-area" id="docs-dropzone">
                        <input type="file" id="docs-upload" multiple class="hidden">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-10 w-10 mx-auto text-gray-400 mb-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12" />
                        </svg>
                        <p class="text-sm text-gray-500">Drag & drop files here or click to browse</p>
                        <p class="text-xs text-gray-400 mt-1">PDF, JPG, PNG formats (max 10MB each)</p>
                    </div>
                    <div id="docs-file-info" class="mt-2 text-sm text-gray-600 hidden"></div>
                </div>
                
                <div class="mb-8 hidden" id="digital-signature-section">
                    <h3 class="text-lg font-semibold text-gray-700 mb-4">Digital Signature</h3>
                    <p class="text-gray-600 mb-4">Provide your digital signature for official document acknowledgment.</p>
                    
                    <div class="border border-gray-200 rounded-lg p-4 bg-gray-50">
                        <canvas id="signature-canvas" class="signature-canvas w-full h-40"></canvas>
                        <div class="flex justify-between mt-2">
                            <button id="clear-signature" class="text-sm text-gray-600 hover:text-gray-800">Clear</button>
                            <button id="save-signature" class="text-sm text-indigo-600 hover:text-indigo-800">Save Signature</button>
                        </div>
                    </div>
                    <div id="saved-signature" class="mt-4 hidden">
                        <p class="text-sm text-gray-600 mb-2">Your saved signature:</p>
                        <img id="signature-preview" src="" alt="Saved signature" class="border border-gray-200 max-w-xs" src="https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/0544fd9f-86dc-4cf3-a9de-54ef1c3c1b3b.png">
                    </div>
                </div>
                
                <div class="flex justify-between">
                    <button type="button" class="px-4 py-2 rounded-md text-gray-700 bg-gray-200 hover:bg-gray-300 transition" id="prev-btn-5">
                        ← Previous
                    </button>
                    <button type="button" class="px-4 py-2 rounded-md text-white bg-indigo-600 hover:bg-indigo-700 transition disabled:opacity-50 disabled:cursor-not-allowed" id="submit-final" disabled>
                        Submit Final →
                    </button>
                </div>
            </div>
        </div>

        <!-- Final Confirmation Modal -->
        <div class="fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center hidden" id="confirmation-modal">
            <div class="bg-white rounded-lg p-6 max-w-md">
                <div class="text-center mb-4">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-16 w-16 text-green-500 mx-auto" viewBox="0 0 20 20" fill="currentColor">
                        <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" />
                    </svg>
                    <h3 class="text-xl font-bold text-gray-800 mt-2">Thank You!</h3>
                </div>
                <p class="text-gray-600 mb-6">Your verification materials have been successfully submitted. You will receive login details for ESHA Hub after final review.</p>
                <div class="text-center">
                    <button class="px-6 py-2 rounded-md text-white bg-indigo-600 hover:bg-indigo-700 transition" id="close-modal">
                        Close
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // State management
        const appState = {
            currentStep: 1,
            formData: {},
            files: {
                portfolio: null,
                video: null,
                agreement: null,
                documents: null,
                profileImage: null
            },
            signature: null
        };

        // DOM elements
        const steps = document.querySelectorAll('.step');
        const sections = document.querySelectorAll('.step-section');
        const printBtn = document.getElementById('print-btn');
        const nextBtn1 = document.getElementById('next-btn-1');
        const agreeTerms = document.getElementById('agree-terms');
        const prevBtn2 = document.getElementById('prev-btn-2');
        const nextBtn2 = document.getElementById('next-btn-2');
        const prevBtn3 = document.getElementById('prev-btn-3');
        const nextBtn3 = document.getElementById('next-btn-3');
        const nextBtn4 = document.getElementById('next-btn-4');
        const prevBtn5 = document.getElementById('prev-btn-5');
        const submitFinal = document.getElementById('submit-final');
        const digitalSignatureSection = document.getElementById('digital-signature-section');
        const signatureCanvas = document.getElementById('signature-canvas');
        const clearSignature = document.getElementById('clear-signature');
        const saveSignature = document.getElementById('save-signature');
        const savedSignature = document.getElementById('saved-signature');
        const signaturePreview = document.getElementById('signature-preview');
        const confirmationModal = document.getElementById('confirmation-modal');
        const closeModal = document.getElementById('close-modal');

        // Initialize signature canvas
        const ctx = signatureCanvas.getContext('2d');
        let isDrawing = false;
        
        function resizeCanvas() {
            const ratio = Math.max(window.devicePixelRatio || 1, 1);
            signatureCanvas.width = signatureCanvas.offsetWidth * ratio;
            signatureCanvas.height = signatureCanvas.offsetHeight * ratio;
            ctx.scale(ratio, ratio);
        }
        
        function startDrawing(e) {
            isDrawing = true;
            draw(e);
        }
        
        function stopDrawing() {
            isDrawing = false;
            ctx.beginPath();
        }
        
        function draw(e) {
            if (!isDrawing) return;
            
            ctx.lineWidth = 2;
            ctx.lineCap = 'round';
            ctx.strokeStyle = '#000';
            
            // Get coordinates accounting for canvas offset
            const rect = signatureCanvas.getBoundingClientRect();
            const x = (e.clientX - rect.left) * (signatureCanvas.width / rect.width);
            const y = (e.clientY - rect.top) * (signatureCanvas.height / rect.height);
            
            ctx.lineTo(x, y);
            ctx.stroke();
            ctx.beginPath();
            ctx.moveTo(x, y);
        }
        
        // Signature event listeners
        signatureCanvas.addEventListener('mousedown', startDrawing);
        signatureCanvas.addEventListener('mousemove', draw);
        signatureCanvas.addEventListener('mouseup', stopDrawing);
        signatureCanvas.addEventListener('mouseout', stopDrawing);
        
        clearSignature.addEventListener('click', () => {
            ctx.clearRect(0, 0, signatureCanvas.width, signatureCanvas.height);
            savedSignature.classList.add('hidden');
            appState.signature = null;
        });
        
        saveSignature.addEventListener('click', () => {
            if (signatureCanvas.toDataURL() === 'data:,') {
                alert('Please provide your signature first');
                return;
            }
            
            appState.signature = signatureCanvas.toDataURL();
            signaturePreview.src = appState.signature;
            savedSignature.classList.remove('hidden');
        });

        // Initialize
        resizeCanvas();
        window.addEventListener('resize', resizeCanvas);

        // Navigation functions
        function goToStep(step) {
            // Hide all sections
            sections.forEach(section => section.classList.add('hidden'));
            
            // Update step indicators
            steps.forEach((s, index) => {
                s.classList.remove('active', 'completed');
                if (index + 1 < step) {
                    s.classList.add('completed');
                } else if (index + 1 === step) {
                    s.classList.add('active');
                }
            });
            
            // Show current section
            document.getElementById(`section${step}`).classList.remove('hidden');
            appState.currentStep = step;
            
            // Special step actions
            if (step === 5) {
                // Check if applicant selected document verification
                // For demo, we'll randomly show/hide digital signature
                const showSignature = Math.random() > 0.5;
                digitalSignatureSection.classList.toggle('hidden', !showSignature);
            }
            
            // Scroll to top
            window.scrollTo(0, 0);
        }

        // Form handling
        function updatePreview() {
            const countryCode = document.getElementById('country-code').value;
            const phone = appState.formData['phone'] || '';
            
            document.getElementById('preview-name').textContent = appState.formData['full-name'] || 'John Doe';
            document.getElementById('preview-email').textContent = appState.formData['email'] || 'john.doe@example.com';
            document.getElementById('preview-phone').textContent = phone ? `${countryCode} ${phone}` : '+1 (555) 123-4567';
            document.getElementById('preview-background').textContent = appState.formData['background'] || 'Computer Science, MIT';
            document.getElementById('preview-interest').textContent = getInterestText(appState.formData['interest']) || 'Artificial Intelligence';
            document.getElementById('preview-motivation').textContent = appState.formData['motivation'] || 'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam in dui mauris.';
            document.getElementById('preview-vision').textContent = appState.formData['vision'] || 'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam in dui mauris.';
            document.getElementById('preview-address').textContent = appState.formData['address'] || '123 Main St, City, Country';
            
            if (appState.files.portfolio) {
                document.getElementById('preview-portfolio-section').classList.remove('hidden');
                document.getElementById('preview-portfolio').textContent = `${appState.files.portfolio.name} (${formatFileSize(appState.files.portfolio.size)})`;
            } else {
                document.getElementById('preview-portfolio-section').classList.add('hidden');
            }
            
            if (appState.files.profileImage) {
                const preview = document.getElementById('profile-image-preview');
                const reader = new FileReader();
                reader.onload = function(e) {
                    preview.src = e.target.result;
                    preview.classList.remove('hidden');
                };
                reader.readAsDataURL(appState.files.profileImage);
            }
        }
        
        function getInterestText(value) {
            const interests = {
                'ai': 'Artificial Intelligence',
                'space': 'Space Exploration',
                'healthtech': 'Health Technology',
                'biotech': 'Biotechnology',
                'energy': 'Sustainable Energy',
                'fintech': 'Financial Technology',
                'other': 'Other'
            };
            return interests[value] || '';
        }
        
        function formatFileSize(bytes) {
            if (bytes === 0) return '0 Bytes';
            const k = 1024;
            const sizes = ['Bytes', 'KB', 'MB', 'GB'];
            const i = Math.floor(Math.log(bytes) / Math.log(k));
            return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];
        }

        // File upload handling
        function setupFileUpload(dropzoneId, inputId, infoId, fileType) {
            const dropzone = document.getElementById(dropzoneId);
            const input = document.getElementById(inputId);
            const fileInfo = document.getElementById(infoId);
            
            ['dragenter', 'dragover', 'dragleave', 'drop'].forEach(eventName => {
                dropzone.addEventListener(eventName, preventDefaults, false);
            });
            
            function preventDefaults(e) {
                e.preventDefault();
                e.stopPropagation();
            }
            
            ['dragenter', 'dragover'].forEach(eventName => {
                dropzone.addEventListener(eventName, highlight, false);
            });
            
            ['dragleave', 'drop'].forEach(eventName => {
                dropzone.addEventListener(eventName, unhighlight, false);
            });
            
            function highlight() {
                dropzone.classList.add('border-indigo-400', 'bg-indigo-50');
            }
            
            function unhighlight() {
                dropzone.classList.remove('border-indigo-400', 'bg-indigo-50');
            }
            
            dropzone.addEventListener('click', () => input.click());
            
            dropzone.addEventListener('drop', handleDrop, false);
            input.addEventListener('change', handleFiles, false);
            
            function handleDrop(e) {
                const dt = e.dataTransfer;
                const files = dt.files;
                handleFiles({ target: { files } });
            }
            
            function handleFiles(e) {
                let files = e.target.files;
                
                if (files.length > 0) {
                    const file = files[0];
                    appState.files[fileType] = file;
                    
                    fileInfo.textContent = `${file.name} (${formatFileSize(file.size)})`;
                    fileInfo.classList.remove('hidden');
                    
                    if (fileType === 'video') {
                        // Show video preview
                        const videoPreview = document.getElementById('video-preview');
                        videoPreview.innerHTML = '';
                        
                        const video = document.createElement('video');
                        video.src = URL.createObjectURL(file);
                        video.controls = true;
                        video.className = 'w-full h-full object-contain';
                        videoPreview.appendChild(video);
                    }
                }
                
                // Check if we can enable submit button
                if (appState.currentStep === 5) {
                    validateFinalSubmission();
                }
            }
        }

        // Validation
        function validateFinalSubmission() {
            const isValid = appState.files.video && appState.files.agreement;
            submitFinal.disabled = !isValid;
        }

        // Event listeners
        agreeTerms.addEventListener('change', () => {
            nextBtn1.disabled = !agreeTerms.checked;
            printBtn.disabled = !agreeTerms.checked;
            printBtn.classList.toggle('opacity-50', !agreeTerms.checked);
            printBtn.classList.toggle('cursor-not-allowed', !agreeTerms.checked);
        });
        
        printBtn.addEventListener('click', () => {
            window.print();
        });
        
        nextBtn1.addEventListener('click', () => goToStep(2));
        prevBtn2.addEventListener('click', () => goToStep(1));
        prevBtn3.addEventListener('click', () => goToStep(2));
        
        nextBtn2.addEventListener('click', () => {
            // Collect all form data including select/textarea inputs
            appState.formData = {
                'full-name': document.getElementById('full-name').value,
                'email': document.getElementById('email').value,
                'phone': document.getElementById('phone').value,
                'country-code': document.getElementById('country-code').value,
                'gender': document.getElementById('gender').value,
                'dob': document.getElementById('dob').value,
                'background': document.getElementById('background').value,
                'address': document.getElementById('address').value,
                'motivation': document.getElementById('motivation').value,
                'vision': document.getElementById('vision').value,
                'interest': document.getElementById('interest').value
            };
            
            updatePreview();
            goToStep(3);
        });
        
        nextBtn3.addEventListener('click', () => {
            // Simulate submission
            setTimeout(() => {
                goToStep(4);
                
                // After 2 seconds, show the continue button (simulating approval)
                setTimeout(() => {
                    const continueBtn = document.getElementById('next-btn-4');
                    continueBtn.classList.remove('hidden');
                    continueBtn.addEventListener('click', () => goToStep(5));
                }, 2000);
            }, 1000);
        });
        
        prevBtn5.addEventListener('click', () => goToStep(4));
        
        submitFinal.addEventListener('click', () => {
            // Show confirmation modal
            confirmationModal.classList.remove('hidden');
        });
        
        closeModal.addEventListener('click', () => {
            confirmationModal.classList.add('hidden');
        });
        
        // Initialize file upload handlers
        // Setup profile image upload
        setupFileUpload('profile-dropzone', 'profile-image', '', 'profileImage');
        document.getElementById('profile-image').addEventListener('change', function(e) {
            if (e.target.files.length > 0) {
                const file = e.target.files[0];
                appState.files.profileImage = file;
                const reader = new FileReader();
                reader.onload = function(e) {
                    const preview = document.getElementById('profile-image-preview');
                    preview.src = e.target.result;
                    preview.classList.remove('hidden');
                };
                reader.readAsDataURL(file);
            }
        });

        setupFileUpload('portfolio-dropzone', 'portfolio', 'portfolio-files', 'portfolio');
        setupFileUpload('video-dropzone', 'video-upload', 'video-file-info', 'video');
        setupFileUpload('agreement-dropzone', 'agreement-upload', 'agreement-file-info', 'agreement');
        setupFileUpload('docs-dropzone', 'docs-upload', 'docs-file-info', 'documents');
        
        // Initialize
        goToStep(1);
    </script>
</body>
</html>
