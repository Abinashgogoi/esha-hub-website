!function(s){function e(e){for(var t,n,i=e[0],o=e[1],r=0,a=[];r<i.length;r++)n=i[r],Object.prototype.hasOwnProperty.call(l,n)&&l[n]&&a.push(l[n][0]),l[n]=0;for(t in o)Object.prototype.hasOwnProperty.call(o,t)&&(s[t]=o[t]);for(d&&d(e);a.length;)a.shift()()}var n={},l={0:0,4:0};function c(e){var t;return(n[e]||(t=n[e]={i:e,l:!1,exports:{}},s[e].call(t.exports,t,t.exports,c),t.l=!0,t)).exports}c.e=function(i){var o,r,e,a,t,n=[],s=l[i];return 0!==s&&(s?n.push(s[2]):(t=new Promise(function(e,t){s=l[i]=[e,t]}),n.push(s[2]=t),(o=document.createElement("script")).charset="utf-8",o.timeout=120,c.nc&&o.setAttribute("nonce",c.nc),o.src=c.p+""+({}[t=i]||t)+"-"+{6:"3dfa2d88d2eb3382b47e"}[t]+".js",r=new Error,e=function(e){o.onerror=o.onload=null,clearTimeout(a);var t,n=l[i];0!==n&&(n&&(t=e&&("load"===e.type?"missing":e.type),e=e&&e.target&&e.target.src,r.message="Loading chunk "+i+" failed.\n("+t+": "+e+")",r.name="ChunkLoadError",r.type=t,r.request=e,n[1](r)),l[i]=void 0)},a=setTimeout(function(){e({type:"timeout",target:o})},12e4),o.onerror=o.onload=e,document.head.appendChild(o))),Promise.all(n)},c.m=s,c.c=n,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)c.d(n,i,function(e){return t[e]}.bind(null,i));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/js/",c.oe=function(e){throw console.error(e),e};var t=(i=window.webpackJsonp=window.webpackJsonp||[]).push.bind(i);i.push=e;for(var i=i.slice(),o=0;o<i.length;o++)e(i[o]);var d=t;c(c.s=502)}([function(e,t,n){function f(e,t,n){var i,o,r,a=e&f.F,s=e&f.G,l=e&f.P,c=e&f.B,d=s?h:e&f.S?h[t]||(h[t]={}):(h[t]||{})[y],u=s?m:m[t]||(m[t]={}),p=u[y]||(u[y]={});for(i in n=s?t:n)o=((r=!a&&d&&void 0!==d[i])?d:n)[i],r=c&&r?b(o,h):l&&"function"==typeof o?b(Function.call,o):o,d&&v(d,i,o,e&f.U),u[i]!=o&&g(u,i,r),l&&p[i]!=o&&(p[i]=o)}var h=n(2),m=n(18),g=n(11),v=n(12),b=n(19),y="prototype";h.core=m,f.F=1,f.G=2,f.S=4,f.P=8,f.B=16,f.W=32,f.U=64,f.R=128,e.exports=f},function(e,t,n){var i=n(4);e.exports=function(e){if(i(e))return e;throw TypeError(e+" is not an object!")}},function(e,t){e=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){var i=n(49)("wks"),o=n(34),r=n(2).Symbol,a="function"==typeof r;(e.exports=function(e){return i[e]||(i[e]=a&&r[e]||(a?r:o)("Symbol."+e))}).store=i},function(e,t,n){var i=n(21),o=Math.min;e.exports=function(e){return 0<e?o(i(e),9007199254740991):0}},function(e,t,n){e.exports=!n(3)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t,n){var i=n(1),o=n(101),r=n(24),a=Object.defineProperty;t.f=n(7)?Object.defineProperty:function(e,t,n){if(i(e),t=r(t,!0),i(n),o)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var i=n(25);e.exports=function(e){return Object(i(e))}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){var i=n(8),o=n(33);e.exports=n(7)?function(e,t,n){return i.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var r=n(2),a=n(11),s=n(14),l=n(34)("src"),i=n(148),o="toString",c=(""+i).split(o);n(18).inspectSource=function(e){return i.call(e)},(e.exports=function(e,t,n,i){var o="function"==typeof n;o&&!s(n,"name")&&a(n,"name",t),e[t]!==n&&(o&&!s(n,l)&&a(n,l,e[t]?""+e[t]:c.join(String(t))),e===r?e[t]=n:i?e[t]?e[t]=n:a(e,t,n):(delete e[t],a(e,t,n)))})(Function.prototype,o,function(){return"function"==typeof this&&this[l]||i.call(this)})},function(e,t,n){function i(e,t,n,i){var e=String(a(e)),o="<"+t;return""!==n&&(o+=" "+n+'="'+String(i).replace(s,"&quot;")+'"'),o+">"+e+"</"+t+">"}var o=n(0),r=n(3),a=n(25),s=/"/g;e.exports=function(t,e){var n={};n[t]=e(i),o(o.P+o.F*r(function(){var e=""[t]('"');return e!==e.toLowerCase()||3<e.split('"').length}),"String",n)}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){var i=n(50),o=n(25);e.exports=function(e){return i(o(e))}},function(e,t,n){var i=n(51),o=n(33),r=n(15),a=n(24),s=n(14),l=n(101),c=Object.getOwnPropertyDescriptor;t.f=n(7)?c:function(e,t){if(e=r(e),t=a(t,!0),l)try{return c(e,t)}catch(e){}if(s(e,t))return o(!i.f.call(e,t),e[t])}},function(e,t,n){var i=n(14),o=n(9),r=n(74)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=o(e),i(e,r)?e[r]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},function(e,t){e=e.exports={version:"2.6.12"};"number"==typeof __e&&(__e=e)},function(e,t,n){var r=n(10);e.exports=function(i,o,e){if(r(i),void 0===o)return i;switch(e){case 1:return function(e){return i.call(o,e)};case 2:return function(e,t){return i.call(o,e,t)};case 3:return function(e,t,n){return i.call(o,e,t,n)}}return function(){return i.apply(o,arguments)}}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t){var n=Math.ceil,i=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(0<e?i:n)(e)}},function(e,t,n){"use strict";var i=n(3);e.exports=function(e,t){return!!e&&i(function(){t?e.call(null,function(){},1):e.call(null)})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});f={appName:"Mobirise",version:"5.9.13",dataLocation:"",projectDataLocation:"@DATA_LOCATION@/projectData",tempLocation:"",publicTempLocation:"@TEMP_LOCATION@",docLocation:"",imgLocation:"@DOC_LOCATION@",projectsLocation:"@DATA_LOCATION@/projects",isPro:!0,isDev:!1,debug:0,getArgs:(o=window.location.href,function(e){return e?e(o.split(/\&|\?/)):(i||((i=o.replace(/^.*?(\?|$)/,"").split("&").reduce(function(e,t){return(t=t.split("="))[0]&&(e[t[0]]=decodeURIComponent(t.slice(1).join("="))),e},{})).embedded=function(){try{return window.self!==window.top}catch(e){return!0}}(),i.external="true"===i.external),i)}),templating:function(e){return e},openUrl:function(e){window.open(e,"_blank")},runFileDialog:function(e,t,n,i,o){d()||u(),i&&i("")},runFileDialog2:function(e,t){var n=[];e&&(n.push(t&&t.caption||""),n.push(t&&t.path||""),n.push(t&&t.filter||""),n.push(e),n.push(t&&t.multi),f.runFileDialog.apply(f,n))},initProject:function(e,t){e&&e("",{path:f.dataLocation+"/projects/project-"+f.dateFormat(new Date,"yyyy-MM-dd_hhmmss"),name:t})},saveLocalFile:function(e,t,n){console.warn('call Bridge.saveLocalFile("'+e+'", String['+t.length+"])"),d()||!/^\/projects\/.+project\.mobirise$/.test(e)&&!/^\/recents.list$/.test(e)?n&&n(!1):(f.FILES=f.FILES||{},f.FILES[e]=t,n&&n(!0))},loadLocalFile:function(e,t){t=t||function(){},!d()&&(/^\/projects\/.+project\.mobirise$/.test(e)||0<=e.indexOf(f._recentsFile))?t(f.FILES&&f.FILES[e]||""):f.http(f.path2app(e),{success:function(){t()},error:function(){t("")}})},registerPreviewPath:function(){return f.publicTempLocation+"/"+f.dateFormat(new Date,"yyyyMMdd_hhmmss")},copyLocal:function(e,t,n){n&&n("")},removeLocal:function(e,t){t&&t(!1)},isExistsLocal:function(e,t){f.loadLocalFile(e,function(e){t&&t(!!e)})},dirList:function(e,t,n){t&&t([])},getInfoLocal:function(e,t){t&&t()},moveLocal:function(e,t,n){n&&n(!1)},loadLocalBase64:function(e,t){f.loadLocalFile(e,function(e){t(btoa(e))})},loadLocalBlob:function(e,t){f.loadLocalFile(e,function(e){callback(new Blob([e],{type:"text/plain"}))})},saveLocalBase64:function(e,t,n){n&&n(!1)},md5_base64:function(e,t){console.warn("call md5_base64"),t&&t("")},uploadBuildIn:function(n,i,o){if(!n||!i)return"file";o=h(o,{onStart:function(e){},onFile:function(e){},onUploaded:function(e){},onError:function(e){},onClose:function(e){},onData:function(e,t){return""}});var r=1,a=-1;function s(e){switch(r){case 4:return;case 1:if(e)return void(r=e);break;case 2:if(!e||3==e)return;r=e,e=0;break;case 3:return e?void(r=e):void(r=2);case 5:if(e)return;n=""}var t;a<0?f._uploadBuildIn_init(n,function(e){e?(r=2,o.onError(e)):(o.onStart(i.length),a=0,s())}):a>=i.length||5==r?(r=4,f._uploadBuildIn_done(n,function(e){e&&o.onError(e),o.onClose(n)})):(t=i[a++],o.onFile(t.dest),f._uploadBuildIn_file(t,o.onData,n,function(e){e?(r=2,o.onError(e)):(o.onUploaded(t.dest),s())}))}return setTimeout(s,1),{resume:function(){s(1)},pause:function(){s(3)},exit:function(){s(5)}}},_uploadBuildIn_init:function(e,t){console.log("Emulate Bridge.uploadBuilding()..."),console.log("Upload to url =",e),setTimeout(function(){t&&t("")},1)},_uploadBuildIn_done:function(e,t){console.log("Upload is done! url =",e),setTimeout(function(){t&&t("")},1)},_uploadBuildIn_file:function(e,t,n,i){console.log("Uploading file "+e.dest);for(var o=0;o<e.srcList.length;o++){var r,a=e.srcList[o];a.filter?(r=t(a.src,a.filter),console.log("<<< "+a.src+" <<< data.length="+r.length)):console.log("<<< "+a.src)}setTimeout(function(){i&&i("")},100)},supportedImgExts:["jpg","jpeg","png","gif","bmp","svg","ico"],getScreen:function(e,t,n,i){console.warn("call Bridge.getScreen()"),e&&e()},zip:function(){return new JSZip},saveAs:function(e,t,n){window.saveAs(e,t,n)},setSettings:function(e,t,n){console.warn("call Bridge.setSettings("+e+","+t+")"),n&&n(!1)},getSettings:function(e,t){t&&t("account"==e?'{"email":"8b@gmail.com","token":"1234"}':"")},setSettingsArray:function(i,e){for(var t=0;t<e.length;t++)f.setSettings(i+"/"+t,e[t]);!function t(n){f.getSettings(i+"/"+n,function(e){e&&(f.setSettings(i+"/"+n,""),t(n+1))})}(e.length)},getSettingsArray:function(e,o){!function t(n,i){f.getSettings(e+"/"+n,function(e){e?(i.push(e),t(n+1,i)):o(i)})}(0,[])},encode:function(e,t){t&&t(e)},decode:function(e,t){t&&t(e)},download:function(e,t){t&&t(e)},download2:function(e,t,n){t&&t(e)},osLocale:function(e){e(window.navigator.language.replace("-","_"))},args:{},isValid:function(){return!1},versionCmp:function(e,t){e=(e||"").split("."),t=(t||"").split(".");for(var n=0;n<e.length||n<t.length;n++)if(e[n]=parseInt(e[n])||0,t[n]=parseInt(t[n])||0,e[n]!=t[n])return e[n]-t[n];return 0},base:(s=location.origin+location.pathname).substr(0,s.lastIndexOf("/")+1),path2app:function(e){return/^(\w*\:)?\/\//.test(e)?e:e&&e.startsWith("web/")?e.replace("web/",f.base):"../"+e},url2sys:function(e){return e=decodeURI(e),e=/^file:\/\/\/\w+\:/.test(e)?e.replace(/^file:\/\/\/(\w+\:)/,"$1").replace(/\//g,"\\"):e.replace(/^file:\/\//,"")},sys2url:function(e,t){return e?("/"!=(t=t||f.base)[t.length-1]&&(t+="/"),e=encodeURI(e.replace(/\\/g,"/")),/^(\w*\:)?\//.test(e)?"file://"+e.replace(/^\w+\:\//,"/$&"):t+e):t||""},substUrl:function(e){return e.replace("%name%",f.appName).replace("%ver%",f.version).replace("%os%",f.getPlatform()).replace("%reg%",f.isPro?"pro":"free")},FileManager:function(n,i,t,o){if(!n||!i)return f.uploadBuildIn("");var r=!1,a=f._fmQueue,e=(t=h({start:function(e){},file:function(e){},uploaded:function(e){},error:function(e){console.log("FileManager error:"+e),s()},close:function(e){}},t,!0),this._run=function(){var e={onStart:l,onFile:c,onUploaded:d,onError:u,onClose:p,onData:f.templating.bind(o||{})};if(!(r=f.uploadBuildIn(i,n,e)))for(var t=0;t<f._fileManagerUploaders.length&&!(r=f._fileManagerUploaders[t](i,n,e));t++);});this.pause=function(){r&&r.pause()};var s=this.resume=function(){r&&r.resume()},l=(this.exit=function(){r&&r.exit()},function(e){1&f.debug&&console.log("FileManager:emitStart",e),setTimeout(function(){t.start(e)},1)}),c=function(e){1&f.debug&&console.log("FileManager:emitFile",e),setTimeout(function(){t.file(e)},1)},d=function(e){1&f.debug&&console.log("FileManager:emitUploaded",e),setTimeout(function(){t.uploaded(e)},1)},u=function(e){1&f.debug&&console.log("FileManager:emitError",e),setTimeout(function(){t.error(e)},1)},p=function(e){1&f.debug&&console.log("FileManager:emitClose",e),r=!1,setTimeout(function(){t.close(e)},1),setTimeout(function(){a.shift(),a.length&&a[0]._run()},1)};a.push(this),1==a.length&&e()},_fmQueue:[],fileManagerAddUploader:function(e){f._fileManagerUploaders.push(e)},_fileManagerUploaders:[],parseUrl:function(e){return{url:(e=/^([^:]*)\:(?:\/\/(?:(?:([^\/:]*)(?:\:([^\/]*))?@)?([^\/@:]+)(?:\:(\d+))?))?(\/[^?]*)?(?:\?([^?]*))?$/.exec(e)||[])[0],scheme:e[1],user:e[2],password:e[3],domain:e[4],port:parseInt(e[5]),path:e[6],query:e[7]}},joinUrl:function(e){return((e=e||{}).scheme||"")+":"+(e.domain?"//"+(e.user?e.user+("password"in e?":"+e.password:"")+"@":"")+e.domain+(e.port?":"+e.port:""):"")+(e.path?("/"!=e.path[0]?"/":"")+e.path:"")+(e.query?"?"+e.query:"")},bind:function(e,t){this[e="on"+e.toLowerCase()]||(this[e]=[]),this[e].push(t)},unbind:function(e,t){return e="on"+e.toLowerCase(),t?-1<(t=this[e].indexOf(t))?this[e].splice(t,1):void 0:this[e]=[]},emit:function(e,t){if(this[e="on"+e.toLowerCase()])for(var n=0;n<this[e].length;n++)try{this[e][n](t)}catch(e){}},initPath:"",OnReady:[],setOnReady:function(e){f.OnReady?f.OnReady.push(e):e()},emitOnReady:function(){for(;f.OnReady&&f.OnReady.length;)try{f.OnReady.shift()()}catch(e){console.error(e)}f.OnReady=0},regQuitTask:function(e){r.push(e)},getPlatform:function(){return navigator.userAgent.match(/Mobirise-webview/i)?"android":!/iphone|ipod|ipad/.test(navigator.userAgent.toLowerCase())||navigator.standalone||/safari/.test(navigator.userAgent.toLowerCase())?navigator.platform.match(/Mac/i)?"mac":navigator.platform.match(/Linux/i)?"linux":"win":"ios"},isMobile:/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini|mobirise-webview/i.test(navigator.userAgent.toLowerCase()),_recentsFile:"recents.list",getRecentsList:function(n){f.loadLocalFile(f.dataLocation+"/"+f._recentsFile,function(e){var t;try{t=JSON.parse(e)}catch(e){}n(t||[])})},addRecent:function(i,o){i&&i.path?f.getRecentsList(function(e){e=e||[];for(var t=0;t<e.length;t++)if(e[t].path==i.path){var n=e.splice(t,1)[0]||{};i.name=i.name||n.name,i.screenshot=i.screenshot||n.screenshot;break}e.unshift(i),f.saveLocalFile(f.dataLocation+"/"+f._recentsFile,JSON.stringify(e),function(e){e||console.error("Error: unable to save recent list"),o&&o(e)})}):o&&o(!1)},moveRecent:function(n,i,o){f.getRecentsList(function(e){for(var t=0;t<e.length;t++)if(e[t].path==n)return e.splice(i,0,e.splice(t,1)[0]),void f.saveLocalFile(f.dataLocation+"/"+f._recentsFile,JSON.stringify(e),o);o&&o(!1)})},rmRecent:function(i,o){i&&f.getRecentsList(function(e){for(var t=[],n=0;n<e.length;n++)e[n].path!=i&&t.push(e[n]);d()?f.saveLocalFile(f.dataLocation+"/"+f._recentsFile,JSON.stringify(t),o):(u(),o(!1))})},getRecentSettings:function(n,i){if(!i)return!1;n||i(!1),f.getRecentsList(function(e){for(var t=0;t<e.length;t++)if(e[t].path==n)return i(e[t]);i(!1)})},changeRecentSettings:function(i,o,r){i&&o&&f.getRecentsList(function(e){for(var t=0;t<e.length;t++)if(e[t].path==i)for(var n in o)e[t][n]=o[n];f.saveLocalFile(f.dataLocation+"/"+f._recentsFile,JSON.stringify(e),r)})},saveAllRecents:function(e,t){f.saveLocalFile(f.dataLocation+"/"+f._recentsFile,JSON.stringify(e),t)},http:function(e,t){var n,i,o=performance.now();t=h(t||{},{method:"GET",headers:{},data:null,success:function(e){},error:function(e){}});try{n=new XMLHttpRequest}catch(e){try{n=new ActiveXObject("Microsoft.XMLHTTP")}catch(e){console.log(e.message),t.error(e.message)}}if(n){n.onreadystatechange=function(){var e;4==n.readyState&&(t.timeout&&clearTimeout(i),e=performance.now()-o,200!=n.status&&n.status&&201!=n.status&&204!=n.status?t.error(n.status,n):t.success(n.responseText,n,e))};try{for(var r in n.open(t.method,e,!0),n.withCredentials=void 0===t.withCredentials||t.withCredentials,t.headers)n.setRequestHeader(r,t.headers[r]);n.send(t.data),t.timeout&&(i=setTimeout(function(){n.abort(),t.error("something went wrong",n)},t.timeout))}catch(e){console.log(e.message),t.error(e.message)}}return n},dateFormat:function(e,t){var n,i={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()};for(n in/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length))),i)new RegExp("("+n+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?i[n]:("00"+i[n]).substr((""+i[n]).length)));return t},waitForEach:function e(n,i,o){var t;n.length?(t=n.splice(0,1)[0],i.call(this,t,function(t){e(n,i,function(e){e.splice(0,0,t),o(e)})})):o([])},splitPath:function(e){e=e.split("/");var t={},n=t.fullname=e.splice(e.length-1,1)[0];return t.noExt=n.indexOf(".")<0,t.noExt?(t.ext="",t.name=n):(t.ext=n.substr(n.lastIndexOf(".")+1),t.name=n.substr(0,n.lastIndexOf("."))),t.dir=e.join("/"),t},openImage:function(n,o,i,r,t,a){function s(e){t&&t(a?e||[]:e?e[0]:"")}var l,c;function d(e){"/"!=o.substr(-1)&&(o+="/"),f.waitForEach(e,function(n,i){!function n(i,o,r,a){f.isExistsLocal(i,function(e){var t;e?(t=(e=f.splitPath(i)).name,t=(t=a?t.substr(0,t.lastIndexOf(o+a)):t)+o+(a=(a||0)+1),n(e.dir+"/"+t+(e.noExt?"":"."+e.ext),o,r,a)):r(i)})}(o+f.cleanURI(n.split("/").pop(),"_"),"_",function(t){r?f.moveLocal(n,t,function(e){e||console.error("Error image re-save file "+n+" to "+t),i(t)}):f.copyLocal(n,t,function(e){e||console.error("Error image re-save file "+n+" to "+t),i(e||t)})})},s)}f.transformImage?(c={width:-1,height:-1,keepAspectRatio:!0,shrinkLarge:!(l="lastImageDialogDir"),stretchSmall:!1,quality:100,format:"",multi:!1},f.getSettings(l,function(e){var t="Images (*."+f.supportedImgExts.join(" *.")+")";f.runFileDialog(n,i||e||f.imgLocation,t,function(e){e&&e.length&&(1!=e.length||e[0])?(f.setSettings(l,f.splitPath((e=a?e:[e])[0]).dir),r||(/(jpeg)$/i.test(f.splitPath(e[0]).ext)?r={format:"jpg",quality:60}:/(bmp)$/i.test(f.splitPath(e[0]).ext)&&(r={format:"png"})),r?(r=h(c,r,!0),f.waitForEach(e,function(e,t){var n=h({},r,!0);n.format=n.format||(/jpg|jpeg/i.test(f.splitPath(e).ext)?"jpg":"png"),"png"==n.format&&(n.quality=1),/(tiff|tif)$/i.test(f.splitPath(e).ext)?t(e):f.transformImage(e,n,t)},o?d:s)):(o=o||f.tempLocation+"/open"+f.dateFormat(new Date,"yyyyMMdd_hhmmss"),d(e))):s()},a)})):(u(),s())},saveFileUnique:function(s,l,c){var i="hashes.json";c=c||function(){},f.getLocalJSON(l+"/"+i,function(r){function a(t,e,n){r[e]=t,f.saveLocalFile(l+"/"+i,JSON.stringify(r),function(e){e||console.error("unable to save "+l+"/"+i),n(l+"/"+t)})}r=r||{},f.md5_base64(s,function(i){var t,o,e,n;i?r[i]?(t=l+"/"+r[i],f.isExistsLocal(l+"/"+r[i],function(e){e?c(t):f.copyLocal(s,t,function(e){e||console.error("unable to save "+e),c(e)})})):(o=s.split("/").pop().toLowerCase(),0==s.indexOf(l+"/")?a(o,i,c):(n=/(?:[-_](\d+))?(?:(?:-\d+x\d+)*-(\d+x\d+))?(?:[-_](\d+))?\.([^\.]+)$/.exec(e=o),o={name:e,base:n?e.replace(n[0],""):e,index:n?parseInt(n[1]):0,size:n?n[2]:"",ext:n?n[4]:""},f.dirList(l,function(e){e=e.join("\n").toLowerCase().split("\n");for(var t,n=o.index||0;t=o.base+(n?"-"+n:"")+(o.size?"-"+o.size:"")+"."+o.ext,n++,0<=e.indexOf(t););f.copyLocal(s,l+"/"+t,function(e){e?a(e.split("/").pop(),i,c):(console.error("unable to save "+l+t),c(""))})},{names:[o.base+"*."+o.ext],filter:1,recursive:!1}))):(console.error("unable access to file "+s),c(""))})})},moveFileClean:function(e,t,n){var i=t+"/"+f.cleanURI(e.split("/").pop());f.copyLocal(e,i,function(){n(i)})},cleanURI:function(e,t){return e=decodeURI(e).replace(/\-|[^a-zA-Z0-9\/_.| -]/g,t||"").toLowerCase().replace(/[\/| -]+/g,t||"_"),encodeURI(e)},moveFile:function(e,t,n){return this.moveFileClean(e,t,n)},getLocalJSON:function(n,i,o){f.loadLocalFile(n,function(t){var e;if(t)try{e=JSON.parse(t)}catch(e){t=e.message+(e.line?" at line "+e.line:"")+" in file "+n;return console.error(new Error(t,n)),void(o&&o(null))}i?i(e):console.warn("No callback_data function passed for the getLocalJSON:",n)})}},r=[],f.bind("close",function(){function i(e){0<=e&&(r[e]=0);for(var t=0;t<r.length;t++)if(r[t])return;f.quit()}r.forEach(function(e,t){if(e){try{e(function(){n&&clearTimeout(n),i(t)})}catch(e){console.error(e),i(t)}var n=setTimeout(function(){i(t)},1e3)}}),i(-1)}),d()||(f.isDev=!0,f.isValid=function(){return!0}),a=setInterval(function(){f.isValid()&&(clearInterval(a),l(function(){f.emitOnReady()}))},100);var i,o,f,r,a,s=f;function h(e,t,n){for(var i in e=e||{},t=t||{})!n&&null!=e[i]||(e[i]=t[i]);return e}function l(e){if(f.versionName=f.versionName||f.version,f.version=function(e){e=(e||"").split(".");for(var t=0;t<e.length;t++)e[t]=parseInt(e[t])||0;return e}(f.version).join("."),f.projectDataLocation=c(f.projectDataLocation)||f.dataLocation,f.publicTempLocation=c(f.publicTempLocation)||f.tempLocation,f.imgLocation=c(f.imgLocation)||f.docLocation,f.projectsLocation=c(f.projectsLocation)||f.dataLocation,e=e||function(){},4&f.debug)for(var t in f)"function"==typeof f[t]&&!function(e){var t=f[e];f[e]=function(){return console.log("Bridge."+e,arguments),t.apply(this,arguments)}}(t);h(f.args,f.getArgs()),e()}function c(e){return e.replace("@DATA_LOCATION@",f.dataLocation).replace("@TEMP_LOCATION@",f.tempLocation).replace("@DOC_LOCATION@",f.docLocation)}function u(){(window.bootbox&&bootbox.alert||window.alert)("Unfortunately, this feature is not available in your browser.")}function d(){return"undefined"!=typeof qt||navigator.userAgent.match(/Mobirise/i)||navigator.userAgent.match(/Electron/i)||/ios/.test(f.getPlatform())}t.Bridge=s},function(e,t,n){var o=n(4);e.exports=function(e,t){if(!o(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!o(i=n.call(e))||"function"==typeof(n=e.valueOf)&&!o(i=n.call(e))||!t&&"function"==typeof(n=e.toString)&&!o(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){var o=n(0),r=n(18),a=n(3);e.exports=function(e,t){var n=(r.Object||{})[e]||Object[e],i={};i[e]=t(n),o(o.S+o.F*a(function(){n(1)}),"Object",i)}},function(e,t,n){var y=n(19),w=n(50),x=n(9),_=n(6),i=n(90);e.exports=function(u,e){var p=1==u,f=2==u,h=3==u,m=4==u,g=6==u,v=5==u||g,b=e||i;return function(e,t,n){for(var i,o,r=x(e),a=w(r),s=y(t,n,3),l=_(a.length),c=0,d=p?b(e,l):f?b(e,0):void 0;c<l;c++)if((v||c in a)&&(o=s(i=a[c],c,r),u))if(p)d[c]=o;else if(o)switch(u){case 3:return!0;case 5:return i;case 6:return c;case 2:d.push(i)}else if(m)return!1;return g?-1:h||m?m:d}}},function(I,M,e){"use strict";var f,h,m,g,v,B,N,R,b,t,U,y,H,z,W,i,q,w,V,G,J,Y,x,K,X,Q,n,o,Z,ee,te,ne,ie,oe,_,re,k,ae,r,se,le,ce,S,C,de,ue,pe,fe,he,me,ge,ve,be,ye,we,xe,_e,ke,Se,Ce,Pe,Te,P,a,T,j,je,E,s,A,Ee,L,Ae,Le,$e,$,l,u,Oe,O,c,De,Fe,Ie,Me,Be,Ne,Re,D,Ue,d,p,F;e(7)?(f=e(30),h=e(2),m=e(3),g=e(0),v=e(64),s=e(98),B=e(19),N=e(40),R=e(33),b=e(11),t=e(42),U=e(21),y=e(6),H=e(129),z=e(36),W=e(24),i=e(14),q=e(46),w=e(4),V=e(9),G=e(87),J=e(37),Y=e(17),x=e(38).f,K=e(89),X=e(34),Q=e(5),n=e(27),c=e(54),o=e(53),d=e(92),Z=e(48),ee=e(59),te=e(39),ne=e(91),ie=e(118),oe=e(8),e=e(16),_=oe.f,re=e.f,k=h.RangeError,ae=h.TypeError,r=h.Uint8Array,le="Shared"+(se="ArrayBuffer"),ce="BYTES_PER_ELEMENT",S="prototype",p=Array[S],C=s.ArrayBuffer,de=s.DataView,ue=n(0),pe=n(2),fe=n(3),he=n(4),me=n(5),ge=n(6),ve=c(!0),be=c(!1),ye=d.values,we=d.keys,xe=d.entries,_e=p.lastIndexOf,ke=p.reduce,Se=p.reduceRight,Ce=p.join,Pe=p.sort,Te=p.slice,P=p.toString,a=p.toLocaleString,T=Q("iterator"),j=Q("toStringTag"),je=X("typed_constructor"),E=X("def_constructor"),s=v.CONSTR,A=v.TYPED,Ee=v.VIEW,L="Wrong length!",Ae=n(1,function(e,t){return u(o(e,e[E]),t)}),Le=m(function(){return 1===new r(new Uint16Array([1]).buffer)[0]}),$e=!!r&&!!r[S].set&&m(function(){new r(1).set({})}),$=function(e,t){e=U(e);if(e<0||e%t)throw k("Wrong offset!");return e},l=function(e){if(w(e)&&A in e)return e;throw ae(e+" is not a typed array!")},u=function(e,t){if(w(e)&&je in e)return new e(t);throw ae("It is not a typed array constructor!")},Oe=function(e,t){return O(o(e,e[E]),t)},O=function(e,t){for(var n=0,i=t.length,o=u(e,i);n<i;)o[n]=t[n++];return o},c=function(e,t,n){_(e,t,{get:function(){return this._d[n]}})},De=function(e){var t,n,i,o,r,a,s=V(e),e=arguments.length,l=1<e?arguments[1]:void 0,c=void 0!==l,d=K(s);if(null!=d&&!G(d)){for(a=d.call(s),i=[],t=0;!(r=a.next()).done;t++)i.push(r.value);s=i}for(c&&2<e&&(l=B(l,arguments[2],2)),t=0,n=y(s.length),o=u(this,n);t<n;t++)o[t]=c?l(s[t],t):s[t];return o},Fe=function(){for(var e=0,t=arguments.length,n=u(this,t);e<t;)n[e]=arguments[e++];return n},Ie=!!r&&m(function(){a.call(new r(1))}),Me=function(){return a.apply(Ie?Te.call(l(this)):l(this),arguments)},Be={copyWithin:function(e,t){return ie.call(l(this),e,t,2<arguments.length?arguments[2]:void 0)},every:function(e){return he(l(this),e,1<arguments.length?arguments[1]:void 0)},fill:function(e){return ne.apply(l(this),arguments)},filter:function(e){return Oe(this,pe(l(this),e,1<arguments.length?arguments[1]:void 0))},find:function(e){return me(l(this),e,1<arguments.length?arguments[1]:void 0)},findIndex:function(e){return ge(l(this),e,1<arguments.length?arguments[1]:void 0)},forEach:function(e){ue(l(this),e,1<arguments.length?arguments[1]:void 0)},indexOf:function(e){return be(l(this),e,1<arguments.length?arguments[1]:void 0)},includes:function(e){return ve(l(this),e,1<arguments.length?arguments[1]:void 0)},join:function(e){return Ce.apply(l(this),arguments)},lastIndexOf:function(e){return _e.apply(l(this),arguments)},map:function(e){return Ae(l(this),e,1<arguments.length?arguments[1]:void 0)},reduce:function(e){return ke.apply(l(this),arguments)},reduceRight:function(e){return Se.apply(l(this),arguments)},reverse:function(){for(var e,t=this,n=l(t).length,i=Math.floor(n/2),o=0;o<i;)e=t[o],t[o++]=t[--n],t[n]=e;return t},some:function(e){return fe(l(this),e,1<arguments.length?arguments[1]:void 0)},sort:function(e){return Pe.call(l(this),e)},subarray:function(e,t){var n=l(this),i=n.length,e=z(e,i);return new(o(n,n[E]))(n.buffer,n.byteOffset+e*n.BYTES_PER_ELEMENT,y((void 0===t?i:z(t,i))-e))}},Ne=function(e,t){return Oe(this,Te.call(l(this),e,t))},Re=function(e){l(this);var t=$(arguments[1],1),n=this.length,i=V(e),o=y(i.length),r=0;if(n<o+t)throw k(L);for(;r<o;)this[t+r]=i[r++]},D={entries:function(){return xe.call(l(this))},keys:function(){return we.call(l(this))},values:function(){return ye.call(l(this))}},Ue=function(e,t){return w(e)&&e[A]&&"symbol"!=typeof t&&t in e&&String(+t)==String(t)},d=function(e,t){return Ue(e,t=W(t,!0))?R(2,e[t]):re(e,t)},p=function(e,t,n){return!(Ue(e,t=W(t,!0))&&w(n)&&i(n,"value"))||i(n,"get")||i(n,"set")||n.configurable||i(n,"writable")&&!n.writable||i(n,"enumerable")&&!n.enumerable?_(e,t,n):(e[t]=n.value,e)},s||(e.f=d,oe.f=p),g(g.S+g.F*!s,"Object",{getOwnPropertyDescriptor:d,defineProperty:p}),m(function(){P.call({})})&&(P=a=function(){return Ce.call(this)}),F=t({},Be),t(F,D),b(F,T,D.values),t(F,{slice:Ne,set:Re,constructor:function(){},toString:P,toLocaleString:Me}),c(F,"buffer","b"),c(F,"byteOffset","o"),c(F,"byteLength","l"),c(F,"length","e"),_(F,j,{get:function(){return this[A]}}),I.exports=function(e,c,t,o){function d(e,i){_(e,i,{get:function(){var e=this,t=i;return(e=e._d).v[n](t*c+e.o,Le)},set:function(e){var t=this,n=i;t=t._d,o&&(e=(e=Math.round(e))<0?0:255<e?255:255&e),t.v[r](n*c+t.o,e,Le)},enumerable:!0})}var u=e+((o=!!o)?"Clamped":"")+"Array",n="get"+e,r="set"+e,p=h[u],a=p||{},e=p&&Y(p),i=!p||!v.ABV,s={},l=p&&p[S],i=(i?(p=t(function(e,t,n,i){N(e,p,u,"_d");var o,r,a=0,s=0;if(w(t)){if(!(t instanceof C||(l=q(t))==se||l==le))return A in t?O(p,t):De.call(p,t);var l=t,s=$(n,c),n=t.byteLength;if(void 0===i){if(n%c)throw k(L);if((o=n-s)<0)throw k(L)}else if(n<(o=y(i)*c)+s)throw k(L);r=o/c}else r=H(t),l=new C(o=r*c);for(b(e,"_d",{b:l,o:s,l:o,e:r,v:new de(l)});a<r;)d(e,a++)}),l=p[S]=J(F),b(l,"constructor",p)):m(function(){p(1)})&&m(function(){new p(-1)})&&ee(function(e){new p,new p(null),new p(1.5),new p(e)},!0)||(p=t(function(e,t,n,i){return N(e,p,u),w(t)?t instanceof C||(e=q(t))==se||e==le?void 0!==i?new a(t,$(n,c),i):void 0!==n?new a(t,$(n,c)):new a(t):A in t?O(p,t):De.call(p,t):new a(H(t))}),ue(e!==Function.prototype?x(a).concat(x(e)):x(a),function(e){e in p||b(p,e,a[e])}),p[S]=l,f)||(l.constructor=p),l[T]),t=!!i&&("values"==i.name||null==i.name),e=D.values;b(p,je,!0),b(l,A,u),b(l,Ee,!0),b(l,E,p),(o?new p(1)[j]==u:j in l)||_(l,j,{get:function(){return u}}),s[u]=p,g(g.G+g.W+g.F*(p!=a),s),g(g.S,u,{BYTES_PER_ELEMENT:c}),g(g.S+g.F*m(function(){a.of.call(p,1)}),u,{from:De,of:Fe}),ce in l||b(l,ce,c),g(g.P,u,Be),te(u),g(g.P+g.F*$e,u,{set:Re}),g(g.P+g.F*!t,u,D),f||l.toString==P||(l.toString=P),g(g.P+g.F*m(function(){new p(1).slice()}),u,{slice:Ne}),g(g.P+g.F*(m(function(){return[1,2].toLocaleString()!=new p([1,2]).toLocaleString()})||!m(function(){l.toLocaleString.call([1,2])})),u,{toLocaleString:Me}),Z[u]=t?i:e,f||t||b(l,T,e)}):I.exports=function(){}},function(e,t,n){function o(e,t,n){var i=s.get(e);if(!i){if(!n)return;s.set(e,i=new r)}if(!(e=i.get(t))){if(!n)return;i.set(t,e=new r)}return e}var r=n(124),i=n(0),a=n(49)("metadata"),s=a.store||(a.store=new(n(127)));e.exports={store:s,map:o,has:function(e,t,n){t=o(t,n,!1);return void 0!==t&&t.has(e)},get:function(e,t,n){t=o(t,n,!1);return void 0===t?void 0:t.get(e)},set:function(e,t,n,i){o(n,i,!0).set(e,t)},keys:function(e,t){var e=o(e,t,!1),n=[];return e&&e.forEach(function(e,t){n.push(t)}),n},key:function(e){return void 0===e||"symbol"==typeof e?e:String(e)},exp:function(e){i(i.S,"Reflect",e)}}},function(e,t){e.exports=!1},function(e,t,n){function i(e){s(e,o,{value:{i:"O"+ ++l,w:{}}})}var o=n(34)("meta"),r=n(4),a=n(14),s=n(8).f,l=0,c=Object.isExtensible||function(){return!0},d=!n(3)(function(){return c(Object.preventExtensions({}))}),u=e.exports={KEY:o,NEED:!1,fastKey:function(e,t){if(!r(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!a(e,o)){if(!c(e))return"F";if(!t)return"E";i(e)}return e[o].i},getWeak:function(e,t){if(!a(e,o)){if(!c(e))return!0;if(!t)return!1;i(e)}return e[o].w},onFreeze:function(e){return d&&u.NEED&&c(e)&&!a(e,o)&&i(e),e}}},function(e,t,n){var i=n(5)("unscopables"),o=Array.prototype;null==o[i]&&n(11)(o,i,{}),e.exports=function(e){o[i][e]=!0}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){var n=0,i=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+i).toString(36))}},function(e,t,n){var i=n(103),o=n(75);e.exports=Object.keys||function(e){return i(e,o)}},function(e,t,n){var i=n(21),o=Math.max,r=Math.min;e.exports=function(e,t){return(e=i(e))<0?o(e+t,0):r(e,t)}},function(e,t,n){function i(){}var o=n(1),r=n(104),a=n(75),s=n(74)("IE_PROTO"),l="prototype",c=function(){var e=n(72)("iframe"),t=a.length;for(e.style.display="none",n(76).appendChild(e),e.src="javascript:",(e=e.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),c=e.F;t--;)delete c[l][a[t]];return c()};e.exports=Object.create||function(e,t){var n;return null!==e?(i[l]=o(e),n=new i,i[l]=null,n[s]=e):n=c(),void 0===t?n:r(n,t)}},function(e,t,n){var i=n(103),o=n(75).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return i(e,o)}},function(e,t,n){"use strict";var i=n(2),o=n(8),r=n(7),a=n(5)("species");e.exports=function(e){e=i[e];r&&e&&!e[a]&&o.f(e,a,{configurable:!0,get:function(){return this}})}},function(e,t){e.exports=function(e,t,n,i){if(!(e instanceof t)||void 0!==i&&i in e)throw TypeError(n+": incorrect invocation!");return e}},function(e,t,n){var u=n(19),p=n(116),f=n(87),h=n(1),m=n(6),g=n(89),v={},b={};(t=e.exports=function(e,t,n,i,o){var r,a,s,l,o=o?function(){return e}:g(e),c=u(n,i,t?2:1),d=0;if("function"!=typeof o)throw TypeError(e+" is not iterable!");if(f(o)){for(r=m(e.length);d<r;d++)if((l=t?c(h(a=e[d])[0],a[1]):c(e[d]))===v||l===b)return l}else for(s=o.call(e);!(a=s.next()).done;)if((l=p(s,c,a.value,t))===v||l===b)return l}).BREAK=v,t.RETURN=b},function(e,t,n){var o=n(12);e.exports=function(e,t,n){for(var i in t)o(e,i,t[i],n);return e}},function(e,t,n){var i=n(4);e.exports=function(e,t){if(i(e)&&e._t===t)return e;throw TypeError("Incompatible receiver, "+t+" required!")}},function(e,t){var n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){var i=n(8).f,o=n(14),r=n(5)("toStringTag");e.exports=function(e,t,n){e&&!o(e=n?e:e.prototype,r)&&i(e,r,{configurable:!0,value:t})}},function(e,t,n){var i=n(20),o=n(5)("toStringTag"),r="Arguments"==i(function(){return arguments}());e.exports=function(e){var t;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(t=function(e,t){try{return e[t]}catch(e){}}(e=Object(e),o))?t:r?i(e):"Object"==(t=i(e))&&"function"==typeof e.callee?"Arguments":t}},function(e,t,n){function i(e,t,n){var i={},o=a(function(){return!!s[e]()||"​"!="​"[e]()}),t=i[e]=o?t(d):s[e];n&&(i[n]=t),r(r.P+r.F*o,"String",i)}var r=n(0),o=n(25),a=n(3),s=n(78),n="["+s+"]",l=RegExp("^"+n+n+"*"),c=RegExp(n+n+"*$"),d=i.trim=function(e,t){return e=String(o(e)),1&t&&(e=e.replace(l,"")),e=2&t?e.replace(c,""):e};e.exports=i},function(e,t){e.exports={}},function(e,t,n){var i=n(18),o=n(2),r="__core-js_shared__",a=o[r]||(o[r]={});(e.exports=function(e,t){return a[e]||(a[e]=void 0!==t?t:{})})("versions",[]).push({version:i.version,mode:n(30)?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},function(e,t,n){var i=n(20);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==i(e)?e.split(""):Object(e)}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){"use strict";var i=n(1);e.exports=function(){var e=i(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},function(e,t,n){var i=n(1),o=n(10),r=n(5)("species");e.exports=function(e,t){var e=i(e).constructor;return void 0===e||null==(e=i(e)[r])?t:o(e)}},function(e,t,n){var l=n(15),c=n(6),d=n(36);e.exports=function(s){return function(e,t,n){var i,o=l(e),r=c(o.length),a=d(n,r);if(s&&t!=t){for(;a<r;)if((i=o[a++])!=i)return!0}else for(;a<r;a++)if((s||a in o)&&o[a]===t)return s||a||0;return!s&&-1}}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){var i=n(20);e.exports=Array.isArray||function(e){return"Array"==i(e)}},function(e,t,n){var r=n(21),a=n(25);e.exports=function(o){return function(e,t){var n,e=String(a(e)),t=r(t),i=e.length;return t<0||i<=t?o?"":void 0:(n=e.charCodeAt(t))<55296||56319<n||t+1===i||(i=e.charCodeAt(t+1))<56320||57343<i?o?e.charAt(t):n:o?e.slice(t,t+2):i-56320+(n-55296<<10)+65536}}},function(e,t,n){var i=n(4),o=n(20),r=n(5)("match");e.exports=function(e){var t;return i(e)&&(void 0!==(t=e[r])?!!t:"RegExp"==o(e))}},function(e,t,n){var r=n(5)("iterator"),a=!1;try{var i=[7][r]();i.return=function(){a=!0},Array.from(i,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!a)return!1;var n=!1;try{var i=[7],o=i[r]();o.next=function(){return{done:n=!0}},i[r]=function(){return o},e(i)}catch(e){}return n}},function(e,t,n){"use strict";var i=n(46),o=RegExp.prototype.exec;e.exports=function(e,t){var n=e.exec;if("function"==typeof n){n=n.call(e,t);if("object"!=typeof n)throw new TypeError("RegExp exec method returned something other than an Object or null");return n}if("RegExp"!==i(e))throw new TypeError("RegExp#exec called on incompatible receiver");return o.call(e,t)}},function(e,t,n){"use strict";n(120);var i,l=n(12),c=n(11),d=n(3),u=n(25),p=n(5),f=n(93),h=p("species"),m=!d(function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}),g=(i=(n=/(?:)/).exec,n.exec=function(){return i.apply(this,arguments)},2===(n="ab".split(n)).length&&"a"===n[0]&&"b"===n[1]);e.exports=function(n,e,t){var r,i,o=p(n),a=!d(function(){var e={};return e[o]=function(){return 7},7!=""[n](e)}),s=a?!d(function(){var e=!1,t=/a/;return t.exec=function(){return e=!0,null},"split"===n&&(t.constructor={},t.constructor[h]=function(){return t}),t[o](""),!e}):void 0;a&&s&&("replace"!==n||m)&&("split"!==n||g)||(r=/./[o],t=(s=t(u,o,""[n],function(e,t,n,i,o){return t.exec===f?a&&!o?{done:!0,value:r.call(t,n,i)}:{done:!0,value:e.call(n,t,i)}:{done:!1}}))[0],i=s[1],l(String.prototype,n,t),c(RegExp.prototype,o,2==e?function(e,t){return i.call(e,this,t)}:function(e){return i.call(e,this)}))}},function(e,t,n){n=n(2).navigator;e.exports=n&&n.userAgent||""},function(e,t,n){"use strict";var v=n(2),b=n(0),y=n(12),w=n(42),x=n(31),_=n(41),k=n(40),S=n(4),C=n(3),P=n(59),T=n(45),j=n(79);e.exports=function(n,e,t,i,o,r){function a(e){var n=m[e];y(m,e,"delete"==e?function(e){return!(r&&!S(e))&&n.call(this,0===e?0:e)}:"has"==e?function(e){return!(r&&!S(e))&&n.call(this,0===e?0:e)}:"get"==e?function(e){return r&&!S(e)?void 0:n.call(this,0===e?0:e)}:"add"==e?function(e){return n.call(this,0===e?0:e),this}:function(e,t){return n.call(this,0===e?0:e,t),this})}var s,l,c,d,u,p=v[n],f=p,h=o?"set":"add",m=f&&f.prototype,g={};return"function"==typeof f&&(r||m.forEach&&!C(function(){(new f).entries().next()}))?(l=(s=new f)[h](r?{}:-0,1)!=s,c=C(function(){s.has(1)}),d=P(function(e){new f(e)}),u=!r&&C(function(){for(var e=new f,t=5;t--;)e[h](t,t);return!e.has(-0)}),d||(((f=e(function(e,t){k(e,f,n);e=j(new p,e,f);return null!=t&&_(t,o,e[h],e),e})).prototype=m).constructor=f),(c||u)&&(a("delete"),a("has"),o)&&a("get"),(u||l)&&a(h),r&&m.clear&&delete m.clear):(f=i.getConstructor(e,n,o,h),w(f.prototype,t),x.NEED=!0),T(f,n),g[n]=f,b(b.G+b.W+b.F*(f!=p),g),r||i.setStrong(f,n,o),f}},function(e,t,n){for(var i,o=n(2),r=n(11),n=n(34),a=n("typed_array"),s=n("view"),n=!(!o.ArrayBuffer||!o.DataView),l=n,c=0,d="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");c<9;)(i=o[d[c++]])?(r(i.prototype,a,!0),r(i.prototype,s,!0)):l=!1;e.exports={ABV:n,CONSTR:l,TYPED:a,VIEW:s}},function(e,t,n){"use strict";e.exports=n(30)||!n(3)(function(){var e=Math.random();__defineSetter__.call(null,e,function(){}),delete n(2)[e]})},function(e,t,n){"use strict";var i=n(0);e.exports=function(e){i(i.S,e,{of:function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];return new this(t)}})}},function(e,t,n){"use strict";var i=n(0),a=n(10),s=n(19),l=n(41);e.exports=function(e){i(i.S,e,{from:function(e){var t,n,i,o,r=arguments[1];return a(this),(t=void 0!==r)&&a(r),null==e?new this:(n=[],t?(i=0,o=s(r,arguments[2],2),l(e,!1,function(e){n.push(o(e,i++))})):l(e,!1,n.push,n),new this(n))}})}},,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,i=arguments[t];for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},i=function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e};function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var r=p(n(379)),a=p(n(380)),s=p(n(369)),l=p(n(381)),d=p(n(370)),u=n(71);function p(e){return e&&e.__esModule?e:{default:e}}function f(e){return function(){var s=e.apply(this,arguments);return new Promise(function(r,a){return function t(e,n){try{var i=s[e](n),o=i.value}catch(e){return void a(e)}if(!i.done)return Promise.resolve(o).then(function(e){t("next",e)},function(e){t("throw",e)});r(o)}("next")})}}i(g,[{key:"fetchAccessToken",value:(m=f(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.accessToken&&this.accessToken.expires>Date.now()){e.next=7;break}return e.next=3,u.mbrServer.ajax({url:u.mbrServer.getApiUrl()+"auth",method:"POST",data:{target:"https://ai.mobirise.com"}});case 3:n=e.sent,t=n.expires_in,n=n.access_token,this.accessToken={value:n,expires:Date.now()+1e3*(t-60)};case 7:return e.abrupt("return",this.accessToken.value);case 8:case"end":return e.stop()}},e,this)})),function(){return m.apply(this,arguments)})},{key:"request",value:(h=f(regeneratorRuntime.mark(function e(t){var n,i,o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},r=o.method,a=void 0===r?"GET":r,r=o.headers,s=void 0===r?{}:r,l=o.body;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchAccessToken();case 2:return i=e.sent,e.next=5,fetch((/^https?:/.test(t)?"":this.apiUrl)+t,{method:a,headers:c({Authorization:"Bearer "+i},s),body:l,mode:"cors"});case 5:if(200<=(n=e.sent).status&&n.status<300)return e.abrupt("return",n.json());e.next=8;break;case 8:return e.next=10,n.json();case 10:throw i=e.sent,c(new Error(i.message),{code:i.type});case 12:case"end":return e.stop()}},e,this)})),function(e){return h.apply(this,arguments)})},{key:"generator",get:function(){return this._generator||(this._generator=new s.default)}},{key:"multipleGenerator",get:function(){return this._multipleGenerator||(this._multipleGenerator=new l.default)}},{key:"pageGenerator",get:function(){return this._pageGenerator||(this._pageGenerator=new d.default)}}]);var h,m,n=g;function g(e){var t=e.apiUrl,n=e.loader,e=e.storage;if(!(this instanceof g))throw new TypeError("Cannot call a class as a function");this.apiUrl=t,this.loader=n,this.storage=e}t.default=new n({apiUrl:"https://ai-builder.mobirise.com/api",loader:new r.default({node:window.document.querySelector(".ai-preloader")}),storage:new a.default({key:"mobiriseAi"})})},function(e,n,i){"use strict";!function(e){Object.defineProperty(n,"__esModule",{value:!0}),n.PREMIUM_URL=n.ONLINE_URL=n.WEB_URL=n.mbrServer=void 0;var t=i(347),t=(t=t)&&t.__esModule?t:{default:t};e=e.env.WEB_URL,t=new t.default("https://my.mobirise.com/api/");n.mbrServer=t,n.WEB_URL=e,n.ONLINE_URL="https://a.mobirise.com/",n.PREMIUM_URL="https://b.8b.com"}.call(this,i(138))},function(e,t,n){var i=n(4),o=n(2).document,r=i(o)&&i(o.createElement);e.exports=function(e){return r?o.createElement(e):{}}},function(e,t,n){var i=n(2),o=n(18),r=n(30),a=n(102),s=n(8).f;e.exports=function(e){var t=o.Symbol||(o.Symbol=!r&&i.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:a.f(e)})}},function(e,t,n){var i=n(49)("keys"),o=n(34);e.exports=function(e){return i[e]||(i[e]=o(e))}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,n){n=n(2).document;e.exports=n&&n.documentElement},function(e,t,o){function r(e,t){if(i(e),!n(t)&&null!==t)throw TypeError(t+": can't set as prototype!")}var n=o(4),i=o(1);e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,n,i){try{(i=o(19)(Function.call,o(16).f(Object.prototype,"__proto__").set,2))(e,[]),n=!(e instanceof Array)}catch(e){n=!0}return function(e,t){return r(e,t),n?e.__proto__=t:i(e,t),e}}({},!1):void 0),check:r}},function(e,t){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},function(e,t,n){var i=n(4),o=n(77).set;e.exports=function(e,t,n){var t=t.constructor;return t!==n&&"function"==typeof t&&(t=t.prototype)!==n.prototype&&i(t)&&o&&o(e,t),e}},function(e,t,n){"use strict";var o=n(21),r=n(25);e.exports=function(e){var t=String(r(this)),n="",i=o(e);if(i<0||i==1/0)throw RangeError("Count can't be negative");for(;0<i;(i>>>=1)&&(t+=t))1&i&&(n+=t);return n}},function(e,t){e.exports=Math.sign||function(e){return 0==(e=+e)||e!=e?e:e<0?-1:1}},function(e,t){var n=Math.expm1;e.exports=!n||22025.465794806718<n(10)||n(10)<22025.465794806718||-2e-17!=n(-2e-17)?function(e){return 0==(e=+e)?e:-1e-6<e&&e<1e-6?e+e*e/2:Math.exp(e)-1}:n},function(e,t,n){"use strict";function v(){return this}var b=n(30),y=n(0),w=n(12),x=n(11),_=n(48),k=n(84),S=n(45),C=n(17),P=n(5)("iterator"),T=!([].keys&&"next"in[].keys()),j="values";e.exports=function(e,t,n,i,o,r,a){k(n,t,i);function s(e){if(!T&&e in p)return p[e];switch(e){case"keys":case j:return function(){return new n(this,e)}}return function(){return new n(this,e)}}var l,c,i=t+" Iterator",d=o==j,u=!1,p=e.prototype,f=p[P]||p["@@iterator"]||o&&p[o],h=f||s(o),m=o?d?s("entries"):h:void 0,g="Array"==t&&p.entries||f;if(g&&(g=C(g.call(new e)))!==Object.prototype&&g.next&&(S(g,i,!0),b||"function"==typeof g[P]||x(g,P,v)),d&&f&&f.name!==j&&(u=!0,h=function(){return f.call(this)}),b&&!a||!T&&!u&&p[P]||x(p,P,h),_[t]=h,_[i]=v,o)if(l={values:d?h:s(j),keys:r?h:s("keys"),entries:m},a)for(c in l)c in p||w(p,c,l[c]);else y(y.P+y.F*(T||u),t,l);return l}},function(e,t,n){"use strict";var i=n(37),o=n(33),r=n(45),a={};n(11)(a,n(5)("iterator"),function(){return this}),e.exports=function(e,t,n){e.prototype=i(a,{next:o(1,n)}),r(e,t+" Iterator")}},function(e,t,n){var i=n(58),o=n(25);e.exports=function(e,t,n){if(i(t))throw TypeError("String#"+n+" doesn't accept regex!");return String(o(e))}},function(e,t,n){var i=n(5)("match");e.exports=function(t){var n=/./;try{"/./"[t](n)}catch(e){try{return n[i]=!1,!"/./"[t](n)}catch(e){}}return!0}},function(e,t,n){var i=n(48),o=n(5)("iterator"),r=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||r[o]===e)}},function(e,t,n){"use strict";var i=n(8),o=n(33);e.exports=function(e,t,n){t in e?i.f(e,t,o(0,n)):e[t]=n}},function(e,t,n){var i=n(46),o=n(5)("iterator"),r=n(48);e.exports=n(18).getIteratorMethod=function(e){if(null!=e)return e[o]||e["@@iterator"]||r[i(e)]}},function(e,t,n){var i=n(237);e.exports=function(e,t){return new(i(e))(t)}},function(e,t,n){"use strict";var a=n(9),s=n(36),l=n(6);e.exports=function(e){for(var t=a(this),n=l(t.length),i=arguments.length,o=s(1<i?arguments[1]:void 0,n),i=2<i?arguments[2]:void 0,r=void 0===i?n:s(i,n);o<r;)t[o++]=e;return t}},function(e,t,n){"use strict";var i=n(32),o=n(119),r=n(48),a=n(15);e.exports=n(83)(Array,"Array",function(e,t){this._t=a(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,o(1)):o(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])},"values"),r.Arguments=r.Array,i("keys"),i("values"),i("entries")},function(e,t,n){"use strict";var i,o,a=n(52),s=RegExp.prototype.exec,l=String.prototype.replace,n=s,c="lastIndex",d=(i=/a/,o=/b*/g,s.call(i,"a"),s.call(o,"a"),0!==i[c]||0!==o[c]),u=void 0!==/()??/.exec("")[1];e.exports=n=d||u?function(e){var t,n,i,o,r=this;return u&&(n=new RegExp("^"+r.source+"$(?!\\s)",a.call(r))),d&&(t=r[c]),i=s.call(r,e),d&&i&&(r[c]=r.global?i.index+i[0].length:t),u&&i&&1<i.length&&l.call(i[0],n,function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(i[o]=void 0)}),i}:n},function(e,t,n){"use strict";var i=n(57)(!0);e.exports=function(e,t,n){return t+(n?i(e,t).length:1)}},function(e,t,n){function i(){var e,t=+this;v.hasOwnProperty(t)&&(e=v[t],delete v[t],e())}function o(e){i.call(e.data)}var r,a=n(19),s=n(109),l=n(76),c=n(72),d=n(2),u=d.process,p=d.setImmediate,f=d.clearImmediate,h=d.MessageChannel,m=d.Dispatch,g=0,v={},b="onreadystatechange";p&&f||(p=function(e){for(var t=[],n=1;n<arguments.length;)t.push(arguments[n++]);return v[++g]=function(){s("function"==typeof e?e:Function(e),t)},r(g),g},f=function(e){delete v[e]},"process"==n(20)(u)?r=function(e){u.nextTick(a(i,e,1))}:m&&m.now?r=function(e){m.now(a(i,e,1))}:h?(h=(n=new h).port2,n.port1.onmessage=o,r=a(h.postMessage,h,1)):d.addEventListener&&"function"==typeof postMessage&&!d.importScripts?(r=function(e){d.postMessage(e+"","*")},d.addEventListener("message",o,!1)):r=b in c("script")?function(e){l.appendChild(c("script"))[b]=function(){l.removeChild(this),i.call(e)}}:function(e){setTimeout(a(i,e,1),0)}),e.exports={set:p,clear:f}},function(e,t,n){var s=n(2),l=n(95).set,c=s.MutationObserver||s.WebKitMutationObserver,d=s.process,u=s.Promise,p="process"==n(20)(d);e.exports=function(){function e(){var e,t;for(p&&(e=d.domain)&&e.exit();n;){t=n.fn,n=n.next;try{t()}catch(e){throw n?o():i=void 0,e}}i=void 0,e&&e.enter()}var n,i,t,o,r,a;return o=p?function(){d.nextTick(e)}:!c||s.navigator&&s.navigator.standalone?u&&u.resolve?(t=u.resolve(void 0),function(){t.then(e)}):function(){l.call(s,e)}:(r=!0,a=document.createTextNode(""),new c(e).observe(a,{characterData:!0}),function(){a.data=r=!r}),function(e){e={fn:e,next:void 0};i&&(i.next=e),n||(n=e,o()),i=e}}},function(e,t,n){"use strict";var o=n(10);function i(e){var n,i;this.promise=new e(function(e,t){if(void 0!==n||void 0!==i)throw TypeError("Bad Promise constructor");n=e,i=t}),this.resolve=o(n),this.reject=o(i)}e.exports.f=function(e){return new i(e)}},function(I,e,t){"use strict";var n=t(2),i=t(7),M=t(30),o=t(64),r=t(11),a=t(42),s=t(3),l=t(40),B=t(21),N=t(6),d=t(129),c=t(38).f,R=t(8).f,U=t(91),t=t(45),u="ArrayBuffer",p="DataView",f="prototype",h="Wrong index!",m=n[u],g=n[p],v=n.Math,b=n.RangeError,y=n.Infinity,w=m,H=v.abs,x=v.pow,z=v.floor,W=v.log,q=v.LN2,n="byteLength",v="byteOffset",_=i?"_b":"buffer",k=i?"_l":n,S=i?"_o":v;function C(e,t,n){var i,o,r,a=new Array(n),s=8*n-t-1,n=(1<<s)-1,l=n>>1,c=23===t?x(2,-24)-x(2,-77):0,d=0,u=e<0||0===e&&1/e<0?1:0;for((e=H(e))!=e||e===y?(o=e!=e?1:0,i=n):(i=z(W(e)/q),e*(r=x(2,-i))<1&&(i--,r*=2),2<=(e+=1<=i+l?c/r:c*x(2,1-l))*r&&(i++,r/=2),n<=i+l?(o=0,i=n):1<=i+l?(o=(e*r-1)*x(2,t),i+=l):(o=e*x(2,l-1)*x(2,t),i=0));8<=t;a[d++]=255&o,o/=256,t-=8);for(i=i<<t|o,s+=t;0<s;a[d++]=255&i,i/=256,s-=8);return a[--d]|=128*u,a}function P(e,t,n){var i,o=8*n-t-1,r=(1<<o)-1,a=r>>1,s=o-7,l=n-1,o=e[l--],c=127&o;for(o>>=7;0<s;c=256*c+e[l],l--,s-=8);for(i=c&(1<<-s)-1,c>>=-s,s+=t;0<s;i=256*i+e[l],l--,s-=8);if(0===c)c=1-a;else{if(c===r)return i?NaN:o?-y:y;i+=x(2,t),c-=a}return(o?-1:1)*i*x(2,c-t)}function T(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]}function j(e){return[255&e]}function E(e){return[255&e,e>>8&255]}function A(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]}function V(e){return C(e,52,8)}function G(e){return C(e,23,4)}function L(e,t,n){R(e[f],t,{get:function(){return this[n]}})}function $(e,t,n,i){n=d(+n);if(n+t>e[k])throw b(h);var o=e[_]._b,n=n+e[S],e=o.slice(n,n+t);return i?e:e.reverse()}function O(e,t,n,i,o,r){n=d(+n);if(n+t>e[k])throw b(h);for(var a=e[_]._b,s=n+e[S],l=i(+o),c=0;c<t;c++)a[s+c]=l[r?c:t-c-1]}if(o.ABV){if(!s(function(){m(1)})||!s(function(){new m(-1)})||s(function(){return new m,new m(1.5),new m(NaN),m.name!=u})){for(var D,s=(m=function(e){return l(this,m),new w(d(e))})[f]=w[f],F=c(w),J=0;F.length>J;)(D=F[J++])in m||r(m,D,w[D]);M||(s.constructor=m)}var c=new g(new m(2)),Y=g[f].setInt8;c.setInt8(0,2147483648),c.setInt8(1,2147483649),!c.getInt8(0)&&c.getInt8(1)||a(g[f],{setInt8:function(e,t){Y.call(this,e,t<<24>>24)},setUint8:function(e,t){Y.call(this,e,t<<24>>24)}},!0)}else m=function(e){l(this,m,u);e=d(e);this._b=U.call(new Array(e),0),this[k]=e},g=function(e,t,n){l(this,g,p),l(e,m,p);var i=e[k],t=B(t);if(t<0||i<t)throw b("Wrong offset!");if(i<t+(n=void 0===n?i-t:N(n)))throw b("Wrong length!");this[_]=e,this[S]=t,this[k]=n},i&&(L(m,n,"_l"),L(g,"buffer","_b"),L(g,n,"_l"),L(g,v,"_o")),a(g[f],{getInt8:function(e){return $(this,1,e)[0]<<24>>24},getUint8:function(e){return $(this,1,e)[0]},getInt16:function(e){e=$(this,2,e,arguments[1]);return(e[1]<<8|e[0])<<16>>16},getUint16:function(e){e=$(this,2,e,arguments[1]);return e[1]<<8|e[0]},getInt32:function(e){return T($(this,4,e,arguments[1]))},getUint32:function(e){return T($(this,4,e,arguments[1]))>>>0},getFloat32:function(e){return P($(this,4,e,arguments[1]),23,4)},getFloat64:function(e){return P($(this,8,e,arguments[1]),52,8)},setInt8:function(e,t){O(this,1,e,j,t)},setUint8:function(e,t){O(this,1,e,j,t)},setInt16:function(e,t){O(this,2,e,E,t,arguments[2])},setUint16:function(e,t){O(this,2,e,E,t,arguments[2])},setInt32:function(e,t){O(this,4,e,A,t,arguments[2])},setUint32:function(e,t){O(this,4,e,A,t,arguments[2])},setFloat32:function(e,t){O(this,4,e,G,t,arguments[2])},setFloat64:function(e,t){O(this,8,e,V,t,arguments[2])}});t(m,u),t(g,p),r(g[f],o.VIEW,!0),e[u]=m,e[p]=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.sleep=function(t){return new Promise(function(e){return setTimeout(e,t)})},t.random=function(e,t){return Math.random()*(t-e)+e},t.forever=function(){return new Promise(function(){})},t.pick=function(n,e){return e.reduce(function(e,t){return t in n&&(e[t]=n[t]),e},{})},t.unescapeHtml=function(e){var t={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"'};return e.replace(/\&\w{2,5}\;/g,function(e){return t[e]||e})},t.whenDocumentLoaded=function(e){"loading"===window.document.readyState?window.document.addEventListener("DOMContentLoaded",e):e()},t.isPlainObject=function(e){return e&&!Array.isArray(e)&&"object"===(void 0===e?"undefined":i(e))},t.convertNameToAi=function(e){return["startm5"].includes(e)?e+"-next":e}},,function(e,t,n){e.exports=!n(7)&&!n(3)(function(){return 7!=Object.defineProperty(n(72)("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){t.f=n(5)},function(e,t,n){var a=n(14),s=n(15),l=n(54)(!1),c=n(74)("IE_PROTO");e.exports=function(e,t){var n,i=s(e),o=0,r=[];for(n in i)n!=c&&a(i,n)&&r.push(n);for(;t.length>o;)!a(i,n=t[o++])||~l(r,n)||r.push(n);return r}},function(e,t,n){var a=n(8),s=n(1),l=n(35);e.exports=n(7)?Object.defineProperties:function(e,t){s(e);for(var n,i=l(t),o=i.length,r=0;r<o;)a.f(e,n=i[r++],t[n]);return e}},function(e,t,n){var i=n(15),o=n(38).f,r={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){if(!a||"[object Window]"!=r.call(e))return o(i(e));try{return o(e)}catch(e){return a.slice()}}},function(e,t,n){"use strict";var p=n(7),f=n(35),h=n(55),m=n(51),g=n(9),v=n(50),o=Object.assign;e.exports=!o||n(3)(function(){var e={},t={},n=Symbol(),i="abcdefghijklmnopqrst";return e[n]=7,i.split("").forEach(function(e){t[e]=e}),7!=o({},e)[n]||Object.keys(o({},t)).join("")!=i})?function(e,t){for(var n=g(e),i=arguments.length,o=1,r=h.f,a=m.f;o<i;)for(var s,l=v(arguments[o++]),c=r?f(l).concat(r(l)):f(l),d=c.length,u=0;u<d;)s=c[u++],p&&!a.call(l,s)||(n[s]=l[s]);return n}:o},function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},function(e,t,n){"use strict";var i=n(10),o=n(4),d=n(109),u=[].slice,p={};e.exports=Function.bind||function(a){var s=i(this),l=u.call(arguments,1),c=function(){var e=l.concat(u.call(arguments));if(this instanceof c){var t=s,n=e.length,i=e;if(!(n in p)){for(var o=[],r=0;r<n;r++)o[r]="a["+r+"]";p[n]=Function("F,a","return new F("+o.join(",")+")")}return p[n](t,i)}return d(s,e,a)};return o(s.prototype)&&(c.prototype=s.prototype),c}},function(e,t){e.exports=function(e,t,n){var i=void 0===n;switch(t.length){case 0:return i?e():e.call(n);case 1:return i?e(t[0]):e.call(n,t[0]);case 2:return i?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return i?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return i?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},function(e,t,n){var i=n(2).parseInt,o=n(47).trim,n=n(78),r=/^[-+]?0[xX]/;e.exports=8!==i(n+"08")||22!==i(n+"0x16")?function(e,t){e=o(String(e),3);return i(e,t>>>0||(r.test(e)?16:10))}:i},function(e,t,n){var i=n(2).parseFloat,o=n(47).trim;e.exports=1/i(n(78)+"-0")!=-1/0?function(e){var e=o(String(e),3),t=i(e);return 0===t&&"-"==e.charAt(0)?-0:t}:i},function(e,t,n){var i=n(20);e.exports=function(e,t){if("number"!=typeof e&&"Number"!=i(e))throw TypeError(t);return+e}},function(e,t,n){var i=n(4),o=Math.floor;e.exports=function(e){return!i(e)&&isFinite(e)&&o(e)===e}},function(e,t){e.exports=Math.log1p||function(e){return-1e-8<(e=+e)&&e<1e-8?e-e*e/2:Math.log(1+e)}},function(e,t,n){var i=n(81),n=Math.pow,o=n(2,-52),r=n(2,-23),a=n(2,127)*(2-r),s=n(2,-126);e.exports=Math.fround||function(e){var t,n=Math.abs(e),e=i(e);return n<s?e*(n/s/r+1/o-1/o)*s*r:a<(t=(t=(1+r/o)*n)-(t-n))||t!=t?e*(1/0):e*t}},function(e,t,n){var o=n(1);e.exports=function(t,e,n,i){try{return i?e(o(n)[0],n[1]):e(n)}catch(e){i=t.return;throw void 0!==i&&o(i.call(t)),e}}},function(e,t,n){var d=n(10),u=n(9),p=n(50),f=n(6);e.exports=function(e,t,n,i,o){d(t);var r=u(e),a=p(r),s=f(r.length),l=o?s-1:0,c=o?-1:1;if(n<2)for(;;){if(l in a){i=a[l],l+=c;break}if(l+=c,o?l<0:s<=l)throw TypeError("Reduce of empty array with no initial value")}for(;o?0<=l:l<s;l+=c)l in a&&(i=t(i,a[l],l,r));return i}},function(e,t,n){"use strict";var l=n(9),c=n(36),d=n(6);e.exports=[].copyWithin||function(e,t){var n=l(this),i=d(n.length),o=c(e,i),r=c(t,i),e=2<arguments.length?arguments[2]:void 0,a=Math.min((void 0===e?i:c(e,i))-r,i-o),s=1;for(r<o&&o<r+a&&(s=-1,r+=a-1,o+=a-1);0<a--;)r in n?n[o]=n[r]:delete n[o],o+=s,r+=s;return n}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){"use strict";var i=n(93);n(0)({target:"RegExp",proto:!0,forced:i!==/./.exec},{exec:i})},function(e,t,n){n(7)&&"g"!=/./g.flags&&n(8).f(RegExp.prototype,"flags",{configurable:!0,get:n(52)})},function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},function(e,t,n){var i=n(1),o=n(4),r=n(97);e.exports=function(e,t){return i(e),o(t)&&t.constructor===e?t:((0,(e=r.f(e)).resolve)(t),e.promise)}},function(e,t,n){"use strict";var i=n(125),o=n(43);e.exports=n(63)("Map",function(e){return function(){return e(this,0<arguments.length?arguments[0]:void 0)}},{get:function(e){e=i.getEntry(o(this,"Map"),e);return e&&e.v},set:function(e,t){return i.def(o(this,"Map"),0===e?0:e,t)}},i,!0)},function(e,t,n){"use strict";function a(e,t){var n,i=h(t);if("F"!==i)return e._i[i];for(n=e._f;n;n=n.n)if(n.k==t)return n}var s=n(8).f,l=n(37),c=n(42),d=n(19),u=n(40),p=n(41),i=n(83),o=n(119),r=n(39),f=n(7),h=n(31).fastKey,m=n(43),g=f?"_s":"size";e.exports={getConstructor:function(e,o,n,i){var r=e(function(e,t){u(e,r,o,"_i"),e._t=o,e._i=l(null),e._f=void 0,e._l=void 0,e[g]=0,null!=t&&p(t,n,e[i],e)});return c(r.prototype,{clear:function(){for(var e=m(this,o),t=e._i,n=e._f;n;n=n.n)n.r=!0,n.p&&(n.p=n.p.n=void 0),delete t[n.i];e._f=e._l=void 0,e[g]=0},delete:function(e){var t,n,i=m(this,o),e=a(i,e);return e&&(t=e.n,n=e.p,delete i._i[e.i],e.r=!0,n&&(n.n=t),t&&(t.p=n),i._f==e&&(i._f=t),i._l==e&&(i._l=n),i[g]--),!!e},forEach:function(e){m(this,o);for(var t,n=d(e,1<arguments.length?arguments[1]:void 0,3);t=t?t.n:this._f;)for(n(t.v,t.k,this);t&&t.r;)t=t.p},has:function(e){return!!a(m(this,o),e)}}),f&&s(r.prototype,"size",{get:function(){return m(this,o)[g]}}),r},def:function(e,t,n){var i,o=a(e,t);return o?o.v=n:(e._l=o={i:i=h(t,!0),k:t,v:n,p:t=e._l,n:void 0,r:!1},e._f||(e._f=o),t&&(t.n=o),e[g]++,"F"!==i&&(e._i[i]=o)),e},getEntry:a,setStrong:function(e,n,t){i(e,n,function(e,t){this._t=m(e,n),this._k=t,this._l=void 0},function(){for(var e=this,t=e._k,n=e._l;n&&n.r;)n=n.p;return e._t&&(e._l=n=n?n.n:e._t._f)?o(0,"keys"==t?n.k:"values"==t?n.v:[n.k,n.v]):(e._t=void 0,o(1))},t?"entries":"values",!t,!0),r(n)}}},function(e,t,n){"use strict";var i=n(125),o=n(43);e.exports=n(63)("Set",function(e){return function(){return e(this,0<arguments.length?arguments[0]:void 0)}},{add:function(e){return i.def(o(this,"Set"),e=0===e?0:e,e)}},i)},function(e,t,n){"use strict";function i(e){return function(){return e(this,0<arguments.length?arguments[0]:void 0)}}var r,o=n(2),a=n(27)(0),s=n(12),l=n(31),c=n(106),d=n(128),u=n(4),p=n(43),f=n(43),o=!o.ActiveXObject&&"ActiveXObject"in o,h="WeakMap",m=l.getWeak,g=Object.isExtensible,v=d.ufstore,b={get:function(e){var t;if(u(e))return!0===(t=m(e))?v(p(this,h)).get(e):t?t[this._i]:void 0},set:function(e,t){return d.def(p(this,h),e,t)}},y=e.exports=n(63)(h,i,b,d,!0,!0);f&&o&&(c((r=d.getConstructor(i,h)).prototype,b),l.NEED=!0,a(["delete","has","get","set"],function(i){var e=y.prototype,o=e[i];s(e,i,function(e,t){var n;return u(e)&&!g(e)?(this._f||(this._f=new r),n=this._f[i](e,t),"set"==i?this:n):o.call(this,e,t)})}))},function(e,t,n){"use strict";function a(e){return e._l||(e._l=new i)}function i(){this.a=[]}function o(e,t){return m(e.a,function(e){return e[0]===t})}var s=n(42),l=n(31).getWeak,r=n(1),c=n(4),d=n(40),u=n(41),p=n(27),f=n(14),h=n(43),m=p(5),g=p(6),v=0;i.prototype={get:function(e){e=o(this,e);if(e)return e[1]},has:function(e){return!!o(this,e)},set:function(e,t){var n=o(this,e);n?n[1]=t:this.a.push([e,t])},delete:function(t){var e=g(this.a,function(e){return e[0]===t});return~e&&this.a.splice(e,1),!!~e}},e.exports={getConstructor:function(e,n,i,o){var r=e(function(e,t){d(e,r,n,"_i"),e._t=n,e._i=v++,e._l=void 0,null!=t&&u(t,i,e[o],e)});return s(r.prototype,{delete:function(e){var t;return!!c(e)&&(!0===(t=l(e))?a(h(this,n)).delete(e):t&&f(t,this._i)&&delete t[this._i])},has:function(e){var t;return!!c(e)&&(!0===(t=l(e))?a(h(this,n)).has(e):t&&f(t,this._i))}}),r},def:function(e,t,n){var i=l(r(t),!0);return!0===i?a(e).set(t,n):i[e._i]=n,e},ufstore:a}},function(e,t,n){var i=n(21),o=n(6);e.exports=function(e){if(void 0===e)return 0;var e=i(e),t=o(e);if(e!==t)throw RangeError("Wrong length!");return t}},function(e,t,n){var i=n(38),o=n(55),r=n(1),n=n(2).Reflect;e.exports=n&&n.ownKeys||function(e){var t=i.f(r(e)),n=o.f;return n?t.concat(n(e)):t}},function(e,t,n){"use strict";var h=n(56),m=n(4),g=n(6),v=n(19),b=n(5)("isConcatSpreadable");e.exports=function e(t,n,i,o,r,a,s,l){for(var c,d,u=r,p=0,f=!!s&&v(s,l,3);p<o;){if(p in i){if(c=f?f(i[p],p,n):i[p],d=!1,(d=m(c)?void 0!==(d=c[b])?!!d:h(c):d)&&0<a)u=e(t,n,c,g(c.length),u,a-1)-1;else{if(9007199254740991<=u)throw TypeError();t[u]=c}u++}p++}return u}},function(e,t,n){var r=n(6),a=n(80),s=n(25);e.exports=function(e,t,n,i){var e=String(s(e)),o=e.length,n=void 0===n?" ":String(n),t=r(t);return t<=o||""==n?e:(t=t-o,(o=a.call(n,Math.ceil(t/n.length))).length>t&&(o=o.slice(0,t)),i?o+e:e+o)}},function(e,t,n){var l=n(7),c=n(35),d=n(15),u=n(51).f;e.exports=function(s){return function(e){for(var t,n=d(e),i=c(n),o=i.length,r=0,a=[];r<o;)t=i[r++],l&&!u.call(n,t)||a.push(s?[t,n[t]]:n[t]);return a}}},function(e,t,n){var i=n(46),o=n(135);e.exports=function(e){return function(){if(i(this)!=e)throw TypeError(e+"#toJSON isn't generic");return o(this)}}},function(e,t,n){var i=n(41);e.exports=function(e,t){var n=[];return i(e,!1,n.push,n,t),n}},function(e,t){e.exports=Math.scale||function(e,t,n,i,o){return 0===arguments.length||e!=e||t!=t||n!=n||i!=i||o!=o?NaN:e===1/0||e===-1/0?e:(e-t)*(o-i)/(n-t)+i}},function(e,t){e.exports=window.jQuery},function(e,t){var n,i,e=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{i="function"==typeof clearTimeout?clearTimeout:r}catch(e){i=r}function a(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return(n=setTimeout)(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}var s,l=[],c=!1,d=-1;function u(){c&&s&&(c=!1,s.length?l=s.concat(l):d=-1,l.length)&&p()}function p(){if(!c){for(var e=a(u),t=(c=!0,l.length);t;){for(s=l,l=[];++d<t;)s&&s[d].run();d=-1,t=l.length}s=null,c=!1,!function(t){if(i===clearTimeout)return clearTimeout(t);if((i===r||!i)&&clearTimeout)return(i=clearTimeout)(t);try{i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function h(){}e.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new f(e,t)),1!==l.length||c||a(p)},f.prototype.run=function(){this.fun.apply(null,this.array)},e.title="browser",e.browser=!0,e.env={},e.argv=[],e.version="",e.versions={},e.on=h,e.addListener=h,e.once=h,e.off=h,e.removeListener=h,e.removeAllListeners=h,e.emit=h,e.prependListener=h,e.prependOnceListener=h,e.listeners=function(e){return[]},e.binding=function(e){throw new Error("process.binding is not supported")},e.cwd=function(){return"/"},e.chdir=function(e){throw new Error("process.chdir is not supported")},e.umask=function(){return 0}},,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(23);t.default={unzip:function(e,t){var n=jQuery.Deferred();return r.Bridge.unzip(e,t,function(e){e?n.resolve():n.reject()}),n},zip:function(e,t){var n=jQuery.Deferred();return r.Bridge.zip(e,t,function(e){e?n.resolve():n.reject()}),n},dirList:function(e,t){var n=jQuery.Deferred();return r.Bridge.dirList(e,function(e){n.resolve(e)},t),n},moveLocal:function(e,t){var n=jQuery.Deferred();return r.Bridge.moveLocal(e,t,function(e){e?n.resolve():n.reject()}),n},copyLocal:function(e,t){var n=jQuery.Deferred();return r.Bridge.copyLocal(e,t,function(e){e?n.resolve(e):n.reject()}),n},removeLocal:function(e){var t=jQuery.Deferred();return r.Bridge.removeLocal(e,function(e){e?t.resolve():t.reject()}),t},loadLocalFile:function(e){var t=jQuery.Deferred();return r.Bridge.loadLocalFile(e,function(e){t.resolve(e)}),t},saveLocalFile:function(e,t){var n=jQuery.Deferred();return r.Bridge.saveLocalFile(e,t,function(e){e?n.resolve():n.reject()}),n},getLocalJSON:function(e){var t=jQuery.Deferred();return r.Bridge.getLocalJSON(e,function(e){t.resolve(e)},function(e){t.reject(e)}),t},getScreen:function(e,t,n){var i=jQuery.Deferred();return r.Bridge.getScreen(function(e){e?i.resolve(e):i.reject()},e,t,n),i},runFileDialog:function(e,t,n,i){var o=jQuery.Deferred();return r.Bridge.runFileDialog(e,t,n,function(e){e?o.resolve(e):o.reject()},i),o},runFileDialog2:function(e){var t=jQuery.Deferred();return r.Bridge.runFileDialog2(function(e){e?t.resolve(e):t.reject()},e),t},isExistsLocal:function(e,t){var n=jQuery.Deferred();return r.Bridge.isExistsLocal(e,function(e){n.resolve(e),t&&t(e)}),n},addRecent:function(e,t){var n=jQuery.Deferred();return r.Bridge.addRecent(e,function(e){e?n.resolve():n.reject(),t&&t(e)}),n},md5_base64:function(e,t){var n=jQuery.Deferred();return r.Bridge.md5_base64(e,function(e){n.resolve(e),t&&t(e)}),n},getSettings:function(e){var t=jQuery.Deferred();return r.Bridge.getSettings(e,function(e){t.resolve(e)}),t},setSettings:function(e,t){var n=jQuery.Deferred();return r.Bridge.setSettings(e,t,function(e){e?n.resolve():n.reject()}),n},getRecentsList:function(){var t=jQuery.Deferred();return r.Bridge.getRecentsList(function(e){t.resolve(e)}),t},osLocale:function(){var t=jQuery.Deferred();return r.Bridge.osLocale(function(e){t.resolve(e)}),t}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,i=arguments[t];for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},i=function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e};function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var r=a(n(355)),c=a(n(70)),d=n(99);function a(e){return e&&e.__esModule?e:{default:e}}function s(e){return function(){var s=e.apply(this,arguments);return new Promise(function(r,a){return function t(e,n){try{var i=s[e](n),o=i.value}catch(e){return void a(e)}if(!i.done)return Promise.resolve(o).then(function(e){t("next",e)},function(e){t("throw",e)});r(o)}("next")})}}i(m,null,[{key:"create",value:(u=s(regeneratorRuntime.mark(function e(){var t,n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.default.request("/v2/pages",{method:"POST",body:JSON.stringify(n)});case 2:return t=e.sent,e.abrupt("return",new this({status:t.status,meta:(0,d.pick)(t.meta,["id","pageTitle","systemMessage"]),urls:t.urls}));case 4:case"end":return e.stop()}},e,this)})),function(){return u.apply(this,arguments)})}]),i(m,[{key:"fetchMobiriseProject",value:function(){return c.default.request("/v2/pages/"+this.id+"/project.mobirise")}},{key:"waitUntilIsReady",value:(h=s(regeneratorRuntime.mark(function e(){var t,n,i,o=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},r=o.maxErrors,a=void 0===r?5:r,r=o.timeout,s=void 0===r?300:r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=a,n=Date.now();case 2:return e.prev=3,e.next=6,c.default.request("/v2/pages/"+this.id+"/status");case 6:if("READY"===(i=e.sent).name)return this.status="READY",e.abrupt("return");e.next=10;break;case 10:if("ERROR"===i.name)throw l(new Error(i.reason),{code:"PageFillError"});e.next=12;break;case 12:e.next=20;break;case 14:if(e.prev=14,e.t0=e.catch(3),"PageFillError"===e.t0.code)throw e.t0;e.next=18;break;case 18:if(--t<=0)throw e.t0;e.next=20;break;case 20:if(Date.now()-n>1e3*s)throw l(new Error("Timeout of "+s+"s exceeded"),{code:"TimeoutError"});e.next=22;break;case 22:return e.next=24,(0,d.sleep)((0,d.random)(1e3,4e3));case 24:e.next=2;break;case 26:case"end":return e.stop()}},e,this,[[3,14]])})),function(){return h.apply(this,arguments)})},{key:"randomize",value:function(e,t){return c.default.request("/v2/pages/"+this.id+"/random",{method:"POST",body:JSON.stringify(l({seed:e},t))})}},{key:"publishTo",value:(f=s(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.default.request("/v2/pages/"+this.id+"/publish",{method:"POST",body:JSON.stringify({service:"mobirisesite.com",options:{siteId:t.id}})});case 2:return n=e.sent,n=n.job,e.abrupt("return",new r.default(n));case 5:case"end":return e.stop()}},e,this)})),function(e){return f.apply(this,arguments)})},{key:"getMobiriseProject",value:(p=s(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.default.request("/v2/pages/"+this.id+"/project.mobirise");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)})),function(){return p.apply(this,arguments)})},{key:"toJSON",value:function(){return this.props}},{key:"id",get:function(){return this.props.meta.id}},{key:"status",get:function(){return this.props.status.name},set:function(e){return this.props.status.name=e}},{key:"urls",get:function(){return this.props.urls}}]);var u,p,f,h,n=m;function m(e){if(!(this instanceof m))throw new TypeError("Cannot call a class as a function");this.props=e}t.default=n},function(e,x,_){"use strict";_.r(x),function(e){_.d(x,"Headers",function(){return p}),_.d(x,"Request",function(){return m}),_.d(x,"Response",function(){return v}),_.d(x,"DOMException",function(){return y}),_.d(x,"fetch",function(){return w});var t,n,l="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof self&&self||void 0!==e&&e||{},c={searchParams:"URLSearchParams"in l,iterable:"Symbol"in l&&"iterator"in Symbol,blob:"FileReader"in l&&"Blob"in l&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in l,arrayBuffer:"ArrayBuffer"in l};function d(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||""===e)throw new TypeError('Invalid character in header field name: "'+e+'"');return e.toLowerCase()}function u(e){return e="string"!=typeof e?String(e):e}function i(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return c.iterable&&(e[Symbol.iterator]=function(){return e}),e}function p(t){this.map={},t instanceof p?t.forEach(function(e,t){this.append(t,e)},this):Array.isArray(t)?t.forEach(function(e){if(2!=e.length)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+e.length);this.append(e[0],e[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function o(e){if(!e._noBody)return e.bodyUsed?Promise.reject(new TypeError("Already read")):void(e.bodyUsed=!0)}function r(n){return new Promise(function(e,t){n.onload=function(){e(n.result)},n.onerror=function(){t(n.error)}})}function a(e){var t=new FileReader,n=r(t);return t.readAsArrayBuffer(e),n}function s(e){var t;return e.slice?e.slice(0):((t=new Uint8Array(e.byteLength)).set(new Uint8Array(e)),t.buffer)}function f(){return this.bodyUsed=!1,this._initBody=function(e){var t;this.bodyUsed=this.bodyUsed,(this._bodyInit=e)?"string"==typeof e?this._bodyText=e:c.blob&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:c.formData&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:c.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():c.arrayBuffer&&c.blob&&(t=e)&&DataView.prototype.isPrototypeOf(t)?(this._bodyArrayBuffer=s(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):c.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(e)||n(e))?this._bodyArrayBuffer=s(e):this._bodyText=e=Object.prototype.toString.call(e):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):c.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},c.blob&&(this.blob=function(){var e=o(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer)return o(this)||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer));if(c.blob)return this.blob().then(a);throw new Error("could not read as ArrayBuffer")},this.text=function(){var e,t,n,i=o(this);if(i)return i;if(this._bodyBlob)return i=this._bodyBlob,e=new FileReader,t=r(e),n=(n=/charset=([A-Za-z0-9_-]+)/.exec(i.type))?n[1]:"utf-8",e.readAsText(i,n),t;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),i=0;i<t.length;i++)n[i]=String.fromCharCode(t[i]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},c.formData&&(this.formData=function(){return this.text().then(g)}),this.json=function(){return this.text().then(JSON.parse)},this}c.arrayBuffer&&(t=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],n=ArrayBuffer.isView||function(e){return e&&-1<t.indexOf(Object.prototype.toString.call(e))}),p.prototype.append=function(e,t){e=d(e),t=u(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},p.prototype.delete=function(e){delete this.map[d(e)]},p.prototype.get=function(e){return e=d(e),this.has(e)?this.map[e]:null},p.prototype.has=function(e){return this.map.hasOwnProperty(d(e))},p.prototype.set=function(e,t){this.map[d(e)]=u(t)},p.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},p.prototype.keys=function(){var n=[];return this.forEach(function(e,t){n.push(t)}),i(n)},p.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),i(t)},p.prototype.entries=function(){var n=[];return this.forEach(function(e,t){n.push([t,e])}),i(n)},c.iterable&&(p.prototype[Symbol.iterator]=p.prototype.entries);var h=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function m(e,t){if(!(this instanceof m))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var n,i=(t=t||{}).body;if(e instanceof m){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new p(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,i||null==e._bodyInit||(i=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new p(t.headers)),this.method=(e=t.method||this.method||"GET",n=e.toUpperCase(),-1<h.indexOf(n)?n:e),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal||function(){if("AbortController"in l)return(new AbortController).signal}(),this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(i),"GET"!==this.method&&"HEAD"!==this.method||"no-store"!==t.cache&&"no-cache"!==t.cache||((n=/([?&])_=[^&]*/).test(this.url)?this.url=this.url.replace(n,"$1_="+(new Date).getTime()):this.url+=(/\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime())}function g(e){var n=new FormData;return e.trim().split("&").forEach(function(e){var t;e&&(t=(e=e.split("=")).shift().replace(/\+/g," "),e=e.join("=").replace(/\+/g," "),n.append(decodeURIComponent(t),decodeURIComponent(e)))}),n}function v(e,t){if(!(this instanceof v))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(t=t||{},this.type="default",this.status=void 0===t.status?200:t.status,this.status<200||599<this.status)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=200<=this.status&&this.status<300,this.statusText=void 0===t.statusText?"":""+t.statusText,this.headers=new p(t.headers),this.url=t.url||"",this._initBody(e)}m.prototype.clone=function(){return new m(this,{body:this._bodyInit})},f.call(m.prototype),f.call(v.prototype),v.prototype.clone=function(){return new v(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new p(this.headers),url:this.url})},v.error=function(){var e=new v(null,{status:200,statusText:""});return e.status=0,e.type="error",e};var b=[301,302,303,307,308],y=(v.redirect=function(e,t){if(-1===b.indexOf(t))throw new RangeError("Invalid status code");return new v(null,{status:t,headers:{location:e}})},l.DOMException);try{new y}catch(e){(y=function(e,t){this.message=e,this.name=t;t=Error(e);this.stack=t.stack}).prototype=Object.create(Error.prototype),y.prototype.constructor=y}function w(a,s){return new Promise(function(o,e){var t=new m(a,s);if(t.signal&&t.signal.aborted)return e(new y("Aborted","AbortError"));var n,r=new XMLHttpRequest;function i(){r.abort()}r.onload=function(){var e,n,t={status:r.status,statusText:r.statusText,headers:(e=r.getAllResponseHeaders()||"",n=new p,e.replace(/\r?\n[\t ]+/g," ").split("\r").map(function(e){return 0===e.indexOf("\n")?e.substr(1,e.length):e}).forEach(function(e){var e=e.split(":"),t=e.shift().trim();if(t){e=e.join(":").trim();try{n.append(t,e)}catch(e){console.warn("Response "+e.message)}}}),n)},i=(t.url="responseURL"in r?r.responseURL:t.headers.get("X-Request-URL"),"response"in r?r.response:r.responseText);setTimeout(function(){o(new v(i,t))},0)},r.onerror=function(){setTimeout(function(){e(new TypeError("Network request failed"))},0)},r.ontimeout=function(){setTimeout(function(){e(new TypeError("Network request failed"))},0)},r.onabort=function(){setTimeout(function(){e(new y("Aborted","AbortError"))},0)},r.open(t.method,function(t){try{return""===t&&l.location.href?l.location.href:t}catch(e){return t}}(t.url),!0),"include"===t.credentials?r.withCredentials=!0:"omit"===t.credentials&&(r.withCredentials=!1),"responseType"in r&&(c.blob?r.responseType="blob":c.arrayBuffer&&(r.responseType="arraybuffer")),s&&"object"==typeof s.headers&&!(s.headers instanceof p||l.Headers&&s.headers instanceof l.Headers)?(n=[],Object.getOwnPropertyNames(s.headers).forEach(function(e){n.push(d(e)),r.setRequestHeader(e,u(s.headers[e]))}),t.headers.forEach(function(e,t){-1===n.indexOf(t)&&r.setRequestHeader(t,e)})):t.headers.forEach(function(e,t){r.setRequestHeader(t,e)}),t.signal&&(t.signal.addEventListener("abort",i),r.onreadystatechange=function(){4===r.readyState&&t.signal.removeEventListener("abort",i)}),r.send(void 0===t._bodyInit?null:t._bodyInit)})}w.polyfill=!0,l.fetch||(l.fetch=w,l.Headers=p,l.Request=m,l.Response=v)}.call(this,_(44))},function(e,t,n){"use strict";!function(e){if(n(146),n(343),n(344),e._babelPolyfill)throw new Error("only one instance of babel-polyfill is allowed");e._babelPolyfill=!0;function t(e,t,n){e[t]||Object.defineProperty(e,t,{writable:!0,configurable:!0,value:n})}t(String.prototype,"padLeft","".padStart),t(String.prototype,"padRight","".padEnd),"pop,reverse,shift,keys,values,entries,indexOf,every,some,forEach,map,filter,find,findIndex,includes,join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill".split(",").forEach(function(e){[][e]&&t(Array,e,Function.call.bind([][e]))})}.call(this,n(44))},function(e,t,n){n(147),n(150),n(151),n(152),n(153),n(154),n(155),n(156),n(157),n(158),n(159),n(160),n(161),n(162),n(163),n(164),n(165),n(166),n(167),n(168),n(169),n(170),n(171),n(172),n(173),n(174),n(175),n(176),n(177),n(178),n(179),n(180),n(181),n(182),n(183),n(184),n(185),n(186),n(187),n(188),n(189),n(190),n(191),n(192),n(193),n(194),n(195),n(196),n(197),n(198),n(199),n(200),n(201),n(202),n(203),n(204),n(205),n(206),n(207),n(208),n(209),n(210),n(211),n(212),n(213),n(214),n(215),n(216),n(217),n(218),n(219),n(220),n(221),n(222),n(223),n(224),n(225),n(227),n(228),n(230),n(231),n(232),n(233),n(234),n(235),n(236),n(238),n(239),n(240),n(241),n(242),n(243),n(244),n(245),n(246),n(247),n(248),n(249),n(250),n(92),n(251),n(120),n(252),n(121),n(253),n(254),n(255),n(256),n(257),n(124),n(126),n(127),n(258),n(259),n(260),n(261),n(262),n(263),n(264),n(265),n(266),n(267),n(268),n(269),n(270),n(271),n(272),n(273),n(274),n(275),n(276),n(277),n(278),n(279),n(280),n(281),n(282),n(283),n(284),n(285),n(286),n(287),n(288),n(289),n(290),n(291),n(292),n(293),n(294),n(295),n(296),n(297),n(298),n(299),n(300),n(301),n(302),n(303),n(304),n(305),n(306),n(307),n(308),n(309),n(310),n(311),n(312),n(313),n(314),n(315),n(316),n(317),n(318),n(319),n(320),n(321),n(322),n(323),n(324),n(325),n(326),n(327),n(328),n(329),n(330),n(331),n(332),n(333),n(334),n(335),n(336),n(337),n(338),n(339),n(340),n(341),n(342),e.exports=n(18)},function(I,M,e){"use strict";function i(e){var t=j[e]=y(_[C]);return t._k=e,t}function n(e,t){m(e);for(var n,i=z(t=g(t)),o=0,r=i.length;o<r;)F(e,n=i[o++],t[n]);return e}function t(e){var t=ee.call(this,e=v(e,!0));return!(this===A&&l(j,e)&&!l(E,e))&&(!(t||!l(this,e)||!l(j,e)||l(this,P)&&this[P][e])||t)}function o(e,t){var n;if(e=g(e),t=v(t,!0),e!==A||!l(j,t)||l(E,t))return!(n=X(e,t))||!l(j,t)||l(e,P)&&e[P][t]||(n.enumerable=!0),n}function r(e){for(var t,n=Q(g(e)),i=[],o=0;n.length>o;)l(j,t=n[o++])||t==P||t==N||i.push(t);return i}function a(e){for(var t,n=e===A,i=Q(n?E:g(e)),o=[],r=0;i.length>r;)!l(j,t=i[r++])||n&&!l(A,t)||o.push(j[t]);return o}var s=e(2),l=e(14),c=e(7),d=e(0),B=e(12),N=e(31).KEY,u=e(3),p=e(49),f=e(45),R=e(34),h=e(5),U=e(102),H=e(73),z=e(149),W=e(56),m=e(1),q=e(4),V=e(9),g=e(15),v=e(24),b=e(33),y=e(37),G=e(105),J=e(16),w=e(55),Y=e(8),K=e(35),X=J.f,x=Y.f,Q=G.f,_=s.Symbol,k=s.JSON,S=k&&k.stringify,C="prototype",P=h("_hidden"),Z=h("toPrimitive"),ee={}.propertyIsEnumerable,T=p("symbol-registry"),j=p("symbols"),E=p("op-symbols"),A=Object[C],p="function"==typeof _&&!!w.f,L=s.QObject,$=!L||!L[C]||!L[C].findChild,O=c&&u(function(){return 7!=y(x({},"a",{get:function(){return x(this,"a",{value:7}).a}})).a})?function(e,t,n){var i=X(A,t);i&&delete A[t],x(e,t,n),i&&e!==A&&x(A,t,i)}:x,D=p&&"symbol"==typeof _.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof _},F=function(e,t,n){return e===A&&F(E,t,n),m(e),t=v(t,!0),m(n),(l(j,t)?(n.enumerable?(l(e,P)&&e[P][t]&&(e[P][t]=!1),n=y(n,{enumerable:b(0,!1)})):(l(e,P)||x(e,P,b(1,{})),e[P][t]=!0),O):x)(e,t,n)};p||(B((_=function(){if(this instanceof _)throw TypeError("Symbol is not a constructor!");var t=R(0<arguments.length?arguments[0]:void 0),n=function(e){this===A&&n.call(E,e),l(this,P)&&l(this[P],t)&&(this[P][t]=!1),O(this,t,b(1,e))};return c&&$&&O(A,t,{configurable:!0,set:n}),i(t)})[C],"toString",function(){return this._k}),J.f=o,Y.f=F,e(38).f=G.f=r,e(51).f=t,w.f=a,c&&!e(30)&&B(A,"propertyIsEnumerable",t,!0),U.f=function(e){return i(h(e))}),d(d.G+d.W+d.F*!p,{Symbol:_});for(var te="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ne=0;te.length>ne;)h(te[ne++]);for(var ie=K(h.store),oe=0;ie.length>oe;)H(ie[oe++]);d(d.S+d.F*!p,"Symbol",{for:function(e){return l(T,e+="")?T[e]:T[e]=_(e)},keyFor:function(e){if(!D(e))throw TypeError(e+" is not a symbol!");for(var t in T)if(T[t]===e)return t},useSetter:function(){$=!0},useSimple:function(){$=!1}}),d(d.S+d.F*!p,"Object",{create:function(e,t){return void 0===t?y(e):n(y(e),t)},defineProperty:F,defineProperties:n,getOwnPropertyDescriptor:o,getOwnPropertyNames:r,getOwnPropertySymbols:a});L=u(function(){w.f(1)});d(d.S+d.F*L,"Object",{getOwnPropertySymbols:function(e){return w.f(V(e))}}),k&&d(d.S+d.F*(!p||u(function(){var e=_();return"[null]"!=S([e])||"{}"!=S({a:e})||"{}"!=S(Object(e))})),"JSON",{stringify:function(e){for(var t,n,i=[e],o=1;o<arguments.length;)i.push(arguments[o++]);if(n=t=i[1],(q(t)||void 0!==e)&&!D(e))return W(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!D(t))return t}),i[1]=t,S.apply(k,i)}}),_[C][Z]||e(11)(_[C],Z,_[C].valueOf),f(_,"Symbol"),f(Math,"Math",!0),f(s.JSON,"JSON",!0)},function(e,t,n){e.exports=n(49)("native-function-to-string",Function.toString)},function(e,t,n){var s=n(35),l=n(55),c=n(51);e.exports=function(e){var t=s(e),n=l.f;if(n)for(var i,o=n(e),r=c.f,a=0;o.length>a;)r.call(e,i=o[a++])&&t.push(i);return t}},function(e,t,n){var i=n(0);i(i.S,"Object",{create:n(37)})},function(e,t,n){var i=n(0);i(i.S+i.F*!n(7),"Object",{defineProperty:n(8).f})},function(e,t,n){var i=n(0);i(i.S+i.F*!n(7),"Object",{defineProperties:n(104)})},function(e,t,n){var i=n(15),o=n(16).f;n(26)("getOwnPropertyDescriptor",function(){return function(e,t){return o(i(e),t)}})},function(e,t,n){var i=n(9),o=n(17);n(26)("getPrototypeOf",function(){return function(e){return o(i(e))}})},function(e,t,n){var i=n(9),o=n(35);n(26)("keys",function(){return function(e){return o(i(e))}})},function(e,t,n){n(26)("getOwnPropertyNames",function(){return n(105).f})},function(e,t,n){var i=n(4),o=n(31).onFreeze;n(26)("freeze",function(t){return function(e){return t&&i(e)?t(o(e)):e}})},function(e,t,n){var i=n(4),o=n(31).onFreeze;n(26)("seal",function(t){return function(e){return t&&i(e)?t(o(e)):e}})},function(e,t,n){var i=n(4),o=n(31).onFreeze;n(26)("preventExtensions",function(t){return function(e){return t&&i(e)?t(o(e)):e}})},function(e,t,n){var i=n(4);n(26)("isFrozen",function(t){return function(e){return!i(e)||!!t&&t(e)}})},function(e,t,n){var i=n(4);n(26)("isSealed",function(t){return function(e){return!i(e)||!!t&&t(e)}})},function(e,t,n){var i=n(4);n(26)("isExtensible",function(t){return function(e){return!!i(e)&&(!t||t(e))}})},function(e,t,n){var i=n(0);i(i.S+i.F,"Object",{assign:n(106)})},function(e,t,n){var i=n(0);i(i.S,"Object",{is:n(107)})},function(e,t,n){var i=n(0);i(i.S,"Object",{setPrototypeOf:n(77).set})},function(e,t,n){"use strict";var i=n(46),o={};o[n(5)("toStringTag")]="z",o+""!="[object z]"&&n(12)(Object.prototype,"toString",function(){return"[object "+i(this)+"]"},!0)},function(e,t,n){var i=n(0);i(i.P,"Function",{bind:n(108)})},function(e,t,n){var i=n(8).f,o=Function.prototype,r=/^\s*function ([^ (]*)/;"name"in o||n(7)&&i(o,"name",{configurable:!0,get:function(){try{return(""+this).match(r)[1]}catch(e){return""}}})},function(e,t,n){"use strict";var i=n(4),o=n(17),r=n(5)("hasInstance"),a=Function.prototype;r in a||n(8).f(a,r,{value:function(e){if("function"==typeof this&&i(e)){if(!i(this.prototype))return e instanceof this;for(;e=o(e);)if(this.prototype===e)return!0}return!1}})},function(e,t,n){var i=n(0),n=n(110);i(i.G+i.F*(parseInt!=n),{parseInt:n})},function(e,t,n){var i=n(0),n=n(111);i(i.G+i.F*(parseFloat!=n),{parseFloat:n})},function(e,t,n){"use strict";function i(e){if("string"==typeof(t=c(e,!1))&&2<t.length){var t,n,i,o,e=(t=b?t.trim():f(t,3)).charCodeAt(0);if(43===e||45===e){if(88===(n=t.charCodeAt(2))||120===n)return NaN}else if(48===e){switch(t.charCodeAt(1)){case 66:case 98:i=2,o=49;break;case 79:case 111:i=8,o=55;break;default:return+t}for(var r,a=t.slice(2),s=0,l=a.length;s<l;s++)if((r=a.charCodeAt(s))<48||o<r)return NaN;return parseInt(a,i)}}return+t}var o=n(2),r=n(14),a=n(20),s=n(79),c=n(24),l=n(3),d=n(38).f,u=n(16).f,p=n(8).f,f=n(47).trim,h="Number",m=w=o[h],g=w.prototype,v=a(n(37)(g))==h,b="trim"in String.prototype;if(!w(" 0o1")||!w("0b1")||w("+0x1")){for(var y,w=function(e){var e=arguments.length<1?0:e,t=this;return t instanceof w&&(v?l(function(){g.valueOf.call(t)}):a(t)!=h)?s(new m(i(e)),t,w):i(e)},x=n(7)?d(m):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),_=0;x.length>_;_++)r(m,y=x[_])&&!r(w,y)&&p(w,y,u(m,y));(w.prototype=g).constructor=w,n(12)(o,h,w)}},function(e,t,n){"use strict";function a(e,t){for(var n=-1,i=t;++n<6;)f[n]=(i+=e*f[n])%1e7,i=r(i/1e7)}function s(e){for(var t=6,n=0;0<=--t;)f[t]=r((n+=f[t])/e),n=n%e*1e7}function l(){for(var e,t=6,n="";0<=--t;)""===n&&0!==t&&0===f[t]||(e=String(f[t]),n=""===n?e:n+p.call("0",7-e.length)+e);return n}function c(e,t,n){return 0===t?n:t%2==1?c(e,t-1,n*e):c(e*e,t/2,n)}var i=n(0),d=n(21),u=n(112),p=n(80),o=1..toFixed,r=Math.floor,f=[0,0,0,0,0,0],h="Number.toFixed: incorrect invocation!";i(i.P+i.F*(!!o&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==0xde0b6b3a7640080.toFixed(0))||!n(3)(function(){o.call({})})),"Number",{toFixed:function(e){var t,n,i=u(this,h),e=d(e),o="",r="0";if(e<0||20<e)throw RangeError(h);if(i!=i)return"NaN";if(i<=-1e21||1e21<=i)return String(i);if(i<0&&(o="-",i=-i),1e-21<i)if(i=(t=function(e){for(var t=0,n=e;4096<=n;)t+=12,n/=4096;for(;2<=n;)t+=1,n/=2;return t}(i*c(2,69,1))-69)<0?i*c(2,-t,1):i/c(2,t,1),i*=4503599627370496,0<(t=52-t)){for(a(0,i),n=e;7<=n;)a(1e7,0),n-=7;for(a(c(10,n,1),0),n=t-1;23<=n;)s(1<<23),n-=23;s(1<<n),a(1,1),s(2),r=l()}else a(0,i),a(1<<-t,0),r=l()+p.call("0",e);return r=0<e?o+((i=r.length)<=e?"0."+p.call("0",e-i)+r:r.slice(0,i-e)+"."+r.slice(i-e)):o+r}})},function(e,t,n){"use strict";var i=n(0),o=n(3),r=n(112),a=1..toPrecision;i(i.P+i.F*(o(function(){return"1"!==a.call(1,void 0)})||!o(function(){a.call({})})),"Number",{toPrecision:function(e){var t=r(this,"Number#toPrecision: incorrect invocation!");return void 0===e?a.call(t):a.call(t,e)}})},function(e,t,n){n=n(0);n(n.S,"Number",{EPSILON:Math.pow(2,-52)})},function(e,t,n){var i=n(0),o=n(2).isFinite;i(i.S,"Number",{isFinite:function(e){return"number"==typeof e&&o(e)}})},function(e,t,n){var i=n(0);i(i.S,"Number",{isInteger:n(113)})},function(e,t,n){n=n(0);n(n.S,"Number",{isNaN:function(e){return e!=e}})},function(e,t,n){var i=n(0),o=n(113),r=Math.abs;i(i.S,"Number",{isSafeInteger:function(e){return o(e)&&r(e)<=9007199254740991}})},function(e,t,n){n=n(0);n(n.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(e,t,n){n=n(0);n(n.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(e,t,n){var i=n(0),n=n(111);i(i.S+i.F*(Number.parseFloat!=n),"Number",{parseFloat:n})},function(e,t,n){var i=n(0),n=n(110);i(i.S+i.F*(Number.parseInt!=n),"Number",{parseInt:n})},function(e,t,n){var i=n(0),o=n(114),r=Math.sqrt,n=Math.acosh;i(i.S+i.F*!(n&&710==Math.floor(n(Number.MAX_VALUE))&&n(1/0)==1/0),"Math",{acosh:function(e){return(e=+e)<1?NaN:94906265.62425156<e?Math.log(e)+Math.LN2:o(e-1+r(e-1)*r(e+1))}})},function(e,t,n){var n=n(0),i=Math.asinh;n(n.S+n.F*!(i&&0<1/i(0)),"Math",{asinh:function e(t){return isFinite(t=+t)&&0!=t?t<0?-e(-t):Math.log(t+Math.sqrt(t*t+1)):t}})},function(e,t,n){var n=n(0),i=Math.atanh;n(n.S+n.F*!(i&&1/i(-0)<0),"Math",{atanh:function(e){return 0==(e=+e)?e:Math.log((1+e)/(1-e))/2}})},function(e,t,n){var i=n(0),o=n(81);i(i.S,"Math",{cbrt:function(e){return o(e=+e)*Math.pow(Math.abs(e),1/3)}})},function(e,t,n){n=n(0);n(n.S,"Math",{clz32:function(e){return(e>>>=0)?31-Math.floor(Math.log(e+.5)*Math.LOG2E):32}})},function(e,t,n){var n=n(0),i=Math.exp;n(n.S,"Math",{cosh:function(e){return(i(e=+e)+i(-e))/2}})},function(e,t,n){var i=n(0),n=n(82);i(i.S+i.F*(n!=Math.expm1),"Math",{expm1:n})},function(e,t,n){var i=n(0);i(i.S,"Math",{fround:n(115)})},function(e,t,n){var n=n(0),l=Math.abs;n(n.S,"Math",{hypot:function(e,t){for(var n,i,o=0,r=0,a=arguments.length,s=0;r<a;)s<(n=l(arguments[r++]))?(o=o*(i=s/n)*i+1,s=n):o+=0<n?(i=n/s)*i:n;return s===1/0?1/0:s*Math.sqrt(o)}})},function(e,t,n){var i=n(0),o=Math.imul;i(i.S+i.F*n(3)(function(){return-5!=o(4294967295,5)||2!=o.length}),"Math",{imul:function(e,t){var n=65535,e=+e,t=+t,i=n&e,o=n&t;return 0|i*o+((n&e>>>16)*o+i*(n&t>>>16)<<16>>>0)}})},function(e,t,n){n=n(0);n(n.S,"Math",{log10:function(e){return Math.log(e)*Math.LOG10E}})},function(e,t,n){var i=n(0);i(i.S,"Math",{log1p:n(114)})},function(e,t,n){n=n(0);n(n.S,"Math",{log2:function(e){return Math.log(e)/Math.LN2}})},function(e,t,n){var i=n(0);i(i.S,"Math",{sign:n(81)})},function(e,t,n){var i=n(0),o=n(82),r=Math.exp;i(i.S+i.F*n(3)(function(){return-2e-17!=!Math.sinh(-2e-17)}),"Math",{sinh:function(e){return Math.abs(e=+e)<1?(o(e)-o(-e))/2:(r(e-1)-r(-e-1))*(Math.E/2)}})},function(e,t,n){var i=n(0),o=n(82),r=Math.exp;i(i.S,"Math",{tanh:function(e){var t=o(e=+e),n=o(-e);return t==1/0?1:n==1/0?-1:(t-n)/(r(e)+r(-e))}})},function(e,t,n){n=n(0);n(n.S,"Math",{trunc:function(e){return(0<e?Math.floor:Math.ceil)(e)}})},function(e,t,n){var i=n(0),r=n(36),a=String.fromCharCode,n=String.fromCodePoint;i(i.S+i.F*(!!n&&1!=n.length),"String",{fromCodePoint:function(e){for(var t,n=[],i=arguments.length,o=0;o<i;){if(t=+arguments[o++],r(t,1114111)!==t)throw RangeError(t+" is not a valid code point");n.push(t<65536?a(t):a(55296+((t-=65536)>>10),t%1024+56320))}return n.join("")}})},function(e,t,n){var i=n(0),a=n(15),s=n(6);i(i.S,"String",{raw:function(e){for(var t=a(e.raw),n=s(t.length),i=arguments.length,o=[],r=0;r<n;)o.push(String(t[r++])),r<i&&o.push(String(arguments[r]));return o.join("")}})},function(e,t,n){"use strict";n(47)("trim",function(e){return function(){return e(this,3)}})},function(e,t,n){"use strict";var i=n(57)(!0);n(83)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e=this._t,t=this._i;return t>=e.length?{value:void 0,done:!0}:(e=i(e,t),this._i+=e.length,{value:e,done:!1})})},function(e,t,n){"use strict";var i=n(0),o=n(57)(!1);i(i.P,"String",{codePointAt:function(e){return o(this,e)}})},function(e,t,n){"use strict";var i=n(0),o=n(6),r=n(85),a="endsWith",s=""[a];i(i.P+i.F*n(86)(a),"String",{endsWith:function(e){var t=r(this,e,a),n=1<arguments.length?arguments[1]:void 0,i=o(t.length),n=void 0===n?i:Math.min(o(n),i),i=String(e);return s?s.call(t,i,n):t.slice(n-i.length,n)===i}})},function(e,t,n){"use strict";var i=n(0),o=n(85),r="includes";i(i.P+i.F*n(86)(r),"String",{includes:function(e){return!!~o(this,e,r).indexOf(e,1<arguments.length?arguments[1]:void 0)}})},function(e,t,n){var i=n(0);i(i.P,"String",{repeat:n(80)})},function(e,t,n){"use strict";var i=n(0),o=n(6),r=n(85),a="startsWith",s=""[a];i(i.P+i.F*n(86)(a),"String",{startsWith:function(e){var t=r(this,e,a),n=o(Math.min(1<arguments.length?arguments[1]:void 0,t.length)),e=String(e);return s?s.call(t,e,n):t.slice(n,n+e.length)===e}})},function(e,t,n){"use strict";n(13)("anchor",function(t){return function(e){return t(this,"a","name",e)}})},function(e,t,n){"use strict";n(13)("big",function(e){return function(){return e(this,"big","","")}})},function(e,t,n){"use strict";n(13)("blink",function(e){return function(){return e(this,"blink","","")}})},function(e,t,n){"use strict";n(13)("bold",function(e){return function(){return e(this,"b","","")}})},function(e,t,n){"use strict";n(13)("fixed",function(e){return function(){return e(this,"tt","","")}})},function(e,t,n){"use strict";n(13)("fontcolor",function(t){return function(e){return t(this,"font","color",e)}})},function(e,t,n){"use strict";n(13)("fontsize",function(t){return function(e){return t(this,"font","size",e)}})},function(e,t,n){"use strict";n(13)("italics",function(e){return function(){return e(this,"i","","")}})},function(e,t,n){"use strict";n(13)("link",function(t){return function(e){return t(this,"a","href",e)}})},function(e,t,n){"use strict";n(13)("small",function(e){return function(){return e(this,"small","","")}})},function(e,t,n){"use strict";n(13)("strike",function(e){return function(){return e(this,"strike","","")}})},function(e,t,n){"use strict";n(13)("sub",function(e){return function(){return e(this,"sub","","")}})},function(e,t,n){"use strict";n(13)("sup",function(e){return function(){return e(this,"sup","","")}})},function(e,t,n){n=n(0);n(n.S,"Date",{now:function(){return(new Date).getTime()}})},function(e,t,n){"use strict";var i=n(0),o=n(9),r=n(24);i(i.P+i.F*n(3)(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}),"Date",{toJSON:function(e){var t=o(this),n=r(t);return"number"!=typeof n||isFinite(n)?t.toISOString():null}})},function(e,t,n){var i=n(0),n=n(226);i(i.P+i.F*(Date.prototype.toISOString!==n),"Date",{toISOString:n})},function(e,t,n){"use strict";function i(e){return 9<e?e:"0"+e}var n=n(3),o=Date.prototype.getTime,r=Date.prototype.toISOString;e.exports=n(function(){return"0385-07-25T07:06:39.999Z"!=r.call(new Date(-5e13-1))})||!n(function(){r.call(new Date(NaN))})?function(){var e,t,n;if(isFinite(o.call(this)))return e=this.getUTCFullYear(),t=this.getUTCMilliseconds(),(n=e<0?"-":9999<e?"+":"")+("00000"+Math.abs(e)).slice(n?-6:-4)+"-"+i(this.getUTCMonth()+1)+"-"+i(this.getUTCDate())+"T"+i(this.getUTCHours())+":"+i(this.getUTCMinutes())+":"+i(this.getUTCSeconds())+"."+(99<t?t:"0"+i(t))+"Z";throw RangeError("Invalid time value")}:r},function(e,t,n){var i=Date.prototype,o="Invalid Date",r=i.toString,a=i.getTime;new Date(NaN)+""!=o&&n(12)(i,"toString",function(){var e=a.call(this);return e==e?r.call(this):o})},function(e,t,n){var i=n(5)("toPrimitive"),o=Date.prototype;i in o||n(11)(o,i,n(229))},function(e,t,n){"use strict";var i=n(1),o=n(24);e.exports=function(e){if("string"!==e&&"number"!==e&&"default"!==e)throw TypeError("Incorrect hint");return o(i(this),"number"!=e)}},function(e,t,n){var i=n(0);i(i.S,"Array",{isArray:n(56)})},function(e,t,n){"use strict";var u=n(19),i=n(0),p=n(9),f=n(116),h=n(87),m=n(6),g=n(88),v=n(89);i(i.S+i.F*!n(59)(function(e){Array.from(e)}),"Array",{from:function(e){var t,n,i,o,r=p(e),e="function"==typeof this?this:Array,a=arguments.length,s=1<a?arguments[1]:void 0,l=void 0!==s,c=0,d=v(r);if(l&&(s=u(s,2<a?arguments[2]:void 0,2)),null==d||e==Array&&h(d))for(n=new e(t=m(r.length));c<t;c++)g(n,c,l?s(r[c],c):r[c]);else for(o=d.call(r),n=new e;!(i=o.next()).done;c++)g(n,c,l?f(o,s,[i.value,c],!0):i.value);return n.length=c,n}})},function(e,t,n){"use strict";var i=n(0),o=n(88);i(i.S+i.F*n(3)(function(){function e(){}return!(Array.of.call(e)instanceof e)}),"Array",{of:function(){for(var e=0,t=arguments.length,n=new("function"==typeof this?this:Array)(t);e<t;)o(n,e,arguments[e++]);return n.length=t,n}})},function(e,t,n){"use strict";var i=n(0),o=n(15),r=[].join;i(i.P+i.F*(n(50)!=Object||!n(22)(r)),"Array",{join:function(e){return r.call(o(this),void 0===e?",":e)}})},function(e,t,n){"use strict";var i=n(0),o=n(76),l=n(20),c=n(36),d=n(6),u=[].slice;i(i.P+i.F*n(3)(function(){o&&u.call(o)}),"Array",{slice:function(e,t){var n=d(this.length),i=l(this);if(t=void 0===t?n:t,"Array"==i)return u.call(this,e,t);for(var o=c(e,n),e=c(t,n),r=d(e-o),a=new Array(r),s=0;s<r;s++)a[s]="String"==i?this.charAt(o+s):this[o+s];return a}})},function(e,t,n){"use strict";var i=n(0),o=n(10),r=n(9),a=n(3),s=[].sort,l=[1,2,3];i(i.P+i.F*(a(function(){l.sort(void 0)})||!a(function(){l.sort(null)})||!n(22)(s)),"Array",{sort:function(e){return void 0===e?s.call(r(this)):s.call(r(this),o(e))}})},function(e,t,n){"use strict";var i=n(0),o=n(27)(0),n=n(22)([].forEach,!0);i(i.P+i.F*!n,"Array",{forEach:function(e){return o(this,e,arguments[1])}})},function(e,t,n){var i=n(4),o=n(56),r=n(5)("species");e.exports=function(e){var t;return void 0===(t=o(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!o(t.prototype)||(t=void 0),i(t))&&null===(t=t[r])?void 0:t)?Array:t}},function(e,t,n){"use strict";var i=n(0),o=n(27)(1);i(i.P+i.F*!n(22)([].map,!0),"Array",{map:function(e){return o(this,e,arguments[1])}})},function(e,t,n){"use strict";var i=n(0),o=n(27)(2);i(i.P+i.F*!n(22)([].filter,!0),"Array",{filter:function(e){return o(this,e,arguments[1])}})},function(e,t,n){"use strict";var i=n(0),o=n(27)(3);i(i.P+i.F*!n(22)([].some,!0),"Array",{some:function(e){return o(this,e,arguments[1])}})},function(e,t,n){"use strict";var i=n(0),o=n(27)(4);i(i.P+i.F*!n(22)([].every,!0),"Array",{every:function(e){return o(this,e,arguments[1])}})},function(e,t,n){"use strict";var i=n(0),o=n(117);i(i.P+i.F*!n(22)([].reduce,!0),"Array",{reduce:function(e){return o(this,e,arguments.length,arguments[1],!1)}})},function(e,t,n){"use strict";var i=n(0),o=n(117);i(i.P+i.F*!n(22)([].reduceRight,!0),"Array",{reduceRight:function(e){return o(this,e,arguments.length,arguments[1],!0)}})},function(e,t,n){"use strict";var i=n(0),o=n(54)(!1),r=[].indexOf,a=!!r&&1/[1].indexOf(1,-0)<0;i(i.P+i.F*(a||!n(22)(r)),"Array",{indexOf:function(e){return a?r.apply(this,arguments)||0:o(this,e,arguments[1])}})},function(e,t,n){"use strict";var i=n(0),o=n(15),r=n(21),a=n(6),s=[].lastIndexOf,l=!!s&&1/[1].lastIndexOf(1,-0)<0;i(i.P+i.F*(l||!n(22)(s)),"Array",{lastIndexOf:function(e){if(l)return s.apply(this,arguments)||0;var t=o(this),n=a(t.length),i=n-1;for((i=1<arguments.length?Math.min(i,r(arguments[1])):i)<0&&(i=n+i);0<=i;i--)if(i in t&&t[i]===e)return i||0;return-1}})},function(e,t,n){var i=n(0);i(i.P,"Array",{copyWithin:n(118)}),n(32)("copyWithin")},function(e,t,n){var i=n(0);i(i.P,"Array",{fill:n(91)}),n(32)("fill")},function(e,t,n){"use strict";var i=n(0),o=n(27)(5),r=!0;"find"in[]&&Array(1).find(function(){r=!1}),i(i.P+i.F*r,"Array",{find:function(e){return o(this,e,1<arguments.length?arguments[1]:void 0)}}),n(32)("find")},function(e,t,n){"use strict";var i=n(0),o=n(27)(6),r="findIndex",a=!0;r in[]&&Array(1)[r](function(){a=!1}),i(i.P+i.F*a,"Array",{findIndex:function(e){return o(this,e,1<arguments.length?arguments[1]:void 0)}}),n(32)(r)},function(e,t,n){n(39)("Array")},function(e,t,n){var i=n(2),r=n(79),o=n(8).f,a=n(38).f,s=n(58),l=n(52),c=h=i.RegExp,d=h.prototype,u=/a/g,p=/a/g,f=new h(u)!==u;if(n(7)&&(!f||n(3)(function(){return p[n(5)("match")]=!1,h(u)!=u||h(p)==p||"/a/i"!=h(u,"i")}))){for(var h=function(e,t){var n=this instanceof h,i=s(e),o=void 0===t;return!n&&i&&e.constructor===h&&o?e:r(f?new c(i&&!o?e.source:e,t):c((i=e instanceof h)?e.source:e,i&&o?l.call(e):t),n?this:d,h)},m=a(c),g=0;m.length>g;)!function(t){t in h||o(h,t,{configurable:!0,get:function(){return c[t]},set:function(e){c[t]=e}})}(m[g++]);(d.constructor=h).prototype=d,n(12)(i,"RegExp",h)}n(39)("RegExp")},function(e,t,n){"use strict";n(121);function i(e){n(12)(RegExp.prototype,s,e,!0)}var o=n(1),r=n(52),a=n(7),s="toString",l=/./[s];n(3)(function(){return"/a/b"!=l.call({source:"a",flags:"b"})})?i(function(){var e=o(this);return"/".concat(e.source,"/","flags"in e?e.flags:!a&&e instanceof RegExp?r.call(e):void 0)}):l.name!=s&&i(function(){return l.call(this)})},function(e,t,n){"use strict";var d=n(1),u=n(6),p=n(94),f=n(60);n(61)("match",1,function(i,o,l,c){return[function(e){var t=i(this),n=null==e?void 0:e[o];return void 0!==n?n.call(e,t):new RegExp(e)[o](String(t))},function(e){var t=c(l,e,this);if(t.done)return t.value;var n=d(e),i=String(this);if(!n.global)return f(n,i);for(var o=n.unicode,r=[],a=n.lastIndex=0;null!==(s=f(n,i));){var s=String(s[0]);""===(r[a]=s)&&(n.lastIndex=p(i,u(n.lastIndex),o)),a++}return 0===a?null:r}]})},function(e,t,n){"use strict";var _=n(1),k=n(9),S=n(6),C=n(21),P=n(94),T=n(60),j=Math.max,E=Math.min,A=Math.floor,L=/\$([$&`']|\d\d?|<[^>]*>)/g,$=/\$([$&`']|\d\d?)/g;n(61)("replace",2,function(o,r,w,x){return[function(e,t){var n=o(this),i=null==e?void 0:e[r];return void 0!==i?i.call(e,n,t):w.call(String(n),e,t)},function(e,t){var n=x(w,e,this,t);if(n.done)return n.value;for(var i,o=_(e),r=String(this),a="function"==typeof t,s=(a||(t=String(t)),o.global),l=(s&&(i=o.unicode,o.lastIndex=0),[]);null!==(f=T(o,r))&&(l.push(f),s);)""===String(f[0])&&(o.lastIndex=P(r,S(o.lastIndex),i));for(var c,d="",u=0,p=0;p<l.length;p++){for(var f=l[p],h=String(f[0]),m=j(E(C(f.index),r.length),0),g=[],v=1;v<f.length;v++)g.push(void 0===(c=f[v])?c:String(c));var b=f.groups,y=a?(y=[h].concat(g,m,r),void 0!==b&&y.push(b),String(t.apply(void 0,y))):function(r,a,s,l,c,e){var d=s+r.length,u=l.length,t=$;void 0!==c&&(c=k(c),t=L);return w.call(e,t,function(e,t){var n;switch(t.charAt(0)){case"$":return"$";case"&":return r;case"`":return a.slice(0,s);case"'":return a.slice(d);case"<":n=c[t.slice(1,-1)];break;default:var i,o=+t;if(0==o)return e;if(u<o)return 0!==(i=A(o/10))&&i<=u?void 0===l[i-1]?t.charAt(1):l[i-1]+t.charAt(1):e;n=l[o-1]}return void 0===n?"":n})}(h,r,m,g,b,t);u<=m&&(d+=r.slice(u,m)+y,u=m+h.length)}return d+r.slice(u)}]})},function(e,t,n){"use strict";var s=n(1),l=n(107),c=n(60);n(61)("search",1,function(i,o,r,a){return[function(e){var t=i(this),n=null==e?void 0:e[o];return void 0!==n?n.call(e,t):new RegExp(e)[o](String(t))},function(e){var t,n=a(r,e,this);return n.done?n.value:(n=s(e),e=String(this),t=n.lastIndex,l(t,0)||(n.lastIndex=0),e=c(n,e),l(n.lastIndex,t)||(n.lastIndex=t),null===e?-1:e.index)}]})},function(e,t,n){"use strict";var u=n(58),v=n(1),b=n(53),y=n(94),w=n(6),x=n(60),p=n(93),i=n(3),_=Math.min,f=[].push,a="split",k="length",S="lastIndex",C=4294967295,P=!i(function(){RegExp(C,"y")});n(61)("split",2,function(o,r,h,m){var g="c"=="abbc"[a](/(b)*/)[1]||4!="test"[a](/(?:)/,-1)[k]||2!="ab"[a](/(?:ab)*/)[k]||4!="."[a](/(.?)(.?)/)[k]||1<"."[a](/()()/)[k]||""[a](/.?/)[k]?function(e,t){var n=String(this);if(void 0===e&&0===t)return[];if(!u(e))return h.call(n,e,t);for(var i,o,r,a=[],s=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),l=0,c=void 0===t?C:t>>>0,d=new RegExp(e.source,s+"g");(i=p.call(d,n))&&!(l<(o=d[S])&&(a.push(n.slice(l,i.index)),1<i[k]&&i.index<n[k]&&f.apply(a,i.slice(1)),r=i[0][k],l=o,c<=a[k]));)d[S]===i.index&&d[S]++;return l===n[k]?!r&&d.test("")||a.push(""):a.push(n.slice(l)),c<a[k]?a.slice(0,c):a}:"0"[a](void 0,0)[k]?function(e,t){return void 0===e&&0===t?[]:h.call(this,e,t)}:h;return[function(e,t){var n=o(this),i=null==e?void 0:e[r];return void 0!==i?i.call(e,n,t):g.call(String(n),e,t)},function(e,t){var n=m(g,e,this,t,g!==h);if(n.done)return n.value;var n=v(e),i=String(this),e=b(n,RegExp),o=n.unicode,r=(n.ignoreCase?"i":"")+(n.multiline?"m":"")+(n.unicode?"u":"")+(P?"y":"g"),a=new e(P?n:"^(?:"+n.source+")",r),s=void 0===t?C:t>>>0;if(0==s)return[];if(0===i.length)return null===x(a,i)?[i]:[];for(var l=0,c=0,d=[];c<i.length;){a.lastIndex=P?c:0;var u,p=x(a,P?i:i.slice(c));if(null===p||(u=_(w(a.lastIndex+(P?0:c)),i.length))===l)c=y(i,c,o);else{if(d.push(i.slice(l,c)),d.length===s)return d;for(var f=1;f<=p.length-1;f++)if(d.push(p[f]),d.length===s)return d;c=l=u}}return d.push(i.slice(l)),d}]})},function(F,I,n){"use strict";function i(){}var t,o,r,a,s=n(30),p=n(2),l=n(19),e=n(46),c=n(0),d=n(4),u=n(10),f=n(40),h=n(41),m=n(53),g=n(95).set,v=n(96)(),b=n(97),y=n(122),w=n(62),x=n(123),_="Promise",k=p.TypeError,S=p.process,C=S&&S.versions,P=C&&C.v8||"",T=p[_],j="process"==e(S),E=o=b.f,C=!!function(){try{var e=T.resolve(1),t=(e.constructor={})[n(5)("species")]=function(e){e(i,i)};return(j||"function"==typeof PromiseRejectionEvent)&&e.then(i)instanceof t&&0!==P.indexOf("6.6")&&-1===w.indexOf("Chrome/66")}catch(e){}}(),A=function(e){var t;return!(!d(e)||"function"!=typeof(t=e.then))&&t},L=function(u,n){var i;u._n||(u._n=!0,i=u._c,v(function(){for(var o,c=u._v,d=1==u._s,e=0,t=function(e){var t,n,i,o,r=d?e.ok:e.fail,a=e.resolve,s=e.reject,l=e.domain;try{r?(d||(2==u._h&&(o=u,g.call(p,function(){var e;j?S.emit("rejectionHandled",o):(e=p.onrejectionhandled)&&e({promise:o,reason:o._v})})),u._h=1),!0===r?t=c:(l&&l.enter(),t=r(c),l&&(l.exit(),i=!0)),t===e.promise?s(k("Promise-chain cycle")):(n=A(t))?n.call(t,a,s):a(t)):s(c)}catch(e){l&&!i&&l.exit(),s(e)}};i.length>e;)t(i[e++]);u._c=[],u._n=!1,n&&!u._h&&(o=u,g.call(p,function(){var e,t,n=o._v,i=$(o);if(i&&(e=y(function(){j?S.emit("unhandledRejection",n,o):(t=p.onunhandledrejection)?t({promise:o,reason:n}):(t=p.console)&&t.error&&t.error("Unhandled promise rejection",n)}),o._h=j||$(o)?2:1),o._a=void 0,i&&e.e)throw e.v}))}))},$=function(e){return 1!==e._h&&0===(e._a||e._c).length},O=function(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),L(t,!0))},D=function(e){var n,i=this;if(!i._d){i._d=!0,i=i._w||i;try{if(i===e)throw k("Promise can't be resolved itself");(n=A(e))?v(function(){var t={_w:i,_d:!1};try{n.call(e,l(D,t,1),l(O,t,1))}catch(e){O.call(t,e)}}):(i._v=e,i._s=1,L(i,!1))}catch(e){O.call({_w:i,_d:!1},e)}}};C||(T=function(e){f(this,T,_,"_h"),u(e),t.call(this);try{e(l(D,this,1),l(O,this,1))}catch(e){O.call(this,e)}},(t=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(42)(T.prototype,{then:function(e,t){var n=E(m(this,T));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=j?S.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&L(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),r=function(){var e=new t;this.promise=e,this.resolve=l(D,e,1),this.reject=l(O,e,1)},b.f=E=function(e){return e===T||e===a?new r:o(e)}),c(c.G+c.W+c.F*!C,{Promise:T}),n(45)(T,_),n(39)(_),a=n(18)[_],c(c.S+c.F*!C,_,{reject:function(e){var t=E(this);return(0,t.reject)(e),t.promise}}),c(c.S+c.F*(s||!C),_,{resolve:function(e){return x(s&&this===a?T:this,e)}}),c(c.S+c.F*!(C&&n(59)(function(e){T.all(e).catch(i)})),_,{all:function(e){var a=this,t=E(a),s=t.resolve,l=t.reject,n=y(function(){var i=[],o=0,r=1;h(e,!1,function(e){var t=o++,n=!1;i.push(void 0),r++,a.resolve(e).then(function(e){n||(n=!0,i[t]=e,--r)||s(i)},l)}),--r||s(i)});return n.e&&l(n.v),t.promise},race:function(e){var t=this,n=E(t),i=n.reject,o=y(function(){h(e,!1,function(e){t.resolve(e).then(n.resolve,i)})});return o.e&&i(o.v),n.promise}})},function(e,t,n){"use strict";var i=n(128),o=n(43);n(63)("WeakSet",function(e){return function(){return e(this,0<arguments.length?arguments[0]:void 0)}},{add:function(e){return i.def(o(this,"WeakSet"),e,!0)}},i,!1,!0)},function(e,t,n){"use strict";var i=n(0),o=n(64),r=n(98),l=n(1),c=n(36),d=n(6),a=n(4),s=n(2).ArrayBuffer,u=n(53),p=r.ArrayBuffer,f=r.DataView,h=o.ABV&&s.isView,m=p.prototype.slice,g=o.VIEW,r="ArrayBuffer";i(i.G+i.W+i.F*(s!==p),{ArrayBuffer:p}),i(i.S+i.F*!o.CONSTR,r,{isView:function(e){return h&&h(e)||a(e)&&g in e}}),i(i.P+i.U+i.F*n(3)(function(){return!new p(2).slice(1,void 0).byteLength}),r,{slice:function(e,t){if(void 0!==m&&void 0===t)return m.call(l(this),e);for(var n=l(this).byteLength,i=c(e,n),o=c(void 0===t?n:t,n),e=new(u(this,p))(d(o-i)),r=new f(this),a=new f(e),s=0;i<o;)a.setUint8(s++,r.getUint8(i++));return e}}),n(39)(r)},function(e,t,n){var i=n(0);i(i.G+i.W+i.F*!n(64).ABV,{DataView:n(98).DataView})},function(e,t,n){n(28)("Int8",1,function(i){return function(e,t,n){return i(this,e,t,n)}})},function(e,t,n){n(28)("Uint8",1,function(i){return function(e,t,n){return i(this,e,t,n)}})},function(e,t,n){n(28)("Uint8",1,function(i){return function(e,t,n){return i(this,e,t,n)}},!0)},function(e,t,n){n(28)("Int16",2,function(i){return function(e,t,n){return i(this,e,t,n)}})},function(e,t,n){n(28)("Uint16",2,function(i){return function(e,t,n){return i(this,e,t,n)}})},function(e,t,n){n(28)("Int32",4,function(i){return function(e,t,n){return i(this,e,t,n)}})},function(e,t,n){n(28)("Uint32",4,function(i){return function(e,t,n){return i(this,e,t,n)}})},function(e,t,n){n(28)("Float32",4,function(i){return function(e,t,n){return i(this,e,t,n)}})},function(e,t,n){n(28)("Float64",8,function(i){return function(e,t,n){return i(this,e,t,n)}})},function(e,t,n){var i=n(0),o=n(10),r=n(1),a=(n(2).Reflect||{}).apply,s=Function.apply;i(i.S+i.F*!n(3)(function(){a(function(){})}),"Reflect",{apply:function(e,t,n){e=o(e),n=r(n);return a?a(e,t,n):s.call(e,t,n)}})},function(e,t,n){var i=n(0),o=n(37),r=n(10),a=n(1),s=n(4),l=n(3),c=n(108),d=(n(2).Reflect||{}).construct,u=l(function(){function e(){}return!(d(function(){},[],e)instanceof e)}),p=!l(function(){d(function(){})});i(i.S+i.F*(u||p),"Reflect",{construct:function(e,t){r(e),a(t);var n=arguments.length<3?e:r(arguments[2]);if(p&&!u)return d(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var i=[null];return i.push.apply(i,t),new(c.apply(e,i))}i=n.prototype,n=o(s(i)?i:Object.prototype),i=Function.apply.call(e,n,t);return s(i)?i:n}})},function(e,t,n){var i=n(8),o=n(0),r=n(1),a=n(24);o(o.S+o.F*n(3)(function(){Reflect.defineProperty(i.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(e,t,n){r(e),t=a(t,!0),r(n);try{return i.f(e,t,n),!0}catch(e){return!1}}})},function(e,t,n){var i=n(0),o=n(16).f,r=n(1);i(i.S,"Reflect",{deleteProperty:function(e,t){var n=o(r(e),t);return!(n&&!n.configurable)&&delete e[t]}})},function(e,t,n){"use strict";function i(e){this._t=r(e),this._i=0;var t,n=this._k=[];for(t in e)n.push(t)}var o=n(0),r=n(1);n(84)(i,"Object",function(){var e,t=this._k;do{if(this._i>=t.length)return{value:void 0,done:!0}}while(!((e=t[this._i++])in this._t));return{value:e,done:!1}}),o(o.S,"Reflect",{enumerate:function(e){return new i(e)}})},function(e,t,n){var r=n(16),a=n(17),s=n(14),i=n(0),l=n(4),c=n(1);i(i.S,"Reflect",{get:function e(t,n){var i,o=arguments.length<3?t:arguments[2];return c(t)===o?t[n]:(i=r.f(t,n))?s(i,"value")?i.value:void 0!==i.get?i.get.call(o):void 0:l(i=a(t))?e(i,n,o):void 0}})},function(e,t,n){var i=n(16),o=n(0),r=n(1);o(o.S,"Reflect",{getOwnPropertyDescriptor:function(e,t){return i.f(r(e),t)}})},function(e,t,n){var i=n(0),o=n(17),r=n(1);i(i.S,"Reflect",{getPrototypeOf:function(e){return o(r(e))}})},function(e,t,n){n=n(0);n(n.S,"Reflect",{has:function(e,t){return t in e}})},function(e,t,n){var i=n(0),o=n(1),r=Object.isExtensible;i(i.S,"Reflect",{isExtensible:function(e){return o(e),!r||r(e)}})},function(e,t,n){var i=n(0);i(i.S,"Reflect",{ownKeys:n(130)})},function(e,t,n){var i=n(0),o=n(1),r=Object.preventExtensions;i(i.S,"Reflect",{preventExtensions:function(e){o(e);try{return r&&r(e),!0}catch(e){return!1}}})},function(e,t,n){var s=n(8),l=n(16),c=n(17),d=n(14),i=n(0),u=n(33),p=n(1),f=n(4);i(i.S,"Reflect",{set:function e(t,n,i){var o,r=arguments.length<4?t:arguments[3],a=l.f(p(t),n);if(!a){if(f(o=c(t)))return e(o,n,i,r);a=u(0)}if(d(a,"value")){if(!1===a.writable||!f(r))return!1;if(o=l.f(r,n)){if(o.get||o.set||!1===o.writable)return!1;o.value=i,s.f(r,n,o)}else s.f(r,n,u(0,i));return!0}return void 0!==a.set&&(a.set.call(r,i),!0)}})},function(e,t,n){var i=n(0),o=n(77);o&&i(i.S,"Reflect",{setPrototypeOf:function(e,t){o.check(e,t);try{return o.set(e,t),!0}catch(e){return!1}}})},function(e,t,n){"use strict";var i=n(0),o=n(54)(!0);i(i.P,"Array",{includes:function(e){return o(this,e,1<arguments.length?arguments[1]:void 0)}}),n(32)("includes")},function(e,t,n){"use strict";var i=n(0),o=n(131),r=n(9),a=n(6),s=n(10),l=n(90);i(i.P,"Array",{flatMap:function(e){var t,n,i=r(this);return s(e),t=a(i.length),n=l(i,0),o(n,i,i,t,0,1,e,arguments[1]),n}}),n(32)("flatMap")},function(e,t,n){"use strict";var i=n(0),o=n(131),r=n(9),a=n(6),s=n(21),l=n(90);i(i.P,"Array",{flatten:function(){var e=arguments[0],t=r(this),n=a(t.length),i=l(t,0);return o(i,t,t,n,0,void 0===e?1:s(e)),i}}),n(32)("flatten")},function(e,t,n){"use strict";var i=n(0),o=n(57)(!0),n=n(3)(function(){return"𠮷"!=="𠮷".at(0)});i(i.P+i.F*n,"String",{at:function(e){return o(this,e)}})},function(e,t,n){"use strict";var i=n(0),o=n(132),n=n(62),n=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(n);i(i.P+i.F*n,"String",{padStart:function(e){return o(this,e,1<arguments.length?arguments[1]:void 0,!0)}})},function(e,t,n){"use strict";var i=n(0),o=n(132),n=n(62),n=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(n);i(i.P+i.F*n,"String",{padEnd:function(e){return o(this,e,1<arguments.length?arguments[1]:void 0,!1)}})},function(e,t,n){"use strict";n(47)("trimLeft",function(e){return function(){return e(this,1)}},"trimStart")},function(e,t,n){"use strict";n(47)("trimRight",function(e){return function(){return e(this,2)}},"trimEnd")},function(e,t,n){"use strict";function i(e,t){this._r=e,this._s=t}var o=n(0),r=n(25),a=n(6),s=n(58),l=n(52),c=RegExp.prototype;n(84)(i,"RegExp String",function(){var e=this._r.exec(this._s);return{value:e,done:null===e}}),o(o.P,"String",{matchAll:function(e){var t,n;if(r(this),s(e))return t=String(this),n="flags"in c?String(e.flags):l.call(e),(n=new RegExp(e.source,~n.indexOf("g")?n:"g"+n)).lastIndex=a(e.lastIndex),new i(n,t);throw TypeError(e+" is not a regexp!")}})},function(e,t,n){n(73)("asyncIterator")},function(e,t,n){n(73)("observable")},function(e,t,n){var i=n(0),l=n(130),c=n(15),d=n(16),u=n(88);i(i.S,"Object",{getOwnPropertyDescriptors:function(e){for(var t,n,i=c(e),o=d.f,r=l(i),a={},s=0;r.length>s;)void 0!==(n=o(i,t=r[s++]))&&u(a,t,n);return a}})},function(e,t,n){var i=n(0),o=n(133)(!1);i(i.S,"Object",{values:function(e){return o(e)}})},function(e,t,n){var i=n(0),o=n(133)(!0);i(i.S,"Object",{entries:function(e){return o(e)}})},function(e,t,n){"use strict";var i=n(0),o=n(9),r=n(10),a=n(8);n(7)&&i(i.P+n(65),"Object",{__defineGetter__:function(e,t){a.f(o(this),e,{get:r(t),enumerable:!0,configurable:!0})}})},function(e,t,n){"use strict";var i=n(0),o=n(9),r=n(10),a=n(8);n(7)&&i(i.P+n(65),"Object",{__defineSetter__:function(e,t){a.f(o(this),e,{set:r(t),enumerable:!0,configurable:!0})}})},function(e,t,n){"use strict";var i=n(0),o=n(9),r=n(24),a=n(17),s=n(16).f;n(7)&&i(i.P+n(65),"Object",{__lookupGetter__:function(e){var t,n=o(this),i=r(e,!0);do{if(t=s(n,i))return t.get}while(n=a(n))}})},function(e,t,n){"use strict";var i=n(0),o=n(9),r=n(24),a=n(17),s=n(16).f;n(7)&&i(i.P+n(65),"Object",{__lookupSetter__:function(e){var t,n=o(this),i=r(e,!0);do{if(t=s(n,i))return t.set}while(n=a(n))}})},function(e,t,n){var i=n(0);i(i.P+i.R,"Map",{toJSON:n(134)("Map")})},function(e,t,n){var i=n(0);i(i.P+i.R,"Set",{toJSON:n(134)("Set")})},function(e,t,n){n(66)("Map")},function(e,t,n){n(66)("Set")},function(e,t,n){n(66)("WeakMap")},function(e,t,n){n(66)("WeakSet")},function(e,t,n){n(67)("Map")},function(e,t,n){n(67)("Set")},function(e,t,n){n(67)("WeakMap")},function(e,t,n){n(67)("WeakSet")},function(e,t,n){var i=n(0);i(i.G,{global:n(2)})},function(e,t,n){var i=n(0);i(i.S,"System",{global:n(2)})},function(e,t,n){var i=n(0),o=n(20);i(i.S,"Error",{isError:function(e){return"Error"===o(e)}})},function(e,t,n){n=n(0);n(n.S,"Math",{clamp:function(e,t,n){return Math.min(n,Math.max(t,e))}})},function(e,t,n){n=n(0);n(n.S,"Math",{DEG_PER_RAD:Math.PI/180})},function(e,t,n){var n=n(0),i=180/Math.PI;n(n.S,"Math",{degrees:function(e){return e*i}})},function(e,t,n){var i=n(0),r=n(136),a=n(115);i(i.S,"Math",{fscale:function(e,t,n,i,o){return a(r(e,t,n,i,o))}})},function(e,t,n){n=n(0);n(n.S,"Math",{iaddh:function(e,t,n,i){e>>>=0,n>>>=0;return(t>>>0)+(i>>>0)+((e&n|(e|n)&~(e+n>>>0))>>>31)|0}})},function(e,t,n){n=n(0);n(n.S,"Math",{isubh:function(e,t,n,i){e>>>=0,n>>>=0;return(t>>>0)-(i>>>0)-((~e&n|~(e^n)&e-n>>>0)>>>31)|0}})},function(e,t,n){n=n(0);n(n.S,"Math",{imulh:function(e,t){var e=+e,t=+t,n=65535&e,i=65535&t,e=e>>16,t=t>>16,i=(e*i>>>0)+(n*i>>>16);return e*t+(i>>16)+((n*t>>>0)+(65535&i)>>16)}})},function(e,t,n){n=n(0);n(n.S,"Math",{RAD_PER_DEG:180/Math.PI})},function(e,t,n){var n=n(0),i=Math.PI/180;n(n.S,"Math",{radians:function(e){return e*i}})},function(e,t,n){var i=n(0);i(i.S,"Math",{scale:n(136)})},function(e,t,n){n=n(0);n(n.S,"Math",{umulh:function(e,t){var e=+e,t=+t,n=65535&e,i=65535&t,e=e>>>16,t=t>>>16,i=(e*i>>>0)+(n*i>>>16);return e*t+(i>>>16)+((n*t>>>0)+(65535&i)>>>16)}})},function(e,t,n){n=n(0);n(n.S,"Math",{signbit:function(e){return(e=+e)!=e?e:0==e?1/e==1/0:0<e}})},function(e,t,n){"use strict";var i=n(0),o=n(18),r=n(2),a=n(53),s=n(123);i(i.P+i.R,"Promise",{finally:function(t){var n=a(this,o.Promise||r.Promise),e="function"==typeof t;return this.then(e?function(e){return s(n,t()).then(function(){return e})}:t,e?function(e){return s(n,t()).then(function(){throw e})}:t)}})},function(e,t,n){"use strict";var i=n(0),o=n(97),r=n(122);i(i.S,"Promise",{try:function(e){var t=o.f(this),e=r(e);return(e.e?t.reject:t.resolve)(e.v),t.promise}})},function(e,t,n){var i=n(29),o=n(1),r=i.key,a=i.set;i.exp({defineMetadata:function(e,t,n,i){a(e,t,o(n),r(i))}})},function(e,t,n){var i=n(29),o=n(1),r=i.key,a=i.map,s=i.store;i.exp({deleteMetadata:function(e,t){var n=arguments.length<3?void 0:r(arguments[2]),i=a(o(t),n,!1);return!(void 0===i||!i.delete(e))&&(!!i.size||((i=s.get(t)).delete(n),!!i.size)||s.delete(t))}})},function(e,t,n){function i(e,t,n){return s(e,t,n)?l(e,t,n):null!==(t=a(t))?i(e,t,n):void 0}var o=n(29),r=n(1),a=n(17),s=o.has,l=o.get,c=o.key;o.exp({getMetadata:function(e,t){return i(e,r(t),arguments.length<3?void 0:c(arguments[2]))}})},function(e,t,n){function i(e,t){var n=c(e,t);return null!==(e=l(e))&&(e=i(e,t)).length?n.length?r(new o(n.concat(e))):e:n}var o=n(126),r=n(135),a=n(29),s=n(1),l=n(17),c=a.keys,d=a.key;a.exp({getMetadataKeys:function(e){return i(s(e),arguments.length<2?void 0:d(arguments[1]))}})},function(e,t,n){var i=n(29),o=n(1),r=i.get,a=i.key;i.exp({getOwnMetadata:function(e,t){return r(e,o(t),arguments.length<3?void 0:a(arguments[2]))}})},function(e,t,n){var i=n(29),o=n(1),r=i.keys,a=i.key;i.exp({getOwnMetadataKeys:function(e){return r(o(e),arguments.length<2?void 0:a(arguments[1]))}})},function(e,t,n){function i(e,t,n){return!!s(e,t,n)||null!==(t=a(t))&&i(e,t,n)}var o=n(29),r=n(1),a=n(17),s=o.has,l=o.key;o.exp({hasMetadata:function(e,t){return i(e,r(t),arguments.length<3?void 0:l(arguments[2]))}})},function(e,t,n){var i=n(29),o=n(1),r=i.has,a=i.key;i.exp({hasOwnMetadata:function(e,t){return r(e,o(t),arguments.length<3?void 0:a(arguments[2]))}})},function(e,t,n){var i=n(29),o=n(1),r=n(10),a=i.key,s=i.set;i.exp({metadata:function(n,i){return function(e,t){s(n,i,(void 0!==t?o:r)(e),a(t))}}})},function(e,t,n){var i=n(0),o=n(96)(),r=n(2).process,a="process"==n(20)(r);i(i.G,{asap:function(e){var t=a&&r.domain;o(t?t.bind(e):e)}})},function(e,t,n){"use strict";function o(e){return null==e?void 0:f(e)}function r(e){var t=e._c;t&&(e._c=void 0,t())}function a(e){return void 0===e._o}function s(e){a(e)||(e._o=void 0,r(e))}function i(t,e){h(t),this._c=void 0,this._o=t,t=new w(this);try{var n=e(t),i=n;null!=n&&("function"==typeof n.unsubscribe?n=function(){i.unsubscribe()}:f(n),this._c=n)}catch(e){return void t.error(e)}a(this)&&r(this)}var l=n(0),c=n(2),d=n(18),u=n(96)(),p=n(5)("observable"),f=n(10),h=n(1),m=n(40),g=n(42),v=n(11),b=n(41),y=b.RETURN,w=(i.prototype=g({},{unsubscribe:function(){s(this)}}),function(e){this._s=e}),x=(w.prototype=g({},{next:function(e){var t=this._s;if(!a(t)){var n=t._o;try{var i=o(n.next);if(i)return i.call(n,e)}catch(e){try{s(t)}finally{throw e}}}},error:function(e){var t=this._s;if(a(t))throw e;var n=t._o;t._o=void 0;try{var i=o(n.error);if(!i)throw e;e=i.call(n,e)}catch(e){try{r(t)}finally{throw e}}return r(t),e},complete:function(e){var t=this._s;if(!a(t)){var n=t._o;t._o=void 0;try{var i=o(n.complete);e=i?i.call(n,e):void 0}catch(e){try{r(t)}finally{throw e}}return r(t),e}}}),function(e){m(this,x,"Observable","_f")._f=f(e)});g(x.prototype,{subscribe:function(e){return new i(e,this._f)},forEach:function(i){var o=this;return new(d.Promise||c.Promise)(function(e,t){f(i);var n=o.subscribe({next:function(e){try{return i(e)}catch(e){t(e),n.unsubscribe()}},error:t,complete:e})})}}),g(x,{from:function(e){var t,n="function"==typeof this?this:x,i=o(h(e)[p]);return i?(t=h(i.call(e))).constructor===n?t:new n(function(e){return t.subscribe(e)}):new n(function(t){var n=!1;return u(function(){if(!n){try{if(b(e,!1,function(e){if(t.next(e),n)return y})===y)return}catch(e){if(n)throw e;return void t.error(e)}t.complete()}}),function(){n=!0}})},of:function(){for(var e=0,t=arguments.length,i=new Array(t);e<t;)i[e]=arguments[e++];return new("function"==typeof this?this:x)(function(t){var n=!1;return u(function(){if(!n){for(var e=0;e<i.length;++e)if(t.next(i[e]),n)return;t.complete()}}),function(){n=!0}})}}),v(x.prototype,p,function(){return this}),l(l.G,{Observable:x}),n(39)("Observable")},function(e,t,n){function i(o){return function(e,t){var n=2<arguments.length,i=n&&a.call(arguments,2);return o(n?function(){("function"==typeof e?e:Function(e)).apply(this,i)}:e,t)}}var o=n(2),r=n(0),n=n(62),a=[].slice,n=/MSIE .\./.test(n);r(r.G+r.B+r.F*n,{setTimeout:i(o.setTimeout),setInterval:i(o.setInterval)})},function(e,t,n){var i=n(0),n=n(95);i(i.G+i.B,{setImmediate:n.set,clearImmediate:n.clear})},function(e,t,n){for(var i=n(92),o=n(35),r=n(12),a=n(2),s=n(11),l=n(48),n=n(5),c=n("iterator"),d=n("toStringTag"),u=l.Array,p={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},f=o(p),h=0;h<f.length;h++){var m,g=f[h],v=p[g],b=a[g],y=b&&b.prototype;if(y&&(y[c]||s(y,c,u),y[d]||s(y,d,g),l[g]=u,v))for(m in i)y[m]||r(y,m,i[m],!0)}},function(j,e,t){!function(e){!function(e){"use strict";var l,c,d,u,p,f,t,n,i=Object.prototype,h=i.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},r=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag",o="object"==typeof j,m=e.regeneratorRuntime;function g(e,t,n,i){var o,r,a,s,t=t&&t.prototype instanceof b?t:b,t=Object.create(t.prototype),i=new C(i||[]);return t._invoke=(o=e,r=n,a=i,s=c,function(e,t){if(s===u)throw new Error("Generator is already running");if(s===p){if("throw"===e)throw t;return T()}for(a.method=e,a.arg=t;;){var n=a.delegate;if(n){n=function e(t,n){var i=t.iterator[n.method];if(i===l){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=l,e(t,n),"throw"===n.method))return f;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}i=v(i,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,f;i=i.arg;if(!i)return n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,f;{if(!i.done)return i;n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=l)}n.delegate=null;return f}(n,a);if(n){if(n===f)continue;return n}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(s===c)throw s=p,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);s=u;n=v(o,r,a);if("normal"===n.type){if(s=a.done?p:d,n.arg!==f)return{value:n.arg,done:a.done}}else"throw"===n.type&&(s=p,a.method="throw",a.arg=n.arg)}}),t}function v(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}function b(){}function y(){}function w(){}function x(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function _(r){function a(e,t,n,i){var o,e=v(r[e],r,t);if("throw"!==e.type)return(t=(o=e.arg).value)&&"object"==typeof t&&h.call(t,"__await")?Promise.resolve(t.__await).then(function(e){a("next",e,n,i)},function(e){a("throw",e,n,i)}):Promise.resolve(t).then(function(e){o.value=e,n(o)},i);i(e.arg)}var t;"object"==typeof e.process&&e.process.domain&&(a=e.process.domain.bind(a)),this._invoke=function(n,i){function e(){return new Promise(function(e,t){a(n,i,e,t)})}return t=t?t.then(e,e):e()}}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function P(t){if(t){var n,e=t[r];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return n=-1,(e=function e(){for(;++n<t.length;)if(h.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=l,e.done=!0,e}).next=e}return{next:T}}function T(){return{value:l,done:!0}}m?o&&(j.exports=m):((m=e.regeneratorRuntime=o?j.exports:{}).wrap=g,c="suspendedStart",d="suspendedYield",u="executing",p="completed",f={},(o={})[r]=function(){return this},t=(t=Object.getPrototypeOf)&&t(t(P([]))),t&&t!==i&&h.call(t,r)&&(o=t),n=w.prototype=b.prototype=Object.create(o),(y.prototype=n.constructor=w).constructor=y,w[s]=y.displayName="GeneratorFunction",m.isGeneratorFunction=function(e){e="function"==typeof e&&e.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},m.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,s in e||(e[s]="GeneratorFunction")),e.prototype=Object.create(n),e},m.awrap=function(e){return{__await:e}},x(_.prototype),_.prototype[a]=function(){return this},m.AsyncIterator=_,m.async=function(e,t,n,i){var o=new _(g(e,t,n,i));return m.isGeneratorFunction(t)?o:o.next().then(function(e){return e.done?e.value:o.next()})},x(n),n[s]="Generator",n[r]=function(){return this},n.toString=function(){return"[object Generator]"},m.keys=function(n){var e,i=[];for(e in n)i.push(e);return i.reverse(),function e(){for(;i.length;){var t=i.pop();if(t in n)return e.value=t,e.done=!1,e}return e.done=!0,e}},m.values=P,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=l,this.done=!1,this.delegate=null,this.method="next",this.arg=l,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&h.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=l)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var i=this;function e(e,t){return r.type="throw",r.arg=n,i.next=e,t&&(i.method="next",i.arg=l),!!t}for(var t=this.tryEntries.length-1;0<=t;--t){var o=this.tryEntries[t],r=o.completion;if("root"===o.tryLoc)return e("end");if(o.tryLoc<=this.prev){var a=h.call(o,"catchLoc"),s=h.call(o,"finallyLoc");if(a&&s){if(this.prev<o.catchLoc)return e(o.catchLoc,!0);if(this.prev<o.finallyLoc)return e(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return e(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return e(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;0<=n;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&h.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}var r=(o=o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc?null:o)?o.completion:{};return r.type=e,r.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(r)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n,i,o=this.tryEntries[t];if(o.tryLoc===e)return"throw"===(n=o.completion).type&&(i=n.arg,S(o)),i}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:P(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=l),f}})}("object"==typeof e?e:"object"==typeof window?window:"object"==typeof self?self:this)}.call(this,t(44))},function(e,t,n){n(345),e.exports=n(18).RegExp.escape},function(e,t,n){var i=n(0),o=n(346)(/[\\^$*+?.()|[\]{}]/g,"\\$&");i(i.S,"RegExp",{escape:function(e){return o(e)}})},function(e,t){e.exports=function(t,n){var i=n===Object(n)?function(e){return n[e]}:n;return function(e){return String(e).replace(t,i)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,i=arguments[t];for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},o=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e};function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var a=n(23);o(s,[{key:"getApiUrl",value:function(){return this._apiUrl}},{key:"ajax",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=(e.method||"GET").toUpperCase(),n=("POST"!=t&&"PUT"!=t||(e.contentType="application/json","data"in e&&(e.data=JSON.stringify(e.data))),e.url&&!/^(http|https):/.test(e.url)&&(e.url=this.getApiUrl()+e.url),a.Bridge.getArgs());return n.url&&(e.headers=i(e.headers||{},{"X-SITE-URL":n.url,"X-SITE-EXTERNAL":n.external})),fetch(e.url,{credentials:"include",method:t,headers:i(e.headers||{},{"X-XSRF-TOKEN":l(),"X-App":a.Bridge.appName+"/"+a.Bridge.version,"content-type":"json"}),body:e.data}).then(function(e){return e.text().then(function(e){try{0==e.indexOf(")]}',\n")&&(e=e.substr(6)),e=JSON.parse(e)}catch(e){throw new Error("Incorrect server response.")}if(e&&e.error)throw i(new Error(e.response),{code:e.error});return e.response})},function(){throw new Error("The request to the server could not be completed.")})}},{key:"signin",value:function(e){return this._profile=0,this.ajax({url:this.getApiUrl()+"signin",method:"POST",data:{email:e.email,is_app:!1,password:e.password}}).then(function(e){if(e&&e["XSRF-TOKEN"])return c(e["XSRF-TOKEN"]),e;throw new Error("Incorrect server response.")})}},{key:"signinByToken",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.service,n=e.token,e=e.origin,e=void 0===e?"DEFAULT":e;return this._profile=0,this.ajax({url:this.getApiUrl()+"signin",method:"POST",data:{service:t,token:n,origin:e,is_app:!1}}).then(function(e){if(e&&e["XSRF-TOKEN"])return c(e["XSRF-TOKEN"]),e;throw new Error("Incorrect server response.")})}},{key:"signup",value:function(e){var t=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).origin,t=void 0===t?"DEFAULT":t;return this.ajax({url:this.getApiUrl()+"signup",method:"POST",data:{origin:t,email:e}})}},{key:"signout",value:function(){return this._profile=0,this.ajax({url:this.getApiUrl()+"signout",method:"POST"})}},{key:"getProfile",value:function(){var n=this,i=this;return new Promise(function(t,e){i._profile?t(i._profile):n.ajax({url:n.getApiUrl()+"profile"}).then(function(e){i._profile=e,t(e)}).catch(e)})}},{key:"profile",value:function(){return this.getProfile()}},{key:"isAuthorized",value:function(){var e=this;return new Promise(function(t,n){e.getProfile().then(function(){t(!0)}).catch(function(e){if(403!==e.code)return n(e);t(!1)})})}},{key:"getAuthToken",value:function(){return this.ajax({url:this.getApiUrl()+"auth",method:"POST",data:{target:"https://mobirisesite.com"}}).then(function(e){return{access_token:e.access_token}})}},{key:"lostpassword",value:function(e){return this.ajax({url:this.getApiUrl()+"lostpassword",method:"POST",data:{email:e}})}},{key:"url",value:function(e){return this.ajax({url:this.getApiUrl()+"auth",method:"POST",data:{target:e||""}}).then(function(e){return e.authURL})}},{key:"sendMessage",value:function(e,t){return this.ajax({url:this.getApiUrl()+"users/"+e+"/messages",method:"POST",data:{text:t}})}},{key:"addons",value:function(e,t){var i=this;return new Promise(function(t,n){i.ajax({url:i.getApiUrl()+"addons?web_compatible=1",method:"GET"}).then(function(e){t(e)},function(e){n(e)})})}},{key:"post",value:function(e,t){return this.ajax({url:e,method:"POST",data:t})}},{key:"get",value:function(e){return this.ajax({url:e,method:"GET"})}},{key:"put",value:function(e,t){return this.ajax({url:e,method:"PUT",data:t})}},{key:"delete",value:function(e){return this.ajax({url:e,method:"DELETE"})}},{key:"licenses",value:function(){return this.ajax({url:this.getApiUrl()+"my/purchases?ver=2",method:"GET"})}},{key:"activate",value:function(e){return this.ajax({url:this.getApiUrl()+"activate",method:"POST",data:{coupon:e},headers:{Cookie:"token="+l()}})}}]);n=s;function s(e){if(!(this instanceof s))throw new TypeError("Cannot call a class as a function");this._apiUrl=e}function l(){return localStorage.getItem("XSRF-TOKEN")||""}function c(e){localStorage.setItem("XSRF-TOKEN",e)}t.default=n},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e};function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var r=n(99);i(a,[{key:"_checkInit",value:function(){if(!this._app)throw new Error("The application is not initialized")}},{key:"afterInit",value:function(e){this._app?e.call(this):this._afterInitCallbacks.push(e)}},{key:"afterLoad",value:function(e){var t=this;this._loaded?e.call(this):this.afterInit(function(){return t._app.on("loaded",e.bind(t))})}},{key:"waitUntilIsLoad",value:function(){var t=this;return new Promise(function(e){return t.afterLoad(e)})}},{key:"afterCoreLoad",value:function(e){var t=this;this._coreLoaded?e.call(this):this.afterInit(function(){return t._app.on("coreLoad",e.bind(t))})}},{key:"enableSaveProject",value:function(){var e=this;this.afterCoreLoad(function(){e._app.runSaveProject=e._runSaveProject})}},{key:"disableSaveProject",value:function(){var e=this;this.afterCoreLoad(function(){e._app.runSaveProject=function(e){return e&&e(!0)}})}},{key:"saveProjectSettings",value:function(e,t){var n=this;this.afterCoreLoad(function(){n._checkInit(),n._app.saveProjectSettings(e,t)})}},{key:"showPreloader",value:function(){this._checkInit(),this._app.showPreloader()}},{key:"showError",value:function(){for(var t=this,e=arguments.length,n=Array(e),i=0;i<e;i++)n[i]=arguments[i];this.afterCoreLoad(function(){var e;return(e=t._app).showError.apply(e,n)})}},{key:"loadProject",value:function(e){var t=this,n=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).onFinally;this._checkInit(),this._app.loadProject(e,0,{noSave:!0,onError:function(){t._app.hidePreloader(),n&&n()},onDone:function(){t._app.closeSidebar(),t._app.hidePreloader(),n&&n()}})}},{key:"showDialog",value:function(e){return this._checkInit(),this._app.showDialog(e)}},{key:"isPremiumUser",value:function(){return this._app.isPremiumUser()}},{key:"goToBuyPremium",value:function(){var e;return(e=this._app).goToBuyPremium.apply(e,arguments)}},{key:"reqUserInfo",value:function(){return this._app.reqUserInfo()}},{key:"getActiveTheme",value:function(){return this._app.theme}},{key:"getProjectSettings",value:function(){return this._app.projectSettings}}]);n=a;function a(){var t=this;if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this._afterInitCallbacks=[],(0,r.whenDocumentLoaded)(function(){defineM(["mbrApp"],function(e){t._app=e,t._app.on("loaded",function(){return t._loaded=!0}),t._app.on("coreLoad",function(){t._coreLoaded=!0,t._runSaveProject=t._app.runSaveProject}),t._afterInitCallbacks.forEach(function(e){return e.call(t)}),t._afterInitCallbacks=[]})})}t.default=new n},,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,i=arguments[t];for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},o=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e};function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var a=n(70),s=(a=a)&&a.__esModule?a:{default:a},l=n(99);function c(e){return function(){var s=e.apply(this,arguments);return new Promise(function(r,a){return function t(e,n){try{var i=s[e](n),o=i.value}catch(e){return void a(e)}if(!i.done)return Promise.resolve(o).then(function(e){t("next",e)},function(e){t("throw",e)});r(o)}("next")})}}o(p,[{key:"isPending",value:function(){return"PENDING"===this.state}},{key:"getResult",value:(u=c(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isPending())return e.abrupt("return");e.next=2;break;case 2:if("COMPLETE"===this.state)return e.abrupt("return",this.props.result);e.next=4;break;case 4:throw i(new Error(this.props.reason.message),{code:this.props.reason.code});case 5:case"end":return e.stop()}},e,this)})),function(){return u.apply(this,arguments)})},{key:"waitUntilIsComplete",value:(d=c(regeneratorRuntime.mark(function e(){var t,n,i=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).maxErrors,o=void 0===i?3:i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isPending()){e.next=2;break}return e.abrupt("return",this.getResult());case 2:t=o;case 3:return e.prev=4,e.next=7,s.default.request(this.props.url);case 7:if("PENDING"!==(n=e.sent).state)return this.props=n,e.abrupt("break",23);e.next=11;break;case 11:e.next=19;break;case 13:if(e.prev=13,e.t0=e.catch(4),"NotFound"===e.t0.code)throw e.t0;e.next=17;break;case 17:if(--t<=0)throw e.t0;e.next=19;break;case 19:return e.next=21,(0,l.sleep)((0,l.random)(1e3,4e3));case 21:e.next=3;break;case 23:return e.abrupt("return",this.getResult());case 24:case"end":return e.stop()}},e,this,[[4,13]])})),function(){return d.apply(this,arguments)})},{key:"toJSON",value:function(){return this.props}},{key:"state",get:function(){return this.props.state}}]);var d,u,a=p;function p(e){if(!(this instanceof p))throw new TypeError("Cannot call a class as a function");this.props=e}t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e};function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var r=n(99),a=n(23);function s(e){return function(){var s=e.apply(this,arguments);return new Promise(function(r,a){return function t(e,n){try{var i=s[e](n),o=i.value}catch(e){return void a(e)}if(!i.done)return Promise.resolve(o).then(function(e){t("next",e)},function(e){t("throw",e)});r(o)}("next")})}}i(c,null,[{key:"create",value:(l=s(regeneratorRuntime.mark(function e(){var t,n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.Bridge._REST("sites",{method:"POST",data:JSON.stringify(n)});case 2:return t=e.sent,e.abrupt("return",new this((0,r.pick)(t,["id"])));case 4:case"end":return e.stop()}},e,this)})),function(){return l.apply(this,arguments)})}]),i(c,[{key:"upload",value:function(e,t){return a.Bridge._REST("sites/"+this.id+"/files/"+e,{method:"POST",data:t.content})}},{key:"delete",value:function(){return a.Bridge._REST("sites/"+this.id,{method:"DELETE"})}},{key:"toJSON",value:function(){return this.props}},{key:"id",get:function(){return this.props.id}},{key:"projectLocation",get:function(){return a.Bridge.projectsLocation+"/"+this.id}}]);var l,n=c;function c(e){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");this.props=e}t.default=n},function(e,t,n){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}Object.defineProperty(t,"__esModule",{value:!0});(function(e,t,n){t&&i(e.prototype,t),n&&i(e,n)})(r,[{key:"start",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=!0,o=!1,r=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var l=a.value;this.log(l,"(start)"),this.marks[l]=Date.now()}}catch(e){o=!0,r=e}finally{try{!i&&s.return&&s.return()}finally{if(o)throw r}}}},{key:"end",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=!0,o=!1,r=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var l=a.value,c=(Date.now()-(this.marks[l]||this.startTime))/1e3;this.log(l,"(end) time: "+c)}}catch(e){o=!0,r=e}finally{try{!i&&s.return&&s.return()}finally{if(o)throw r}}}},{key:"log",value:function(){for(var e,t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];(e=console).log.apply(e,[this.name+":"].concat(n))}}]);var o=r;function r(e){if(!(this instanceof r))throw new TypeError("Cannot call a class as a function");this.name=e,this.marks={},this.startTime=Date.now()}t.default=new o("mobirise ai")},function(e,t,n){"use strict";var i=n(373),o=f(i),r=f(n(142)),a=f(n(70)),s=n(71);n(384),n(385),n(386);var l=f(n(387));n(388);var c=f(n(389)),d=f(n(390)),u=f(n(394)),p=f(n(395));function f(e){return e&&e.__esModule?e:{default:e}}n(396),n(397),n(398),n(399),n(400),n(401),n(402),n(403),n(404),n(405),n(406),n(407),n(408),n(409),n(410),n(411),n(412),n(413),n(414),n(415),n(416),n(417),n(418),n(419),n(420),n(421),n(422),n(423),n(424),n(425),n(426),n(427),n(428),n(429),n(430),n(431),n(432),n(433),n(434),n(435),n(436),n(437),n(439),n(440),n(441),n(442),n(443),n(444),n(445),n(446),n(447),n(448),n(449),n(450),n(451),n(452),n(453),n(454),n(455),n(456),n(457),n(458),n(459),n(460),n(461),n(462),n(463),n(464),n(465),n(466),n(467),n(468),n(470),n(471),n(472),n(473),n(474),n(475),n(476),n(477),n(478),defineM("Bridge",function(){return o.default}),defineM("$Bridge",function(){return r.default}),(0,i.afterBridgeInit)(function(){var e=JSON.parse(sessionStorage.getItem("mobiriseAi"))||{};return(e.options&&e.options.theme?a.default.generator:a.default.multipleGenerator).start()}),defineM("mbrServer",function(){return s.mbrServer}),window.noUiSlider=l.default,window.bootbox=c.default,window.JSZipUtils=u.default,window.JSZip=d.default,window.saveAs=p.default,defineM("jQuery",function(){return jQuery})},,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e};function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var l=f(n(349)),r=f(n(355)),a=f(n(356)),s=f(n(143)),c=f(n(357)),d=f(n(70)),u=n(23),p=n(99);function f(e){return e&&e.__esModule?e:{default:e}}function h(e){return function(){var s=e.apply(this,arguments);return new Promise(function(r,a){return function t(e,n){try{var i=s[e](n),o=i.value}catch(e){return void a(e)}if(!i.done)return Promise.resolve(o).then(function(e){t("next",e)},function(e){t("throw",e)});r(o)}("next")})}}i(x,[{key:"restoreOrCreateSite",value:(w=h(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.storage.get("site"))return e.abrupt("return",new a.default(t));e.next=3;break;case 3:return e.next=5,a.default.create();case 5:return t=e.sent,this.storage.set("site",t.toJSON()),e.abrupt("return",t);case 8:case"end":return e.stop()}},e,this)})),function(){return w.apply(this,arguments)})},{key:"restoreOrCreatePage",value:(y=h(regeneratorRuntime.mark(function e(t){var n,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.storage.get("page"))return e.abrupt("return",new s.default(n));e.next=3;break;case 3:return t=t||this.storage.get("prompt"),n=this.storage.get("options")||{},e.next=7,s.default.create({prompt:t,options:n});case 7:return i=e.sent,this.storage.set("page",i.toJSON()),e.abrupt("return",i);case 10:case"end":return e.stop()}},e,this)})),function(e){return y.apply(this,arguments)})},{key:"restoreOrCreateProjectPublication",value:(b=h(regeneratorRuntime.mark(function e(t,n){var i,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=this.storage.get("projectPublication"))return e.abrupt("return",new r.default(i));e.next=3;break;case 3:return e.next=5,t.fetchMobiriseProject();case 5:return i=e.sent,e.next=8,n.upload("project.mobirise",{content:JSON.stringify(i)});case 8:return o=new r.default({state:"COMPLETE"}),this.storage.set("projectPublication",o.toJSON()),e.abrupt("return",o);case 11:case"end":return e.stop()}},e,this)})),function(e,t){return b.apply(this,arguments)})},{key:"createPublication",value:(v=h(regeneratorRuntime.mark(function e(t,n){var i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.seed)return e.next=3,t.randomize(t.seed);e.next=3;break;case 3:return e.next=5,t.publishTo(n);case 5:return i=e.sent,this.storage.set("publication",i.toJSON()),e.abrupt("return",i);case 8:case"end":return e.stop()}},e,this)})),function(e,t){return v.apply(this,arguments)})},{key:"restoreOrCreatePublication",value:(g=h(regeneratorRuntime.mark(function e(t,n){var i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=this.storage.get("publication"))return e.abrupt("return",new r.default(i));e.next=3;break;case 3:return e.abrupt("return",this.createPublication(t,n));case 4:case"end":return e.stop()}},e,this)})),function(e,t){return g.apply(this,arguments)})},{key:"start",value:(m=h(regeneratorRuntime.mark(function e(){var o,n,r,t,a=this,s=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isInitialized||"onClient"===s.mode){e.next=3;break}return d.default.loader.hide(),e.abrupt("return");case 3:return n=o=void 0,e.next=6,l.default.reqUserInfo();case 6:return r=e.sent,t=function(){var t=h(regeneratorRuntime.mark(function e(t){var n,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("onClient"===s.mode)e.next=13;else{if(n=a.storage.get("prompt"),o)return e.next=5,o.delete().catch(console.error);e.next=7}break;case 5:e.next=8;break;case 7:l.default.enableSaveProject();case 8:a.storage.clear(),i=new URLSearchParams({prompt:(0,p.unescapeHtml)(n),u:r.id,error:t.message,errorType:t.code}).toString(),window.location.replace("https://ai.mobirise.com/?"+i),e.next=15;break;case 13:throw d.default.loader.hide(),t;case 15:case"end":return e.stop()}},e,a)}));return function(e){return t.apply(this,arguments)}}(),c.default.start("app load","site generate"),l.default.afterLoad(function(){return c.default.end("app load")}),l.default.disableSaveProject(),e.prev=11,d.default.loader.create(),d.default.loader.show("Generating Page..."),e.next=16,this.restoreOrCreateSite();case 16:return o=e.sent,c.default.start("page create"),e.next=20,this.restoreOrCreatePage(s.clientPrompt);case 20:return n=e.sent,c.default.end("page create"),c.default.start("page fill"),d.default.loader.show(n.props.meta.systemMessage.replace("Creating a page titled","Creating page")),c.default.start("empty project publish"),e.next=27,this.restoreOrCreateProjectPublication(n,o);case 27:c.default.end("empty project publish"),u.Bridge.initPath=o.projectLocation,l.default.saveProjectSettings(o.projectLocation,{title:n.props.meta.pageTitle}),n.waitUntilIsReady().then(h(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c.default.end("page fill"),c.default.start("page publish on mobirisesite.com"),e.next=4,a.restoreOrCreatePublication(n,o);case 4:return t=e.sent,e.prev=5,e.next=8,t.waitUntilIsComplete();case 8:e.next=19;break;case 10:if(e.prev=10,e.t0=e.catch(5),"NotFound"!==e.t0.code)throw e.t0;e.next=14;break;case 14:return e.next=16,a.createPublication(n,o);case 16:return t=e.sent,e.next=19,t.waitUntilIsComplete();case 19:return c.default.end("page publish on mobirisesite.com"),e.next=22,l.default.waitUntilIsLoad();case 22:l.default.showPreloader(),d.default.loader.hide(),a.storage.clear(),l.default.loadProject(o.projectLocation,{onFinally:function(){return l.default.enableSaveProject()}}),c.default.end("site generate");case 27:case"end":return e.stop()}},e,a,[[5,10]])}))).catch(t),e.next=39;break;case 33:return e.prev=33,e.t0=e.catch(11),e.next=37,t(e.t0);case 37:return e.next=39,(0,p.forever)();case 39:case"end":return e.stop()}},e,this,[[11,33]])})),function(){return m.apply(this,arguments)})},{key:"storage",get:function(){return d.default.storage}},{key:"isInitialized",get:function(){return this.storage.has("prompt")}}]);var m,g,v,b,y,w,n=x;function x(){if(!(this instanceof x))throw new TypeError("Cannot call a class as a function")}t.default=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,i=arguments[t];for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},i=function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e};function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var c=r(n(349)),d=r(n(143)),u=r(n(357)),p=r(n(70)),f=r(n(356)),h=n(99);function r(e){return e&&e.__esModule?e:{default:e}}function m(e){return function(){var s=e.apply(this,arguments);return new Promise(function(r,a){return function t(e,n){try{var i=s[e](n),o=i.value}catch(e){return void a(e)}if(!i.done)return Promise.resolve(o).then(function(e){t("next",e)},function(e){t("throw",e)});r(o)}("next")})}}i(s,null,[{key:"start",value:(a=m(regeneratorRuntime.mark(function e(){var t,n,i,o,r,a=this,s=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i={prompt:s.prompt||"",options:l({useGptStructure:!0,multipleGeneration:!1,theme:(0,h.convertNameToAi)(c.default.getActiveTheme().name),strategy:"DEFAULT",structureMatchingStrategy:"GPT",structureOptimizationStrategy:"EASY"},s.options)},t=function(){var t=m(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:throw p.default.loader.hide(),t;case 2:case"end":return e.stop()}},e,a)}));return function(e){return t.apply(this,arguments)}}(),u.default.start("app load","page generate"),e.prev=3,p.default.loader.create(),p.default.loader.show("Generating Page..."),e.next=8,d.default.create(i);case 8:return n=e.sent,e.next=11,n.waitUntilIsReady();case 11:return u.default.end("page fill"),u.default.start("page generate project.mobirise"),i=c.default.getProjectSettings(),o=i.id,e.next=16,n.publishTo(new f.default({id:o}));case 16:return o=e.sent,e.next=19,o.waitUntilIsComplete();case 19:return e.next=21,n.getMobiriseProject();case 21:return r=e.sent,p.default.loader.hide(),u.default.end("page generate"),e.abrupt("return",r);case 27:return e.prev=27,e.t0=e.catch(3),e.next=31,t(e.t0);case 31:return e.next=33,(0,h.forever)();case 33:case"end":return e.stop()}},e,this,[[3,27]])})),function(){return a.apply(this,arguments)})}]);var a,n=s;function s(){if(!(this instanceof s))throw new TypeError("Cannot call a class as a function")}t.default=n},function(e,$,O){"use strict";!function(e){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var S=O(391),r=O(392),s=O(393);function n(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function l(e,t){if(n()<t)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=u.prototype:(e=null===e?new u(t):e).length=t,e}function u(e,t,n){if(!(u.TYPED_ARRAY_SUPPORT||this instanceof u))return new u(e,t,n);if("number"!=typeof e)return i(this,e,t,n);if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return a(this,e)}function i(e,t,n,i){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');if("undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer){var o=e,r=t,a=n;if(r.byteLength,a<0||r.byteLength<a)throw new RangeError("'offset' is out of bounds");if(r.byteLength<a+(i||0))throw new RangeError("'length' is out of bounds");return r=void 0===a&&void 0===i?new Uint8Array(r):void 0===i?new Uint8Array(r,a):new Uint8Array(r,a,i),u.TYPED_ARRAY_SUPPORT?(o=r).__proto__=u.prototype:o=c(o,r),o}if("string"!=typeof t){a=e,i=t;if(u.isBuffer(i))return r=0|d(i.length),0!==(a=l(a,r)).length&&i.copy(a,0,0,r),a;if(i){if("undefined"!=typeof ArrayBuffer&&i.buffer instanceof ArrayBuffer||"length"in i)return"number"!=typeof i.length||function(e){return e!=e}(i.length)?l(a,0):c(a,i);if("Buffer"===i.type&&s(i.data))return c(a,i.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}o=e,i=t,e=n;if(u.isEncoding(e="string"==typeof e&&""!==e?e:"utf8"))return t=0|p(i,e),o=(i=(o=l(o,t)).write(i,e))!==t?o.slice(0,i):o;throw new TypeError('"encoding" must be a valid string encoding')}function o(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function a(e,t){if(o(t),e=l(e,t<0?0:0|d(t)),!u.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function c(e,t){var n=t.length<0?0:0|d(t.length);e=l(e,n);for(var i=0;i<n;i+=1)e[i]=255&t[i];return e}function d(e){if(e>=n())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+n().toString(16)+" bytes");return 0|e}function p(e,t){if(u.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;var n=(e="string"!=typeof e?""+e:e).length;if(0===n)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return E(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return A(e).length;default:if(i)return E(e).length;t=(""+t).toLowerCase(),i=!0}}function t(e,t,n){var i,o=!1;if((t=void 0===t||t<0?0:t)>this.length)return"";if((n=void 0===n||n>this.length?this.length:n)<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e=e||"utf8";;)switch(e){case"hex":var r=this,a=t,s=n,l=r.length;(!s||s<0||l<s)&&(s=l);for(var c="",d=a=!a||a<0?0:a;d<s;++d)c+=function(e){return e<16?"0"+e.toString(16):e.toString(16)}(r[d]);return c;case"utf8":case"utf-8":return C(this,t,n);case"ascii":var u=this,l=t,p=n,f="";p=Math.min(u.length,p);for(var h=l;h<p;++h)f+=String.fromCharCode(127&u[h]);return f;case"latin1":case"binary":var m=this,a=t,g=n,v="";g=Math.min(m.length,g);for(var b=a;b<g;++b)v+=String.fromCharCode(m[b]);return v;case"base64":return y=this,i=n,0===(w=t)&&i===y.length?S.fromByteArray(y):S.fromByteArray(y.slice(w,i));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":for(var y=t,w=n,x=this.slice(y,w),_="",k=0;k<x.length;k+=2)_+=String.fromCharCode(x[k]+256*x[k+1]);return _;default:if(o)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),o=!0}}function f(e,t,n){var i=e[t];e[t]=e[n],e[n]=i}function h(e,t,n,i,o){if(0===e.length)return-1;if("string"==typeof n?(i=n,n=0):2147483647<n?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,(n=(n=isNaN(n)?o?0:e.length-1:n)<0?e.length+n:n)>=e.length){if(o)return-1;n=e.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof t&&(t=u.from(t,i)),u.isBuffer(t))return 0===t.length?-1:m(e,t,n,i,o);if("number"==typeof t)return t&=255,u.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?(o?Uint8Array.prototype.indexOf:Uint8Array.prototype.lastIndexOf).call(e,t,n):m(e,[t],n,i,o);throw new TypeError("val must be string, number or Buffer")}function m(e,t,n,i,o){var r=1,a=e.length,s=t.length;if(void 0!==i&&("ucs2"===(i=String(i).toLowerCase())||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(e.length<2||t.length<2)return-1;a/=r=2,s/=2,n/=2}function l(e,t){return 1===r?e[t]:e.readUInt16BE(t*r)}if(o)for(var c=-1,d=n;d<a;d++)if(l(e,d)===l(t,-1===c?0:d-c)){if(d-(c=-1===c?d:c)+1===s)return c*r}else-1!==c&&(d-=d-c),c=-1;else for(d=n=a<n+s?a-s:n;0<=d;d--){for(var u=!0,p=0;p<s;p++)if(l(e,d+p)!==l(t,p)){u=!1;break}if(u)return d}return-1}function g(e,t,n,i){return L(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,i)}function v(e,t,n,i){return L(function(e,t){for(var n,i,o=[],r=0;r<e.length&&!((t-=2)<0);++r)n=e.charCodeAt(r),i=n>>8,o.push(n%256),o.push(i);return o}(t,e.length-n),e,n,i)}function C(e,t,n){n=Math.min(e.length,n);for(var i=[],o=t;o<n;){var r,a,s,l,c=e[o],d=null,u=239<c?4:223<c?3:191<c?2:1;if(o+u<=n)switch(u){case 1:c<128&&(d=c);break;case 2:128==(192&(r=e[o+1]))&&127<(l=(31&c)<<6|63&r)&&(d=l);break;case 3:r=e[o+1],a=e[o+2],128==(192&r)&&128==(192&a)&&2047<(l=(15&c)<<12|(63&r)<<6|63&a)&&(l<55296||57343<l)&&(d=l);break;case 4:r=e[o+1],a=e[o+2],s=e[o+3],128==(192&r)&&128==(192&a)&&128==(192&s)&&65535<(l=(15&c)<<18|(63&r)<<12|(63&a)<<6|63&s)&&l<1114112&&(d=l)}null===d?(d=65533,u=1):65535<d&&(i.push((d-=65536)>>>10&1023|55296),d=56320|1023&d),i.push(d),o+=u}var p=i,f=p.length;if(f<=b)return String.fromCharCode.apply(String,p);for(var h="",m=0;m<f;)h+=String.fromCharCode.apply(String,p.slice(m,m+=b));return h}$.Buffer=u,$.SlowBuffer=function(e){+e!=e&&(e=0);return u.alloc(+e)},$.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),$.kMaxLength=n(),u.poolSize=8192,u._augment=function(e){return e.__proto__=u.prototype,e},u.from=function(e,t,n){return i(null,e,t,n)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!=typeof Symbol)&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0}),u.alloc=function(e,t,n){return i=null,t=t,n=n,o(e=e),!(e<=0)&&void 0!==t?"string"==typeof n?l(i,e).fill(t,n):l(i,e).fill(t):l(i,e);var i},u.allocUnsafe=function(e){return a(null,e)},u.allocUnsafeSlow=function(e){return a(null,e)},u.isBuffer=function(e){return!(null==e||!e._isBuffer)},u.compare=function(e,t){if(!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,i=t.length,o=0,r=Math.min(n,i);o<r;++o)if(e[o]!==t[o]){n=e[o],i=t[o];break}return n<i?-1:i<n?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!s(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);if(void 0===t)for(o=t=0;o<e.length;++o)t+=e[o].length;for(var n=u.allocUnsafe(t),i=0,o=0;o<e.length;++o){var r=e[o];if(!u.isBuffer(r))throw new TypeError('"list" argument must be an Array of Buffers');r.copy(n,i),i+=r.length}return n},u.byteLength=p,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)f(this,t,t+1);return this},u.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)f(this,t,t+3),f(this,t+1,t+2);return this},u.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)f(this,t,t+7),f(this,t+1,t+6),f(this,t+2,t+5),f(this,t+3,t+4);return this},u.prototype.toString=function(){var e=0|this.length;return 0==e?"":0===arguments.length?C(this,0,e):t.apply(this,arguments)},u.prototype.equals=function(e){if(u.isBuffer(e))return this===e||0===u.compare(this,e);throw new TypeError("Argument must be a Buffer")},u.prototype.inspect=function(){var e="",t=$.INSPECT_MAX_BYTES;return 0<this.length&&(e=this.toString("hex",0,t).match(/.{2}/g).join(" "),this.length>t)&&(e+=" ... "),"<Buffer "+e+">"},u.prototype.compare=function(e,t,n,i,o){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===n&&(n=e?e.length:0),void 0===i&&(i=0),void 0===o&&(o=this.length),(t=void 0===t?0:t)<0||n>e.length||i<0||o>this.length)throw new RangeError("out of range index");if(o<=i&&n<=t)return 0;if(o<=i)return-1;if(n<=t)return 1;if(this===e)return 0;for(var r=(o>>>=0)-(i>>>=0),a=(n>>>=0)-(t>>>=0),s=Math.min(r,a),l=this.slice(i,o),c=e.slice(t,n),d=0;d<s;++d)if(l[d]!==c[d]){r=l[d],a=c[d];break}return r<a?-1:a<r?1:0},u.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},u.prototype.indexOf=function(e,t,n){return h(this,e,t,n,!0)},u.prototype.lastIndexOf=function(e,t,n){return h(this,e,t,n,!1)},u.prototype.write=function(e,t,n,i){if(void 0===t)i="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)i=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===i&&(i="utf8")):(i=n,n=void 0)}var o=this.length-t;if((void 0===n||o<n)&&(n=o),0<e.length&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");i=i||"utf8";for(var r,a,s,l=!1;;)switch(i){case"hex":var c=this,d=e,u=t,p=n,f=(u=Number(u)||0,c.length-u);if((!p||f<(p=Number(p)))&&(p=f),(f=d.length)%2!=0)throw new TypeError("Invalid hex string");f/2<p&&(p=f/2);for(var h=0;h<p;++h){var m=parseInt(d.substr(2*h,2),16);if(isNaN(m))return h;c[u+h]=m}return h;case"utf8":case"utf-8":return f=t,s=n,L(E(e,(a=this).length-f),a,f,s);case"ascii":return g(this,e,t,n);case"latin1":case"binary":return g(this,e,t,n);case"base64":return a=this,s=t,r=n,L(A(e),a,s,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return v(this,e,t,n);default:if(l)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),l=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var b=4096;function y(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(n<e+t)throw new RangeError("Trying to access beyond buffer length")}function w(e,t,n,i,o,r){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(o<t||t<r)throw new RangeError('"value" argument is out of bounds');if(n+i>e.length)throw new RangeError("Index out of range")}function x(e,t,n,i){t<0&&(t=65535+t+1);for(var o=0,r=Math.min(e.length-n,2);o<r;++o)e[n+o]=(t&255<<8*(i?o:1-o))>>>8*(i?o:1-o)}function _(e,t,n,i){t<0&&(t=4294967295+t+1);for(var o=0,r=Math.min(e.length-n,4);o<r;++o)e[n+o]=t>>>8*(i?o:3-o)&255}function k(e,t,n,i){if(n+i>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function P(e,t,n,i,o){return o||k(e,0,n,4),r.write(e,t,n,i,23,4),n+4}function T(e,t,n,i,o){return o||k(e,0,n,8),r.write(e,t,n,i,52,8),n+8}u.prototype.slice=function(e,t){var n=this.length;if((e=~~e)<0?(e+=n)<0&&(e=0):n<e&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):n<t&&(t=n),t<e&&(t=e),u.TYPED_ARRAY_SUPPORT)(o=this.subarray(e,t)).__proto__=u.prototype;else for(var i=t-e,o=new u(i,void 0),r=0;r<i;++r)o[r]=this[r+e];return o},u.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||y(e,t,this.length);for(var i=this[e],o=1,r=0;++r<t&&(o*=256);)i+=this[e+r]*o;return i},u.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||y(e,t,this.length);for(var i=this[e+--t],o=1;0<t&&(o*=256);)i+=this[e+--t]*o;return i},u.prototype.readUInt8=function(e,t){return t||y(e,1,this.length),this[e]},u.prototype.readUInt16LE=function(e,t){return t||y(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUInt16BE=function(e,t){return t||y(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUInt32LE=function(e,t){return t||y(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUInt32BE=function(e,t){return t||y(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||y(e,t,this.length);for(var i=this[e],o=1,r=0;++r<t&&(o*=256);)i+=this[e+r]*o;return(o*=128)<=i&&(i-=Math.pow(2,8*t)),i},u.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||y(e,t,this.length);for(var i=t,o=1,r=this[e+--i];0<i&&(o*=256);)r+=this[e+--i]*o;return(o*=128)<=r&&(r-=Math.pow(2,8*t)),r},u.prototype.readInt8=function(e,t){return t||y(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function(e,t){t||y(e,2,this.length);t=this[e]|this[e+1]<<8;return 32768&t?4294901760|t:t},u.prototype.readInt16BE=function(e,t){t||y(e,2,this.length);t=this[e+1]|this[e]<<8;return 32768&t?4294901760|t:t},u.prototype.readInt32LE=function(e,t){return t||y(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return t||y(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readFloatLE=function(e,t){return t||y(e,4,this.length),r.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return t||y(e,4,this.length),r.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return t||y(e,8,this.length),r.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return t||y(e,8,this.length),r.read(this,e,!1,52,8)},u.prototype.writeUIntLE=function(e,t,n,i){e=+e,t|=0,n|=0,i||w(this,e,t,n,Math.pow(2,8*n)-1,0);var o=1,r=0;for(this[t]=255&e;++r<n&&(o*=256);)this[t+r]=e/o&255;return t+n},u.prototype.writeUIntBE=function(e,t,n,i){e=+e,t|=0,n|=0,i||w(this,e,t,n,Math.pow(2,8*n)-1,0);var o=n-1,r=1;for(this[t+o]=255&e;0<=--o&&(r*=256);)this[t+o]=e/r&255;return t+n},u.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||w(this,e,t,1,255,0),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},u.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||w(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):x(this,e,t,!0),t+2},u.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||w(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):x(this,e,t,!1),t+2},u.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||w(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):_(this,e,t,!0),t+4},u.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||w(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):_(this,e,t,!1),t+4},u.prototype.writeIntLE=function(e,t,n,i){e=+e,t|=0,i||w(this,e,t,n,(i=Math.pow(2,8*n-1))-1,-i);var o=0,r=1,a=0;for(this[t]=255&e;++o<n&&(r*=256);)e<0&&0===a&&0!==this[t+o-1]&&(a=1),this[t+o]=(e/r>>0)-a&255;return t+n},u.prototype.writeIntBE=function(e,t,n,i){e=+e,t|=0,i||w(this,e,t,n,(i=Math.pow(2,8*n-1))-1,-i);var o=n-1,r=1,a=0;for(this[t+o]=255&e;0<=--o&&(r*=256);)e<0&&0===a&&0!==this[t+o+1]&&(a=1),this[t+o]=(e/r>>0)-a&255;return t+n},u.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||w(this,e,t,1,127,-128),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&(e=e<0?255+e+1:e),t+1},u.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||w(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):x(this,e,t,!0),t+2},u.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||w(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):x(this,e,t,!1),t+2},u.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||w(this,e,t,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):_(this,e,t,!0),t+4},u.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||w(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):_(this,e,t,!1),t+4},u.prototype.writeFloatLE=function(e,t,n){return P(this,e,t,!0,n)},u.prototype.writeFloatBE=function(e,t,n){return P(this,e,t,!1,n)},u.prototype.writeDoubleLE=function(e,t,n){return T(this,e,t,!0,n)},u.prototype.writeDoubleBE=function(e,t,n){return T(this,e,t,!1,n)},u.prototype.copy=function(e,t,n,i){if(n=n||0,i||0===i||(i=this.length),t>=e.length&&(t=e.length),(i=0<i&&i<n?n:i)===n)return 0;if(0===e.length||0===this.length)return 0;if((t=t||0)<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length);var o,r=(i=e.length-t<i-n?e.length-t+n:i)-n;if(this===e&&n<t&&t<i)for(o=r-1;0<=o;--o)e[o+t]=this[o+n];else if(r<1e3||!u.TYPED_ARRAY_SUPPORT)for(o=0;o<r;++o)e[o+t]=this[o+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+r),t);return r},u.prototype.fill=function(e,t,n,i){if("string"==typeof e){var o;if("string"==typeof t?(i=t,t=0,n=this.length):"string"==typeof n&&(i=n,n=this.length),1===e.length&&(o=e.charCodeAt(0))<256&&(e=o),void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!u.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(!(n<=t))if(t>>>=0,n=void 0===n?this.length:n>>>0,"number"==typeof(e=e||0))for(s=t;s<n;++s)this[s]=e;else for(var r=u.isBuffer(e)?e:E(new u(e,i).toString()),a=r.length,s=0;s<n-t;++s)this[s+t]=r[s%a];return this};var j=/[^+\/0-9A-Za-z-_]/g;function E(e,t){t=t||1/0;for(var n,i=e.length,o=null,r=[],a=0;a<i;++a){if(55295<(n=e.charCodeAt(a))&&n<57344){if(!o){if(56319<n){-1<(t-=3)&&r.push(239,191,189);continue}if(a+1===i){-1<(t-=3)&&r.push(239,191,189);continue}o=n;continue}if(n<56320){-1<(t-=3)&&r.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&-1<(t-=3)&&r.push(239,191,189);if(o=null,n<128){if(--t<0)break;r.push(n)}else if(n<2048){if((t-=2)<0)break;r.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;r.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;r.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return r}function A(e){return S.toByteArray(function(e){var t;if((e=((t=e).trim?t.trim():t.replace(/^\s+|\s+$/g,"")).replace(j,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function L(e,t,n,i){for(var o=0;o<i&&!(o+n>=t.length||o>=e.length);++o)t[o+n]=e[o];return o}}.call(this,O(44))},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.afterBridgeInit=void 0;var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,i=arguments[t];for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},i=r(n(374)),o=r(n(375)),c=n(71),d=n(23),u=n(376);function r(e){return e&&e.__esModule?e:{default:e}}n(377),n(378);function p(){return Promise.all(a.map(function(e){return e()}))}var f={"web/app/interface/kw.template.js":i.default,"web/app/interface/kw.txt":o.default},a=[];t.afterBridgeInit=function(e){return a.push(e)};function s(){var o="https://e.mobirise.com",r=Math.floor(Date.now()/6e5).toString(36);function a(e){if(e&&e.startsWith(d.Bridge.projectsLocation))return{id:(e=e.substring(d.Bridge.projectsLocation.length+1).split("/")).shift(),path:e.join("/")}}var n,i,e,s={dataLocation:"@DATA@",tempLocation:"@TEMP@",publicTempLocation:"@PUBLICTEMP@",docLocation:"@DOCUMENTS@",imgLocation:"@DOCUMENTS@/images",projectsLocation:"@SITES@",openUrl:function(e){var t=a(e);t?d.Bridge.getRecentSettings(e,function(e){e=e.publicUrl.replace(/^https:/,document.location.protocol);window.open(e+t.path,"_blank")}):window.open(e,"_blank")},runFileDialog:function(e,t,n,o,r){o=o||function(){};var a=document.createElement("input"),i=(a.setAttribute("type","file"),[]);(n||"").replace(/\*\.[\w]+/g,function(e){return i.push(e.substr(1))}),i.length?a.setAttribute("accept",i.join(",")):a.removeAttribute("accept"),r&&a.setAttribute("multiple",!0),a.onchange=function(){for(var e=[],t=0;t<this.files.length;t++){var n=this.files[t],i="@LOCAL@/"+d.Bridge._selNum+++"/"+n.name;d.Bridge._selFiles[i]=n,e.push(i)}o(r?e:e[0]),a.onchange=0},a.click()},_selFiles:{},_selNum:0,_addLocal:function(e,t){e="@LOCAL@/"+d.Bridge._selNum+++"/"+e;return d.Bridge._selFiles[e]=t,e},saveLocalFile:function(e,t,n){n=n||function(){};var i=a(e);if(i&&i.id&&i.path)return 3e6<t.length?(console.error("File size limit exceeded, max=3000000, current="+t.length),void n(!1)):void this._REST("sites/"+i.id+"/files/"+i.path,{method:"POST",data:t,headers:{}}).then(function(e){return n(e&&e.success)}).catch(function(e){return n(!1)});console.warn('call saveLocalFile("'+e+'", String['+t.length+"])"),n&&n(!1)},saveLocalBase64:function(e,t,n){n=n||function(){};var i=a(e);if(i&&i.id&&i.path)return 45e5<t.length?(console.error("File size limit exceeded, max=3000000, current about "+t.length/1.5),void n(!1)):void this._REST("sites/"+i.id+"/files/"+i.path,{method:"POST",data:t,headers:{"X-Payload-Encoding":"base64"}}).then(function(e){return n(e&&e.success)}).catch(function(e){console.error(e),n(!1)});console.warn('call saveLocalBase64("'+e+'", String['+t.length+"])"),n&&n(!1)},initProject:function(n,e){var i=this;this._REST("sites",{method:"POST",data:JSON.stringify({title:e})}).then(function(e){if(!e||!e.id)throw new Error("Wrong server responce");var t=d.Bridge.projectsLocation+"/"+e.id;e.path=e.path||t,i.addRecent(e),n(0,e)}).catch(function(e){return n(e)})},getRecentsList:function(o,r){var t=this;o&&this._REST("me/sites").then(function(e){var i=(e&&e.items||[]).map(function(e){return l(e||{},{path:d.Bridge.projectsLocation+"/"+e.id,name:e.title||e.name})});t.getSettings("_recent",function(e){if(e){for(var t=-1,n=0;n<i.length;n++)if(i[n].path==e){t=n;break}0<t&&i.unshift(i.splice(t,1)[0])}r?o(null,i):o(i)})}).catch(function(e){o(r?e:[])})},_getSiteInfo:function(n,i){i=i||function(){},this.getRecentsList(function(e){for(var t=0;t<e.length;t++)if(e[t].id==n)return i(e[t]);i()})},addRecent:function(e,t){e&&e.path?this.setSettings("_recent",e.path,t):(console.warn("addRecent data is empty"),t&&t(!1))},getRecentSettings:function(e,t){var n=this,i=a(e);if(i&&i.id){if(i.id in this._SitesSettings)return t(this._SitesSettings[i.id]);d.Bridge._REST("sites/"+i.id).then(function(e){e=l(e||{},{path:d.Bridge.projectsLocation+"/"+e.id});e.name=e.title||e.name,n._SitesSettings[i.id]=e,t(e)}).catch(function(e){return t()})}},_SitesSettings:{},path2app:function(e){var t;return!e||/^(\w*\:)?\/\//.test(e)?e:(t=a(e))&&t.id&&t.id in this._SitesSettings?this._SitesSettings[t.id].resourcesUrl+t.path:e&&e.startsWith("web/")?e.replace("web/",d.Bridge.base):d.Bridge.base+e},rmRecent:function(e,t){e=a(e);e.id?this._REST("sites/"+e.id,{method:"DELETE"}).then(function(e){return t(!0)}):t(!0)},changeRecentSettings:function(e,t,n){var i,o=this,r=(n=n||function(){},a(e));r&&r.id?(i={},t&&(t.title=t.name||t.title),"title".split(",").forEach(function(e){e in t&&(i[e]=t[e])}),d.Bridge._REST("sites/"+r.id,{method:"PUT",data:JSON.stringify(i)}).then(function(e){o._SitesSettings[r.id]&&l(o._SitesSettings[r.id],i),n(!0)}).catch(function(e){console.error(e),n(!1)})):n(!1)},saveAllRecents:function(e,t){console.error("Error to saveAllRecents"),t(!1)},loadLocalFile:function(e,n){n=n||function(){},e.endsWith("addons/list.json")?n(""):e in f?n(f[e]):this._loadFile(e).then(function(e){var t=new FileReader;t.onload=function(){n(t.result||"")},t.onerror=function(){n("")},t.readAsText(e)}).catch(function(e){n("")})},loadLocalBase64:function(e,n){n=n||function(){},this._loadFile(e).then(function(e){var t=new FileReader;t.onload=function(){n(t.result.replace(/^[^,]*,?/,""))},t.onerror=function(){n("")},t.readAsDataURL(e)}).catch(function(e){n("")})},loadLocalBlob:function(e,t){this._loadFile(e).then(t).catch(function(e){t(new Blob)})},_uploadBuildIn_init:function(e,t){e.startsWith(this.projectsLocation)?t():(console.log("Emulate Bridge.uploadBuilding()..."),console.log("Upload to url =",e),setTimeout(function(){t&&t("")},1))},_uploadBuildIn_done:function(e,t){setTimeout(function(){t&&t("")},1)},_uploadBuildIn_file:function(t,o,e,n){if(n=n||function(){},e.startsWith(this.projectsLocation)){var i,r=e+"/"+t.dest;if(1!=t.srcList.length||t.srcList[0].filter){for(var a=new Promise(function(e){return e("")}),s=0;s<t.srcList.length;s++)!function(e){var i=t.srcList[e];a=a.then(function(n){return new Promise(function(t){n=n||"",i.filter?t(n+o(i.src,i.filter)):d.Bridge.loadLocalFile(i.src,function(e){t(n+(e||""))})})})}(s);a.then(function(e){d.Bridge.saveLocalFile(r,e,function(e){n(e?"":"Error to save file "+t.dest)})}).catch(function(e){n(e&&e.message||"Publish file error "+t.dest)})}else i=t.srcList[0],d.Bridge.copyLocal(i.src,r,function(e){n(e?"":"Unable to copy file "+i.src+" to "+r)})}else console.warn("Unsupporting publish destination for "+t.dest),setTimeout(function(){n("")},100)},registerPreviewPath:function(e){return e||d.Bridge.publicTempLocation},reload:function(){console.warn("reload..."),window.onbeforeunload=null,window.location.reload()},_loadFile:function(n){var e,t;return n instanceof Blob?Promise.resolve(n):n in d.Bridge._selFiles?Promise.resolve(d.Bridge._selFiles[n]):-1<n.indexOf("component.json")?Promise.reject():(e=a(n))?(t=d.Bridge.splitPath(e.path).ext,d.Bridge.args.external||"html|xml|css|map|less|js|json|mobirise|svg|".split("|").includes(t)?this._REST("sites/"+e.id+"/files/"+e.path,{method:"GET",row:!0}):i(Date.now().toString(36))):/^@\w+@/.test(n)?(console.warn('call _loadFile("'+n+'")'),Promise.resolve(new Blob)):i(r);function i(e){var t=d.Bridge.path2app(n),e=(t.includes("?")||(t+="?ts="+e),{method:"GET",mode:"cors"});return 0===n.indexOf(o)&&(e.credentials="include"),fetch(t,e).then(function(e){return 200!=e.status?new Blob:e.blob()}).catch(function(e){return new Blob})}},removeLocal:function(t,n){n=n||function(){};var e=a(t);return e?e.path.startsWith("fonts/")?n(!0):void this._REST("sites/"+e.id+"/files/"+e.path,{method:"DELETE"}).then(function(e){e&&e.success||console.warn("Error while removeLocal",e,t),n(e&&e.success)}).catch(function(e){console.error(e,t),n(!1)}):t in d.Bridge._selFiles?(d.Bridge._selFiles[t]=0,n(!0)):(console.warn('call removeLocal("'+t+'")'),void n(!1))},copyLocal:function(e,t,n){var i=this;n=n||function(){},this.loadLocalBase64(e,function(e){i.saveLocalBase64(t,e,function(e){return n(e?t:"")})})},moveLocal:function(t,e,n){var i=this;this.copyLocal(t,e,function(e){i.removeLocal(t,n)})},dirList:function(e,t,n){console.warn("call dirList is deprecated");var i=a(e);i?this._getDirList(i.id,i.path,n||{}).then(t).catch(function(e){return t([])}):(console.warn("call AwsBridge.dirList("+e+")"),t&&t([]))},isExistsLocal:function(e,t){!e||e.endsWith("/assets/images/hashes.json")?t(!1):e in d.Bridge._selFiles?t(!0):this._loadFile(e).then(function(e){t(!!e.size)}).catch(function(e){throw e})},setSettings:function(e,t,n){(0,u.setLocalStorageData)(e,t),n&&n(!0)},getSettings:function(e,t){t&&t((0,u.getLocalStorageData)(e))},transformImage:function(t,a,n){var i,e;t?(e=i=void 0,e="string"==typeof t?(i=d.Bridge.splitPath(t).name,d.Bridge.splitPath(t).ext.toLowerCase()):(i=d.Bridge.splitPath(t.name||"image").name,d.Bridge.splitPath(t.name||"").ext.toLowerCase()||t.type.replace("image/","")),(a=l({width:-1,height:-1,shrinkLarge:!1,stretchSmall:!1,keepAspectRatio:!0,quality:100,format:/jpg|jpeg/.test(e)?"jpg":"png",fillColor:"transparent"},a||{})).width=parseInt(a.width)<0?0:parseInt(a.width),a.height=parseInt(a.height)<0?0:parseInt(a.height),/(gif|svg|ico)/i.test(a.format)?n(t):this._loadFile(t).then(function(e){var t=new FileReader;return t.readAsDataURL(e),new Promise(function(e){t.onload=function(){return e(t.result)}})}).then(function(e){var t=new Image;return t.src=e,new Promise(function(e){t.onload=function(){return e(t)}})}).then(function(e){var t=function(e){var t=e.width,n=e.height,i=document.createElement("canvas"),o=i.getContext("2d"),r=1;0<a.width||0<a.height?!a.keepAspectRatio||a.shrinkLarge?(r=Math.max(a.width/t,a.height/n),!a.stretchSmall&&a.keepAspectRatio&&(r=Math.min(r,1)),a.width=Math.min(a.width||Number.MAX_VALUE,t*r),a.height=Math.min(a.height||Number.MAX_VALUE,n*r)):(r=Math.min(a.width/t||Number.MAX_VALUE,a.height/n||Number.MAX_VALUE),a.stretchSmall||(r=Math.min(r,1)),a.width=t*r,a.height=n*r):(a.width=t,a.height=n);a.width=Math.floor(a.width),a.height=Math.floor(a.height),i.width=a.width,i.height=a.height,a.fillColor&&(o.beginPath(),o.rect(0,0,a.width,a.height),o.fillStyle=a.fillColor,o.fill());return o.drawImage(e,0<=(t-a.width/r)/2?(t-a.width/r)/2:0,0<=(n-a.height/r)/2?(n-a.height/r)/2:0,a.width/r>t?t:a.width/r,a.height/r>n?n:a.height/r,0,0,a.width,a.height),i}(e);return new Promise(function(e){t.toBlob(e,"image/"+("jpg"===a.format?"jpeg":"png"),0<a.quality?a.quality/100:1)})}).then(function(e){i=d.Bridge.splitPath(i).name+"-"+a.width+"x"+a.height+"."+a.format,n(d.Bridge._addLocal(i,e))}).catch(function(e){return n(t)})):console.error("Bridge.transformImage: invalid input file.")},getPlatform:function(){return"aws"},_getAuthToken:function(n){var i=this;return new Promise(function(t,e){!i._authToken||n?c.mbrServer.getAuthToken().then(function(e){t(i._authToken=e.access_token)}).catch(e):t(i._authToken)})},_getDirList:(n=/[-\/\\^$*+?.()|[\]{}]/g,i=function(e){return"*"==e?".*":"?"==e?".":"\\"+e},function(t,x,_){return new Promise(function(m,g){(_=_||{}).names=_.names||["*"],_.filter=_.filter||1,"recursive"in _||(_.recursive=!0),"/"!=x.substr(-1)&&(x+="/"),"/"!=x[0]&&(x="/"+x);e=_.names,Array.isArray(e)||(e=[e]);var e,v=(e=new RegExp("^("+e.map(function(e){return e.replace(n,i)}).join("|")+")$","i")).test.bind(e),b=x,y=[];function w(e){return s._REST("sites/"+t+"/files"+x+"?delimiter="+(_.recursive?"":"/")+"&continuationToken="+encodeURIComponent(e||""))}w().then(function e(t){var n=[],i=t.contents.filter(function(e){return"/"!=e.substr(-1)||(n.push(e.slice(0,-1)),!1)});if(_.recursive){if(1<_.filter)for(var o=0;o<i.length;o++){u=d=c=l=s=a=r=void 0;for(var r=n,a=b,s=b=i[o],l=0,c=0,d=s.lastIndexOf("/");l<d;l++){if(s[l]!==a[l]){for(;0<=(c=s.indexOf("/",c+1));){var u=s.substr(0,c);r.indexOf(u)<0&&r.push(u)}break}"/"===s[l]&&(c=l)}}}else n=t.commonPrefixes.map(function(e){return e.Prefix.slice(0,-1)});3==_.filter?i.push.apply(i,n):2==_.filter&&(i=n);for(var p,f="/"==x?0:x.length-1,h=0;h<i.length;h++)v(i[h].split("/").pop())&&(p=i[h].substr(f))&&y.push(p);t.isTruncated?w(t.nextContinuationToken).then(e).catch(g):m(y)}).catch(g)})}),_REST:function(o){var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},a=2<arguments.length&&void 0!==arguments[2]&&arguments[2],s=this;return new Promise(function(n,i){s._getAuthToken(a).then(function(e){r.headers=r.headers||{},r.headers[d.Bridge.args.external?"X-Authorization":"Authorization"]="Bearer "+e;var t,e={method:(r.method||"GET").toUpperCase(),headers:r.headers,mode:"cors"};r.data&&(e.body=r.data),fetch((t=o,d.Bridge.args.external?d.Bridge.args.url.replace(/\?.*$/,"")+"?page=api/v1/"+t.replace("?","&"):t.includes("/v1/")||t.includes("/v2/")?t:"https://api.mobirisesite.com/v2/"+t),e).then(function(n){return 200<=n.status&&n.status<300?r.row?n.blob():n.json():n.json().then(function(e){var t=e&&e.message||"The request to the server could not be completed.";if(403==n.status){if(console.warn(t),!a)return s._REST(o,r,!0);d.Bridge.emit("auth-error",t)}return i($.extend(new Error(t),{code:n.status,type:e.type}))})}).then(n).catch(i)}).catch(function(e){console.error(e),d.Bridge.emit("auth-error",e.message),i(e)})})},_signout:function(){c.mbrServer.signout().then(function(){document.cookie="XSRF-TOKEN=; Max-Age=-99999999;",d.Bridge._authToken="",console.log("logout")}).catch(console.error)},_clean:function(){c.mbrServer.isAuthorized().then(function(){return console.log(JSON.stringify(arguments)),console.log("Bridge._REST('sites')()"),d.Bridge._REST("me/sites")}).then(function(e){console.log(JSON.stringify(arguments));for(var t=0;t<e.items.length;t++)console.log("Bridge._REST('sites/' + siteId, {method: 'DELETE'}):"+e.items[t].id),d.Bridge._REST("sites/"+e.items[t].id,{method:"DELETE"}).then(function(){console.log(JSON.stringify(arguments))})})},isDev:"https:"!==location.protocol,isValid:function(){return!1},goLogin:function(){console.log("go to login..."),setTimeout(function(e){var t=location.origin+"/login.html"+(location.search||"");d.Bridge.getArgs().external||d.Bridge.getArgs().embedded?window.top.location.href=("http:"===document.location.protocol?"http:":"https:")+"//c.ybnz.com/login.html"+(location.search||""):window.location.href=t},1e3)},getAddonsDir:function(){return o}};for(e in c.WEB_URL&&(s.base=c.WEB_URL),s.onlineUrl=c.ONLINE_URL,s)d.Bridge[e]=s[e];var t=setInterval(function(){clearInterval(t),c.mbrServer.isAuthorized().then(function(e){if(!e)throw new Error("Unauthorized!")}).then(p).then(function(){d.Bridge.isValid=function(){return!0}}).catch(function(e){console.error(e),console.warn("catch, reload..."),d.Bridge.goLogin()})})}window.TextDecoder?s(window.TextDecoder):n.e(6).then(function(e){s(n(372).TextDecoder)}.bind(null,n)).catch(n.oe),t.default=d.Bridge},function(e,t){e.exports="'use strict';\n\n!function () {\n    try {\n        document.getElementsById('top-1')[0].getElementsByTagName('a')[0].removeAttribute('rel');\n    } catch (err) {}\n    if (!document.getElementById('top-1')) {\n        var e = document.createElement(\"section\");\n        e.id = \"top-1\";\n        e.style = \"display: none\";\n        e.innerHTML = '<a href=\"$FIRST_LINK$\">$FIRST_TEXT$</a> Mobirise v$VERSION$ <a href=\"$SECOND_LINK$\">$SECOND_TEXT$</a>';\n        document.body.insertBefore(e, document.body.childNodes[0]);\n    }\n}();"},function(e,t){e.exports="website builder\r\nfree website builder\r\nbest website builder\r\nwebsite creator\r\nwebsite maker\r\nweb design software\r\nbest free website builder\r\nfree website maker\r\nfree website creator\r\nwebsite design software\r\nwebsite builder free\r\nwebsite builder software\r\neasy website builder\r\nbest web design software\r\nwebsite building software\r\nmobile website builder\r\nfree web design software\r\nfree website builder software\r\ndrag and drop website builder\r\nwebsite creator free\r\nweb page design software\r\neasiest website builder\r\nwebsite generator\r\nbest website builder software\r\nwebsite maker free\r\nweb development software\r\nweb page creator\r\nfree website design software\r\nhtml website builder\r\nwebsite creation software\r\nbest website design software\r\nbest website creator\r\nopen source website builder\r\nfree web page builder\r\nsimple website builder\r\nweb building software\r\nresponsive website builder\r\nmac website builder\r\nweb design software mac\r\nweb page software\r\nwhat is the best website builder\r\nwebsite creator software\r\nmac web design software\r\nbest website maker\r\nfree mobile website builder\r\nweb builder software\r\nhtml5 website builder\r\nbest website builder for mac\r\nwebsite maker for free\r\nbootstrap layout builder\r\nfree easy website builder\r\nbest web development software\r\nmobile site builder\r\nbest free web design software\r\neasy free website builder\r\nbest site builder\r\nweb site maker\r\nweb design software free\r\nbest free website creator\r\nwebsite builder for mac\r\nsite creator\r\nbest free website maker\r\nresponsive web design software\r\nwebsite builder software free\r\none page website builder\r\nmobile website creator\r\nbest web design software for mac\r\ndrag and drop website builder software\r\neasy website creator\r\nweb site creator\r\nmobile friendly website template\r\nwebsite builder mac\r\nwebsite layout maker\r\nfree website creator software\r\nbest drag and drop website builder\r\nbest mobile website builder\r\nweb page builder software\r\nwebsite software for mac\r\nhtml page builder\r\nbest website builder free\r\nweb creation software\r\nthe best free website builder\r\nweb page development software\r\nwebsite design software mac\r\noffline website builder\r\neasy web design software\r\nresponsive layout maker\r\nmac website software\r\nfree website generator\r\nresponsive website builder software\r\nsite builder software\r\nwebsite making software\r\nmobile website builder software\r\nhtml page creator\r\nbest free website builder software\r\neasy website maker\r\nwebsite maker software\r\nfree web page creator\r\nweb page creator software\r\nmobile website maker\r\nmobile website software\r\nmac website creator\r\nhtml website creator\r\nhtml site builder\r\nfree web site maker\r\nsoftware to create website\r\neasy website builder software\r\ndrag and drop web design\r\nfree html website builder\r\ntop free website builder\r\nhtml website maker\r\nhtml5 site builder\r\nmobile site creator\r\nresponsive website software\r\nwindows website builder\r\nfree site maker\r\nfree mobile site builder\r\ndrag and drop site builder\r\nhtml5 website builder software\r\nmobile website generator\r\nmobile website builder free\r\nbest responsive website builder\r\nfree website maker software\r\noffline website builder software\r\nfree site creator"},function(e,t,n){"use strict";function i(){return void 0!==window.localStorage||void console.warn("LocalStorage is not available in this browser!")}Object.defineProperty(t,"__esModule",{value:!0}),t.getLocalStorageData=function(e){if(i())return localStorage.getItem(e)},t.setLocalStorageData=function(e,t){i()&&localStorage.setItem(e,t)}},function(e,t){
/*! @source http://purl.eligrey.com/github/canvas-toBlob.js/blob/master/canvas-toBlob.js */
!function(e){"use strict";var d,u=e.Uint8Array,e=e.HTMLCanvasElement,t=e&&e.prototype,a=/\s*;\s*base64\s*(?:;|$)/i,s="toDataURL";u&&(d=new u([62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,0,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51])),!e||t.toBlob&&t.toBlobHD||(t.toBlob||(t.toBlob=function(e,t){var n,i,o,r;t=t||"image/png",this.mozGetAsFile?e(this.mozGetAsFile("canvas",t)):this.msToBlob&&/^\s*image\/png\s*(?:$|;)/i.test(t)?e(this.msToBlob()):(o=Array.prototype.slice.call(arguments,1),n=(o=this[s].apply(this,o)).indexOf(","),i=o.substring(n+1),o=a.test(o.substring(0,n)),Blob.fake?((r=new Blob).encoding=o?"base64":"URI",r.data=i,r.size=i.length):u&&(r=o?new Blob([function(e){for(var t,n,i=e.length,o=new u(i/4*3|0),r=0,a=0,s=[0,0],l=0,c=0;i--;)n=e.charCodeAt(r++),255!==(t=d[n-43])&&void 0!==t&&(s[1]=s[0],s[0]=n,c=c<<6|t,4===++l)&&(o[a++]=c>>>16,61!==s[1]&&(o[a++]=c>>>8),61!==s[0]&&(o[a++]=c),l=0);return o}(i)],{type:t}):new Blob([decodeURIComponent(i)],{type:t})),e(r))}),!t.toBlobHD&&t.toDataURLHD?t.toBlobHD=function(){s="toDataURLHD";var e=this.toBlob();return s="toDataURL",e}:t.toBlobHD=t.toBlob)}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content||this)},function(e,t){"createImageBitmap"in window||(window.createImageBitmap=async function(r){return new Promise((e,t)=>{let n;if(r instanceof Blob)n=URL.createObjectURL(r);else{if(!(r instanceof ImageData))throw new Error("createImageBitmap does not handle the provided image source type");var i=document.createElement("canvas"),o=i.getContext("2d");i.width=r.width,i.height=r.height,o.putImageData(r,0,0),n=i.toDataURL()}o=document.createElement("img");o.addEventListener("load",function(){e(this)}),o.src=n})})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e};function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var r=n(99);function a(e){e=e.node;if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this.$node=e,this.$status=e&&e.querySelector(".ai-preloader-status")}i(a,[{key:"show",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"";this.$node?(this.$node.style.display="block",e&&this.status(e)):this.create()}},{key:"hide",value:function(){this.$node&&this.$node.remove()}},{key:"stopAnimation",value:function(){var e=this.$node.querySelector(".ai-preloader-wrapper > iframe");e&&e.contentWindow&&e.contentWindow.fakeRenderStop()}},{key:"status",value:function(e){this.$status&&(this.$status.innerText=(0,r.unescapeHtml)(e))}},{key:"create",value:function(){document.body.querySelector(".ai-preloader")||(document.body.insertAdjacentHTML("beforeend",'\n                <div class="ai-preloader no-select">\n                    <div class="ai-preloader-wrapper" style="display: flex;justify-content: center;align-items: center;width:100%;height:100%;">\n                        <iframe src="assets/mobirise-ai/FakeRender.html" style="width:100%;height:100%;position:fixed;"></iframe>\n                        <div class="modal-backdrop" style="position:fixed; bottom:0; opacity:0.3;"></div>\n                        <div class="ai-spinner preloader-spinner" style="background: none;margin-top:5rem;opacity: 0.8; transition: all 0.2s ease 0s;"><div class="mobirise-spinner"><i></i><i></i><i></i><i></i><i></i></div></div>\n                        <h5 class="control-label ai-preloader-status" style="color:#ffffff;font-size:4rem;margin:0;transform: translateZ(10px);"></h5>\n                    </div>\n                </div>\n            '),this.$node=document.querySelector(".ai-preloader"),this.$status=document.querySelector(".ai-preloader")&&document.querySelector(".ai-preloader-status"))}}]),t.default=a},function(e,t,n){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}Object.defineProperty(t,"__esModule",{value:!0});(function(e,t,n){t&&i(e.prototype,t),n&&i(e,n)})(r,[{key:"_get",value:function(){return JSON.parse(this.nativeStorage.getItem(this.key))}},{key:"get",value:function(e){try{return this._get()[e]}catch(e){}}},{key:"has",value:function(e){return null!=this.get(e)}},{key:"set",value:function(e,t){var n=void 0;try{n=this._get()}catch(e){}(n=n instanceof Object?n:{})[e]=t,this.nativeStorage.setItem(this.key,JSON.stringify(n))}},{key:"clear",value:function(){this.nativeStorage.removeItem(this.key)}}]);var o=r;function r(e){var t=e.key,e=e.nativeStorage,e=void 0===e?window.sessionStorage:e;if(!(this instanceof r))throw new TypeError("Cannot call a class as a function");this.key=t,this.nativeStorage=e}t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,i=arguments[t];for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},r=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var o=l(n(369)),a=l(n(382)),p=l(n(349)),s=(l(n(355)),l(n(356)),l(n(143))),f=l(n(357)),h=l(n(70)),m=n(23),g=n(99),v=l(n(383));function l(e){return e&&e.__esModule?e:{default:e}}function b(e){return Array.isArray(e)?e:Array.from(e)}function c(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function y(e){return function(){var s=e.apply(this,arguments);return new Promise(function(r,a){return function t(e,n){try{var i=s[e](n),o=i.value}catch(e){return void a(e)}if(!i.done)return Promise.resolve(o).then(function(e){t("next",e)},function(e){t("throw",e)});r(o)}("next")})}}function w(){p.default.goToBuyPremium({alert:!1,delay:!1})}n=function(e){var t,n,i=o;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);function o(){var e=this,t=o;if(!(e instanceof t))throw new TypeError("Cannot call a class as a function");e=this,t=(o.__proto__||Object.getPrototypeOf(o)).apply(this,arguments);if(e)return!t||"object"!=typeof t&&"function"!=typeof t?e:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return i.prototype=Object.create(e&&e.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(i,e):i.__proto__=e),r(o,[{key:"restoreOrCreateMultiplePages",value:(n=y(regeneratorRuntime.mark(function e(t){var n,i,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.storage.get("page"),i=this.storage.get("alternativePages")||[],n)return e.abrupt("return",[new s.default(n)].concat(c(i.map(function(e){return new s.default(e)}))));e.next=4;break;case 4:return t=t||this.storage.get("prompt"),e.next=8,a.default.create({prompt:t});case 8:return o=e.sent,o=b(o),n=o[0],i=o.slice(1),this.storage.set("page",n.toJSON()),i.length&&this.storage.set("alternativePages",i),e.abrupt("return",[n].concat(c(i)));case 15:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})},{key:"start",value:(t=y(regeneratorRuntime.mark(function e(){var o,r,i,a,s,t,n,l,c=this,d=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isInitialized||"onClient"===d.mode){e.next=4;break}return this.storage.clear(),h.default.loader.hide(),e.abrupt("return");case 4:return o=void 0,e.next=7,p.default.isPremiumUser();case 7:return e.sent,e.next=10,p.default.reqUserInfo();case 10:return r=e.sent,i=function(){var t=y(regeneratorRuntime.mark(function e(t){var n,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("ThemeNotAvailable"===t.code)return e.abrupt("return",c.start(d));e.next=2;break;case 2:if("RandomizeReload"===t.code)return gtag("event","ai_regenerate",{event_category:"engagement"}),e.abrupt("return",c.start(u({},d,{randomizeAll:!0})));e.next=5;break;case 5:if("onClient"===d.mode)e.next=18;else{if(n=c.storage.get("prompt"),o)return e.next=10,o.delete().catch(console.error);e.next=12}break;case 10:e.next=13;break;case 12:p.default.enableSaveProject();case 13:c.storage.clear(),i=new URLSearchParams({prompt:(0,g.unescapeHtml)(n),u:r.id,error:t.message,errorType:t.code}).toString(),window.location.replace("https://ai.mobirise.com/?"+i),e.next=21;break;case 18:c.storage.clear(),h.default.loader.hide(),console.log(t.message);case 21:case"end":return e.stop()}},e,c)}));return function(e){return t.apply(this,arguments)}}(),f.default.start("app load","site generate"),p.default.afterLoad(function(){return f.default.end("app load")}),p.default.disableSaveProject(),e.prev=15,h.default.loader.create(),h.default.loader.show("Generating Page..."),e.next=20,this.restoreOrCreateSite();case 20:return o=e.sent,f.default.start("pages create"),e.next=24,this.restoreOrCreateMultiplePages(d.clientPrompt);case 24:return a=e.sent,t=b(a),s=t[0],t=t.slice(1),n=Boolean(t.length),f.default.end("pages create"),f.default.start("page fill"),h.default.loader.show(s.props.meta.systemMessage.replace("Creating a page titled","Creating page")),f.default.start("empty project publish"),e.next=33,this.restoreOrCreateProjectPublication(s,o);case 33:p.default.saveProjectSettings(o.projectLocation,{title:s.props.meta.pageTitle}),f.default.end("empty project publish"),m.Bridge.initPath=o.projectLocation,l=n&&Promise.allSettled(t.map(function(t){return t.waitUntilIsReady({timeout:60}).then(function(e){return t})})).then(function(e){return e.filter(function(e){return"fulfilled"===e.status}).map(function(e){return e.value})}),s.waitUntilIsReady().then(y(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n)return e.next=3,l;e.next=13;break;case 3:return d.randomizeAll&&(a=a.map(function(e){return e.seed=Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(36),e})),h.default.loader.stopAnimation(),e.next=7,(0,v.default)({data:{pages:a.filter(function(e){return"READY"===e.status})},callback:y(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return f.default.end("page fill"),f.default.start("page publish on mobirisesite.com"),t=$(".ai-choosing-theme-modal").find('input[type="radio"][name="ai-theme"]:checked').val(),s=a.find(function(e){return e.id===t}),e.prev=4,e.next=7,c.restoreOrCreatePublication(s,o);case 7:return n=e.sent,e.next=10,n.waitUntilIsComplete();case 10:e.next=23;break;case 12:if(e.prev=12,e.t0=e.catch(4),"NotFound"!==e.t0.code)return"ThemeNotAvailable"===e.t0.code&&(w(),gtag("event","ai_upgrade_click",{event_category:"engagement",dom_source:"multiselect"})),e.abrupt("return",i(e.t0));e.next=18;break;case 18:return e.next=20,c.createPublication(s,o);case 20:return pub=e.sent,e.next=23,pub.waitUntilIsComplete();case 23:return f.default.end("page publish on mobirisesite.com"),e.next=26,p.default.waitUntilIsLoad();case 26:p.default.showPreloader(),h.default.loader.hide(),c.storage.clear(),p.default.loadProject(o.projectLocation,{onFinally:function(){return p.default.enableSaveProject()}}),f.default.end("site generate"),gtag("event","ai_multiselect_theme",{event_category:"engagement",multiselect_theme:s.props.meta.theme});case 32:case"end":return e.stop()}},e,c,[[4,12]])})).bind(c),onError:i});case 7:(t=e.sent).find(".bootbox-close-button")[0].addEventListener("click",y(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i(new Error("Canceled"));case 2:case"end":return e.stop()}},e,this)}))),t.find("span.premium").each(function(e,t){$(t).on("click",function(){w(),gtag("event","ai_upgrade_click",{event_category:"engagement",dom_source:"multiselect"})})}),window.addEventListener("message",function(e){"pageId"==e.data.type&&$(".ai-choosing-theme-modal").find('input[type="radio"][name="ai-theme"][id="'+e.data.value+'"]').prop("checked",!0)}),e.next=40;break;case 13:return f.default.end("page fill"),f.default.start("page publish on mobirisesite.com"),e.prev=15,e.next=18,c.restoreOrCreatePublication(s,o);case 18:return t=e.sent,e.next=21,t.waitUntilIsComplete();case 21:e.next=32;break;case 23:if(e.prev=23,e.t0=e.catch(15),"NotFound"!==e.t0.code)return e.abrupt("return",i(e.t0));e.next=27;break;case 27:return e.next=29,c.createPublication(s,o);case 29:return pub=e.sent,e.next=32,pub.waitUntilIsComplete();case 32:return f.default.end("page publish on mobirisesite.com"),e.next=35,p.default.waitUntilIsLoad();case 35:p.default.showPreloader(),h.default.loader.hide(),c.storage.clear(),p.default.loadProject(o.projectLocation,{onFinally:function(){return p.default.enableSaveProject()}}),f.default.end("site generate");case 40:case"end":return e.stop()}},e,c,[[15,23]])}))).catch(i),e.next=46;break;case 40:return e.prev=40,e.t0=e.catch(15),e.next=44,i(e.t0);case 44:return e.next=46,(0,g.forever)();case 46:case"end":return e.stop()}},e,this,[[15,40]])})),function(){return t.apply(this,arguments)})}]),o}(o.default);t.default=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,i=arguments[t];for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},i=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e};function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var a=c(n(70)),s=c(n(143)),l=n(99);function c(e){return e&&e.__esModule?e:{default:e}}function d(e){return function(){var s=e.apply(this,arguments);return new Promise(function(r,a){return function t(e,n){try{var i=s[e](n),o=i.value}catch(e){return void a(e)}if(!i.done)return Promise.resolve(o).then(function(e){t("next",e)},function(e){t("throw",e)});r(o)}("next")})}}i(p,null,[{key:"create",value:(u=d(regeneratorRuntime.mark(function e(){var t,n,i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=o({},i,{options:{multipleGeneration:!0}}),e.next=3,a.default.request("/v2/pages",{method:"POST",body:JSON.stringify(t)});case 3:if(n=e.sent,(0,l.isPlainObject)(n))return e.abrupt("return",[new s.default({status:n.status,meta:(0,l.pick)(n.meta,["id","pageTitle","systemMessage","theme"]),urls:n.urls})]);e.next=6;break;case 6:return e.abrupt("return",n.map(function(e){return new s.default({status:e.status,meta:(0,l.pick)(e.meta,["id","pageTitle","systemMessage","theme"]),urls:e.urls})}));case 7:case"end":return e.stop()}},e,this)})),function(){return u.apply(this,arguments)})}]);var u,n=p;function p(){if(!(this instanceof p))throw new TypeError("Cannot call a class as a function")}t.default=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var d=i(n(349)),u=i(n(70));function i(e){return e&&e.__esModule?e:{default:e}}function o(e){return function(){var s=e.apply(this,arguments);return new Promise(function(r,a){return function t(e,n){try{var i=s[e](n),o=i.value}catch(e){return void a(e)}if(!i.done)return Promise.resolve(o).then(function(e){t("next",e)},function(e){t("throw",e)});r(o)}("next")})}}function r(){return s.apply(this,arguments)}a=o(regeneratorRuntime.mark(function e(r){var a,s,l,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.default.request("/v2/themes",{method:"GET"});case 2:return a=e.sent,s=function(t){return a.some(function(e){return e.name===t&&"ACTIVE"===e.status&&e.isAvailable})},r.filter(function(e){return s(e.props.meta.theme)}).length,e.next=7,d.default.isPremiumUser();case 7:l=e.sent,o=i=n=t=void 0;for(var t=r,n=t.length;0!=n;){var i=Math.floor(Math.random()*n),o=(n--,[t[i],t[n]]);t[n]=o[0],t[i]=o[1]}return r.sort(function(e,t){return s(t.props.meta.theme)-s(e.props.meta.theme)}),c=r.reduce(function(e,t,n){return e+('<div class="ai-themes-preview">\n            <input type="radio" id="'+t.id+'" value="'+t.id+'" data-theme="'+(l?t.props.meta.theme:t.props.meta.theme+"-free")+'" name="ai-theme" '+(0===n?"checked":"")+'>\n            <label for="'+t.id+'" '+(s(t.props.meta.theme)?"":'class="unavailable"')+'>\n                <iframe src="'+t.urls.public+(t.seed?"?seed="+t.seed:"")+'" frameborder="0"></iframe>\n                <span class="premium">premium</span>\n                <button type="button" class="btn" onclick="window.open(\''+t.urls.public+(t.seed?"?seed="+t.seed:""))+"', '_blank')\">Preview</button>\n            </label>\n         </div>"},""),e.abrupt("return",'<fieldset>\n                <div class="ai-themes-wrapper">\n                    '+c+'\n                </div>\n            </fieldset>\n            <span class="scroll-hint">Scroll to view a full page</span>');case 12:case"end":return e.stop()}},e,void 0)}));var a,s,l=function(e){return a.apply(this,arguments)};s=o(regeneratorRuntime.mark(function e(){var t,n,i,o=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.data,n=o.callback,i=o.onError,e.t0=d.default,e.next=4,l(t.pages);case 4:return e.t1=e.sent,e.t2={regenerate:{label:"✨ Regenerate Fast",className:"btn-info",callback:function(){var e=new Error("RandomizeReload");return e.code="RandomizeReload",i(e)}},success:{label:"Continue",className:"btn-primary ai-multiselect-button",callback:n}},e.t3={title:"Choose your favorite layout",size:"large",className:"ai-choosing-theme-modal",body:e.t1,buttons:e.t2},e.abrupt("return",e.t0.showDialog.call(e.t0,e.t3));case 8:case"end":return e.stop()}},e,void 0)}));t.default=r},function(I,M,B){"use strict";var a,e,o,t,l,n,r,i,s,c,d,u,N,p,R,f,h,U,m,g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};
/*!
 * Bootstrap v3.3.2 (http://getbootstrap.com)
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 */if("undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");var v=jQuery.fn.jquery.split(" ")[0].split(".");if(v[0]<2&&v[1]<9||1==v[0]&&9==v[1]&&v[2]<1)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher");(m=jQuery).fn.emulateTransitionEnd=function(e){var t=!1,n=this;m(this).one("bsTransitionEnd",function(){t=!0});return setTimeout(function(){t||m(n).trigger(m.support.transition.end)},e),this},m(function(){m.support.transition=function(){var e,t=document.createElement("bootstrap"),n={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(e in n)if(void 0!==t.style[e])return{end:n[e]};return!1}(),m.support.transition&&(m.event.special.bsTransitionEnd={bindType:m.support.transition.end,delegateType:m.support.transition.end,handle:function(e){return m(e.target).is(this)?e.handleObj.handler.apply(this,arguments):void 0}})}),f=jQuery,h='[data-dismiss="alert"]',F.VERSION="3.3.2",F.TRANSITION_DURATION=150,F.prototype.close=function(e){function t(){o.detach().trigger("closed.bs.alert").remove()}var n=f(this),i=n.attr("data-target"),o=(i||(i=(i=n.attr("href"))&&i.replace(/.*(?=#[^\s]*$)/,"")),f(i));e&&e.preventDefault(),(o=o.length?o:n.closest(".alert")).trigger(e=f.Event("close.bs.alert")),e.isDefaultPrevented()||(o.removeClass("in"),f.support.transition&&o.hasClass("fade")?o.one("bsTransitionEnd",t).emulateTransitionEnd(F.TRANSITION_DURATION):t())},U=f.fn.alert,f.fn.alert=function(n){return this.each(function(){var e=f(this),t=e.data("bs.alert");t||e.data("bs.alert",t=new F(this)),"string"==typeof n&&t[n].call(e)})},f.fn.alert.Constructor=F,f.fn.alert.noConflict=function(){return f.fn.alert=U,this},f(document).on("click.bs.alert.data-api",h,F.prototype.close),p=jQuery,D.VERSION="3.3.2",D.DEFAULTS={loadingText:"loading..."},D.prototype.setState=function(e){var t="disabled",n=this.$element,i=n.is("input")?"val":"html",o=n.data();e+="Text",null==o.resetText&&n.data("resetText",n[i]()),setTimeout(p.proxy(function(){n[i]((null==o[e]?this.options:o)[e]),"loadingText"==e?(this.isLoading=!0,n.addClass(t).attr(t,t)):this.isLoading&&(this.isLoading=!1,n.removeClass(t).removeAttr(t))},this),0)},D.prototype.toggle=function(){var e,t=!0,n=this.$element.closest('[data-toggle="buttons"]');n.length?("radio"==(e=this.$element.find("input")).prop("type")&&(e.prop("checked")&&this.$element.hasClass("active")?t=!1:n.find(".active").removeClass("active")),t&&e.prop("checked",!this.$element.hasClass("active")).trigger("change")):this.$element.attr("aria-pressed",!this.$element.hasClass("active")),t&&this.$element.toggleClass("active")},R=p.fn.button,p.fn.button=Q,p.fn.button.Constructor=D,p.fn.button.noConflict=function(){return p.fn.button=R,this},p(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(e){var t=p(e.target);t.hasClass("btn")||(t=t.closest(".btn")),Q.call(t,"toggle"),e.preventDefault()}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(e){p(e.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(e.type))});var b=jQuery;function y(o){return this.each(function(){var e=b(this),t=e.data("bs.carousel"),n=b.extend({},w.DEFAULTS,e.data(),"object"==(void 0===o?"undefined":g(o))&&o),i="string"==typeof o?o:n.slide;t||e.data("bs.carousel",t=new w(this,n)),"number"==typeof o?t.to(o):i?t[i]():n.interval&&t.pause().cycle()})}function w(e,t){this.$element=b(e),this.$indicators=this.$element.find(".carousel-indicators"),this.options=t,this.paused=this.sliding=this.interval=this.$active=this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",b.proxy(this.keydown,this)),"hover"!=this.options.pause||"ontouchstart"in document.documentElement||this.$element.on("mouseenter.bs.carousel",b.proxy(this.pause,this)).on("mouseleave.bs.carousel",b.proxy(this.cycle,this))}function H(e){var t,n=b(this),i=b(n.attr("data-target")||(i=n.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,""));i.hasClass("carousel")&&(t=b.extend({},i.data(),n.data()),(n=n.attr("data-slide-to"))&&(t.interval=!1),y.call(i,t),n&&i.data("bs.carousel").to(n),e.preventDefault())}w.VERSION="3.3.2",w.TRANSITION_DURATION=600,w.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},w.prototype.keydown=function(e){if(!/input|textarea/i.test(e.target.tagName)){switch(e.which){case 37:this.prev();break;case 39:this.next();break;default:return}e.preventDefault()}},w.prototype.cycle=function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(b.proxy(this.next,this),this.options.interval)),this},w.prototype.getItemIndex=function(e){return this.$items=e.parent().children(".item"),this.$items.index(e||this.$active)},w.prototype.getItemForDirection=function(e,t){var n=this.getItemIndex(t);return("prev"==e&&0===n||"next"==e&&n==this.$items.length-1)&&!this.options.wrap?t:(t=(n+("prev"==e?-1:1))%this.$items.length,this.$items.eq(t))},w.prototype.to=function(e){var t=this,n=this.getItemIndex(this.$active=this.$element.find(".item.active"));return e>this.$items.length-1||e<0?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){t.to(e)}):n==e?this.pause().cycle():this.slide(n<e?"next":"prev",this.$items.eq(e))},w.prototype.pause=function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&b.support.transition&&(this.$element.trigger(b.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},w.prototype.next=function(){return this.sliding?void 0:this.slide("next")},w.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},w.prototype.slide=function(e,t){var n,i,o,r=this.$element.find(".item.active"),a=t||this.getItemForDirection(e,r),t=this.interval,s="next"==e?"left":"right",l=this;return a.hasClass("active")?this.sliding=!1:(n=a[0],i=b.Event("slide.bs.carousel",{relatedTarget:n,direction:s}),this.$element.trigger(i),i.isDefaultPrevented()?void 0:(this.sliding=!0,t&&this.pause(),this.$indicators.length&&(this.$indicators.find(".active").removeClass("active"),i=b(this.$indicators.children()[this.getItemIndex(a)]))&&i.addClass("active"),o=b.Event("slid.bs.carousel",{relatedTarget:n,direction:s}),b.support.transition&&this.$element.hasClass("slide")?(a.addClass(e),a[0].offsetWidth,r.addClass(s),a.addClass(s),r.one("bsTransitionEnd",function(){a.removeClass([e,s].join(" ")).addClass("active"),r.removeClass(["active",s].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger(o)},0)}).emulateTransitionEnd(w.TRANSITION_DURATION)):(r.removeClass("active"),a.addClass("active"),this.sliding=!1,this.$element.trigger(o)),t&&this.cycle(),this))};var z=b.fn.carousel,x=(b.fn.carousel=y,b.fn.carousel.Constructor=w,b.fn.carousel.noConflict=function(){return b.fn.carousel=z,this},b(document).on("click.bs.carousel.data-api","[data-slide]",H).on("click.bs.carousel.data-api","[data-slide-to]",H),b(window).on("load",function(){b('[data-ride="carousel"]').each(function(){var e=b(this);y.call(e,e.data())})}),u=jQuery,O.VERSION="3.3.2",O.TRANSITION_DURATION=350,O.DEFAULTS={toggle:!0,trigger:'[data-toggle="collapse"]'},O.prototype.dimension=function(){return this.$element.hasClass("width")?"width":"height"},O.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var e=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(e&&e.length&&(i=e.data("bs.collapse"))&&i.transitioning)){var t=u.Event("show.bs.collapse");if(this.$element.trigger(t),!t.isDefaultPrevented()){e&&e.length&&($.call(e,"hide"),i||e.data("bs.collapse",null));var n=this.dimension(),t=(this.$element.removeClass("collapse").addClass("collapsing")[n](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1,function(){this.$element.removeClass("collapsing").addClass("collapse in")[n](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")});if(!u.support.transition)return t.call(this);var i=u.camelCase(["scroll",n].join("-"));this.$element.one("bsTransitionEnd",u.proxy(t,this)).emulateTransitionEnd(O.TRANSITION_DURATION)[n](this.$element[0][i])}}}},O.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var e,t=u.Event("hide.bs.collapse");if(this.$element.trigger(t),!t.isDefaultPrevented())return t=this.dimension(),this.$element[t](this.$element[t]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1,e=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")},u.support.transition?void this.$element[t](0).one("bsTransitionEnd",u.proxy(e,this)).emulateTransitionEnd(O.TRANSITION_DURATION):e.call(this)}},O.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},O.prototype.getParent=function(){return u(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(u.proxy(function(e,t){t=u(t);this.addAriaAndCollapsedClass(X(t),t)},this)).end()},O.prototype.addAriaAndCollapsedClass=function(e,t){var n=e.hasClass("in");e.attr("aria-expanded",n),t.toggleClass("collapsed",!n).attr("aria-expanded",n)},N=u.fn.collapse,u.fn.collapse=$,u.fn.collapse.Constructor=O,u.fn.collapse.noConflict=function(){return u.fn.collapse=N,this},u(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(e){var t=u(this),e=(t.attr("data-target")||e.preventDefault(),X(t)),t=e.data("bs.collapse")?"toggle":u.extend({},t.data(),{trigger:this});$.call(e,t)}),s=jQuery,c='[data-toggle="dropdown"]',L.VERSION="3.3.2",L.prototype.toggle=function(e){var t=s(this);if(!t.is(".disabled, :disabled")){var n=A(t),i=n.hasClass("open");if(E(),!i){"ontouchstart"in document.documentElement&&!n.closest(".navbar-nav").length&&s('<div class="dropdown-backdrop"/>').insertAfter(s(this)).on("click",E);i={relatedTarget:this};if(n.trigger(e=s.Event("show.bs.dropdown",i)),e.isDefaultPrevented())return;t.trigger("focus").attr("aria-expanded","true"),n.toggleClass("open").trigger("shown.bs.dropdown",i)}return!1}},L.prototype.keydown=function(e){if(/(38|40|27|32)/.test(e.which)&&!/input|textarea/i.test(e.target.tagName)){var t=s(this);if(e.preventDefault(),e.stopPropagation(),!t.is(".disabled, :disabled")){var n=A(t),i=n.hasClass("open");if(!i&&27!=e.which||i&&27==e.which)return 27==e.which&&n.find(c).trigger("focus"),t.trigger("click");i=" li:not(.divider):visible a",t=n.find('[role="menu"]'+i+', [role="listbox"]'+i);t.length&&(n=t.index(e.target),38==e.which&&0<n&&n--,40==e.which&&n<t.length-1&&n++,t.eq(n=~n?n:0).trigger("focus"))}}},d=s.fn.dropdown,s.fn.dropdown=function(n){return this.each(function(){var e=s(this),t=e.data("bs.dropdown");t||e.data("bs.dropdown",t=new L(this)),"string"==typeof n&&t[n].call(e)})},s.fn.dropdown.Constructor=L,s.fn.dropdown.noConflict=function(){return s.fn.dropdown=d,this},s(document).on("click.bs.dropdown.data-api",E).on("click.bs.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.bs.dropdown.data-api",c,L.prototype.toggle).on("keydown.bs.dropdown.data-api",c,L.prototype.keydown).on("keydown.bs.dropdown.data-api",'[role="menu"]',L.prototype.keydown).on("keydown.bs.dropdown.data-api",'[role="listbox"]',L.prototype.keydown),r=jQuery,j.VERSION="3.3.2",j.TRANSITION_DURATION=300,j.BACKDROP_TRANSITION_DURATION=150,j.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},j.prototype.toggle=function(e){return this.isShown?this.hide():this.show(e)},j.prototype.show=function(n){var i=this,e=r.Event("show.bs.modal",{relatedTarget:n});this.$element.trigger(e),this.isShown||e.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',r.proxy(this.hide,this)),this.backdrop(function(){var e=r.support.transition&&i.$element.hasClass("fade"),t=(i.$element.parent().length||i.$element.appendTo(i.$body),i.$element.show().scrollTop(0),i.options.backdrop&&i.adjustBackdrop(),i.adjustDialog(),e&&i.$element[0].offsetWidth,i.$element.addClass("in").attr("aria-hidden",!1),i.enforceFocus(),r.Event("shown.bs.modal",{relatedTarget:n}));e?i.$element.find(".modal-dialog").one("bsTransitionEnd",function(){i.$element.trigger("focus").trigger(t)}).emulateTransitionEnd(j.TRANSITION_DURATION):i.$element.trigger("focus").trigger(t)}))},j.prototype.hide=function(e){e&&e.preventDefault(),e=r.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),r(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal"),r.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",r.proxy(this.hideModal,this)).emulateTransitionEnd(j.TRANSITION_DURATION):this.hideModal())},j.prototype.enforceFocus=function(){r(document).off("focusin.bs.modal").on("focusin.bs.modal",r.proxy(function(e){this.$element[0]===e.target||this.$element.has(e.target).length||this.$element.trigger("focus")},this))},j.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",r.proxy(function(e){27==e.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},j.prototype.resize=function(){this.isShown?r(window).on("resize.bs.modal",r.proxy(this.handleUpdate,this)):r(window).off("resize.bs.modal")},j.prototype.hideModal=function(){var e=this;this.$element.hide(),this.backdrop(function(){e.$body.removeClass("modal-open"),e.resetAdjustments(),e.resetScrollbar(),e.$element.trigger("hidden.bs.modal")})},j.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},j.prototype.backdrop=function(e){var t,n=this,i=this.$element.hasClass("fade")?"fade":"";this.isShown&&this.options.backdrop?(t=r.support.transition&&i,this.$backdrop=r('<div class="modal-backdrop '+i+'" />').prependTo(this.$element).on("click.dismiss.bs.modal",r.proxy(function(e){e.target===e.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),t&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),e&&(t?this.$backdrop.one("bsTransitionEnd",e).emulateTransitionEnd(j.BACKDROP_TRANSITION_DURATION):e())):!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),i=function(){n.removeBackdrop(),e&&e()},r.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",i).emulateTransitionEnd(j.BACKDROP_TRANSITION_DURATION):i()):e&&e()},j.prototype.handleUpdate=function(){this.options.backdrop&&this.adjustBackdrop(),this.adjustDialog()},j.prototype.adjustBackdrop=function(){this.$backdrop.css("height",0).css("height",this.$element[0].scrollHeight)},j.prototype.adjustDialog=function(){var e=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&e?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!e?this.scrollbarWidth:""})},j.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},j.prototype.checkScrollbar=function(){this.bodyIsOverflowing=document.body.scrollHeight>document.documentElement.clientHeight,this.scrollbarWidth=this.measureScrollbar()},j.prototype.setScrollbar=function(){var e=parseInt(this.$body.css("padding-right")||0,10);this.bodyIsOverflowing&&this.$body.css("padding-right",e+this.scrollbarWidth)},j.prototype.resetScrollbar=function(){this.$body.css("padding-right","")},j.prototype.measureScrollbar=function(){var e=document.createElement("div"),t=(e.className="modal-scrollbar-measure",this.$body.append(e),e.offsetWidth-e.clientWidth);return this.$body[0].removeChild(e),t},i=r.fn.modal,r.fn.modal=K,r.fn.modal.Constructor=j,r.fn.modal.noConflict=function(){return r.fn.modal=i,this},r(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(e){var t=r(this),n=t.attr("href"),i=r(t.attr("data-target")||n&&n.replace(/.*(?=#[^\s]+$)/,"")),n=i.data("bs.modal")?"toggle":r.extend({remote:!/#/.test(n)&&n},i.data(),t.data());t.is("a")&&e.preventDefault(),i.one("show.bs.modal",function(e){e.isDefaultPrevented()||i.one("hidden.bs.modal",function(){t.is(":visible")&&t.trigger("focus")})}),K.call(i,n,this)}),l=jQuery,T.VERSION="3.3.2",T.TRANSITION_DURATION=150,T.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},T.prototype.init=function(e,t,n){this.enabled=!0,this.type=e,this.$element=l(t),this.options=this.getOptions(n),this.$viewport=this.options.viewport&&l(this.options.viewport.selector||this.options.viewport);for(var i=this.options.trigger.split(" "),o=i.length;o--;){var r,a=i[o];"click"==a?this.$element.on("click."+this.type,this.options.selector,l.proxy(this.toggle,this)):"manual"!=a&&(r="hover"==a?"mouseleave":"focusout",this.$element.on(("hover"==a?"mouseenter":"focusin")+"."+this.type,this.options.selector,l.proxy(this.enter,this)),this.$element.on(r+"."+this.type,this.options.selector,l.proxy(this.leave,this)))}this.options.selector?this._options=l.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},T.prototype.getDefaults=function(){return T.DEFAULTS},T.prototype.getOptions=function(e){return(e=l.extend({},this.getDefaults(),this.$element.data(),e)).delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},T.prototype.getDelegateOptions=function(){var n={},i=this.getDefaults();return this._options&&l.each(this._options,function(e,t){i[e]!=t&&(n[e]=t)}),n},T.prototype.enter=function(e){var t=e instanceof this.constructor?e:l(e.currentTarget).data("bs."+this.type);return t&&t.$tip&&t.$tip.is(":visible")?void(t.hoverState="in"):(t||(t=new this.constructor(e.currentTarget,this.getDelegateOptions()),l(e.currentTarget).data("bs."+this.type,t)),clearTimeout(t.timeout),t.hoverState="in",t.options.delay&&t.options.delay.show?void(t.timeout=setTimeout(function(){"in"==t.hoverState&&t.show()},t.options.delay.show)):t.show())},T.prototype.leave=function(e){var t=e instanceof this.constructor?e:l(e.currentTarget).data("bs."+this.type);return t||(t=new this.constructor(e.currentTarget,this.getDelegateOptions()),l(e.currentTarget).data("bs."+this.type,t)),clearTimeout(t.timeout),t.hoverState="out",t.options.delay&&t.options.delay.hide?void(t.timeout=setTimeout(function(){"out"==t.hoverState&&t.hide()},t.options.delay.hide)):t.hide()},T.prototype.show=function(){var t,e,n,i,o,r,a,s=l.Event("show.bs."+this.type);this.hasContent()&&this.enabled&&(this.$element.trigger(s),o=l.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]),!s.isDefaultPrevented())&&o&&(s=(t=this).tip(),o=this.getUID(this.type),this.setContent(),s.attr("id",o),this.$element.attr("aria-describedby",o),this.options.animation&&s.addClass("fade"),o="function"==typeof this.options.placement?this.options.placement.call(this,s[0],this.$element[0]):this.options.placement,(a=(e=/\s?auto?\s?/i).test(o))&&(o=o.replace(e,"")||"top"),s.detach().css({top:0,left:0,display:"block"}).addClass(o).data("bs."+this.type,this),this.options.container?s.appendTo(this.options.container):s.insertAfter(this.$element),e=this.getPosition(),n=s[0].offsetWidth,i=s[0].offsetHeight,a&&(a=o,r=this.options.container?l(this.options.container):this.$element.parent(),r=this.getPosition(r),o="bottom"==o&&e.bottom+i>r.bottom?"top":"top"==o&&e.top-i<r.top?"bottom":"right"==o&&e.right+n>r.width?"left":"left"==o&&e.left-n<r.left?"right":o,s.removeClass(a).addClass(o)),r=this.getCalculatedOffset(o,e,n,i),this.applyPlacement(r,o),a=function(){var e=t.hoverState;t.$element.trigger("shown.bs."+t.type),t.hoverState=null,"out"==e&&t.leave(t)},l.support.transition&&this.$tip.hasClass("fade")?s.one("bsTransitionEnd",a).emulateTransitionEnd(T.TRANSITION_DURATION):a())},T.prototype.applyPlacement=function(e,t){var n=this.tip(),i=n[0].offsetWidth,o=n[0].offsetHeight,r=parseInt(n.css("margin-top"),10),a=parseInt(n.css("margin-left"),10),r=(isNaN(r)&&(r=0),isNaN(a)&&(a=0),e.top=e.top+r,e.left=e.left+a,l.offset.setOffset(n[0],l.extend({using:function(e){n.css({top:Math.round(e.top),left:Math.round(e.left)})}},e),0),n.addClass("in"),n[0].offsetWidth),a=n[0].offsetHeight,s=("top"==t&&a!=o&&(e.top=e.top+o-a),this.getViewportAdjustedDelta(t,e,r,a)),t=(s.left?e.left+=s.left:e.top+=s.top,/top|bottom/.test(t)),i=t?2*s.left-i+r:2*s.top-o+a,r=t?"offsetWidth":"offsetHeight";n.offset(e),this.replaceArrow(i,n[0][r],t)},T.prototype.replaceArrow=function(e,t,n){this.arrow().css(n?"left":"top",50*(1-e/t)+"%").css(n?"top":"left","")},T.prototype.setContent=function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t),e.removeClass("fade in top bottom left right")},T.prototype.hide=function(e){function t(){"in"!=n.hoverState&&i.detach(),n.$element.removeAttr("aria-describedby").trigger("hidden.bs."+n.type),e&&e()}var n=this,i=this.tip(),o=l.Event("hide.bs."+this.type);return this.$element.trigger(o),o.isDefaultPrevented()?void 0:(i.removeClass("in"),l.support.transition&&this.$tip.hasClass("fade")?i.one("bsTransitionEnd",t).emulateTransitionEnd(T.TRANSITION_DURATION):t(),this.hoverState=null,this)},T.prototype.fixTitle=function(){var e=this.$element;!e.attr("title")&&"string"==typeof e.attr("data-original-title")||e.attr("data-original-title",e.attr("title")||"").attr("title","")},T.prototype.hasContent=function(){return this.getTitle()},T.prototype.getPosition=function(e){var t=(e=e||this.$element)[0],n="BODY"==t.tagName,t=t.getBoundingClientRect(),i=(null==t.width&&(t=l.extend({},t,{width:t.right-t.left,height:t.bottom-t.top})),n?{top:0,left:0}:e.offset()),e={scroll:n?document.documentElement.scrollTop||document.body.scrollTop:e.scrollTop()},n=n?{width:l(window).width(),height:l(window).height()}:null;return l.extend({},t,e,n,i)},T.prototype.getCalculatedOffset=function(e,t,n,i){return"bottom"==e?{top:t.top+t.height,left:t.left+t.width/2-n/2}:"top"==e?{top:t.top-i,left:t.left+t.width/2-n/2}:"left"==e?{top:t.top+t.height/2-i/2,left:t.left-n}:{top:t.top+t.height/2-i/2,left:t.left+t.width}},T.prototype.getViewportAdjustedDelta=function(e,t,n,i){var o,r,a={top:0,left:0};return this.$viewport&&(o=this.options.viewport&&this.options.viewport.padding||0,r=this.getPosition(this.$viewport),/right|left/.test(e)?(e=t.top-o-r.scroll,i=t.top+o-r.scroll+i,e<r.top?a.top=r.top-e:i>r.top+r.height&&(a.top=r.top+r.height-i)):(e=t.left-o,i=t.left+o+n,e<r.left?a.left=r.left-e:i>r.width&&(a.left=r.left+r.width-i))),a},T.prototype.getTitle=function(){var e=this.$element,t=this.options;return e.attr("data-original-title")||("function"==typeof t.title?t.title.call(e[0]):t.title)},T.prototype.getUID=function(e){for(;e+=~~(1e6*Math.random()),document.getElementById(e););return e},T.prototype.tip=function(){return this.$tip=this.$tip||l(this.options.template)},T.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},T.prototype.enable=function(){this.enabled=!0},T.prototype.disable=function(){this.enabled=!1},T.prototype.toggleEnabled=function(){this.enabled=!this.enabled},T.prototype.toggle=function(e){var t=this;e&&!(t=l(e.currentTarget).data("bs."+this.type))&&(t=new this.constructor(e.currentTarget,this.getDelegateOptions()),l(e.currentTarget).data("bs."+this.type,t)),t.tip().hasClass("in")?t.leave(t):t.enter(t)},T.prototype.destroy=function(){var e=this;clearTimeout(this.timeout),this.hide(function(){e.$element.off("."+e.type).removeData("bs."+e.type)})},n=l.fn.tooltip,l.fn.tooltip=function(i){return this.each(function(){var e=l(this),t=e.data("bs.tooltip"),n="object"==(void 0===i?"undefined":g(i))&&i;!t&&"destroy"==i||(t||e.data("bs.tooltip",t=new T(this,n)),"string"!=typeof i)||t[i]()})},l.fn.tooltip.Constructor=T,l.fn.tooltip.noConflict=function(){return l.fn.tooltip=n,this},jQuery);function _(e,t){this.init("popover",e,t)}if(!x.fn.tooltip)throw new Error("Popover requires tooltip.js");_.VERSION="3.3.2",_.DEFAULTS=x.extend({},x.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),((_.prototype=x.extend({},x.fn.tooltip.Constructor.prototype)).constructor=_).prototype.getDefaults=function(){return _.DEFAULTS},_.prototype.setContent=function(){var e=this.tip(),t=this.getTitle(),n=this.getContent();e.find(".popover-title")[this.options.html?"html":"text"](t),e.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof n?"html":"append":"text"](n),e.removeClass("fade top bottom left right in"),e.find(".popover-title").html()||e.find(".popover-title").hide()},_.prototype.hasContent=function(){return this.getTitle()||this.getContent()},_.prototype.getContent=function(){var e=this.$element,t=this.options;return e.attr("data-content")||("function"==typeof t.content?t.content.call(e[0]):t.content)},_.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")},_.prototype.tip=function(){return this.$tip||(this.$tip=x(this.options.template)),this.$tip};var W=x.fn.popover,k=(x.fn.popover=function(i){return this.each(function(){var e=x(this),t=e.data("bs.popover"),n="object"==(void 0===i?"undefined":g(i))&&i;!t&&"destroy"==i||(t||e.data("bs.popover",t=new _(this,n)),"string"!=typeof i)||t[i]()})},x.fn.popover.Constructor=_,x.fn.popover.noConflict=function(){return x.fn.popover=W,this},o=jQuery,P.VERSION="3.3.2",P.DEFAULTS={offset:10},P.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},P.prototype.refresh=function(){var n="offset",i=0,e=(o.isWindow(this.$scrollElement[0])||(n="position",i=this.$scrollElement.scrollTop()),this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),this);this.$body.find(this.selector).map(function(){var e=o(this),e=e.data("target")||e.attr("href"),t=/^#./.test(e)&&o(e);return t&&t.length&&t.is(":visible")?[[t[n]().top+i,e]]:null}).sort(function(e,t){return e[0]-t[0]}).each(function(){e.offsets.push(this[0]),e.targets.push(this[1])})},P.prototype.process=function(){var e,t=this.$scrollElement.scrollTop()+this.options.offset,n=this.getScrollHeight(),i=this.options.offset+n-this.$scrollElement.height(),o=this.offsets,r=this.targets,a=this.activeTarget;if(this.scrollHeight!=n&&this.refresh(),i<=t)return a!=(e=r[r.length-1])&&this.activate(e);if(a&&t<o[0])return this.activeTarget=null,this.clear();for(e=o.length;e--;)a!=r[e]&&t>=o[e]&&(!o[e+1]||t<=o[e+1])&&this.activate(r[e])},P.prototype.activate=function(e){this.activeTarget=e,this.clear();e=this.selector+'[data-target="'+e+'"],'+this.selector+'[href="'+e+'"]',e=o(e).parents("li").addClass("active");(e=e.parent(".dropdown-menu").length?e.closest("li.dropdown").addClass("active"):e).trigger("activate.bs.scrollspy")},P.prototype.clear=function(){o(this.selector).parentsUntil(this.options.target,".active").removeClass("active")},t=o.fn.scrollspy,o.fn.scrollspy=Y,o.fn.scrollspy.Constructor=P,o.fn.scrollspy.noConflict=function(){return o.fn.scrollspy=t,this},o(window).on("load.bs.scrollspy.data-api",function(){o('[data-spy="scroll"]').each(function(){var e=o(this);Y.call(e,e.data())})}),jQuery);function q(n){return this.each(function(){var e=k(this),t=e.data("bs.tab");t||e.data("bs.tab",t=new S(this)),"string"==typeof n&&t[n]()})}function S(e){this.element=k(e)}function V(e){e.preventDefault(),q.call(k(this),"show")}S.VERSION="3.3.2",S.TRANSITION_DURATION=150,S.prototype.show=function(){var e,t,n,i=this.element,o=i.closest("ul:not(.dropdown-menu)"),r=i.data("target");r||(r=(r=i.attr("href"))&&r.replace(/.*(?=#[^\s]*$)/,"")),i.parent("li").hasClass("active")||(e=o.find(".active:last a"),t=k.Event("hide.bs.tab",{relatedTarget:i[0]}),n=k.Event("show.bs.tab",{relatedTarget:e[0]}),e.trigger(t),i.trigger(n),n.isDefaultPrevented())||t.isDefaultPrevented()||(n=k(r),this.activate(i.closest("li"),o),this.activate(n,n.parent(),function(){e.trigger({type:"hidden.bs.tab",relatedTarget:i[0]}),i.trigger({type:"shown.bs.tab",relatedTarget:e[0]})}))},S.prototype.activate=function(e,t,n){function i(){o.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),e.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),r?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu")&&e.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),n&&n()}var o=t.find("> .active"),r=n&&k.support.transition&&(o.length&&o.hasClass("fade")||!!t.find("> .fade").length);o.length&&r?o.one("bsTransitionEnd",i).emulateTransitionEnd(S.TRANSITION_DURATION):i(),o.removeClass("in")};var G=k.fn.tab;function J(i){return this.each(function(){var e=a(this),t=e.data("bs.affix"),n="object"==(void 0===i?"undefined":g(i))&&i;t||e.data("bs.affix",t=new C(this,n)),"string"==typeof i&&t[i]()})}function C(e,t){this.options=a.extend({},C.DEFAULTS,t),this.$target=a(this.options.target).on("scroll.bs.affix.data-api",a.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",a.proxy(this.checkPositionWithEventLoop,this)),this.$element=a(e),this.affixed=this.unpin=this.pinnedOffset=null,this.checkPosition()}function P(e,t){var n=o.proxy(this.process,this);this.$body=o("body"),this.$scrollElement=o(o(e).is("body")?window:e),this.options=o.extend({},P.DEFAULTS,t),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",n),this.refresh(),this.process()}function Y(i){return this.each(function(){var e=o(this),t=e.data("bs.scrollspy"),n="object"==(void 0===i?"undefined":g(i))&&i;t||e.data("bs.scrollspy",t=new P(this,n)),"string"==typeof i&&t[i]()})}function T(e,t){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",e,t)}function K(i,o){return this.each(function(){var e=r(this),t=e.data("bs.modal"),n=r.extend({},j.DEFAULTS,e.data(),"object"==(void 0===i?"undefined":g(i))&&i);t||e.data("bs.modal",t=new j(this,n)),"string"==typeof i?t[i](o):n.show&&t.show(o)})}function j(e,t){this.options=t,this.$body=r(document.body),this.$element=r(e),this.$backdrop=this.isShown=null,this.scrollbarWidth=0,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,r.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))}function E(i){i&&3===i.which||(s(".dropdown-backdrop").remove(),s(c).each(function(){var e=s(this),t=A(e),n={relatedTarget:this};t.hasClass("open")&&(t.trigger(i=s.Event("hide.bs.dropdown",n)),i.isDefaultPrevented()||(e.attr("aria-expanded","false"),t.removeClass("open").trigger("hidden.bs.dropdown",n)))}))}function A(e){var t=e.attr("data-target"),t=(t=t?t:(t=e.attr("href"))&&/#[A-Za-z]/.test(t)&&t.replace(/.*(?=#[^\s]*$)/,""))&&s(t);return t&&t.length?t:e.parent()}function L(e){s(e).on("click.bs.dropdown",this.toggle)}function X(e){e=e.attr("data-target")||(e=e.attr("href"))&&e.replace(/.*(?=#[^\s]+$)/,"");return u(e)}function $(i){return this.each(function(){var e=u(this),t=e.data("bs.collapse"),n=u.extend({},O.DEFAULTS,e.data(),"object"==(void 0===i?"undefined":g(i))&&i);!t&&n.toggle&&"show"==i&&(n.toggle=!1),t||e.data("bs.collapse",t=new O(this,n)),"string"==typeof i&&t[i]()})}function O(e,t){this.$element=u(e),this.options=u.extend({},O.DEFAULTS,t),this.$trigger=u(this.options.trigger).filter('[href="#'+e.id+'"], [data-target="#'+e.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()}function Q(i){return this.each(function(){var e=p(this),t=e.data("bs.button"),n="object"==(void 0===i?"undefined":g(i))&&i;t||e.data("bs.button",t=new D(this,n)),"toggle"==i?t.toggle():i&&t.setState(i)})}function D(e,t){this.$element=p(e),this.options=p.extend({},D.DEFAULTS,t),this.isLoading=!1}function F(e){f(e).on("click",h,this.close)}k.fn.tab=q,k.fn.tab.Constructor=S,k.fn.tab.noConflict=function(){return k.fn.tab=G,this},k(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',V).on("click.bs.tab.data-api",'[data-toggle="pill"]',V),a=jQuery,C.VERSION="3.3.2",C.RESET="affix affix-top affix-bottom",C.DEFAULTS={offset:0,target:window},C.prototype.getState=function(e,t,n,i){var o,r=this.$target.scrollTop(),a=this.$element.offset(),s=this.$target.height();return null!=n&&"top"==this.affixed?r<n&&"top":"bottom"==this.affixed?null!=n?!(r+this.unpin<=a.top)&&"bottom":!(r+s<=e-i)&&"bottom":(a=(o=null==this.affixed)?r:a.top,null!=n&&r<=n?"top":null!=i&&e-i<=a+(o?s:t)&&"bottom")},C.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(C.RESET).addClass("affix");var e=this.$target.scrollTop(),t=this.$element.offset();return this.pinnedOffset=t.top-e},C.prototype.checkPositionWithEventLoop=function(){setTimeout(a.proxy(this.checkPosition,this),1)},C.prototype.checkPosition=function(){if(this.$element.is(":visible")){var e=this.$element.height(),t=this.options.offset,n=t.top,i=t.bottom,o=a("body").height(),t=("object"!=(void 0===t?"undefined":g(t))&&(i=n=t),"function"==typeof n&&(n=t.top(this.$element)),"function"==typeof i&&(i=t.bottom(this.$element)),this.getState(o,e,n,i));if(this.affixed!=t){null!=this.unpin&&this.$element.css("top","");var n="affix"+(t?"-"+t:""),r=a.Event(n+".bs.affix");if(this.$element.trigger(r),r.isDefaultPrevented())return;this.affixed=t,this.unpin="bottom"==t?this.getPinnedOffset():null,this.$element.removeClass(C.RESET).addClass(n).trigger(n.replace("affix","affixed")+".bs.affix")}"bottom"==t&&this.$element.offset({top:o-e-i})}},e=a.fn.affix,a.fn.affix=J,a.fn.affix.Constructor=C,a.fn.affix.noConflict=function(){return a.fn.affix=e,this},a(window).on("load",function(){a('[data-spy="affix"]').each(function(){var e=a(this),t=e.data();t.offset=t.offset||{},null!=t.offsetBottom&&(t.offset.bottom=t.offsetBottom),null!=t.offsetTop&&(t.offset.top=t.offsetTop),J.call(e,t)})})},function(e,t,n){"use strict";function T(e,t){return j.map(e,function(e){return e+".touchspin_"+t})}var j,E;j=jQuery,E=0,j.fn.TouchSpin=function(S){var C,P;if("destroy"!==S)return C={min:0,max:100,initval:"",step:1,decimals:0,stepinterval:100,forcestepdivisibility:"round",stepintervaldelay:500,verticalbuttons:!1,verticalupclass:"glyphicon glyphicon-chevron-up",verticaldownclass:"glyphicon glyphicon-chevron-down",prefix:"",postfix:"",prefix_extraclass:"",postfix_extraclass:"",booster:!0,boostat:10,maxboostedstep:!1,mousewheel:!0,buttondown_class:"btn btn-default",buttonup_class:"btn btn-default",buttondown_txt:"-",buttonup_txt:"+"},P={min:"min",max:"max",initval:"init-val",step:"step",decimals:"decimals",stepinterval:"step-interval",verticalbuttons:"vertical-buttons",verticalupclass:"vertical-up-class",verticaldownclass:"vertical-down-class",forcestepdivisibility:"force-step-divisibility",stepintervaldelay:"step-interval-delay",prefix:"prefix",postfix:"postfix",prefix_extraclass:"prefix-extra-class",postfix_extraclass:"postfix-extra-class",booster:"booster",boostat:"boostat",maxboostedstep:"max-boosted-step",mousewheel:"mouse-wheel",buttondown_class:"button-down-class",buttonup_class:"button-up-class",buttondown_txt:"button-down-txt",buttonup_txt:"button-up-txt"},this.each(function(){function i(){var e,t,n=h.val();""===n||0<c.decimals&&"."===n||(e=parseFloat(n),(t=e=isNaN(e)?0:e).toString()!==n&&(t=e),e<c.min&&(t=c.min),t=function(e){switch(c.forcestepdivisibility){case"round":return(Math.round(e/c.step)*c.step).toFixed(c.decimals);case"floor":return(Math.floor(e/c.step)*c.step).toFixed(c.decimals);case"ceil":return(Math.ceil(e/c.step)*c.step).toFixed(c.decimals);default:return e}}(t=e>c.max?c.max:t),Number(n).toString()!==t.toString()&&(h.val(t),h.trigger("change")))}function n(){var e;return c.booster?(e=Math.pow(2,Math.floor(g/c.boostat))*c.step,c.maxboostedstep&&e>c.maxboostedstep&&(e=c.maxboostedstep,u=Math.round(u/e)*e),Math.max(c.step,e)):c.step}function o(){i(),u=parseFloat(d.input.val());var e=u=isNaN(u)?0:u,t=n();(u+=t)>c.max&&(u=c.max,h.trigger("touchspin.on.max"),l()),d.input.val(Number(u).toFixed(c.decimals)),e!==u&&h.trigger("change")}function r(){i(),u=parseFloat(d.input.val());var e=u=isNaN(u)?0:u,t=n();(u-=t)<c.min&&(u=c.min,h.trigger("touchspin.on.min"),l()),d.input.val(u.toFixed(c.decimals)),e!==u&&h.trigger("change")}function a(){l(),g=0,v="down",h.trigger("touchspin.on.startspin"),h.trigger("touchspin.on.startdownspin"),p=setTimeout(function(){e=setInterval(function(){g++,r()},c.stepinterval)},c.stepintervaldelay)}function s(){l(),g=0,v="up",h.trigger("touchspin.on.startspin"),h.trigger("touchspin.on.startupspin"),f=setTimeout(function(){t=setInterval(function(){g++,o()},c.stepinterval)},c.stepintervaldelay)}function l(){switch(clearTimeout(p),clearTimeout(f),clearInterval(e),clearInterval(t),v){case"up":h.trigger("touchspin.on.stopupspin"),h.trigger("touchspin.on.stopspin");break;case"down":h.trigger("touchspin.on.stopdownspin"),h.trigger("touchspin.on.stopspin")}g=0,v=!1}var c,d,u,e,t,p,f,h=j(this),m=h.data(),g=0,v=!1;if(!h.data("alreadyinitialized")){if(h.data("alreadyinitialized",!0),E+=1,h.data("spinnerid",E),!h.is("input"))return void console.log("Must be an input.");if(""!==(c=j.extend({},C,m,function(){var n={};return j.each(P,function(e,t){t="bts-"+t;h.is("[data-"+t+"]")&&(n[e]=h.data(t))}),n}(),S)).initval&&""===h.val()&&h.val(c.initval),i(),m=h.val(),w=h.parent(),""!==m&&(m=Number(m).toFixed(c.decimals)),h.data("initvalue",m).val(m),h.addClass("form-control"),w.hasClass("input-group")){m=w;m.addClass("bootstrap-touchspin");var b,y,w=h.prev(),x=h.next(),_='<span class="input-group-addon bootstrap-touchspin-prefix">'+c.prefix+"</span>",k='<span class="input-group-addon bootstrap-touchspin-postfix">'+c.postfix+"</span>";w.hasClass("input-group-btn")?(b='<button class="'+c.buttondown_class+' bootstrap-touchspin-down" type="button">'+c.buttondown_txt+"</button>",w.append(b)):(b='<span class="input-group-btn"><button class="'+c.buttondown_class+' bootstrap-touchspin-down" type="button">'+c.buttondown_txt+"</button></span>",j(b).insertBefore(h)),x.hasClass("input-group-btn")?(y='<button class="'+c.buttonup_class+' bootstrap-touchspin-up" type="button">'+c.buttonup_txt+"</button>",x.prepend(y)):(y='<span class="input-group-btn"><button class="'+c.buttonup_class+' bootstrap-touchspin-up" type="button">'+c.buttonup_txt+"</button></span>",j(y).insertAfter(h)),j(_).insertBefore(h),j(k).insertAfter(h),b=m}else w=c.verticalbuttons?'<div class="input-group bootstrap-touchspin"><span class="input-group-addon bootstrap-touchspin-prefix">'+c.prefix+'</span><span class="input-group-addon bootstrap-touchspin-postfix">'+c.postfix+'</span><span class="input-group-btn-vertical"><button class="'+c.buttondown_class+' bootstrap-touchspin-up" type="button"><i class="'+c.verticalupclass+'"></i></button><button class="'+c.buttonup_class+' bootstrap-touchspin-down" type="button"><i class="'+c.verticaldownclass+'"></i></button></span></div>':'<div class="input-group bootstrap-touchspin"><span class="input-group-btn"><button class="'+c.buttondown_class+' bootstrap-touchspin-down" type="button">'+c.buttondown_txt+'</button></span><span class="input-group-addon bootstrap-touchspin-prefix">'+c.prefix+'</span><span class="input-group-addon bootstrap-touchspin-postfix">'+c.postfix+'</span><span class="input-group-btn"><button class="'+c.buttonup_class+' bootstrap-touchspin-up" type="button">'+c.buttonup_txt+"</button></span></div>",b=j(w).insertBefore(h),j(".bootstrap-touchspin-prefix",b).after(h),h.hasClass("input-sm")?b.addClass("input-group-sm"):h.hasClass("input-lg")&&b.addClass("input-group-lg");d={down:j(".bootstrap-touchspin-down",b),up:j(".bootstrap-touchspin-up",b),input:j("input",b),prefix:j(".bootstrap-touchspin-prefix",b).addClass(c.prefix_extraclass),postfix:j(".bootstrap-touchspin-postfix",b).addClass(c.postfix_extraclass)},""===c.prefix&&d.prefix.hide(),""===c.postfix&&d.postfix.hide(),h.on("keydown",function(e){var t=e.keyCode||e.which;38===t?("up"!==v&&(o(),s()),e.preventDefault()):40===t&&("down"!==v&&(r(),a()),e.preventDefault())}),h.on("keyup",function(e){e=e.keyCode||e.which;38!==e&&40!==e||l()}),h.on("blur",function(){i()}),d.down.on("keydown",function(e){var t=e.keyCode||e.which;32!==t&&13!==t||("down"!==v&&(r(),a()),e.preventDefault())}),d.down.on("keyup",function(e){e=e.keyCode||e.which;32!==e&&13!==e||l()}),d.up.on("keydown",function(e){var t=e.keyCode||e.which;32!==t&&13!==t||("up"!==v&&(o(),s()),e.preventDefault())}),d.up.on("keyup",function(e){e=e.keyCode||e.which;32!==e&&13!==e||l()}),d.down.on("mousedown.touchspin",function(e){d.down.off("touchstart.touchspin"),h.is(":disabled")||(r(),a(),e.preventDefault(),e.stopPropagation())}),d.down.on("touchstart.touchspin",function(e){d.down.off("mousedown.touchspin"),h.is(":disabled")||(r(),a(),e.preventDefault(),e.stopPropagation())}),d.up.on("mousedown.touchspin",function(e){d.up.off("touchstart.touchspin"),h.is(":disabled")||(o(),s(),e.preventDefault(),e.stopPropagation())}),d.up.on("touchstart.touchspin",function(e){d.up.off("mousedown.touchspin"),h.is(":disabled")||(o(),s(),e.preventDefault(),e.stopPropagation())}),d.up.on("mouseout touchleave touchend touchcancel",function(e){v&&(e.stopPropagation(),l())}),d.down.on("mouseout touchleave touchend touchcancel",function(e){v&&(e.stopPropagation(),l())}),d.down.on("mousemove touchmove",function(e){v&&(e.stopPropagation(),e.preventDefault())}),d.up.on("mousemove touchmove",function(e){v&&(e.stopPropagation(),e.preventDefault())}),j(document).on(T(["mouseup","touchend","touchcancel"],E).join(" "),function(e){v&&(e.preventDefault(),l())}),j(document).on(T(["mousemove","touchmove","scroll","scrollstart"],E).join(" "),function(e){v&&(e.preventDefault(),l())}),h.on("mousewheel DOMMouseScroll",function(e){var t;c.mousewheel&&h.is(":focus")&&(t=e.originalEvent.wheelDelta||-e.originalEvent.deltaY||-e.originalEvent.detail,e.stopPropagation(),e.preventDefault(),(t<0?r:o)())}),h.on("touchspin.uponce",function(){l(),o()}),h.on("touchspin.downonce",function(){l(),r()}),h.on("touchspin.startupspin",function(){s()}),h.on("touchspin.startdownspin",function(){a()}),h.on("touchspin.stopspin",function(){l()}),h.on("touchspin.updatesettings",function(e,t){var n=t;c=j.extend({},c,n),i(),""!==(t=d.input.val())&&(t=Number(d.input.val()),d.input.val(t.toFixed(c.decimals)))}),d.input.css("display","block")}});this.each(function(){var e=j(this).data();j(document).off(T(["mouseup","touchend","touchcancel","mousemove","touchmove","scroll","scrollstart"],e.spinnerid).join(" "))})}},function(e,t,n){"use strict";var i;(i=jQuery).expr[":"].notmdproc=function(e){return!i(e).data("mdproc")},i.material={options:{input:!0,ripples:!0,checkbox:!0,togglebutton:!0,radio:!0,arrive:!0,autofill:!1,withRipples:[".btn:not(.btn-link)",".card-image",".navbar a:not(.withoutripple)",".dropdown-menu a",".nav-tabs a:not(.withoutripple)",".withripple"].join(","),inputElements:"input.form-control, textarea.form-control, select.form-control",checkboxElements:".checkbox > label > input[type=checkbox]",togglebuttonElements:".togglebutton > label > input[type=checkbox]",radioElements:".radio > label > input[type=radio]"},checkbox:function(e){i(e||this.options.checkboxElements).filter(":notmdproc").data("mdproc",!0).after("<span class=checkbox-material><span class=check></span></span>")},togglebutton:function(e){i(e||this.options.togglebuttonElements).filter(":notmdproc").data("mdproc",!0).after("<span class=toggle></span>")},radio:function(e){i(e||this.options.radioElements).filter(":notmdproc").data("mdproc",!0).after("<span class=circle></span><span class=check></span>")},input:function(e){i(e||this.options.inputElements).filter(":notmdproc").data("mdproc",!0).each(function(){var e,t=i(this);(i(this).attr("data-hint")||t.hasClass("floating-label"))&&(t.wrap("<div class=form-control-wrapper></div>"),t.after("<span class=material-input></span>"),t.hasClass("floating-label")&&(e=t.attr("placeholder"),t.attr("placeholder",null).removeClass("floating-label"),t.after("<div class=floating-label>"+e+"</div>")),t.attr("data-hint")&&t.after("<div class=hint>"+t.attr("data-hint")+"</div>"),null!==t.val()&&"undefined"!=t.val()&&""!==t.val()||t.addClass("empty"),t.parent().next().is("[type=file]"))&&(t.parent().addClass("fileinput"),e=t.parent().next().detach(),t.after(e))}),i(document).on("change",".checkbox input[type=checkbox]",function(){i(this).blur()}).on("keydown paste",".form-control",function(e){(void 0===(e=e).which||"number"==typeof e.which&&0<e.which&&!e.ctrlKey&&!e.metaKey&&!e.altKey&&8!=e.which&&9!=e.which)&&i(this).removeClass("empty")}).on("keyup change",".form-control",function(){var e=i(this);""===e.val()&&void 0!==e[0].checkValidity&&e[0].checkValidity()?e.addClass("empty"):e.removeClass("empty")}).on("focus",".form-control-wrapper.fileinput",function(){i(this).find("input").addClass("focus")}).on("blur",".form-control-wrapper.fileinput",function(){i(this).find("input").removeClass("focus")}).on("change",".form-control-wrapper.fileinput [type=file]",function(){var n="";i.each(i(this)[0].files,function(e,t){n+=t.name+", "}),(n=n.substring(0,n.length-2))?i(this).prev().removeClass("empty"):i(this).prev().addClass("empty"),i(this).prev().val(n)})},ripples:function(e){i(e||this.options.withRipples).ripples()},autofill:function(){var t,e=setInterval(function(){i("input[type!=checkbox]").each(function(){i(this).val()&&i(this).val()!==i(this).attr("value")&&i(this).trigger("change")})},100);setTimeout(function(){clearInterval(e)},1e4),i(document).on("focus","input",function(){var e=i(this).parents("form").find("input").not("[type=file]");t=setInterval(function(){e.each(function(){i(this).val()!==i(this).attr("value")&&i(this).trigger("change")})},100)}).on("blur","input",function(){clearInterval(t)})},init:function(){i.fn.ripples&&this.options.ripples&&this.ripples(),this.options.input&&this.input(),this.options.checkbox&&this.checkbox(),this.options.togglebutton&&this.togglebutton(),this.options.radio&&this.radio(),this.options.autofill&&this.autofill(),document.arrive&&this.options.arrive&&(i.fn.ripples&&this.options.ripples&&i(document).arrive(this.options.withRipples,function(){i.material.ripples(i(this))}),this.options.input&&i(document).arrive(this.options.inputElements,function(){i.material.input(i(this))}),this.options.checkbox&&i(document).arrive(this.options.checkboxElements,function(){i.material.checkbox(i(this))}),this.options.radio&&i(document).arrive(this.options.radioElements,function(){i.material.radio(i(this))}),this.options.togglebutton)&&i(document).arrive(this.options.togglebuttonElements,function(){i.material.togglebutton(i(this))})}}},function(e,t,n){"use strict";var i,G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};void 0!==(t="function"==typeof(i=function(){"use strict";function A(e){return e.filter(function(e){return this[e]?!1:this[e]=!0},{})}function s(e,t){return Math.round(e/t)*t}function L(e){var t=e.getBoundingClientRect(),n=e.ownerDocument,i=n.defaultView||n.parentWindow,o=n.documentElement,r=i.pageXOffset;return/webkit.*Chrome.*Mobile/i.test(navigator.userAgent)&&(r=0),{top:t.top+i.pageYOffset-o.clientTop,left:t.left+r-o.clientLeft}}function o(e){return"number"==typeof e&&!isNaN(e)&&isFinite(e)}function t(e){var t=Math.pow(10,7);return Number((Math.round(e*t)/t).toFixed(7))}function $(e,t,n){I(e,t),setTimeout(function(){M(e,t)},n)}function O(e){return Math.max(Math.min(e,100),0)}function D(e){return Array.isArray(e)?e:[e]}function F(e){var t=e.split(".");return t.length>1?t[1].length:0}function I(e,t){e.classList?e.classList.add(t):e.className+=" "+t}function M(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," ")}function B(e,t){e.classList?e.classList.contains(t):new RegExp("(^| )"+t+"( |$)","gi").test(e.className)}function l(e,t){return 100/(t-e)}function i(e,t){return 100*t/(e[1]-e[0])}function c(e,t){return i(e,e[0]<0?t+Math.abs(e[0]):t-e[0])}function d(e,t){return t*(e[1]-e[0])/100+e[0]}function u(e,t){for(var n=1;e>=t[n];)n+=1;return n}function n(e,t,n){if(n>=e.slice(-1)[0])return 100;var i,o,r,a,s=u(n,e);return i=e[s-1],o=e[s],r=t[s-1],a=t[s],r+c([i,o],n)/l(r,a)}function r(e,t,n){if(n>=100)return e.slice(-1)[0];var i,o,r,a,s=u(n,t);return i=e[s-1],o=e[s],r=t[s-1],a=t[s],d([i,o],(n-r)*l(r,a))}function a(e,t,n,i){if(100===i)return i;var o,r,a=u(i,e);return n?(o=e[a-1],r=e[a],i-o>(r-o)/2?r:o):t[a-1]?e[a-1]+s(i-e[a-1],t[a-1]):i}function p(e,t,n){var i;if("number"==typeof t&&(t=[t]),"[object Array]"!==Object.prototype.toString.call(t))throw new Error("noUiSlider: 'range' contains invalid value.");if(i="min"===e?0:"max"===e?100:parseFloat(e),!o(i)||!o(t[0]))throw new Error("noUiSlider: 'range' value isn't numeric.");n.xPct.push(i),n.xVal.push(t[0]),i?n.xSteps.push(isNaN(t[1])?!1:t[1]):isNaN(t[1])||(n.xSteps[0]=t[1])}function f(e,t,n){return t?void(n.xSteps[e]=i([n.xVal[e],n.xVal[e+1]],t)/l(n.xPct[e],n.xPct[e+1])):!0}function h(e,t,n,i){this.xPct=[],this.xVal=[],this.xSteps=[i||!1],this.xNumSteps=[!1],this.snap=t,this.direction=n;var o,r=[];for(o in e)e.hasOwnProperty(o)&&r.push([e[o],o]);for(r.sort(function(e,t){return e[0]-t[0]}),o=0;o<r.length;o++)p(r[o][1],r[o][0],this);for(this.xNumSteps=this.xSteps.slice(0),o=0;o<this.xNumSteps.length;o++)f(o,this.xNumSteps[o],this)}function e(e,t){if(!o(t))throw new Error("noUiSlider: 'step' is not numeric.");e.singleStep=t}function m(e,t){if("object"!=(typeof t==="undefined"?"undefined":G(t))||Array.isArray(t))throw new Error("noUiSlider: 'range' is not an object.");if(void 0===t.min||void 0===t.max)throw new Error("noUiSlider: Missing 'min' or 'max' in 'range'.");e.spectrum=new h(t,e.snap,e.dir,e.singleStep)}function g(e,t){if(t=D(t),!Array.isArray(t)||!t.length||t.length>2)throw new Error("noUiSlider: 'start' option is incorrect.");e.handles=t.length,e.start=t}function v(e,t){if(e.snap=t,"boolean"!=typeof t)throw new Error("noUiSlider: 'snap' option must be a boolean.")}function b(e,t){if(e.animate=t,"boolean"!=typeof t)throw new Error("noUiSlider: 'animate' option must be a boolean.")}function y(e,t){if("lower"===t&&1===e.handles)e.connect=1;else if("upper"===t&&1===e.handles)e.connect=2;else if(t===!0&&2===e.handles)e.connect=3;else{if(t!==!1)throw new Error("noUiSlider: 'connect' option doesn't match handle count.");e.connect=0}}function w(e,t){switch(t){case"horizontal":e.ort=0;break;case"vertical":e.ort=1;break;default:throw new Error("noUiSlider: 'orientation' option is invalid.")}}function x(e,t){if(!o(t))throw new Error("noUiSlider: 'margin' option must be numeric.");if(e.margin=e.spectrum.getMargin(t),!e.margin)throw new Error("noUiSlider: 'margin' option is only supported on linear sliders.")}function _(e,t){if(!o(t))throw new Error("noUiSlider: 'limit' option must be numeric.");if(e.limit=e.spectrum.getMargin(t),!e.limit)throw new Error("noUiSlider: 'limit' option is only supported on linear sliders.")}function k(e,t){switch(t){case"ltr":e.dir=0;break;case"rtl":e.dir=1,e.connect=[0,2,1,3][e.connect];break;default:throw new Error("noUiSlider: 'direction' option was not recognized.")}}function S(e,t){if("string"!=typeof t)throw new Error("noUiSlider: 'behaviour' must be a string containing options.");var n=t.indexOf("tap")>=0,i=t.indexOf("drag")>=0,o=t.indexOf("fixed")>=0,r=t.indexOf("snap")>=0;e.events={tap:n||r,drag:i,fixed:o,snap:r}}function C(e,t){if(e.format=t,"function"==typeof t.to&&"function"==typeof t.from)return!0;throw new Error("noUiSlider: 'format' requires 'to' and 'from' methods.")}function P(n){var i,o={margin:0,limit:0,animate:!0,format:V};i={step:{r:!1,t:e},start:{r:!0,t:g},connect:{r:!0,t:y},direction:{r:!0,t:k},snap:{r:!1,t:v},animate:{r:!1,t:b},range:{r:!0,t:m},orientation:{r:!1,t:w},margin:{r:!1,t:x},limit:{r:!1,t:_},behaviour:{r:!0,t:S},format:{r:!1,t:C}};var t={connect:!1,direction:"ltr",behaviour:"tap",orientation:"horizontal"};return Object.keys(t).forEach(function(e){void 0===n[e]&&(n[e]=t[e])}),Object.keys(i).forEach(function(e){var t=i[e];if(void 0===n[e]){if(t.r)throw new Error("noUiSlider: '"+e+"' is required.");return!0}t.t(o,n[e])}),o.pips=n.pips,o.style=o.ort?"top":"left",o}function U(e,t,n){var i=e+t[0],o=e+t[1];return n?(0>i&&(o+=Math.abs(i)),o>100&&(i-=o-100),[O(i),O(o)]):[i,o]}function H(e){e.preventDefault();var t,n,i=0===e.type.indexOf("touch"),o=0===e.type.indexOf("mouse"),r=0===e.type.indexOf("pointer"),a=e;return 0===e.type.indexOf("MSPointer")&&(r=!0),i&&(t=e.changedTouches[0].pageX,n=e.changedTouches[0].pageY),(o||r)&&(t=e.clientX+window.pageXOffset,n=e.clientY+window.pageYOffset),a.points=[t,n],a.cursor=o||r,a}function T(e,t){var n=document.createElement("div"),i=document.createElement("div"),o=["-lower","-upper"];return e&&o.reverse(),I(i,R[3]),I(i,R[3]+o[t]),I(n,R[2]),n.appendChild(i),n}function z(e,t,n){switch(e){case 1:I(t,R[7]),I(n[0],R[6]);break;case 3:I(n[1],R[6]);case 2:I(n[0],R[7]);case 0:I(t,R[6])}}function W(e,t,n){var i,o=[];for(i=0;e>i;i+=1)o.push(n.appendChild(T(t,i)));return o}function q(e,t,n){I(n,R[0]),I(n,R[8+e]),I(n,R[4+t]);var i=document.createElement("div");return I(i,R[1]),n.appendChild(i),i}function j(e,c){function d(e,t,n){if("range"===e||"steps"===e)return T.xVal;if("count"===e){var i,o=100/(t-1),r=0;for(t=[];(i=r++*o)<=100;)t.push(i);e="positions"}return"positions"===e?t.map(function(e){return T.fromStepping(n?T.getStep(e):e)}):"values"===e?n?t.map(function(e){return T.fromStepping(T.getStep(T.toStepping(e)))}):t:void 0}function u(h,m,g){var e=T.direction,v={},t=T.xVal[0],n=T.xVal[T.xVal.length-1],b=!1,y=!1,w=0;return T.direction=0,g=A(g.slice().sort(function(e,t){return e-t})),g[0]!==t&&(g.unshift(t),b=!0),g[g.length-1]!==n&&(g.push(n),y=!0),g.forEach(function(e,t){var n,i,o,r,a,s,l,c,d,u,p=e,f=g[t+1];if("steps"===m&&(n=T.xNumSteps[t]),n||(n=f-p),p!==!1&&void 0!==f)for(i=p;f>=i;i+=n){for(r=T.toStepping(i),a=r-w,c=a/h,d=Math.round(c),u=a/d,o=1;d>=o;o+=1)s=w+o*u,v[s.toFixed(5)]=["x",0];l=g.indexOf(i)>-1?1:"steps"===m?2:0,!t&&b&&(l=0),i===f&&y||(v[r.toFixed(5)]=[i,l]),w=r}}),T.direction=e,v}function p(t,n,i){function o(e){return["-normal","-large","-sub"][e]}function r(e,t,n){return'class="'+t+" "+t+"-"+s+" "+t+o(n[1])+'" style="'+c.style+": "+e+'%"'}function a(e,t){T.direction&&(e=100-e),t[1]=t[1]&&n?n(t[0],t[1]):t[1],l.innerHTML+="<div "+r(e,"noUi-marker",t)+"></div>",t[1]&&(l.innerHTML+="<div "+r(e,"noUi-value",t)+">"+i.to(t[0])+"</div>")}var s=["horizontal","vertical"][c.ort],l=document.createElement("div");return I(l,"noUi-pips"),I(l,"noUi-pips-"+s),Object.keys(t).forEach(function(e){a(e,t[e])}),l}function t(e){var t=e.mode,n=e.density||1,i=e.filter||!1,o=e.values||!1,r=e.stepped||!1,a=d(t,o,r),s=u(n,t,a),l=e.format||{to:Math.round};return C.appendChild(p(s,i,l))}function l(){return k["offset"+["Width","Height"][c.ort]]}function f(n,i){void 0!==i&&(i=Math.abs(i-c.dir)),Object.keys(E).forEach(function(e){var t=e.split(".")[0];n===t&&E[e].forEach(function(e){e(D(b()),i,o(Array.prototype.slice.call(j)))})})}function o(e){return 1===e.length?e[0]:c.dir?e.reverse():e}function a(n,t,i,o){var r=function e(t){return C.hasAttribute("disabled")?!1:B(C,R[14])?!1:(t=H(t),n===N.start&&void 0!==t.buttons&&t.buttons>1?!1:(t.calcPoint=t.points[c.ort],void i(t,o)))},a=[];return n.split(" ").forEach(function(e){t.addEventListener(e,r,!1),a.push([e,r])}),a}function s(e,t){var n,i,o=t.handles||S,r=!1,a=100*(e.calcPoint-t.start)/l(),s=o[0]===S[0]?0:1;if(n=U(a,t.positions,o.length>1),r=m(o[0],n[s],1===o.length),o.length>1){if(r=m(o[1],n[s?0:1],!1)||r)for(i=0;i<t.handles.length;i++)f("slide",i)}else r&&f("slide",s)}function h(e,t){var n=k.getElementsByClassName(R[15]),i=t.handles[0]===S[0]?0:1;n.length&&M(n[0],R[15]),e.cursor&&(document.body.style.cursor="",document.body.removeEventListener("selectstart",document.body.noUiListener));var o=document.documentElement;o.noUiListeners.forEach(function(e){o.removeEventListener(e[0],e[1])}),M(C,R[12]),f("set",i),f("change",i)}function r(e,t){var n=document.documentElement;if(1===t.handles.length&&(I(t.handles[0].children[0],R[15]),t.handles[0].hasAttribute("disabled")))return!1;e.stopPropagation();var i=a(N.move,n,s,{start:e.calcPoint,handles:t.handles,positions:[P[0],P[S.length-1]]}),o=a(N.end,n,h,{handles:t.handles});if(n.noUiListeners=i.concat(o),e.cursor){document.body.style.cursor=getComputedStyle(e.target).cursor,S.length>1&&I(C,R[12]);var r=function e(){return!1};document.body.noUiListener=r,document.body.addEventListener("selectstart",r,!1)}}function i(e){var t,n,i=e.calcPoint,o=0;return e.stopPropagation(),S.forEach(function(e){o+=L(e)[c.style]}),t=o/2>i||1===S.length?0:1,i-=L(k)[c.style],n=100*i/l(),c.events.snap||$(C,R[14],300),S[t].hasAttribute("disabled")?!1:(m(S[t],n),f("slide",t),f("set",t),f("change",t),void(c.events.snap&&r(e,{handles:[S[o]]})))}function n(e){var t,n;if(!e.fixed)for(t=0;t<S.length;t+=1)a(N.start,S[t].children[0],r,{handles:[S[t]]});e.tap&&a(N.start,k,i,{handles:S}),e.drag&&(n=[k.getElementsByClassName(R[7])[0]],I(n[0],R[10]),e.fixed&&n.push(S[n[0]===S[0]?1:0].children[0]),n.forEach(function(e){a(N.start,e,r,{handles:S})}))}function m(e,t,n){var i=e!==S[0]?1:0,o=P[0]+c.margin,r=P[1]-c.margin,a=P[0]+c.limit,s=P[1]-c.limit;return S.length>1&&(t=i?Math.max(t,o):Math.min(t,r)),n!==!1&&c.limit&&S.length>1&&(t=i?Math.min(t,a):Math.max(t,s)),t=T.getStep(t),t=O(parseFloat(t.toFixed(7))),t===P[i]?!1:(e.style[c.style]=t+"%",e.previousSibling||(M(e,R[17]),t>50&&I(e,R[17])),P[i]=t,j[i]=T.fromStepping(t),f("update",i),!0)}function g(e,t){var n,i,o;for(c.limit&&(e+=1),n=0;e>n;n+=1)i=n%2,o=t[i],null!==o&&o!==!1&&("number"==typeof o&&(o=String(o)),o=c.format.from(o),(o===!1||isNaN(o)||m(S[i],T.toStepping(o),n===3-c.dir)===!1)&&f("update",i))}function v(e){var t,n,i=D(e);for(c.dir&&c.handles>1&&i.reverse(),c.animate&&-1!==P[0]&&$(C,R[14],300),t=S.length>1?3:1,1===i.length&&(t=1),g(t,i),n=0;n<S.length;n++)f("set",n)}function b(){var e,t=[];for(e=0;e<c.handles;e+=1)t[e]=c.format.to(j[e]);return o(t)}function y(){R.forEach(function(e){e&&M(C,e)}),C.innerHTML="",delete C.noUiSlider}function w(){var e=P.map(function(e,t){var n=T.getApplicableStep(e),i=F(String(n[2])),o=j[t],r=100===e?null:n[2],a=Number((o-n[2]).toFixed(i)),s=0===e?null:a>=n[1]?n[2]:n[0]||!1;return[s,r]});return o(e)}function x(e,t){E[e]=E[e]||[],E[e].push(t),"update"===e.split(".")[0]&&S.forEach(function(e,t){f("update",t)})}function _(e){var i=e.split(".")[0],o=e.substring(i.length);Object.keys(E).forEach(function(e){var t=e.split(".")[0],n=e.substring(t.length);i&&i!==t||o&&o!==n||delete E[e]})}var k,S,C=e,P=[-1,-1],T=c.spectrum,j=[],E={};if(C.noUiSlider)throw new Error("Slider was already initialized.");return k=q(c.dir,c.ort,C),S=W(c.handles,c.dir,k),z(c.connect,C,S),n(c.events),c.pips&&t(c.pips),{destroy:y,steps:w,on:x,off:_,get:b,set:v}}function E(e,t){if(!e.nodeName)throw new Error("noUiSlider.create requires a single element.");var n=P(t,e),i=j(e,n);i.set(n.start),e.noUiSlider=i}var N=window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend"},R=["noUi-target","noUi-base","noUi-origin","noUi-handle","noUi-horizontal","noUi-vertical","noUi-background","noUi-connect","noUi-ltr","noUi-rtl","noUi-dragable","","noUi-state-drag","","noUi-state-tap","noUi-active","","noUi-stacking"],V=(h.prototype.getMargin=function(e){return 2===this.xPct.length?i(this.xVal,e):!1},h.prototype.toStepping=function(e){return e=n(this.xVal,this.xPct,e),this.direction&&(e=100-e),e},h.prototype.fromStepping=function(e){return this.direction&&(e=100-e),t(r(this.xVal,this.xPct,e))},h.prototype.getStep=function(e){return this.direction&&(e=100-e),e=a(this.xPct,this.xSteps,this.snap,e),this.direction&&(e=100-e),e},h.prototype.getApplicableStep=function(e){var t=u(e,this.xPct),n=100===e?2:1;return[this.xNumSteps[t-2],this.xVal[t-n],this.xNumSteps[t-n]]},h.prototype.convert=function(e){return this.getStep(this.toStepping(e))},{to:function e(t){return t.toFixed(2)},from:Number});return{create:E}})?i.apply(t,[]):i)&&(e.exports=t)},function(e,t,n){"use strict";var i,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};n=[n(137)],void 0!==(t="function"==typeof(i=function(b){var y={options:{optionClass:"",dropdownClass:"",autoinit:false,callback:false,onSelected:false,absolutePos:false,align:"left",dynamicOptLabel:"Add a new option..."},init:function e(g){if(g)g=b.extend(y.options,g);else g=y.options;function v(e){var t=e.data("dropdownjs-ul");t.find("li").not(".dropdownjs-add").remove();e.find("option").each(function(){var e=b(this);y._addOption(t,e)})}function n(i){if(i.data("dropdownjs")||!i.is("select"))return;var o=i.attr("multiple");var e=i.attr("data-dynamic-opts"),r=b();var a=b("<div></div>");a.addClass("dropdownjs").addClass(g.dropdownStyle);a.data("select",i);var s=b("<input type=text readonly class=fakeinput>");if(b.material)s.data("mdproc",true);if(i.is(":disabled"))s.prop("disabled",true);a.append(s);var l=b("<ul></ul>");l.addClass("dropdownjs-ul");l.data("select",i);i.hide().attr("data-dropdownjs",true).data("dropdownjs-ul",l);if(g.absolutePos)b("body").append(l);else a.append(l);s.attr("placeholder",i.attr("placeholder"));v(i);if(e){r=b("<li class=dropdownjs-add></li>");r.append('<input type="text">');r.find("input").attr("placeholder",g.dynamicOptLabel);l.append(r)}var t=a.find("li");if(!o){var n;if(i.find(":selected").length)n=i.find(":selected").last();else n=i.find("option, li").first();y._select(a,n)}else{var c=[],d=i.val();for(var u in d)c.push("li[value="+d[u]+"]");if(c.length>0)y._select(a,a.find(c.join(",")))}s.addClass(i[0].className);s.css({"moz-user-select":"none","-webkit-user-select":"none","-ms-user-select":"none","user-select":"none","-o-user-select":"none"});i.on("remove",function(){l.remove()});i.after(a);if(g.callback)g.callback(a);l.on("click","li:not(.dropdownjs-add)",function(e){y._select(a,b(this));w(i.get(0),"change")});l.on("keydown","li:not(.dropdownjs-add)",function(e){if(e.which===27){b(".dropdownjs > ul > li").attr("tabindex",-1);l.removeClass("focus");return s.removeClass("focus").blur()}if(e.which===32&&!b(e.target).is("input")){y._select(a,b(this));return false}});l.on("focus","li:not(.dropdownjs-add)",function(){if(i.is(":disabled"))return;s.addClass("focus")});if(e&&e.length)r.on("keydown",function(e){if(e.which!==13)return;var t=b("<option>"),n=r.find("input").val();r.find("input").val("");t.attr("value",n);t.text(n);i.append(t)});i.on("DOMNodeInserted",function(e){var t=b(e.target);if(!t.val())return;y._addOption(l,t);l.find("li").not(".dropdownjs-add").attr("tabindex",0)});i.on("DOMNodeRemoved",function(e){var t=b(e.target);y._removeOption(l,t);l.find("li").not(".dropdownjs-add").attr("tabindex",0)});i.on("change",function(e){var t=b(e.target);if(!t.val()||!t.val().length)return;if(!o){v(i);var n;if(i.find(":selected").length)n=i.find(":selected").last();else n=i.find("option, li").first();y.select(a,n.val())}});function p(){b(".dropdownjs-ul > li").attr("tabindex",-1);s.removeClass("focus");l.removeClass("focus")}s.on("click",function(e){e.stopPropagation();if(i.is(":disabled"))return;if(l.hasClass("focus")){p();return}f()});function f(){clearTimeout(h);h=setTimeout(function(){m()},100)}var h;function m(){var e=s;b(".dropdownjs-ul > li").attr("tabindex",-1);b(".dropdownjs > input").not(e).removeClass("focus").blur();b(".dropdownjs").not(e).removeClass("focus").blur();b(".dropdownjs-ul").not(l).removeClass("focus");b(".dropdownjs-ul > li").not(".dropdownjs-add").attr("tabindex",0);var t={top:e.offset().top-b(document).scrollTop(),left:e.offset().left-b(document).scrollLeft(),bottom:b(window).height()-(e.offset().top-b(document).scrollTop())-e.outerHeight(),right:b(window).width()-(e.offset().left-b(document).scrollLeft())-e.outerWidth()};if(g.absolutePos)l.css(g.align,t[g.align]);var n=t.bottom;if(n<200&&t.top>n){n=t.top;l.attr("placement","top-"+g.align)}else l.attr("placement","bottom-"+g.align);if(g.absolutePos)l.css({top:/top/.test(l.attr("placement"))?"auto":t.top+s.outerHeight(),bottom:/bottom/.test(l.attr("placement"))?"auto":t.bottom+s.outerHeight()});l.css("max-height",n-20);l.addClass("focus");e.addClass("focus")}b(document).on("click",function(e){if(o&&(b(e.target).parents(".dropdownjs").length||b(e.target).parents(".dropdownjs-ul").length||b(e.target).is(".dropdownjs-ul")))return;if(b(e.target).parents(".dropdownjs-add").length||b(e.target).is(".dropdownjs-add"))return;p()})}if(g.autoinit)b(document).on("DOMNodeInserted",function(e){var t=b(e.target);if(!t.is("select"))t=t.find("select");if(t.is(g.autoinit))t.each(function(){n(b(this))})});b(this).each(function(){n(b(this))})},select:function e(t,n){var i=t.data("select"),o=b(i.data("dropdownjs-ul")),r=o.find('[value="'+n+'"]');y._select(t,r)},_select:function e(t,n){if(n.is(".dropdownjs-add"))return;var i=t.data("select"),o=t.find("input.fakeinput"),r=b(i.data("dropdownjs-ul"));var a=i.attr("multiple");var s=r.find("li");if(a){n.attr("selected",function(e,t){return t==="selected"?null:"selected"});n.toggleClass("selected");n.each(function(){var e=i.find('[value="'+b(this).attr("value")+'"]');e.prop("selected",b(this).hasClass("selected"))});var l=[];s.each(function(){if(b(this).hasClass("selected"))l.push(b(this).text())});o.val(l.join(", "))}if(!a){if(n.is("li"))s.not(n).removeClass("selected");n.addClass("selected");i.val(n.attr("value"));o.val(n.text().trim())}if(b.material)if(o.val().trim())i.removeClass("empty");else i.addClass("empty");if(this.options.onSelected)this.options.onSelected(n.attr("value"))},_addOption:function e(t,n){var i=b("<li></li>");i.addClass(this.options.optionStyle);if(n.text())i.text(n.text());else i.html("&nbsp;");i.attr("value",n.val());var o=b.extend({},n[0].dataset);for(var r in o)i[0].dataset[r]=o[r];if(t.data("select").attr("data-dynamic-opts")){i.append("<span class=close></span>");i.find(".close").on("click",function(){i.remove();n.remove()})}if(n.prop("disabled"))i.attr("disabled",true);if(n.prop("selected")){i.attr("selected",true);i.addClass("selected")}if(t.find(".dropdownjs-add").length)t.find(".dropdownjs-add").before(i);else t.append(i)},_removeOption:function e(t,n){var i=n.val();t.find('[value="'+i+'"]').remove()}};function w(e,t,n){var i,o=document.createEvent;if(o){i=document.createEvent("HTMLEvents");i.initEvent(t,true,true)}else i=document.createEventObject();i.memo=n||{};if(o)return!e.dispatchEvent(i);return e.fireEvent("on"+t,i)}b.fn.dropdown=function(e){if(y[e])return y[e].apply(this,Array.prototype.slice.call(arguments,1));else if((typeof e==="undefined"?"undefined":o(e))==="object"|!e)return y.init.apply(this,arguments);b.error("Method "+e+" does not exists on jQuery.dropdown")}})?i.apply(t,n):i)&&(e.exports=t)},function(e,t,n){"use strict";var i,v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};window,i=function t(l,c){var d={dialog:"<div class='bootbox modal' tabindex='-1' role='dialog'><div class='modal-dialog'><div class='modal-content'><div class='modal-body'><div class='bootbox-body'></div></div></div></div></div>",header:"<div class='modal-header'><h4 class='modal-title'></h4></div>",footer:"<div class='modal-footer'></div>",closeButton:"<button type='button' class='bootbox-close-button close' data-dismiss='modal' aria-hidden='true'>&times;</button>",form:"<form class='bootbox-form'></form>",inputs:{text:"<input class='bootbox-input bootbox-input-text form-control' autocomplete=off type=text />",textarea:"<textarea class='bootbox-input bootbox-input-textarea form-control'></textarea>",email:"<input class='bootbox-input bootbox-input-email form-control' autocomplete='off' type='email' />",select:"<select class='bootbox-input bootbox-input-select form-control'></select>",checkbox:"<div class='checkbox'><label><input class='bootbox-input bootbox-input-checkbox' type='checkbox' /></label></div>",date:"<input class='bootbox-input bootbox-input-date form-control' autocomplete=off type='date' />",time:"<input class='bootbox-input bootbox-input-time form-control' autocomplete=off type='time' />",number:"<input class='bootbox-input bootbox-input-number form-control' autocomplete=off type='number' />",password:"<input class='bootbox-input bootbox-input-password form-control' autocomplete='off' type='password' />"}},r={locale:"en",backdrop:"static",animate:!0,className:null,closeButton:!0,show:!0,container:"body"},u={};function s(e,t,n){e.stopPropagation(),e.preventDefault(),l.isFunction(n)&&!1===n.call(t,e)||t.modal("hide")}function p(e,n){var i=0;l.each(e,function(e,t){n(e,t,i++)})}function f(e){var i,o;if("object"!==(void 0===e?"undefined":v(e)))throw new Error("Please supply an object of options");if(e.message)return(e=l.extend({},r,e)).buttons||(e.buttons={}),i=e.buttons,o=function(e){var t,n=0;for(t in e)n++;return n}(i),p(i,function(e,t,n){if(l.isFunction(t)&&(t=i[e]={callback:t}),"object"!==l.type(t))throw new Error("button with key "+e+" must be an object");t.label||(t.label=e),t.className||(t.className=o<=2&&n===o-1?"btn-primary":"btn-default")}),e;throw new Error("Please specify a message")}function h(e,t,n){return l.extend(!0,{},e,function(e,t){var n=e.length,i={};if(n<1||2<n)throw new Error("Invalid argument length");return 2===n||"string"==typeof e[0]?(i[t[0]]=e[0],i[t[1]]=e[1]):i=e[0],i}(t,n))}function n(e,t,n,i){return g(h({className:"bootbox-"+e,buttons:m.apply(null,t)},i,n),t)}function m(){for(var e={},t=0,n=arguments.length;t<n;t++){var i=arguments[t],o=i.toLowerCase(),i=i.toUpperCase();e[o]={label:(o=i,(a[r.locale]||a.en)[o])}}return e}function g(e,t){var n={};return p(t,function(e,t){n[t]=!0}),p(e.buttons,function(e){if(n[e]===c)throw new Error("button key "+e+" is not allowed (options are "+t.join("\n")+")")}),e}u.alert=function(){var e=n("alert",["ok"],["message","callback"],arguments);if(e.callback&&!l.isFunction(e.callback))throw new Error("alert requires callback property to be a function when provided");return e.buttons.ok.callback=e.onEscape=function(){return!l.isFunction(e.callback)||e.callback.call(this)},u.dialog(e)},u.confirm=function(){var e=n("confirm",["cancel","confirm"],["message","callback"],arguments);if(e.buttons.cancel.callback=e.onEscape=function(){return e.callback.call(this,!1)},e.buttons.confirm.callback=function(){return e.callback.call(this,!0)},l.isFunction(e.callback))return u.dialog(e);throw new Error("confirm requires a callback")},u.prompt=function(){var t,o,e=l(d.form),r=g(h({className:"bootbox-prompt",buttons:m("cancel","confirm"),value:"",inputType:"text"},arguments,["title","callback"]),["cancel","confirm"]),n=r.show===c||r.show;if(r.message=e,r.buttons.cancel.callback=r.onEscape=function(){return r.callback.call(this,null)},r.buttons.confirm.callback=function(){switch(r.inputType){case"text":case"textarea":case"email":case"select":case"date":case"time":case"number":case"password":n=o.val();break;case"checkbox":var e=o.find("input:checked"),n=[];p(e,function(e,t){n.push(l(t).val())})}return r.callback.call(this,n)},r.show=!1,!r.title)throw new Error("prompt requires a title");if(!l.isFunction(r.callback))throw new Error("prompt requires a callback");if(!d.inputs[r.inputType])throw new Error("invalid prompt type");switch(o=l(d.inputs[r.inputType]),r.inputType){case"text":case"textarea":case"email":case"date":case"time":case"number":case"password":o.val(r.value);break;case"select":var i={},a=r.inputOptions||[];if(!l.isArray(a))throw new Error("Please pass an array of input options");if(!a.length)throw new Error("prompt with select requires options");p(a,function(e,t){var n=o;if(t.value===c||t.text===c)throw new Error("given options in wrong format");t.group&&(i[t.group]||(i[t.group]=l("<optgroup/>").attr("label",t.group)),n=i[t.group]),n.append("<option value='"+t.value+"'>"+t.text+"</option>")}),p(i,function(e,t){o.append(t)}),o.val(r.value);break;case"checkbox":var s=l.isArray(r.value)?r.value:[r.value];if(!(a=r.inputOptions||[]).length)throw new Error("prompt with checkbox requires options");if(!a[0].value||!a[0].text)throw new Error("given options in wrong format");o=l("<div/>"),p(a,function(e,n){var i=l(d.inputs[r.inputType]);i.find("input").attr("value",n.value),i.find("label").append(n.text),p(s,function(e,t){t===n.value&&i.find("input").prop("checked",!0)}),o.append(i)})}return r.placeholder&&o.attr("placeholder",r.placeholder),r.pattern&&o.attr("pattern",r.pattern),r.maxlength&&o.attr("maxlength",r.maxlength),e.append(o),e.on("submit",function(e){e.preventDefault(),e.stopPropagation(),t.find(".btn-primary:last").click()}),(t=u.dialog(r)).off("shown.bs.modal"),t.on("shown.bs.modal",function(){o.focus()}),!0===n&&t.modal("show"),t},u.dialog=function(e){e=f(e);var n=l(d.dialog),t=n.find(".modal-dialog"),i=n.find(".modal-body"),o=e.buttons,r="",a={onEscape:e.onEscape};if(l.fn.modal===c)throw new Error("$.fn.modal is not defined; please double check you have included the Bootstrap JavaScript library. See http://getbootstrap.com/javascript/ for more details.");return p(o,function(e,t){r+="<button data-bb-handler='"+e+"' type='button' class='btn "+t.className+"'>"+t.label+"</button>",a[e]=t.callback}),i.find(".bootbox-body").html(e.message),!0===e.animate&&n.addClass("fade"),e.className&&n.addClass(e.className),"large"===e.size?t.addClass("modal-lg"):"small"===e.size?t.addClass("modal-sm"):"fullscreen"===e.size&&t.addClass("modal-fs"),e.title&&i.before(d.header),e.closeButton&&(o=l(d.closeButton),e.title?n.find(".modal-header").prepend(o):o.css("margin-top","-10px").prependTo(i)),e.title&&n.find(".modal-title").html(e.title),r.length&&(i.after(d.footer),n.find(".modal-footer").html(r)),n.on("hidden.bs.modal",function(e){e.target===this&&n.remove()}),n.on("shown.bs.modal",function(){n.find(".btn-primary:last").focus()}),"static"!==e.backdrop&&n.on("click.dismiss.bs.modal",function(e){n.children(".modal-backdrop").length&&(e.currentTarget=n.children(".modal-backdrop").get(0)),e.target===e.currentTarget&&n.trigger("escape.close.bb")}),n.on("escape.close.bb",function(e){a.onEscape&&s(e,n,a.onEscape)}),n.on("click",".modal-footer button",function(e){var t=l(this).data("bb-handler");s(e,n,a[t])}),n.on("click",".bootbox-close-button",function(e){s(e,n,a.onEscape)}),n.on("keyup",function(e){27===e.which&&n.trigger("escape.close.bb")}),l(e.container).append(n),n.modal({backdrop:!!e.backdrop&&"static",keyboard:!1,show:!1}),e.show&&n.modal("show"),n},u.setDefaults=function(){var e={};2===arguments.length?e[arguments[0]]=arguments[1]:e=arguments[0],l.extend(r,e)},u.hideAll=function(){return l(".bootbox").modal("hide"),u};var a={bg_BG:{OK:"Ок",CANCEL:"Отказ",CONFIRM:"Потвърждавам"},br:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Sim"},cs:{OK:"OK",CANCEL:"Zrušit",CONFIRM:"Potvrdit"},da:{OK:"OK",CANCEL:"Annuller",CONFIRM:"Accepter"},de:{OK:"OK",CANCEL:"Abbrechen",CONFIRM:"Akzeptieren"},el:{OK:"Εντάξει",CANCEL:"Ακύρωση",CONFIRM:"Επιβεβαίωση"},en:{OK:"OK",CANCEL:"Cancel",CONFIRM:"OK"},es:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Aceptar"},et:{OK:"OK",CANCEL:"Katkesta",CONFIRM:"OK"},fa:{OK:"قبول",CANCEL:"لغو",CONFIRM:"تایید"},fi:{OK:"OK",CANCEL:"Peruuta",CONFIRM:"OK"},fr:{OK:"OK",CANCEL:"Annuler",CONFIRM:"D'accord"},he:{OK:"אישור",CANCEL:"ביטול",CONFIRM:"אישור"},hu:{OK:"OK",CANCEL:"Mégsem",CONFIRM:"Megerősít"},hr:{OK:"OK",CANCEL:"Odustani",CONFIRM:"Potvrdi"},id:{OK:"OK",CANCEL:"Batal",CONFIRM:"OK"},it:{OK:"OK",CANCEL:"Annulla",CONFIRM:"Conferma"},ja:{OK:"OK",CANCEL:"キャンセル",CONFIRM:"確認"},lt:{OK:"Gerai",CANCEL:"Atšaukti",CONFIRM:"Patvirtinti"},lv:{OK:"Labi",CANCEL:"Atcelt",CONFIRM:"Apstiprināt"},nl:{OK:"OK",CANCEL:"Annuleren",CONFIRM:"Accepteren"},no:{OK:"OK",CANCEL:"Avbryt",CONFIRM:"OK"},pl:{OK:"OK",CANCEL:"Anuluj",CONFIRM:"Potwierdź"},pt:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Confirmar"},ru:{OK:"OK",CANCEL:"Отмена",CONFIRM:"Применить"},sq:{OK:"OK",CANCEL:"Anulo",CONFIRM:"Prano"},sv:{OK:"OK",CANCEL:"Avbryt",CONFIRM:"OK"},th:{OK:"ตกลง",CANCEL:"ยกเลิก",CONFIRM:"ยืนยัน"},tr:{OK:"Tamam",CANCEL:"İptal",CONFIRM:"Onayla"},zh_CN:{OK:"OK",CANCEL:"取消",CONFIRM:"确认"},zh_TW:{OK:"OK",CANCEL:"取消",CONFIRM:"確認"}};return u.addLocale=function(e,n){return l.each(["OK","CANCEL","CONFIRM"],function(e,t){if(!n[t])throw new Error("Please supply a translation for '"+t+"'")}),a[e]={OK:n.OK,CANCEL:n.CANCEL,CONFIRM:n.CONFIRM},u},u.removeLocale=function(e){return delete a[e],u},u.setLocale=function(e){return u.setDefaults("locale",e)},u.init=function(e){return t(e||l)},u},n=[n(137)],void 0!==(t="function"==typeof(i=i)?i.apply(t,n):i)&&(e.exports=t)},function(t,i,e){"use strict";!function(p,n){var e,m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};e=function(){return function i(o,r,a){function s(n,e){if(!r[n]){if(!o[n]){if(l)return l(n,!0);var t=new Error("Cannot find module '"+n+"'");throw t.code="MODULE_NOT_FOUND",t}t=r[n]={exports:{}};o[n][0].call(t.exports,function(e){var t=o[n][1][e];return s(t||e)},t,t.exports,i,o,r,a)}return r[n].exports}for(var l=!1,e=0;e<a.length;e++)s(a[e]);return s}({1:[function(e,t,n){var u=e("./utils"),p=e("./support"),f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";n.encode=function(e){for(var t,n,i,o,r,a,s=[],l=0,c=e.length,d="string"!==u.getTypeOf(e);l<e.length;)a=c-l,i=d?(t=e[l++],n=l<c?e[l++]:0,l<c?e[l++]:0):(t=e.charCodeAt(l++),n=l<c?e.charCodeAt(l++):0,l<c?e.charCodeAt(l++):0),o=(3&t)<<4|n>>4,r=1<a?(15&n)<<2|i>>6:64,a=2<a?63&i:64,s.push(f.charAt(t>>2)+f.charAt(o)+f.charAt(r)+f.charAt(a));return s.join("")},n.decode=function(e){var t,n,i,o,r,a,s=0,l=0;if("data:"===e.substr(0,"data:".length))throw new Error("Invalid base64 input, it looks like a data url.");var c,d=3*(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"")).length/4;if(e.charAt(e.length-1)===f.charAt(64)&&d--,e.charAt(e.length-2)===f.charAt(64)&&d--,d%1!=0)throw new Error("Invalid base64 input, bad content length.");for(c=new(p.uint8array?Uint8Array:Array)(0|d);s<e.length;)i=f.indexOf(e.charAt(s++)),t=(15&(o=f.indexOf(e.charAt(s++))))<<4|(r=f.indexOf(e.charAt(s++)))>>2,n=(3&r)<<6|(a=f.indexOf(e.charAt(s++))),c[l++]=i<<2|o>>4,64!==r&&(c[l++]=t),64!==a&&(c[l++]=n);return c}},{"./support":30,"./utils":32}],2:[function(e,t,n){function i(e,t,n,i,o){this.compressedSize=e,this.uncompressedSize=t,this.crc32=n,this.compression=i,this.compressedContent=o}var o=e("./external"),r=e("./stream/DataWorker"),a=e("./stream/DataLengthProbe"),s=e("./stream/Crc32Probe"),a=e("./stream/DataLengthProbe");i.prototype={getContentWorker:function(){var e=new r(o.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new a("data_length")),t=this;return e.on("end",function(){if(this.streamInfo.data_length!==t.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),e},getCompressedWorker:function(){return new r(o.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},i.createWorkerFrom=function(e,t,n){return e.pipe(new s).pipe(new a("uncompressedSize")).pipe(t.compressWorker(n)).pipe(new a("compressedSize")).withStreamInfo("compression",t)},t.exports=i},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(e,t,n){var i=e("./stream/GenericWorker");n.STORE={magic:"\0\0",compressWorker:function(e){return new i("STORE compression")},uncompressWorker:function(){return new i("STORE decompression")}},n.DEFLATE=e("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(e,t,n){var i=e("./utils"),s=function(){for(var e=[],t=0;t<256;t++){for(var n=t,i=0;i<8;i++)n=1&n?3988292384^n>>>1:n>>>1;e[t]=n}return e}();t.exports=function(e,t){return void 0!==e&&e.length?("string"!==i.getTypeOf(e)?function(e,t,n,i){var o=s,r=i+n;e^=-1;for(var a=i;a<r;a++)e=e>>>8^o[255&(e^t[a])];return-1^e}:function(e,t,n,i){var o=s,r=i+n;e^=-1;for(var a=i;a<r;a++)e=e>>>8^o[255&(e^t.charCodeAt(a))];return-1^e})(0|t,e,e.length,0):0}},{"./utils":32}],5:[function(e,t,n){n.base64=!1,n.binary=!1,n.dir=!1,n.createFolders=!0,n.date=null,n.compression=null,n.compressionOptions=null,n.comment=null,n.unixPermissions=null,n.dosPermissions=null},{}],6:[function(e,t,n){e="undefined"!=typeof Promise?Promise:e("lie");t.exports={Promise:e}},{lie:58}],7:[function(e,t,n){function i(e,t){s.call(this,"FlateWorker/"+e),this._pako=null,this._pakoAction=e,this._pakoOptions=t,this.meta={}}var o="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,r=e("pako"),a=e("./utils"),s=e("./stream/GenericWorker"),l=o?"uint8array":"array";n.magic="\b\0",a.inherits(i,s),i.prototype.processChunk=function(e){this.meta=e.meta,null===this._pako&&this._createPako(),this._pako.push(a.transformTo(l,e.data),!1)},i.prototype.flush=function(){s.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},i.prototype.cleanUp=function(){s.prototype.cleanUp.call(this),this._pako=null},i.prototype._createPako=function(){this._pako=new r[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var t=this;this._pako.onData=function(e){t.push({data:e,meta:t.meta})}},n.compressWorker=function(e){return new i("Deflate",e)},n.uncompressWorker=function(){return new i("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:59}],8:[function(e,t,n){function i(e,t,n,i){r.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=t,this.zipPlatform=n,this.encodeFileName=i,this.streamFiles=e,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}function b(e,t){for(var n="",i=0;i<t;i++)n+=String.fromCharCode(255&e),e>>>=8;return n}function o(e,t,n,i,o,r){var a=e.file,s=e.compression,l=r!==w.utf8encode,c=y.transformTo("string",r(a.name)),d=y.transformTo("string",w.utf8encode(a.name)),u=a.comment,r=y.transformTo("string",r(u)),p=y.transformTo("string",w.utf8encode(u)),f=d.length!==a.name.length,u=p.length!==u.length,h="",m=a.dir,g=a.date,v={crc32:0,compressedSize:0,uncompressedSize:0},n=(t&&!n||(v.crc32=e.crc32,v.compressedSize=e.compressedSize,v.uncompressedSize=e.uncompressedSize),0),e=(t&&(n|=8),l||!f&&!u||(n|=2048),0),t=0,g=(m&&(e|=16),"UNIX"===o?(t=798,e|=(l=a.unixPermissions,o=m,(65535&(l?l:o?16893:33204))<<16)):(t=20,e|=63&(a.dosPermissions||0)),m=g.getUTCHours(),m=(m=((m<<=6)|g.getUTCMinutes())<<5)|g.getUTCSeconds()/2,l=g.getUTCFullYear()-1980,l=(l=((l<<=4)|g.getUTCMonth()+1)<<5)|g.getUTCDate(),f&&(o=b(1,1)+b(x(c),4)+d,h+="up"+b(o.length,2)+o),u&&(a=b(1,1)+b(x(r),4)+p,h+="uc"+b(a.length,2)+a),""),g=(g=(g=(g=(g=(g=(g=(g=(g=(g+="\n\0")+b(n,2))+s.magic)+b(m,2))+b(l,2))+b(v.crc32,4))+b(v.compressedSize,4))+b(v.uncompressedSize,4))+b(c.length,2))+b(h.length,2);return{fileRecord:_.LOCAL_FILE_HEADER+g+c+h,dirRecord:_.CENTRAL_FILE_HEADER+b(t,2)+g+b(r.length,2)+"\0\0\0\0"+b(e,4)+b(i,4)+c+h+r}}var y=e("../utils"),r=e("../stream/GenericWorker"),w=e("../utf8"),x=e("../crc32"),_=e("../signature");y.inherits(i,r),i.prototype.push=function(e){var t=e.meta.percent||0,n=this.entriesCount,i=this._sources.length;this.accumulate?this.contentBuffer.push(e):(this.bytesWritten+=e.data.length,r.prototype.push.call(this,{data:e.data,meta:{currentFile:this.currentFile,percent:n?(t+100*(n-i-1))/n:100}}))},i.prototype.openedSource=function(e){this.currentSourceOffset=this.bytesWritten,this.currentFile=e.file.name;var t=this.streamFiles&&!e.file.dir;t?(e=o(e,t,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName),this.push({data:e.fileRecord,meta:{percent:0}})):this.accumulate=!0},i.prototype.closedSource=function(e){this.accumulate=!1;var t=this.streamFiles&&!e.file.dir,n=o(e,t,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(n.dirRecord),t)this.push({data:(t=e,_.DATA_DESCRIPTOR+b(t.crc32,4)+b(t.compressedSize,4)+b(t.uncompressedSize,4)),meta:{percent:100}});else for(this.push({data:n.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},i.prototype.flush=function(){for(var e=this.bytesWritten,t=0;t<this.dirRecords.length;t++)this.push({data:this.dirRecords[t],meta:{percent:100}});var n=this.bytesWritten-e,n=function(e,t,n,i,o){o=y.transformTo("string",o(i));return _.CENTRAL_DIRECTORY_END+"\0\0\0\0"+b(e,2)+b(e,2)+b(t,4)+b(n,4)+b(o.length,2)+o}(this.dirRecords.length,n,e,this.zipComment,this.encodeFileName);this.push({data:n,meta:{percent:100}})},i.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},i.prototype.registerPrevious=function(e){this._sources.push(e);var t=this;return e.on("data",function(e){t.processChunk(e)}),e.on("end",function(){t.closedSource(t.previous.streamInfo),t._sources.length?t.prepareNextSource():t.end()}),e.on("error",function(e){t.error(e)}),this},i.prototype.resume=function(){return!!r.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},i.prototype.error=function(e){var t=this._sources;if(!r.prototype.error.call(this,e))return!1;for(var n=0;n<t.length;n++)try{t[n].error(e)}catch(e){}return!0},i.prototype.lock=function(){r.prototype.lock.call(this);for(var e=this._sources,t=0;t<e.length;t++)e[t].lock()},t.exports=i},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(e,t,n){var c=e("../compressions"),i=e("./ZipFileWorker");n.generateWorker=function(e,a,t){var s=new i(a.streamFiles,t,a.platform,a.encodeFileName),l=0;try{e.forEach(function(e,t){l++;var n=function(e,t){e=e||t,t=c[e];if(t)return t;throw new Error(e+" is not a valid compression method !")}(t.options.compression,a.compression),i=t.options.compressionOptions||a.compressionOptions||{},o=t.dir,r=t.date;t._compressWorker(n,i).withStreamInfo("file",{name:e,dir:o,date:r,comment:t.comment||"",unixPermissions:t.unixPermissions,dosPermissions:t.dosPermissions}).pipe(s)}),s.entriesCount=l}catch(e){s.error(e)}return s}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(e,t,n){function i(){if(!(this instanceof i))return new i;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files={},this.comment=null,this.root="",this.clone=function(){var e,t=new i;for(e in this)"function"!=typeof this[e]&&(t[e]=this[e]);return t}}(i.prototype=e("./object")).loadAsync=e("./load"),i.support=e("./support"),i.defaults=e("./defaults"),i.version="3.1.5",i.loadAsync=function(e,t){return(new i).loadAsync(e,t)},i.external=e("./external"),t.exports=i},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(e,t,n){var i=e("./utils"),a=e("./external"),s=e("./utf8"),i=e("./utils"),l=e("./zipEntries"),c=e("./stream/Crc32Probe"),d=e("./nodejsUtils");t.exports=function(e,o){var r=this;return o=i.extend(o||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:s.utf8decode}),d.isNode&&d.isStream(e)?a.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):i.prepareContent("the loaded zip file",e,!0,o.optimizedBinaryString,o.base64).then(function(e){var t=new l(o);return t.load(e),t}).then(function(e){var t=[a.Promise.resolve(e)],n=e.files;if(o.checkCRC32)for(var i=0;i<n.length;i++)t.push(function(i){return new a.Promise(function(e,t){var n=i.decompressed.getContentWorker().pipe(new c);n.on("error",function(e){t(e)}).on("end",function(){n.streamInfo.crc32!==i.decompressed.crc32?t(new Error("Corrupted zip : CRC32 mismatch")):e()}).resume()})}(n[i]));return a.Promise.all(t)}).then(function(e){for(var e=e.shift(),t=e.files,n=0;n<t.length;n++){var i=t[n];r.file(i.fileNameStr,i.decompressed,{binary:!0,optimizedBinaryString:!0,date:i.date,dir:i.dir,comment:i.fileCommentStr.length?i.fileCommentStr:null,unixPermissions:i.unixPermissions,dosPermissions:i.dosPermissions,createFolders:o.createFolders})}return e.zipComment.length&&(r.comment=e.zipComment),r})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(e,t,n){function i(e,t){r.call(this,"Nodejs stream input adapter for "+e),this._upstreamEnded=!1,this._bindStream(t)}var o=e("../utils"),r=e("../stream/GenericWorker");o.inherits(i,r),i.prototype._bindStream=function(e){var t=this;(this._stream=e).pause(),e.on("data",function(e){t.push({data:e,meta:{percent:0}})}).on("error",function(e){t.isPaused?this.generatedError=e:t.error(e)}).on("end",function(){t.isPaused?t._upstreamEnded=!0:t.end()})},i.prototype.pause=function(){return!!r.prototype.pause.call(this)&&(this._stream.pause(),!0)},i.prototype.resume=function(){return!!r.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},t.exports=i},{"../stream/GenericWorker":28,"../utils":32}],13:[function(e,t,n){function i(e,t,n){o.call(this,t),this._helper=e;var i=this;e.on("data",function(e,t){i.push(e)||i._helper.pause(),n&&n(t)}).on("error",function(e){i.emit("error",e)}).on("end",function(){i.push(null)})}var o=e("readable-stream").Readable;e("../utils").inherits(i,o),i.prototype._read=function(){this._helper.resume()},t.exports=i},{"../utils":32,"readable-stream":16}],14:[function(e,t,n){t.exports={isNode:void 0!==p,newBufferFrom:function(e,t){return new p(e,t)},allocBuffer:function(e){return p.alloc?p.alloc(e):new p(e)},isBuffer:function(e){return p.isBuffer(e)},isStream:function(e){return e&&"function"==typeof e.on&&"function"==typeof e.pause&&"function"==typeof e.resume}}},{}],15:[function(e,t,n){function r(e){return"[object RegExp]"===Object.prototype.toString.call(e)}function a(e){var t=(e="/"===e.slice(-1)?e.substring(0,e.length-1):e).lastIndexOf("/");return 0<t?e.substring(0,t):""}function s(e,t){return t=void 0!==t?t:u.createFolders,e=b(e),this.files[e]||v.call(this,e,null,{dir:!0,createFolders:t}),this.files[e]}var o=e("./utf8"),l=e("./utils"),c=e("./stream/GenericWorker"),d=e("./stream/StreamHelper"),u=e("./defaults"),p=e("./compressedObject"),f=e("./zipObject"),h=e("./generate"),m=e("./nodejsUtils"),g=e("./nodejs/NodejsStreamInputAdapter"),v=function(e,t,n){var i=l.getTypeOf(t),o=l.extend(n||{},u),r=(o.date=o.date||new Date,null!==o.compression&&(o.compression=o.compression.toUpperCase()),"string"==typeof o.unixPermissions&&(o.unixPermissions=parseInt(o.unixPermissions,8)),o.unixPermissions&&16384&o.unixPermissions&&(o.dir=!0),o.dosPermissions&&16&o.dosPermissions&&(o.dir=!0),o.dir&&(e=b(e)),o.createFolders&&(r=a(e))&&s.call(this,r,!0),"string"===i&&!1===o.binary&&!1===o.base64);n&&void 0!==n.binary||(o.binary=!r);(t instanceof p&&0===t.uncompressedSize||o.dir||!t||0===t.length)&&(o.base64=!1,o.binary=!0,t="",o.compression="STORE");i=t instanceof p||t instanceof c?t:m.isNode&&m.isStream(t)?new g(e,t):l.prepareContent(e,t,o.binary,o.optimizedBinaryString,o.base64),n=new f(e,i,o);this.files[e]=n},b=function(e){return"/"!==e.slice(-1)&&(e+="/"),e};t.exports={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(e){var t,n,i;for(t in this.files)this.files.hasOwnProperty(t)&&(i=this.files[t],n=t.slice(this.root.length,t.length))&&t.slice(0,this.root.length)===this.root&&e(n,i)},filter:function(n){var i=[];return this.forEach(function(e,t){n(e,t)&&i.push(t)}),i},file:function(e,t,n){var i,o;return 1===arguments.length?r(e)?(i=e,this.filter(function(e,t){return!t.dir&&i.test(e)})):(o=this.files[this.root+e])&&!o.dir?o:null:(e=this.root+e,v.call(this,e,t,n),this)},folder:function(n){var e,t;return n?r(n)?this.filter(function(e,t){return t.dir&&n.test(e)}):(e=this.root+n,e=s.call(this,e),(t=this.clone()).root=e.name,t):this},remove:function(n){n=this.root+n;var e=this.files[n];if(e||("/"!==n.slice(-1)&&(n+="/"),e=this.files[n]),e&&!e.dir)delete this.files[n];else for(var t=this.filter(function(e,t){return t.name.slice(0,n.length)===n}),i=0;i<t.length;i++)delete this.files[t[i].name];return this},generate:function(e){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(e){var t={};try{if((t=l.extend(e||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:o.utf8encode})).type=t.type.toLowerCase(),t.compression=t.compression.toUpperCase(),"binarystring"===t.type&&(t.type="string"),!t.type)throw new Error("No output type specified.");l.checkSupport(t.type),"darwin"!==t.platform&&"freebsd"!==t.platform&&"linux"!==t.platform&&"sunos"!==t.platform||(t.platform="UNIX"),"win32"===t.platform&&(t.platform="DOS");var n=t.comment||this.comment||"",i=h.generateWorker(this,t,n)}catch(e){(i=new c("error")).error(e)}return new d(i,t.type||"string",t.mimeType)},generateAsync:function(e,t){return this.generateInternalStream(e).accumulate(t)},generateNodeStream:function(e,t){return(e=e||{}).type||(e.type="nodebuffer"),this.generateInternalStream(e).toNodejsStream(t)}}},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(e,t,n){t.exports=e("stream")},{stream:void 0}],17:[function(e,t,n){function i(e){o.call(this,e);for(var t=0;t<this.data.length;t++)e[t]=255&e[t]}var o=e("./DataReader");e("../utils").inherits(i,o),i.prototype.byteAt=function(e){return this.data[this.zero+e]},i.prototype.lastIndexOfSignature=function(e){for(var t=e.charCodeAt(0),n=e.charCodeAt(1),i=e.charCodeAt(2),o=e.charCodeAt(3),r=this.length-4;0<=r;--r)if(this.data[r]===t&&this.data[r+1]===n&&this.data[r+2]===i&&this.data[r+3]===o)return r-this.zero;return-1},i.prototype.readAndCheckSignature=function(e){var t=e.charCodeAt(0),n=e.charCodeAt(1),i=e.charCodeAt(2),e=e.charCodeAt(3),o=this.readData(4);return t===o[0]&&n===o[1]&&i===o[2]&&e===o[3]},i.prototype.readData=function(e){var t;return this.checkOffset(e),0===e?[]:(t=this.data.slice(this.zero+this.index,this.zero+this.index+e),this.index+=e,t)},t.exports=i},{"../utils":32,"./DataReader":18}],18:[function(e,t,n){function i(e){this.data=e,this.length=e.length,this.index=0,this.zero=0}var o=e("../utils");i.prototype={checkOffset:function(e){this.checkIndex(this.index+e)},checkIndex:function(e){if(this.length<this.zero+e||e<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+e+"). Corrupted zip ?")},setIndex:function(e){this.checkIndex(e),this.index=e},skip:function(e){this.setIndex(this.index+e)},byteAt:function(e){},readInt:function(e){var t,n=0;for(this.checkOffset(e),t=this.index+e-1;t>=this.index;t--)n=(n<<8)+this.byteAt(t);return this.index+=e,n},readString:function(e){return o.transformTo("string",this.readData(e))},readData:function(e){},lastIndexOfSignature:function(e){},readAndCheckSignature:function(e){},readDate:function(){var e=this.readInt(4);return new Date(Date.UTC(1980+(e>>25&127),(e>>21&15)-1,e>>16&31,e>>11&31,e>>5&63,(31&e)<<1))}},t.exports=i},{"../utils":32}],19:[function(e,t,n){function i(e){o.call(this,e)}var o=e("./Uint8ArrayReader");e("../utils").inherits(i,o),i.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(e,t,n){function i(e){o.call(this,e)}var o=e("./DataReader");e("../utils").inherits(i,o),i.prototype.byteAt=function(e){return this.data.charCodeAt(this.zero+e)},i.prototype.lastIndexOfSignature=function(e){return this.data.lastIndexOf(e)-this.zero},i.prototype.readAndCheckSignature=function(e){return e===this.readData(4)},i.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{"../utils":32,"./DataReader":18}],21:[function(e,t,n){function i(e){o.call(this,e)}var o=e("./ArrayReader");e("../utils").inherits(i,o),i.prototype.readData=function(e){var t;return this.checkOffset(e),0===e?new Uint8Array(0):(t=this.data.subarray(this.zero+this.index,this.zero+this.index+e),this.index+=e,t)},t.exports=i},{"../utils":32,"./ArrayReader":17}],22:[function(e,t,n){var i=e("../utils"),o=e("../support"),r=e("./ArrayReader"),a=e("./StringReader"),s=e("./NodeBufferReader"),l=e("./Uint8ArrayReader");t.exports=function(e){var t=i.getTypeOf(e);return i.checkSupport(t),"string"!==t||o.uint8array?"nodebuffer"===t?new s(e):o.uint8array?new l(i.transformTo("uint8array",e)):new r(i.transformTo("array",e)):new a(e)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(e,t,n){n.LOCAL_FILE_HEADER="PK",n.CENTRAL_FILE_HEADER="PK",n.CENTRAL_DIRECTORY_END="PK",n.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK",n.ZIP64_CENTRAL_DIRECTORY_END="PK",n.DATA_DESCRIPTOR="PK\b"},{}],24:[function(e,t,n){function i(e){o.call(this,"ConvertWorker to "+e),this.destType=e}var o=e("./GenericWorker"),r=e("../utils");r.inherits(i,o),i.prototype.processChunk=function(e){this.push({data:r.transformTo(this.destType,e.data),meta:e.meta})},t.exports=i},{"../utils":32,"./GenericWorker":28}],25:[function(e,t,n){function i(){o.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}var o=e("./GenericWorker"),r=e("../crc32");e("../utils").inherits(i,o),i.prototype.processChunk=function(e){this.streamInfo.crc32=r(e.data,this.streamInfo.crc32||0),this.push(e)},t.exports=i},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(e,t,n){function i(e){r.call(this,"DataLengthProbe for "+e),this.propName=e,this.withStreamInfo(e,0)}var o=e("../utils"),r=e("./GenericWorker");o.inherits(i,r),i.prototype.processChunk=function(e){var t;e&&(t=this.streamInfo[this.propName]||0,this.streamInfo[this.propName]=t+e.data.length),r.prototype.processChunk.call(this,e)},t.exports=i},{"../utils":32,"./GenericWorker":28}],27:[function(e,t,n){function i(e){r.call(this,"DataWorker");var t=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,e.then(function(e){t.dataIsReady=!0,t.data=e,t.max=e&&e.length||0,t.type=o.getTypeOf(e),t.isPaused||t._tickAndRepeat()},function(e){t.error(e)})}var o=e("../utils"),r=e("./GenericWorker");o.inherits(i,r),i.prototype.cleanUp=function(){r.prototype.cleanUp.call(this),this.data=null},i.prototype.resume=function(){return!!r.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,o.delay(this._tickAndRepeat,[],this)),!0)},i.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished)||(o.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0)},i.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var e=null,t=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":e=this.data.substring(this.index,t);break;case"uint8array":e=this.data.subarray(this.index,t);break;case"array":case"nodebuffer":e=this.data.slice(this.index,t)}return this.index=t,this.push({data:e,meta:{percent:this.max?this.index/this.max*100:0}})},t.exports=i},{"../utils":32,"./GenericWorker":28}],28:[function(e,t,n){function i(e){this.name=e||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}i.prototype={push:function(e){this.emit("data",e)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(e){this.emit("error",e)}return!0},error:function(e){return!this.isFinished&&(this.isPaused?this.generatedError=e:(this.isFinished=!0,this.emit("error",e),this.previous&&this.previous.error(e),this.cleanUp()),!0)},on:function(e,t){return this._listeners[e].push(t),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(e,t){if(this._listeners[e])for(var n=0;n<this._listeners[e].length;n++)this._listeners[e][n].call(this,t)},pipe:function(e){return e.registerPrevious(this)},registerPrevious:function(e){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=e.streamInfo,this.mergeStreamInfo(),this.previous=e;var t=this;return e.on("data",function(e){t.processChunk(e)}),e.on("end",function(){t.end()}),e.on("error",function(e){t.error(e)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){var e;return!(!this.isPaused||this.isFinished||(e=this.isPaused=!1,this.generatedError&&(this.error(this.generatedError),e=!0),this.previous&&this.previous.resume(),e))},flush:function(){},processChunk:function(e){this.push(e)},withStreamInfo:function(e,t){return this.extraStreamInfo[e]=t,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var e in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(e)&&(this.streamInfo[e]=this.extraStreamInfo[e])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var e="Worker "+this.name;return this.previous?this.previous+" -> "+e:e}},t.exports=i},{}],29:[function(e,t,n){function i(e,s){return new d.Promise(function(t,n){var i=[],o=e._internalType,r=e._outputType,a=e._mimeType;e.on("data",function(e,t){i.push(e),s&&s(t)}).on("error",function(e){i=[],n(e)}).on("end",function(){try{var e=function(e,t,n){switch(e){case"blob":return l.newBlob(l.transformTo("arraybuffer",t),n);case"base64":return c.encode(t);default:return l.transformTo(e,t)}}(r,function(e,t){for(var n=0,i=null,o=0,r=0;r<t.length;r++)o+=t[r].length;switch(e){case"string":return t.join("");case"array":return Array.prototype.concat.apply([],t);case"uint8array":for(i=new Uint8Array(o),r=0;r<t.length;r++)i.set(t[r],n),n+=t[r].length;return i;case"nodebuffer":return p.concat(t);default:throw new Error("concat : unsupported type '"+e+"'")}}(o,i),a);t(e)}catch(e){n(e)}i=[]}).resume()})}function o(e,t,n){var i=t;switch(t){case"blob":case"arraybuffer":i="uint8array";break;case"base64":i="string"}try{this._internalType=i,this._outputType=t,this._mimeType=n,l.checkSupport(i),this._worker=e.pipe(new r(i)),e.lock()}catch(e){this._worker=new a("error"),this._worker.error(e)}}var l=e("../utils"),r=e("./ConvertWorker"),a=e("./GenericWorker"),c=e("../base64"),s=e("../support"),d=e("../external"),u=null;if(s.nodestream)try{u=e("../nodejs/NodejsStreamOutputAdapter")}catch(e){}o.prototype={accumulate:function(e){return i(this,e)},on:function(e,t){var n=this;return"data"===e?this._worker.on(e,function(e){t.call(n,e.data,e.meta)}):this._worker.on(e,function(){l.delay(t,arguments,n)}),this},resume:function(){return l.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(e){if(l.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new u(this,{objectMode:"nodebuffer"!==this._outputType},e)}},t.exports=o},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(e,t,n){if(n.base64=!0,n.array=!0,n.string=!0,n.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,n.nodebuffer=void 0!==p,n.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)n.blob=!1;else{var i=new ArrayBuffer(0);try{n.blob=0===new Blob([i],{type:"application/zip"}).size}catch(e){try{var o=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);o.append(i),n.blob=0===o.getBlob("application/zip").size}catch(e){n.blob=!1}}}try{n.nodestream=!!e("readable-stream").Readable}catch(e){n.nodestream=!1}},{"readable-stream":16}],31:[function(e,t,o){function n(){r.call(this,"utf-8 decode"),this.leftOver=null}function i(){r.call(this,"utf-8 encode")}for(var l=e("./utils"),c=e("./support"),d=e("./nodejsUtils"),r=e("./stream/GenericWorker"),u=new Array(256),a=0;a<256;a++)u[a]=252<=a?6:248<=a?5:240<=a?4:224<=a?3:192<=a?2:1;u[254]=u[254]=1;o.utf8encode=function(e){if(c.nodebuffer)return d.newBufferFrom(e,"utf-8");for(var t,n,i,o,r=e,a=r.length,s=0,l=0;l<a;l++)55296==(64512&(n=r.charCodeAt(l)))&&l+1<a&&56320==(64512&(i=r.charCodeAt(l+1)))&&(n=65536+(n-55296<<10)+(i-56320),l++),s+=n<128?1:n<2048?2:n<65536?3:4;for(t=new(c.uint8array?Uint8Array:Array)(s),l=o=0;o<s;l++)55296==(64512&(n=r.charCodeAt(l)))&&l+1<a&&56320==(64512&(i=r.charCodeAt(l+1)))&&(n=65536+(n-55296<<10)+(i-56320),l++),n<128?t[o++]=n:(n<2048?t[o++]=192|n>>>6:(n<65536?t[o++]=224|n>>>12:(t[o++]=240|n>>>18,t[o++]=128|n>>>12&63),t[o++]=128|n>>>6&63),t[o++]=128|63&n);return t},o.utf8decode=function(e){if(c.nodebuffer)return l.transformTo("nodebuffer",e).toString("utf-8");for(var t,n,i=e=l.transformTo(c.uint8array?"uint8array":"array",e),o=i.length,r=new Array(2*o),a=0,s=0;s<o;)if((t=i[s++])<128)r[a++]=t;else if(4<(n=u[t]))r[a++]=65533,s+=n-1;else{for(t&=2===n?31:3===n?15:7;1<n&&s<o;)t=t<<6|63&i[s++],n--;1<n?r[a++]=65533:t<65536?r[a++]=t:(t-=65536,r[a++]=55296|t>>10&1023,r[a++]=56320|1023&t)}return r.length!==a&&(r.subarray?r=r.subarray(0,a):r.length=a),l.applyFromCharCode(r)},l.inherits(n,r),n.prototype.processChunk=function(e){var t=l.transformTo(c.uint8array?"uint8array":"array",e.data),n=(this.leftOver&&this.leftOver.length&&(c.uint8array?(n=t,(t=new Uint8Array(n.length+this.leftOver.length)).set(this.leftOver,0),t.set(n,this.leftOver.length)):t=this.leftOver.concat(t),this.leftOver=null),function(e,t){for(var n=(t=(t=t||e.length)>e.length?e.length:t)-1;0<=n&&128==(192&e[n]);)n--;return!(n<0)&&0!==n&&n+u[e[n]]>t?n:t}(t)),i=t;n!==t.length&&(c.uint8array?(i=t.subarray(0,n),this.leftOver=t.subarray(n,t.length)):(i=t.slice(0,n),this.leftOver=t.slice(n,t.length))),this.push({data:o.utf8decode(i),meta:e.meta})},n.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:o.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},o.Utf8DecodeWorker=n,l.inherits(i,r),i.prototype.processChunk=function(e){this.push({data:o.utf8encode(e.data),meta:e.meta})},o.Utf8EncodeWorker=i},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(e,t,a){function n(e){return e}function s(e,t){for(var n=0;n<e.length;++n)t[n]=255&e.charCodeAt(n);return t}function i(e){var t=65536,n=a.getTypeOf(e),i=!0;if("uint8array"===n?i=p.applyCanBeUsed.uint8array:"nodebuffer"===n&&(i=p.applyCanBeUsed.nodebuffer),i)for(;1<t;)try{return p.stringifyByChunk(e,n,t)}catch(e){t=Math.floor(t/2)}return p.stringifyByChar(e)}function o(e,t){for(var n=0;n<e.length;n++)t[n]=e[n];return t}var l=e("./support"),c=e("./base64"),r=e("./nodejsUtils"),d=e("core-js/library/fn/set-immediate"),u=e("./external"),p=(a.newBlob=function(t,n){a.checkSupport("blob");try{return new Blob([t],{type:n})}catch(e){try{var i=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return i.append(t),i.getBlob(n)}catch(e){throw new Error("Bug : can't construct the Blob.")}}},{stringifyByChunk:function(e,t,n){var i=[],o=0,r=e.length;if(r<=n)return String.fromCharCode.apply(null,e);for(;o<r;)i.push("array"===t||"nodebuffer"===t?String.fromCharCode.apply(null,e.slice(o,Math.min(o+n,r))):String.fromCharCode.apply(null,e.subarray(o,Math.min(o+n,r)))),o+=n;return i.join("")},stringifyByChar:function(e){for(var t="",n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t},applyCanBeUsed:{uint8array:function(){try{return l.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(e){return!1}}(),nodebuffer:function(){try{return l.nodebuffer&&1===String.fromCharCode.apply(null,r.allocBuffer(1)).length}catch(e){return!1}}()}}),f=(a.applyFromCharCode=i,{});f.string={string:n,array:function(e){return s(e,new Array(e.length))},arraybuffer:function(e){return f.string.uint8array(e).buffer},uint8array:function(e){return s(e,new Uint8Array(e.length))},nodebuffer:function(e){return s(e,r.allocBuffer(e.length))}},f.array={string:i,array:n,arraybuffer:function(e){return new Uint8Array(e).buffer},uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return r.newBufferFrom(e)}},f.arraybuffer={string:function(e){return i(new Uint8Array(e))},array:function(e){return o(new Uint8Array(e),new Array(e.byteLength))},arraybuffer:n,uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return r.newBufferFrom(new Uint8Array(e))}},f.uint8array={string:i,array:function(e){return o(e,new Array(e.length))},arraybuffer:function(e){return e.buffer},uint8array:n,nodebuffer:function(e){return r.newBufferFrom(e)}},f.nodebuffer={string:i,array:function(e){return o(e,new Array(e.length))},arraybuffer:function(e){return f.nodebuffer.uint8array(e).buffer},uint8array:function(e){return o(e,new Uint8Array(e.length))},nodebuffer:n},a.transformTo=function(e,t){if(t=t||"",!e)return t;a.checkSupport(e);var n=a.getTypeOf(t);return f[n][e](t)},a.getTypeOf=function(e){return"string"==typeof e?"string":"[object Array]"===Object.prototype.toString.call(e)?"array":l.nodebuffer&&r.isBuffer(e)?"nodebuffer":l.uint8array&&e instanceof Uint8Array?"uint8array":l.arraybuffer&&e instanceof ArrayBuffer?"arraybuffer":void 0},a.checkSupport=function(e){if(!l[e.toLowerCase()])throw new Error(e+" is not supported by this platform")},a.MAX_VALUE_16BITS=65535,a.MAX_VALUE_32BITS=-1,a.pretty=function(e){for(var t,n="",i=0;i<(e||"").length;i++)n+="\\x"+((t=e.charCodeAt(i))<16?"0":"")+t.toString(16).toUpperCase();return n},a.delay=function(e,t,n){d(function(){e.apply(n||null,t||[])})},a.inherits=function(e,t){function n(){}n.prototype=t.prototype,e.prototype=new n},a.extend=function(){for(var e,t={},n=0;n<arguments.length;n++)for(e in arguments[n])arguments[n].hasOwnProperty(e)&&void 0===t[e]&&(t[e]=arguments[n][e]);return t},a.prepareContent=function(n,e,i,o,r){return u.Promise.resolve(e).then(function(i){return l.blob&&(i instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(i)))&&"undefined"!=typeof FileReader?new u.Promise(function(t,n){var e=new FileReader;e.onload=function(e){t(e.target.result)},e.onerror=function(e){n(e.target.error)},e.readAsArrayBuffer(i)}):i}).then(function(e){var t=a.getTypeOf(e);return t?("arraybuffer"===t?e=a.transformTo("uint8array",e):"string"===t&&(r?e=c.decode(e):i&&!0!==o&&(e=s(t=e,new(l.uint8array?Uint8Array:Array)(t.length)))),e):u.Promise.reject(new Error("Can't read the data of '"+n+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,"core-js/library/fn/set-immediate":36}],33:[function(e,t,n){function i(e){this.files=[],this.loadOptions=e}var o=e("./reader/readerFor"),r=e("./utils"),a=e("./signature"),s=e("./zipEntry"),l=(e("./utf8"),e("./support"));i.prototype={checkSignature:function(e){var t;if(!this.reader.readAndCheckSignature(e))throw this.reader.index-=4,t=this.reader.readString(4),new Error("Corrupted zip or bug: unexpected signature ("+r.pretty(t)+", expected "+r.pretty(e)+")")},isSignature:function(e,t){var n=this.reader.index;this.reader.setIndex(e);e=this.reader.readString(4)===t;return this.reader.setIndex(n),e},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var e=this.reader.readData(this.zipCommentLength),t=l.uint8array?"uint8array":"array",t=r.transformTo(t,e);this.zipComment=this.loadOptions.decodeFileName(t)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var e,t,n,i=this.zip64EndOfCentralSize-44;0<i;)e=this.reader.readInt(2),t=this.reader.readInt(4),n=this.reader.readData(t),this.zip64ExtensibleData[e]={id:e,length:t,value:n}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){for(var e,t=0;t<this.files.length;t++)e=this.files[t],this.reader.setIndex(e.localHeaderOffset),this.checkSignature(a.LOCAL_FILE_HEADER),e.readLocalPart(this.reader),e.handleUTF8(),e.processAttributes()},readCentralDir:function(){var e;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(a.CENTRAL_FILE_HEADER);)(e=new s({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(e);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var e=this.reader.lastIndexOfSignature(a.CENTRAL_DIRECTORY_END);if(e<0)throw!this.isSignature(0,a.LOCAL_FILE_HEADER)?new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html"):new Error("Corrupted zip: can't find end of central directory");this.reader.setIndex(e);var t=e;if(this.checkSignature(a.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===r.MAX_VALUE_16BITS||this.diskWithCentralDirStart===r.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===r.MAX_VALUE_16BITS||this.centralDirRecords===r.MAX_VALUE_16BITS||this.centralDirSize===r.MAX_VALUE_32BITS||this.centralDirOffset===r.MAX_VALUE_32BITS){if(this.zip64=!0,(e=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(e),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,a.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}e=this.centralDirOffset+this.centralDirSize,e=t-(e=this.zip64?e+20+(12+this.zip64EndOfCentralSize):e);if(0<e)this.isSignature(t,a.CENTRAL_FILE_HEADER)||(this.reader.zero=e);else if(e<0)throw new Error("Corrupted zip: missing "+Math.abs(e)+" bytes.")},prepareReader:function(e){this.reader=o(e)},load:function(e){this.prepareReader(e),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},t.exports=i},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utf8":31,"./utils":32,"./zipEntry":34}],34:[function(e,t,n){function i(e,t){this.options=e,this.loadOptions=t}var o=e("./reader/readerFor"),r=e("./utils"),a=e("./compressedObject"),s=e("./crc32"),l=e("./utf8"),c=e("./compressions"),d=e("./support");i.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(e){var t;if(e.skip(22),this.fileNameLength=e.readInt(2),t=e.readInt(2),this.fileName=e.readData(this.fileNameLength),e.skip(t),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough informations from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(t=function(e){for(var t in c)if(c.hasOwnProperty(t)&&c[t].magic===e)return c[t];return null}(this.compressionMethod)))throw new Error("Corrupted zip : compression "+r.pretty(this.compressionMethod)+" unknown (inner file : "+r.transformTo("string",this.fileName)+")");this.decompressed=new a(this.compressedSize,this.uncompressedSize,this.crc32,t,e.readData(this.compressedSize))},readCentralPart:function(e){this.versionMadeBy=e.readInt(2),e.skip(2),this.bitFlag=e.readInt(2),this.compressionMethod=e.readString(2),this.date=e.readDate(),this.crc32=e.readInt(4),this.compressedSize=e.readInt(4),this.uncompressedSize=e.readInt(4);var t=e.readInt(2);if(this.extraFieldsLength=e.readInt(2),this.fileCommentLength=e.readInt(2),this.diskNumberStart=e.readInt(2),this.internalFileAttributes=e.readInt(2),this.externalFileAttributes=e.readInt(4),this.localHeaderOffset=e.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");e.skip(t),this.readExtraFields(e),this.parseZIP64ExtraField(e),this.fileComment=e.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var e=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0==e&&(this.dosPermissions=63&this.externalFileAttributes),3==e&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(e){var t;this.extraFields[1]&&(t=o(this.extraFields[1].value),this.uncompressedSize===r.MAX_VALUE_32BITS&&(this.uncompressedSize=t.readInt(8)),this.compressedSize===r.MAX_VALUE_32BITS&&(this.compressedSize=t.readInt(8)),this.localHeaderOffset===r.MAX_VALUE_32BITS&&(this.localHeaderOffset=t.readInt(8)),this.diskNumberStart===r.MAX_VALUE_32BITS)&&(this.diskNumberStart=t.readInt(4))},readExtraFields:function(e){var t,n,i,o=e.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});e.index<o;)t=e.readInt(2),n=e.readInt(2),i=e.readData(n),this.extraFields[t]={id:t,length:n,value:i}},handleUTF8:function(){var e,t=d.uint8array?"uint8array":"array";this.useUTF8()?(this.fileNameStr=l.utf8decode(this.fileName),this.fileCommentStr=l.utf8decode(this.fileComment)):(null!==(e=this.findExtraFieldUnicodePath())?this.fileNameStr=e:(e=r.transformTo(t,this.fileName),this.fileNameStr=this.loadOptions.decodeFileName(e)),null!==(e=this.findExtraFieldUnicodeComment())?this.fileCommentStr=e:(e=r.transformTo(t,this.fileComment),this.fileCommentStr=this.loadOptions.decodeFileName(e)))},findExtraFieldUnicodePath:function(){var e,t=this.extraFields[28789];return!t||1!==(e=o(t.value)).readInt(1)||s(this.fileName)!==e.readInt(4)?null:l.utf8decode(e.readData(t.length-5))},findExtraFieldUnicodeComment:function(){var e,t=this.extraFields[25461];return!t||1!==(e=o(t.value)).readInt(1)||s(this.fileComment)!==e.readInt(4)?null:l.utf8decode(e.readData(t.length-5))}},t.exports=i},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(e,t,n){function i(e,t,n){this.name=e,this.dir=n.dir,this.date=n.date,this.comment=n.comment,this.unixPermissions=n.unixPermissions,this.dosPermissions=n.dosPermissions,this._data=t,this._dataBinary=n.binary,this.options={compression:n.compression,compressionOptions:n.compressionOptions}}var r=e("./stream/StreamHelper"),o=e("./stream/DataWorker"),a=e("./utf8"),s=e("./compressedObject"),l=e("./stream/GenericWorker");i.prototype={internalStream:function(e){var t=null,n="string";try{if(!e)throw new Error("No output type specified.");var i="string"===(n=e.toLowerCase())||"text"===n,o=("binarystring"!==n&&"text"!==n||(n="string"),t=this._decompressWorker(),!this._dataBinary);o&&!i&&(t=t.pipe(new a.Utf8EncodeWorker)),!o&&i&&(t=t.pipe(new a.Utf8DecodeWorker))}catch(e){(t=new l("error")).error(e)}return new r(t,n,"")},async:function(e,t){return this.internalStream(e).accumulate(t)},nodeStream:function(e,t){return this.internalStream(e||"nodebuffer").toNodejsStream(t)},_compressWorker:function(e,t){var n;return this._data instanceof s&&this._data.compression.magic===e.magic?this._data.getCompressedWorker():(n=this._decompressWorker(),this._dataBinary||(n=n.pipe(new a.Utf8EncodeWorker)),s.createWorkerFrom(n,e,t))},_decompressWorker:function(){return this._data instanceof s?this._data.getContentWorker():this._data instanceof l?this._data:new o(this._data)}};for(var c=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],d=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},u=0;u<c.length;u++)i.prototype[c[u]]=d;t.exports=i},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(e,t,n){e("../modules/web.immediate"),t.exports=e("../modules/_core").setImmediate},{"../modules/_core":40,"../modules/web.immediate":56}],37:[function(e,t,n){t.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},{}],38:[function(e,t,n){var i=e("./_is-object");t.exports=function(e){if(i(e))return e;throw TypeError(e+" is not an object!")}},{"./_is-object":51}],39:[function(e,t,n){var i={}.toString;t.exports=function(e){return i.call(e).slice(8,-1)}},{}],40:[function(e,t,n){t=t.exports={version:"2.3.0"};"number"==typeof __e&&(__e=t)},{}],41:[function(e,t,n){var r=e("./_a-function");t.exports=function(i,o,e){if(r(i),void 0===o)return i;switch(e){case 1:return function(e){return i.call(o,e)};case 2:return function(e,t){return i.call(o,e,t)};case 3:return function(e,t,n){return i.call(o,e,t,n)}}return function(){return i.apply(o,arguments)}}},{"./_a-function":37}],42:[function(e,t,n){t.exports=!e("./_fails")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},{"./_fails":45}],43:[function(e,t,n){var i=e("./_is-object"),o=e("./_global").document,r=i(o)&&i(o.createElement);t.exports=function(e){return r?o.createElement(e):{}}},{"./_global":46,"./_is-object":51}],44:[function(e,t,n){function m(e,t,n){var i,o,r,a=e&m.F,s=e&m.G,l=e&m.S,c=e&m.P,d=e&m.B,u=e&m.W,p=s?v:v[t]||(v[t]={}),f=p[w],h=s?g:l?g[t]:(g[t]||{})[w];for(i in n=s?t:n)(o=!a&&h&&void 0!==h[i])&&i in p||(r=(o?h:n)[i],p[i]=s&&"function"!=typeof h[i]?n[i]:d&&o?b(r,g):u&&h[i]==r?function(i){function e(e,t,n){if(this instanceof i){switch(arguments.length){case 0:return new i;case 1:return new i(e);case 2:return new i(e,t)}return new i(e,t,n)}return i.apply(this,arguments)}return e[w]=i[w],e}(r):c&&"function"==typeof r?b(Function.call,r):r,c&&((p.virtual||(p.virtual={}))[i]=r,e&m.R)&&f&&!f[i]&&y(f,i,r))}var g=e("./_global"),v=e("./_core"),b=e("./_ctx"),y=e("./_hide"),w="prototype";m.F=1,m.G=2,m.S=4,m.P=8,m.B=16,m.W=32,m.U=64,m.R=128,t.exports=m},{"./_core":40,"./_ctx":41,"./_global":46,"./_hide":47}],45:[function(e,t,n){t.exports=function(e){try{return!!e()}catch(e){return!0}}},{}],46:[function(e,t,n){t=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=t)},{}],47:[function(e,t,n){var i=e("./_object-dp"),o=e("./_property-desc");t.exports=e("./_descriptors")?function(e,t,n){return i.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},{"./_descriptors":42,"./_object-dp":52,"./_property-desc":53}],48:[function(e,t,n){t.exports=e("./_global").document&&document.documentElement},{"./_global":46}],49:[function(e,t,n){t.exports=!e("./_descriptors")&&!e("./_fails")(function(){return 7!=Object.defineProperty(e("./_dom-create")("div"),"a",{get:function(){return 7}}).a})},{"./_descriptors":42,"./_dom-create":43,"./_fails":45}],50:[function(e,t,n){t.exports=function(e,t,n){var i=void 0===n;switch(t.length){case 0:return i?e():e.call(n);case 1:return i?e(t[0]):e.call(n,t[0]);case 2:return i?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return i?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return i?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},{}],51:[function(e,t,n){t.exports=function(e){return"object"==(void 0===e?"undefined":m(e))?null!==e:"function"==typeof e}},{}],52:[function(e,t,n){var i=e("./_an-object"),o=e("./_ie8-dom-define"),r=e("./_to-primitive"),a=Object.defineProperty;n.f=e("./_descriptors")?Object.defineProperty:function(e,t,n){if(i(e),t=r(t,!0),i(n),o)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},{"./_an-object":38,"./_descriptors":42,"./_ie8-dom-define":49,"./_to-primitive":55}],53:[function(e,t,n){t.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},{}],54:[function(e,t,n){function i(){var e,t=+this;g.hasOwnProperty(t)&&(e=g[t],delete g[t],e())}function o(e){i.call(e.data)}var r,a=e("./_ctx"),s=e("./_invoke"),l=e("./_html"),c=e("./_dom-create"),d=e("./_global"),u=d.process,p=d.setImmediate,f=d.clearImmediate,h=d.MessageChannel,m=0,g={},v="onreadystatechange";p&&f||(p=function(e){for(var t=[],n=1;n<arguments.length;)t.push(arguments[n++]);return g[++m]=function(){s("function"==typeof e?e:Function(e),t)},r(m),m},f=function(e){delete g[e]},"process"==e("./_cof")(u)?r=function(e){u.nextTick(a(i,e,1))}:h?(h=(e=new h).port2,e.port1.onmessage=o,r=a(h.postMessage,h,1)):d.addEventListener&&"function"==typeof postMessage&&!d.importScripts?(r=function(e){d.postMessage(e+"","*")},d.addEventListener("message",o,!1)):r=v in c("script")?function(e){l.appendChild(c("script"))[v]=function(){l.removeChild(this),i.call(e)}}:function(e){setTimeout(a(i,e,1),0)}),t.exports={set:p,clear:f}},{"./_cof":39,"./_ctx":41,"./_dom-create":43,"./_global":46,"./_html":48,"./_invoke":50}],55:[function(e,t,n){var o=e("./_is-object");t.exports=function(e,t){if(!o(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!o(i=n.call(e))||"function"==typeof(n=e.valueOf)&&!o(i=n.call(e))||!t&&"function"==typeof(n=e.toString)&&!o(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},{"./_is-object":51}],56:[function(e,t,n){var i=e("./_export"),e=e("./_task");i(i.G+i.B,{setImmediate:e.set,clearImmediate:e.clear})},{"./_export":44,"./_task":54}],57:[function(e,c,t){!function(t){function n(){r=!0;for(var e,t,n=l.length;n;){for(t=l,l=[],e=-1;++e<n;)t[e]();n=l.length}r=!1}var e,i,o,r,a=t.MutationObserver||t.WebKitMutationObserver,s=a?(e=0,a=new a(n),i=t.document.createTextNode(""),a.observe(i,{characterData:!0}),function(){i.data=e=++e%2}):t.setImmediate||void 0===t.MessageChannel?"document"in t&&"onreadystatechange"in t.document.createElement("script")?function(){var e=t.document.createElement("script");e.onreadystatechange=function(){n(),e.onreadystatechange=null,e.parentNode.removeChild(e),e=null},t.document.documentElement.appendChild(e)}:function(){setTimeout(n,0)}:((o=new t.MessageChannel).port1.onmessage=n,function(){o.port2.postMessage(0)}),l=[];c.exports=function(e){1!==l.push(e)||r||s()}}.call(this,void 0!==n?n:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],58:[function(e,t,n){function c(){}function i(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=h,this.queue=[],this.outcome=void 0,e!==c&&s(this,e)}function o(e,t,n){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function r(t,n,i){d(function(){var e;try{e=n(i)}catch(e){return u.reject(t,e)}e===t?u.reject(t,new TypeError("Cannot resolve promise with itself")):u.resolve(t,e)})}function a(e){var t=e&&e.then;if(e&&("object"==(void 0===e?"undefined":m(e))||"function"==typeof e)&&"function"==typeof t)return function(){t.apply(e,arguments)}}function s(t,e){function n(e){o||(o=!0,u.reject(t,e))}function i(e){o||(o=!0,u.resolve(t,e))}var o=!1,r=l(function(){e(i,n)});"error"===r.status&&n(r.value)}function l(e,t){var n={};try{n.value=e(t),n.status="success"}catch(e){n.status="error",n.value=e}return n}var d=e("immediate"),u={},p=["REJECTED"],f=["FULFILLED"],h=["PENDING"];(t.exports=i).prototype.catch=function(e){return this.then(null,e)},i.prototype.then=function(e,t){var n;return"function"!=typeof e&&this.state===f||"function"!=typeof t&&this.state===p?this:(n=new this.constructor(c),this.state!==h?r(n,this.state===f?e:t,this.outcome):this.queue.push(new o(n,e,t)),n)},o.prototype.callFulfilled=function(e){u.resolve(this.promise,e)},o.prototype.otherCallFulfilled=function(e){r(this.promise,this.onFulfilled,e)},o.prototype.callRejected=function(e){u.reject(this.promise,e)},o.prototype.otherCallRejected=function(e){r(this.promise,this.onRejected,e)},u.resolve=function(e,t){var n=l(a,t);if("error"===n.status)return u.reject(e,n.value);n=n.value;if(n)s(e,n);else{e.state=f,e.outcome=t;for(var i=-1,o=e.queue.length;++i<o;)e.queue[i].callFulfilled(t)}return e},u.reject=function(e,t){e.state=p,e.outcome=t;for(var n=-1,i=e.queue.length;++n<i;)e.queue[n].callRejected(t);return e},i.resolve=function(e){return e instanceof this?e:u.resolve(new this(c),e)},i.reject=function(e){var t=new this(c);return u.reject(t,e)},i.all=function(e){function t(e,t){n.resolve(e).then(function(e){r[t]=e,++a!==i||o||(o=!0,u.resolve(l,r))},function(e){o||(o=!0,u.reject(l,e))})}var n=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var i=e.length,o=!1;if(!i)return this.resolve([]);for(var r=new Array(i),a=0,s=-1,l=new this(c);++s<i;)t(e[s],s);return l},i.race=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,i=!1;if(!n)return this.resolve([]);for(var o,r=-1,a=new this(c);++r<n;)o=e[r],t.resolve(o).then(function(e){i||(i=!0,u.resolve(a,e))},function(e){i||(i=!0,u.reject(a,e))});return a}},{immediate:57}],59:[function(e,t,n){var i={};(0,e("./lib/utils/common").assign)(i,e("./lib/deflate"),e("./lib/inflate"),e("./lib/zlib/constants")),t.exports=i},{"./lib/deflate":60,"./lib/inflate":61,"./lib/utils/common":62,"./lib/zlib/constants":65}],60:[function(e,t,n){function i(e){if(!(this instanceof i))return new i(e);this.options=s.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},e||{});e=this.options;if(e.raw&&0<e.windowBits?e.windowBits=-e.windowBits:e.gzip&&0<e.windowBits&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,(this.strm.avail_out=0)!==(t=a.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy)))throw new Error(r[t]);if(e.header&&a.deflateSetHeader(this.strm,e.header),e.dictionary){var t,e="string"==typeof e.dictionary?l.string2buf(e.dictionary):"[object ArrayBuffer]"===d.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary;if(0!==(t=a.deflateSetDictionary(this.strm,e)))throw new Error(r[t]);this._dict_set=!0}}function o(e,t){t=new i(t);if(t.push(e,!0),t.err)throw t.msg||r[t.err];return t.result}var a=e("./zlib/deflate"),s=e("./utils/common"),l=e("./utils/strings"),r=e("./zlib/messages"),c=e("./zlib/zstream"),d=Object.prototype.toString;i.prototype.push=function(e,t){var n,i,o=this.strm,r=this.options.chunkSize;if(this.ended)return!1;i=t===~~t?t:!0===t?4:0,"string"==typeof e?o.input=l.string2buf(e):"[object ArrayBuffer]"===d.call(e)?o.input=new Uint8Array(e):o.input=e,o.next_in=0,o.avail_in=o.input.length;do{if(0===o.avail_out&&(o.output=new s.Buf8(r),o.next_out=0,o.avail_out=r),1!==(n=a.deflate(o,i))&&0!==n)return this.onEnd(n),!(this.ended=!0)}while(0!==o.avail_out&&(0!==o.avail_in||4!==i&&2!==i)||("string"===this.options.to?this.onData(l.buf2binstring(s.shrinkBuf(o.output,o.next_out))):this.onData(s.shrinkBuf(o.output,o.next_out))),(0<o.avail_in||0===o.avail_out)&&1!==n);return 4===i?(n=a.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,0===n):2!==i||(this.onEnd(0),!(o.avail_out=0))},i.prototype.onData=function(e){this.chunks.push(e)},i.prototype.onEnd=function(e){0===e&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},n.Deflate=i,n.deflate=o,n.deflateRaw=function(e,t){return(t=t||{}).raw=!0,o(e,t)},n.gzip=function(e,t){return(t=t||{}).gzip=!0,o(e,t)}},{"./utils/common":62,"./utils/strings":63,"./zlib/deflate":67,"./zlib/messages":72,"./zlib/zstream":74}],61:[function(e,t,n){function i(e){if(!(this instanceof i))return new i(e);this.options=p.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options,e=(t.raw&&0<=t.windowBits&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits)&&(t.windowBits=-15),!(0<=t.windowBits&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),15<t.windowBits&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new a,this.strm.avail_out=0,u.inflateInit2(this.strm,t.windowBits));if(e!==h.Z_OK)throw new Error(r[e]);this.header=new s,u.inflateGetHeader(this.strm,this.header)}function o(e,t){t=new i(t);if(t.push(e,!0),t.err)throw t.msg||r[t.err];return t.result}var u=e("./zlib/inflate"),p=e("./utils/common"),f=e("./utils/strings"),h=e("./zlib/constants"),r=e("./zlib/messages"),a=e("./zlib/zstream"),s=e("./zlib/gzheader"),m=Object.prototype.toString;i.prototype.push=function(e,t){var n,i,o,r,a,s=this.strm,l=this.options.chunkSize,c=this.options.dictionary,d=!1;if(this.ended)return!1;i=t===~~t?t:!0===t?h.Z_FINISH:h.Z_NO_FLUSH,"string"==typeof e?s.input=f.binstring2buf(e):"[object ArrayBuffer]"===m.call(e)?s.input=new Uint8Array(e):s.input=e,s.next_in=0,s.avail_in=s.input.length;do{if(0===s.avail_out&&(s.output=new p.Buf8(l),s.next_out=0,s.avail_out=l),(n=u.inflate(s,h.Z_NO_FLUSH))===h.Z_NEED_DICT&&c&&(a="string"==typeof c?f.string2buf(c):"[object ArrayBuffer]"===m.call(c)?new Uint8Array(c):c,n=u.inflateSetDictionary(this.strm,a)),n===h.Z_BUF_ERROR&&!0===d&&(n=h.Z_OK,d=!1),n!==h.Z_STREAM_END&&n!==h.Z_OK)return this.onEnd(n),!(this.ended=!0)}while(!s.next_out||0!==s.avail_out&&n!==h.Z_STREAM_END&&(0!==s.avail_in||i!==h.Z_FINISH&&i!==h.Z_SYNC_FLUSH)||("string"===this.options.to?(a=f.utf8border(s.output,s.next_out),o=s.next_out-a,r=f.buf2string(s.output,a),s.next_out=o,s.avail_out=l-o,o&&p.arraySet(s.output,s.output,a,o,0),this.onData(r)):this.onData(p.shrinkBuf(s.output,s.next_out))),0===s.avail_in&&0===s.avail_out&&(d=!0),(0<s.avail_in||0===s.avail_out)&&n!==h.Z_STREAM_END);return(i=n===h.Z_STREAM_END?h.Z_FINISH:i)===h.Z_FINISH?(n=u.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===h.Z_OK):i!==h.Z_SYNC_FLUSH||(this.onEnd(h.Z_OK),!(s.avail_out=0))},i.prototype.onData=function(e){this.chunks.push(e)},i.prototype.onEnd=function(e){e===h.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=p.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},n.Inflate=i,n.inflate=o,n.inflateRaw=function(e,t){return(t=t||{}).raw=!0,o(e,t)},n.ungzip=o},{"./utils/common":62,"./utils/strings":63,"./zlib/constants":65,"./zlib/gzheader":68,"./zlib/inflate":70,"./zlib/messages":72,"./zlib/zstream":74}],62:[function(e,t,n){var i="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array,o=(n.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if("object"!=(void 0===n?"undefined":m(n)))throw new TypeError(n+"must be non-object");for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])}}return e},n.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)},{arraySet:function(e,t,n,i,o){if(t.subarray&&e.subarray)e.set(t.subarray(n,n+i),o);else for(var r=0;r<i;r++)e[o+r]=t[n+r]},flattenChunks:function(e){for(var t,n,i,o=0,r=0,a=e.length;r<a;r++)o+=e[r].length;for(i=new Uint8Array(o),r=t=0,a=e.length;r<a;r++)n=e[r],i.set(n,t),t+=n.length;return i}}),r={arraySet:function(e,t,n,i,o){for(var r=0;r<i;r++)e[o+r]=t[n+r]},flattenChunks:function(e){return[].concat.apply([],e)}};n.setTyped=function(e){e?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,o)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,r))},n.setTyped(i)},{}],63:[function(e,t,n){function l(e,t){if(t<65537&&(e.subarray&&r||!e.subarray&&o))return String.fromCharCode.apply(null,c.shrinkBuf(e,t));for(var n="",i=0;i<t;i++)n+=String.fromCharCode(e[i]);return n}var c=e("./common"),o=!0,r=!0;try{String.fromCharCode.apply(null,[0])}catch(e){o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){r=!1}for(var d=new c.Buf8(256),i=0;i<256;i++)d[i]=252<=i?6:248<=i?5:240<=i?4:224<=i?3:192<=i?2:1;d[254]=d[254]=1,n.string2buf=function(e){for(var t,n,i,o,r=e.length,a=0,s=0;s<r;s++)55296==(64512&(n=e.charCodeAt(s)))&&s+1<r&&56320==(64512&(i=e.charCodeAt(s+1)))&&(n=65536+(n-55296<<10)+(i-56320),s++),a+=n<128?1:n<2048?2:n<65536?3:4;for(t=new c.Buf8(a),s=o=0;o<a;s++)55296==(64512&(n=e.charCodeAt(s)))&&s+1<r&&56320==(64512&(i=e.charCodeAt(s+1)))&&(n=65536+(n-55296<<10)+(i-56320),s++),n<128?t[o++]=n:(n<2048?t[o++]=192|n>>>6:(n<65536?t[o++]=224|n>>>12:(t[o++]=240|n>>>18,t[o++]=128|n>>>12&63),t[o++]=128|n>>>6&63),t[o++]=128|63&n);return t},n.buf2binstring=function(e){return l(e,e.length)},n.binstring2buf=function(e){for(var t=new c.Buf8(e.length),n=0,i=t.length;n<i;n++)t[n]=e.charCodeAt(n);return t},n.buf2string=function(e,t){for(var n,i,o=t||e.length,r=new Array(2*o),a=0,s=0;s<o;)if((n=e[s++])<128)r[a++]=n;else if(4<(i=d[n]))r[a++]=65533,s+=i-1;else{for(n&=2===i?31:3===i?15:7;1<i&&s<o;)n=n<<6|63&e[s++],i--;1<i?r[a++]=65533:n<65536?r[a++]=n:(n-=65536,r[a++]=55296|n>>10&1023,r[a++]=56320|1023&n)}return l(r,a)},n.utf8border=function(e,t){for(var n=(t=(t=t||e.length)>e.length?e.length:t)-1;0<=n&&128==(192&e[n]);)n--;return!(n<0)&&0!==n&&n+d[e[n]]>t?n:t}},{"./common":62}],64:[function(e,t,n){t.exports=function(e,t,n,i){for(var o=65535&e|0,r=e>>>16&65535|0,a=0;0!==n;){for(n-=a=2e3<n?2e3:n;r=r+(o=o+t[i++]|0)|0,--a;);o%=65521,r%=65521}return o|r<<16|0}},{}],65:[function(e,t,n){t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],66:[function(e,t,n){var s=function(){for(var e=[],t=0;t<256;t++){for(var n=t,i=0;i<8;i++)n=1&n?3988292384^n>>>1:n>>>1;e[t]=n}return e}();t.exports=function(e,t,n,i){var o=s,r=i+n;e^=-1;for(var a=i;a<r;a++)e=e>>>8^o[255&(e^t[a])];return-1^e}},{}],67:[function(e,I,t){function l(e,t){return e.msg=N[t],t}function s(e){return(e<<1)-(4<e?9:0)}function d(e){for(var t=e.length;0<=--t;)e[t]=0}function c(e){var t=e.state,n=t.pending;0!==(n=n>e.avail_out?e.avail_out:n)&&(v.arraySet(e.output,t.pending_buf,t.pending_out,n,e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending)&&(t.pending_out=0)}function u(e,t){b._tr_flush_block(e,0<=e.block_start?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,c(e.strm)}function p(e,t){e.pending_buf[e.pending++]=t}function f(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function r(e,t){var n,i,o=e.max_chain_length,r=e.strstart,a=e.prev_length,s=e.nice_match,l=e.strstart>e.w_size-j?e.strstart-(e.w_size-j):0,c=e.window,d=e.w_mask,u=e.prev,p=e.strstart+T,f=c[r+a-1],h=c[r+a];e.prev_length>=e.good_match&&(o>>=2),s>e.lookahead&&(s=e.lookahead);do{if(c[(n=t)+a]===h&&c[n+a-1]===f&&c[n]===c[r]&&c[++n]===c[r+1]){for(r+=2,n++;c[++r]===c[++n]&&c[++r]===c[++n]&&c[++r]===c[++n]&&c[++r]===c[++n]&&c[++r]===c[++n]&&c[++r]===c[++n]&&c[++r]===c[++n]&&c[++r]===c[++n]&&r<p;);if(i=T-(p-r),r=p-T,a<i){if(e.match_start=t,s<=(a=i))break;f=c[r+a-1],h=c[r+a]}}}while((t=u[t&d])>l&&0!=--o);return a<=e.lookahead?a:e.lookahead}function h(e){var t,n,i,o,r,a,s,l,c,d=e.w_size;do{if(l=e.window_size-e.lookahead-e.strstart,e.strstart>=d+(d-j)){for(v.arraySet(e.window,e.window,d,d,0),e.match_start-=d,e.strstart-=d,e.block_start-=d,t=n=e.hash_size;i=e.head[--t],e.head[t]=d<=i?i-d:0,--n;);for(t=n=d;i=e.prev[--t],e.prev[t]=d<=i?i-d:0,--n;);l+=d}if(0===e.strm.avail_in)break;if(r=e.strm,a=e.window,s=e.strstart+e.lookahead,l=l,c=void 0,c=r.avail_in,n=0===(c=l<c?l:c)?0:(r.avail_in-=c,v.arraySet(a,r.input,r.next_in,c,s),1===r.state.wrap?r.adler=B(r.adler,a,c,s):2===r.state.wrap&&(r.adler=y(r.adler,a,c,s)),r.next_in+=c,r.total_in+=c,c),e.lookahead+=n,e.lookahead+e.insert>=P)for(o=e.strstart-e.insert,e.ins_h=e.window[o],e.ins_h=(e.ins_h<<e.hash_shift^e.window[o+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[o+P-1])&e.hash_mask,e.prev[o&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=o,o++,e.insert--,!(e.lookahead+e.insert<P)););}while(e.lookahead<j&&0!==e.strm.avail_in)}function n(e,t){for(var n,i;;){if(e.lookahead<j){if(h(e),e.lookahead<j&&t===w)return L;if(0===e.lookahead)break}if(n=0,e.lookahead>=P&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+P-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-j&&(e.match_length=r(e,n)),e.match_length>=P)if(i=b._tr_tally(e,e.strstart-e.match_start,e.match_length-P),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=P){for(e.match_length--;e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+P-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart,0!=--e.match_length;);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else i=b._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(i&&(u(e,!1),0===e.strm.avail_out))return L}return e.insert=e.strstart<P-1?e.strstart:P-1,t===x?(u(e,!0),0===e.strm.avail_out?O:D):e.last_lit&&(u(e,!1),0===e.strm.avail_out)?L:$}function i(e,t){for(var n,i,o;;){if(e.lookahead<j){if(h(e),e.lookahead<j&&t===w)return L;if(0===e.lookahead)break}if(n=0,e.lookahead>=P&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+P-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=P-1,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-j&&(e.match_length=r(e,n),e.match_length<=5)&&(1===e.strategy||e.match_length===P&&4096<e.strstart-e.match_start)&&(e.match_length=P-1),e.prev_length>=P&&e.match_length<=e.prev_length){for(o=e.strstart+e.lookahead-P,i=b._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-P),e.lookahead-=e.prev_length-1,e.prev_length-=2;++e.strstart<=o&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+P-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!=--e.prev_length;);if(e.match_available=0,e.match_length=P-1,e.strstart++,i&&(u(e,!1),0===e.strm.avail_out))return L}else if(e.match_available){if((i=b._tr_tally(e,0,e.window[e.strstart-1]))&&u(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return L}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(i=b._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<P-1?e.strstart:P-1,t===x?(u(e,!0),0===e.strm.avail_out?O:D):e.last_lit&&(u(e,!1),0===e.strm.avail_out)?L:$}function o(e,t,n,i,o){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=i,this.func=o}function M(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=S,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new v.Buf16(2*V),this.dyn_dtree=new v.Buf16(2*(2*W+1)),this.bl_tree=new v.Buf16(2*(2*q+1)),d(this.dyn_ltree),d(this.dyn_dtree),d(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new v.Buf16(G+1),this.heap=new v.Buf16(2*C+1),d(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new v.Buf16(2*C+1),d(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function a(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=H,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?E:A,e.adler=2===t.wrap?0:1,t.last_flush=w,b._tr_init(t),_):l(e,k)}function m(e){var t=a(e);return t===_&&((e=e.state).window_size=2*e.w_size,d(e.head),e.max_lazy_match=F[e.level].max_lazy,e.good_match=F[e.level].good_length,e.nice_match=F[e.level].nice_length,e.max_chain_length=F[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=P-1,e.match_available=0,e.ins_h=0),t}function g(e,t,n,i,o,r){if(!e)return k;var a=1;if(t===R&&(t=6),i<0?(a=0,i=-i):15<i&&(a=2,i-=16),o<1||z<o||n!==S||i<8||15<i||t<0||9<t||r<0||U<r)return l(e,k);8===i&&(i=9);var s=new M;return(e.state=s).strm=e,s.wrap=a,s.gzhead=null,s.w_bits=i,s.w_size=1<<s.w_bits,s.w_mask=s.w_size-1,s.hash_bits=o+7,s.hash_size=1<<s.hash_bits,s.hash_mask=s.hash_size-1,s.hash_shift=~~((s.hash_bits+P-1)/P),s.window=new v.Buf8(2*s.w_size),s.head=new v.Buf16(s.hash_size),s.prev=new v.Buf16(s.w_size),s.lit_bufsize=1<<o+6,s.pending_buf_size=4*s.lit_bufsize,s.pending_buf=new v.Buf8(s.pending_buf_size),s.d_buf=+s.lit_bufsize,s.l_buf=3*s.lit_bufsize,s.level=t,s.strategy=r,s.method=n,m(e)}var v=e("../utils/common"),b=e("./trees"),B=e("./adler32"),y=e("./crc32"),N=e("./messages"),w=0,x=4,_=0,k=-2,R=-1,U=4,H=2,S=8,z=9,C=286,W=30,q=19,V=2*C+1,G=15,P=3,T=258,j=T+P+1,E=42,A=113,L=1,$=2,O=3,D=4,F=[new o(0,0,0,0,function(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(h(e),0===e.lookahead&&t===w)return L;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var i=e.block_start+n;if((0===e.strstart||e.strstart>=i)&&(e.lookahead=e.strstart-i,e.strstart=i,u(e,!1),0===e.strm.avail_out))return L;if(e.strstart-e.block_start>=e.w_size-j&&(u(e,!1),0===e.strm.avail_out))return L}return e.insert=0,t===x?(u(e,!0),0===e.strm.avail_out?O:D):(e.strstart>e.block_start&&(u(e,!1),e.strm.avail_out),L)}),new o(4,4,8,4,n),new o(4,5,16,8,n),new o(4,6,32,32,n),new o(4,4,16,16,i),new o(8,16,32,32,i),new o(8,16,128,128,i),new o(8,32,128,256,i),new o(32,128,258,1024,i),new o(32,258,258,4096,i)];t.deflateInit=function(e,t){return g(e,t,S,15,8,0)},t.deflateInit2=g,t.deflateReset=m,t.deflateResetKeep=a,t.deflateSetHeader=function(e,t){return!e||!e.state||2!==e.state.wrap?k:(e.state.gzhead=t,_)},t.deflate=function(e,t){var n,i,o,r;if(!e||!e.state||5<t||t<0)return e?l(e,k):k;if(i=e.state,!e.output||!e.input&&0!==e.avail_in||666===i.status&&t!==x)return l(e,0===e.avail_out?-5:k);if(i.strm=e,n=i.last_flush,i.last_flush=t,i.status===E&&(2===i.wrap?(e.adler=0,p(i,31),p(i,139),p(i,8),i.gzhead?(p(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),p(i,255&i.gzhead.time),p(i,i.gzhead.time>>8&255),p(i,i.gzhead.time>>16&255),p(i,i.gzhead.time>>24&255),p(i,9===i.level?2:2<=i.strategy||i.level<2?4:0),p(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(p(i,255&i.gzhead.extra.length),p(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(e.adler=y(e.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=69):(p(i,0),p(i,0),p(i,0),p(i,0),p(i,0),p(i,9===i.level?2:2<=i.strategy||i.level<2?4:0),p(i,3),i.status=A)):(a=S+(i.w_bits-8<<4)<<8,a|=(2<=i.strategy||i.level<2?0:i.level<6?1:6===i.level?2:3)<<6,0!==i.strstart&&(a|=32),a+=31-a%31,i.status=A,f(i,a),0!==i.strstart&&(f(i,e.adler>>>16),f(i,65535&e.adler)),e.adler=1)),69===i.status)if(i.gzhead.extra){for(o=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>o&&(e.adler=y(e.adler,i.pending_buf,i.pending-o,o)),c(e),o=i.pending,i.pending!==i.pending_buf_size));)p(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>o&&(e.adler=y(e.adler,i.pending_buf,i.pending-o,o)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=73)}else i.status=73;if(73===i.status)if(i.gzhead.name){o=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>o&&(e.adler=y(e.adler,i.pending_buf,i.pending-o,o)),c(e),o=i.pending,i.pending===i.pending_buf_size)){r=1;break}}while(r=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,p(i,r),0!==r);i.gzhead.hcrc&&i.pending>o&&(e.adler=y(e.adler,i.pending_buf,i.pending-o,o)),0===r&&(i.gzindex=0,i.status=91)}else i.status=91;if(91===i.status)if(i.gzhead.comment){o=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>o&&(e.adler=y(e.adler,i.pending_buf,i.pending-o,o)),c(e),o=i.pending,i.pending===i.pending_buf_size)){r=1;break}}while(r=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,p(i,r),0!==r);i.gzhead.hcrc&&i.pending>o&&(e.adler=y(e.adler,i.pending_buf,i.pending-o,o)),0===r&&(i.status=103)}else i.status=103;if(103===i.status&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&c(e),i.pending+2<=i.pending_buf_size&&(p(i,255&e.adler),p(i,e.adler>>8&255),e.adler=0,i.status=A)):i.status=A),0!==i.pending){if(c(e),0===e.avail_out)return i.last_flush=-1,_}else if(0===e.avail_in&&s(t)<=s(n)&&t!==x)return l(e,-5);if(666===i.status&&0!==e.avail_in)return l(e,-5);if(0!==e.avail_in||0!==i.lookahead||t!==w&&666!==i.status){var a=2===i.strategy?function(e,t){for(var n;;){if(0===e.lookahead&&(h(e),0===e.lookahead)){if(t===w)return L;break}if(e.match_length=0,n=b._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(u(e,!1),0===e.strm.avail_out))return L}return e.insert=0,t===x?(u(e,!0),0===e.strm.avail_out?O:D):e.last_lit&&(u(e,!1),0===e.strm.avail_out)?L:$}(i,t):3===i.strategy?function(e,t){for(var n,i,o,r,a=e.window;;){if(e.lookahead<=T){if(h(e),e.lookahead<=T&&t===w)return L;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=P&&0<e.strstart&&(i=a[o=e.strstart-1])===a[++o]&&i===a[++o]&&i===a[++o]){for(r=e.strstart+T;i===a[++o]&&i===a[++o]&&i===a[++o]&&i===a[++o]&&i===a[++o]&&i===a[++o]&&i===a[++o]&&i===a[++o]&&o<r;);e.match_length=T-(r-o),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=P?(n=b._tr_tally(e,1,e.match_length-P),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=b._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(u(e,!1),0===e.strm.avail_out))return L}return e.insert=0,t===x?(u(e,!0),0===e.strm.avail_out?O:D):e.last_lit&&(u(e,!1),0===e.strm.avail_out)?L:$}(i,t):F[i.level].func(i,t);if(a!==O&&a!==D||(i.status=666),a===L||a===O)return 0===e.avail_out&&(i.last_flush=-1),_;if(a===$&&(1===t?b._tr_align(i):5!==t&&(b._tr_stored_block(i,0,0,!1),3===t)&&(d(i.head),0===i.lookahead)&&(i.strstart=0,i.block_start=0,i.insert=0),c(e),0===e.avail_out))return i.last_flush=-1,_}return t!==x||!(i.wrap<=0)&&(2===i.wrap?(p(i,255&e.adler),p(i,e.adler>>8&255),p(i,e.adler>>16&255),p(i,e.adler>>24&255),p(i,255&e.total_in),p(i,e.total_in>>8&255),p(i,e.total_in>>16&255),p(i,e.total_in>>24&255)):(f(i,e.adler>>>16),f(i,65535&e.adler)),c(e),0<i.wrap&&(i.wrap=-i.wrap),0!==i.pending)?_:1},t.deflateEnd=function(e){var t;return e&&e.state?(t=e.state.status)!==E&&69!==t&&73!==t&&91!==t&&103!==t&&t!==A&&666!==t?l(e,k):(e.state=null,t===A?l(e,-3):_):k},t.deflateSetDictionary=function(e,t){var n,i,o,r,a,s,l,c=t.length;if(!e||!e.state)return k;if(2===(r=(n=e.state).wrap)||1===r&&n.status!==E||n.lookahead)return k;for(1===r&&(e.adler=B(e.adler,t,c,0)),n.wrap=0,c>=n.w_size&&(0===r&&(d(n.head),n.strstart=0,n.block_start=0,n.insert=0),l=new v.Buf8(n.w_size),v.arraySet(l,t,c-n.w_size,n.w_size,0),t=l,c=n.w_size),l=e.avail_in,a=e.next_in,s=e.input,e.avail_in=c,e.next_in=0,e.input=t,h(n);n.lookahead>=P;){for(i=n.strstart,o=n.lookahead-(P-1);n.ins_h=(n.ins_h<<n.hash_shift^n.window[i+P-1])&n.hash_mask,n.prev[i&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=i,i++,--o;);n.strstart=i,n.lookahead=P-1,h(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=P-1,n.match_available=0,e.next_in=a,e.input=s,e.avail_in=l,n.wrap=r,_},t.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":62,"./adler32":64,"./crc32":66,"./messages":72,"./trees":73}],68:[function(e,t,n){t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],69:[function(e,t,n){t.exports=function(e,t){var n,i,o,r,a,s,l=e.state,c=e.next_in,d=e.input,u=c+(e.avail_in-5),p=e.next_out,f=e.output,h=p-(t-e.avail_out),m=p+(e.avail_out-257),g=l.dmax,v=l.wsize,b=l.whave,y=l.wnext,w=l.window,x=l.hold,_=l.bits,k=l.lencode,S=l.distcode,C=(1<<l.lenbits)-1,P=(1<<l.distbits)-1;e:do{for(_<15&&(x+=d[c++]<<_,_+=8,x+=d[c++]<<_,_+=8),n=k[x&C];;){if(x>>>=i=n>>>24,_-=i,0===(i=n>>>16&255))f[p++]=65535&n;else{if(!(16&i)){if(0==(64&i)){n=k[(65535&n)+(x&(1<<i)-1)];continue}if(32&i){l.mode=12;break e}e.msg="invalid literal/length code",l.mode=30;break e}for(o=65535&n,(i&=15)&&(_<i&&(x+=d[c++]<<_,_+=8),o+=x&(1<<i)-1,x>>>=i,_-=i),_<15&&(x+=d[c++]<<_,_+=8,x+=d[c++]<<_,_+=8),n=S[x&P];;){if(x>>>=i=n>>>24,_-=i,!(16&(i=n>>>16&255))){if(0==(64&i)){n=S[(65535&n)+(x&(1<<i)-1)];continue}e.msg="invalid distance code",l.mode=30;break e}if(r=65535&n,_<(i&=15)&&(x+=d[c++]<<_,(_+=8)<i)&&(x+=d[c++]<<_,_+=8),g<(r+=x&(1<<i)-1)){e.msg="invalid distance too far back",l.mode=30;break e}if(x>>>=i,_-=i,(i=p-h)<r){if(b<(i=r-i)&&l.sane){e.msg="invalid distance too far back",l.mode=30;break e}if(s=w,(a=0)===y){if(a+=v-i,i<o){for(o-=i;f[p++]=w[a++],--i;);a=p-r,s=f}}else if(y<i){if(a+=v+y-i,(i-=y)<o){for(o-=i;f[p++]=w[a++],--i;);if(a=0,y<o){for(o-=i=y;f[p++]=w[a++],--i;);a=p-r,s=f}}}else if(a+=y-i,i<o){for(o-=i;f[p++]=w[a++],--i;);a=p-r,s=f}for(;2<o;)f[p++]=s[a++],f[p++]=s[a++],f[p++]=s[a++],o-=3;o&&(f[p++]=s[a++],1<o)&&(f[p++]=s[a++])}else{for(a=p-r;f[p++]=f[a++],f[p++]=f[a++],f[p++]=f[a++],2<(o-=3););o&&(f[p++]=f[a++],1<o)&&(f[p++]=f[a++])}break}}break}}while(c<u&&p<m);x&=(1<<(_-=(o=_>>3)<<3))-1,e.next_in=c-=o,e.next_out=p,e.avail_in=c<u?u-c+5:5-(c-u),e.avail_out=p<m?m-p+257:257-(p-m),l.hold=x,l.bits=_}},{}],70:[function(e,t,n){function L(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function i(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new F.Buf16(320),this.work=new F.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function o(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=W,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new F.Buf32(l),t.distcode=t.distdyn=new F.Buf32(c),t.sane=1,t.back=-1,H):z}function r(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,o(e)):z}function a(e,t){var n,i;return!e||!e.state||(i=e.state,t<0?(n=0,t=-t):(n=1+(t>>4),t<48&&(t&=15)),t&&(t<8||15<t))?z:(null!==i.window&&i.wbits!==t&&(i.window=null),i.wrap=n,i.wbits=t,r(e))}function s(e,t){var n;return e?(n=new i,(e.state=n).window=null,(n=a(e,t))!==H&&(e.state=null),n):z}function $(e,t,n,i){var o,e=e.state;return null===e.window&&(e.wsize=1<<e.wbits,e.wnext=0,e.whave=0,e.window=new F.Buf8(e.wsize)),i>=e.wsize?(F.arraySet(e.window,t,n-e.wsize,e.wsize,0),e.wnext=0,e.whave=e.wsize):(i<(o=e.wsize-e.wnext)&&(o=i),F.arraySet(e.window,t,n-i,o,e.wnext),(i-=o)?(F.arraySet(e.window,t,n-i,i,0),e.wnext=i,e.whave=e.wsize):(e.wnext+=o,e.wnext===e.wsize&&(e.wnext=0),e.whave<e.wsize&&(e.whave+=o))),0}var O,D,F=e("../utils/common"),I=e("./adler32"),M=e("./crc32"),B=e("./inffast"),N=e("./inftrees"),R=1,U=2,H=0,z=-2,W=1,l=852,c=592,q=!0;n.inflateReset=r,n.inflateReset2=a,n.inflateResetKeep=o,n.inflateInit=function(e){return s(e,15)},n.inflateInit2=s,n.inflate=function(e,t){var n,i,o,r,a,s,l,c,d,u,p,f,h,m,g,v,b,y,w,x,_,k,S,C,P=0,T=new F.Buf8(4),j=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return z;12===(n=e.state).mode&&(n.mode=13),a=e.next_out,o=e.output,l=e.avail_out,r=e.next_in,i=e.input,s=e.avail_in,c=n.hold,d=n.bits,u=s,p=l,k=H;e:for(;;)switch(n.mode){case W:if(0===n.wrap)n.mode=13;else{for(;d<16;){if(0===s)break e;s--,c+=i[r++]<<d,d+=8}if(2&n.wrap&&35615===c)T[n.check=0]=255&c,T[1]=c>>>8&255,n.check=M(n.check,T,2,0),d=c=0,n.mode=2;else if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&c)<<8)+(c>>8))%31)e.msg="incorrect header check",n.mode=30;else if(8!=(15&c))e.msg="unknown compression method",n.mode=30;else{if(d-=4,_=8+(15&(c>>>=4)),0===n.wbits)n.wbits=_;else if(_>n.wbits){e.msg="invalid window size",n.mode=30;break}n.dmax=1<<_,e.adler=n.check=1,n.mode=512&c?10:12,d=c=0}}break;case 2:for(;d<16;){if(0===s)break e;s--,c+=i[r++]<<d,d+=8}if(n.flags=c,8!=(255&n.flags)){e.msg="unknown compression method",n.mode=30;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=30;break}n.head&&(n.head.text=c>>8&1),512&n.flags&&(T[0]=255&c,T[1]=c>>>8&255,n.check=M(n.check,T,2,0)),d=c=0,n.mode=3;case 3:for(;d<32;){if(0===s)break e;s--,c+=i[r++]<<d,d+=8}n.head&&(n.head.time=c),512&n.flags&&(T[0]=255&c,T[1]=c>>>8&255,T[2]=c>>>16&255,T[3]=c>>>24&255,n.check=M(n.check,T,4,0)),d=c=0,n.mode=4;case 4:for(;d<16;){if(0===s)break e;s--,c+=i[r++]<<d,d+=8}n.head&&(n.head.xflags=255&c,n.head.os=c>>8),512&n.flags&&(T[0]=255&c,T[1]=c>>>8&255,n.check=M(n.check,T,2,0)),d=c=0,n.mode=5;case 5:if(1024&n.flags){for(;d<16;){if(0===s)break e;s--,c+=i[r++]<<d,d+=8}n.length=c,n.head&&(n.head.extra_len=c),512&n.flags&&(T[0]=255&c,T[1]=c>>>8&255,n.check=M(n.check,T,2,0)),d=c=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&((f=s<(f=n.length)?s:f)&&(n.head&&(_=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),F.arraySet(n.head.extra,i,r,f,_)),512&n.flags&&(n.check=M(n.check,i,f,r)),s-=f,r+=f,n.length-=f),n.length))break e;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===s)break e;for(f=0;_=i[r+f++],n.head&&_&&n.length<65536&&(n.head.name+=String.fromCharCode(_)),_&&f<s;);if(512&n.flags&&(n.check=M(n.check,i,f,r)),s-=f,r+=f,_)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===s)break e;for(f=0;_=i[r+f++],n.head&&_&&n.length<65536&&(n.head.comment+=String.fromCharCode(_)),_&&f<s;);if(512&n.flags&&(n.check=M(n.check,i,f,r)),s-=f,r+=f,_)break e}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;d<16;){if(0===s)break e;s--,c+=i[r++]<<d,d+=8}if(c!==(65535&n.check)){e.msg="header crc mismatch",n.mode=30;break}d=c=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=12;break;case 10:for(;d<32;){if(0===s)break e;s--,c+=i[r++]<<d,d+=8}e.adler=n.check=L(c),d=c=0,n.mode=11;case 11:if(0===n.havedict)return e.next_out=a,e.avail_out=l,e.next_in=r,e.avail_in=s,n.hold=c,n.bits=d,2;e.adler=n.check=1,n.mode=12;case 12:if(5===t||6===t)break e;case 13:if(n.last)c>>>=7&d,d-=7&d,n.mode=27;else{for(;d<3;){if(0===s)break e;s--,c+=i[r++]<<d,d+=8}switch(n.last=1&c,--d,3&(c>>>=1)){case 0:n.mode=14;break;case 1:E=A=void 0;var E,A=n;if(q){for(O=new F.Buf32(512),D=new F.Buf32(32),E=0;E<144;)A.lens[E++]=8;for(;E<256;)A.lens[E++]=9;for(;E<280;)A.lens[E++]=7;for(;E<288;)A.lens[E++]=8;for(N(R,A.lens,0,288,O,0,A.work,{bits:9}),E=0;E<32;)A.lens[E++]=5;N(U,A.lens,0,32,D,0,A.work,{bits:5}),q=!1}if(A.lencode=O,A.lenbits=9,A.distcode=D,A.distbits=5,n.mode=20,6!==t)break;c>>>=2,d-=2;break e;case 2:n.mode=17;break;case 3:e.msg="invalid block type",n.mode=30}c>>>=2,d-=2}break;case 14:for(c>>>=7&d,d-=7&d;d<32;){if(0===s)break e;s--,c+=i[r++]<<d,d+=8}if((65535&c)!=(c>>>16^65535)){e.msg="invalid stored block lengths",n.mode=30;break}if(n.length=65535&c,d=c=0,n.mode=15,6===t)break e;case 15:n.mode=16;case 16:if(f=n.length){if(0===(f=l<(f=s<f?s:f)?l:f))break e;F.arraySet(o,i,r,f,a),s-=f,r+=f,l-=f,a+=f,n.length-=f}else n.mode=12;break;case 17:for(;d<14;){if(0===s)break e;s--,c+=i[r++]<<d,d+=8}if(n.nlen=257+(31&c),c>>>=5,d-=5,n.ndist=1+(31&c),c>>>=5,d-=5,n.ncode=4+(15&c),c>>>=4,d-=4,286<n.nlen||30<n.ndist){e.msg="too many length or distance symbols",n.mode=30;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;d<3;){if(0===s)break e;s--,c+=i[r++]<<d,d+=8}n.lens[j[n.have++]]=7&c,c>>>=3,d-=3}for(;n.have<19;)n.lens[j[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,S={bits:n.lenbits},k=N(0,n.lens,0,19,n.lencode,0,n.work,S),n.lenbits=S.bits,k){e.msg="invalid code lengths set",n.mode=30;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;v=(P=n.lencode[c&(1<<n.lenbits)-1])>>>16&255,b=65535&P,!((g=P>>>24)<=d);){if(0===s)break e;s--,c+=i[r++]<<d,d+=8}if(b<16)c>>>=g,d-=g,n.lens[n.have++]=b;else{if(16===b){for(C=g+2;d<C;){if(0===s)break e;s--,c+=i[r++]<<d,d+=8}if(c>>>=g,d-=g,0===n.have){e.msg="invalid bit length repeat",n.mode=30;break}_=n.lens[n.have-1],f=3+(3&c),c>>>=2,d-=2}else if(17===b){for(C=g+3;d<C;){if(0===s)break e;s--,c+=i[r++]<<d,d+=8}_=0,f=3+(7&(c>>>=g)),c>>>=3,d=d-g-3}else{for(C=g+7;d<C;){if(0===s)break e;s--,c+=i[r++]<<d,d+=8}_=0,f=11+(127&(c>>>=g)),c>>>=7,d=d-g-7}if(n.have+f>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=30;break}for(;f--;)n.lens[n.have++]=_}}if(30===n.mode)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=30;break}if(n.lenbits=9,S={bits:n.lenbits},k=N(R,n.lens,0,n.nlen,n.lencode,0,n.work,S),n.lenbits=S.bits,k){e.msg="invalid literal/lengths set",n.mode=30;break}if(n.distbits=6,n.distcode=n.distdyn,S={bits:n.distbits},k=N(U,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,S),n.distbits=S.bits,k){e.msg="invalid distances set",n.mode=30;break}if(n.mode=20,6===t)break e;case 20:n.mode=21;case 21:if(6<=s&&258<=l){e.next_out=a,e.avail_out=l,e.next_in=r,e.avail_in=s,n.hold=c,n.bits=d,B(e,p),a=e.next_out,o=e.output,l=e.avail_out,r=e.next_in,i=e.input,s=e.avail_in,c=n.hold,d=n.bits,12===n.mode&&(n.back=-1);break}for(n.back=0;v=(P=n.lencode[c&(1<<n.lenbits)-1])>>>16&255,b=65535&P,!((g=P>>>24)<=d);){if(0===s)break e;s--,c+=i[r++]<<d,d+=8}if(v&&0==(240&v)){for(y=g,w=v,x=b;v=(P=n.lencode[x+((c&(1<<y+w)-1)>>y)])>>>16&255,b=65535&P,!(y+(g=P>>>24)<=d);){if(0===s)break e;s--,c+=i[r++]<<d,d+=8}c>>>=y,d-=y,n.back+=y}if(c>>>=g,d-=g,n.back+=g,n.length=b,0===v){n.mode=26;break}if(32&v){n.back=-1,n.mode=12;break}if(64&v){e.msg="invalid literal/length code",n.mode=30;break}n.extra=15&v,n.mode=22;case 22:if(n.extra){for(C=n.extra;d<C;){if(0===s)break e;s--,c+=i[r++]<<d,d+=8}n.length+=c&(1<<n.extra)-1,c>>>=n.extra,d-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;v=(P=n.distcode[c&(1<<n.distbits)-1])>>>16&255,b=65535&P,!((g=P>>>24)<=d);){if(0===s)break e;s--,c+=i[r++]<<d,d+=8}if(0==(240&v)){for(y=g,w=v,x=b;v=(P=n.distcode[x+((c&(1<<y+w)-1)>>y)])>>>16&255,b=65535&P,!(y+(g=P>>>24)<=d);){if(0===s)break e;s--,c+=i[r++]<<d,d+=8}c>>>=y,d-=y,n.back+=y}if(c>>>=g,d-=g,n.back+=g,64&v){e.msg="invalid distance code",n.mode=30;break}n.offset=b,n.extra=15&v,n.mode=24;case 24:if(n.extra){for(C=n.extra;d<C;){if(0===s)break e;s--,c+=i[r++]<<d,d+=8}n.offset+=c&(1<<n.extra)-1,c>>>=n.extra,d-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=30;break}n.mode=25;case 25:if(0===l)break e;if(n.offset>(f=p-l)){if((f=n.offset-f)>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=30;break}h=f>n.wnext?(f-=n.wnext,n.wsize-f):n.wnext-f,f>n.length&&(f=n.length),m=n.window}else m=o,h=a-n.offset,f=n.length;for(l-=f=l<f?l:f,n.length-=f;o[a++]=m[h++],--f;);0===n.length&&(n.mode=21);break;case 26:if(0===l)break e;o[a++]=n.length,l--,n.mode=21;break;case 27:if(n.wrap){for(;d<32;){if(0===s)break e;s--,c|=i[r++]<<d,d+=8}if(p-=l,e.total_out+=p,n.total+=p,p&&(e.adler=n.check=(n.flags?M:I)(n.check,o,p,a-p)),p=l,(n.flags?c:L(c))!==n.check){e.msg="incorrect data check",n.mode=30;break}d=c=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;d<32;){if(0===s)break e;s--,c+=i[r++]<<d,d+=8}if(c!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=30;break}d=c=0}n.mode=29;case 29:k=1;break e;case 30:k=-3;break e;case 31:return-4;default:return z}return e.next_out=a,e.avail_out=l,e.next_in=r,e.avail_in=s,n.hold=c,n.bits=d,(n.wsize||p!==e.avail_out&&n.mode<30&&(n.mode<27||4!==t))&&$(e,e.output,e.next_out,p-e.avail_out)?(n.mode=31,-4):(u-=e.avail_in,p-=e.avail_out,e.total_in+=u,e.total_out+=p,n.total+=p,n.wrap&&p&&(e.adler=n.check=(n.flags?M:I)(n.check,o,p,e.next_out-p)),e.data_type=n.bits+(n.last?64:0)+(12===n.mode?128:0)+(20===n.mode||15===n.mode?256:0),k=(0==u&&0===p||4===t)&&k===H?-5:k)},n.inflateEnd=function(e){var t;return e&&e.state?((t=e.state).window&&(t.window=null),e.state=null,H):z},n.inflateGetHeader=function(e,t){return!e||!e.state||0==(2&(e=e.state).wrap)?z:((e.head=t).done=!1,H)},n.inflateSetDictionary=function(e,t){var n,i=t.length;return!e||!e.state||0!==(n=e.state).wrap&&11!==n.mode?z:11===n.mode&&I(1,t,i,0)!==n.check?-3:$(e,t,i,i)?(n.mode=31,-4):(n.havedict=1,H)},n.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":62,"./adler32":64,"./crc32":66,"./inffast":69,"./inftrees":71}],71:[function(e,t,n){var D=e("../utils/common"),F=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],I=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],M=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],B=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(e,t,n,i,o,r,a,s){for(var l,c,d,u,p,f,h,m,g,v=s.bits,b=0,y=0,w=0,x=0,_=0,k=0,S=0,C=0,P=0,T=0,j=null,E=0,A=new D.Buf16(16),L=new D.Buf16(16),$=null,O=0,b=0;b<=15;b++)A[b]=0;for(y=0;y<i;y++)A[t[n+y]]++;for(_=v,x=15;1<=x&&0===A[x];x--);if(x<_&&(_=x),0===x)o[r++]=20971520,o[r++]=20971520,s.bits=1;else{for(w=1;w<x&&0===A[w];w++);for(_<w&&(_=w),b=C=1;b<=15;b++)if((C=(C<<=1)-A[b])<0)return-1;if(0<C&&(0===e||1!==x))return-1;for(L[1]=0,b=1;b<15;b++)L[b+1]=L[b]+A[b];for(y=0;y<i;y++)0!==t[n+y]&&(a[L[t[n+y]]++]=y);if(f=0===e?(j=$=a,19):1===e?(j=F,E-=257,$=I,O-=257,256):(j=M,$=B,-1),b=w,p=r,S=y=T=0,d=-1,u=(P=1<<(k=_))-1,1===e&&852<P||2===e&&592<P)return 1;for(;;){for(g=a[y]<f?(m=0,a[y]):a[y]>f?(m=$[O+a[y]],j[E+a[y]]):(m=96,0),l=1<<(h=b-S),w=c=1<<k;o[p+(T>>S)+(c-=l)]=h<<24|m<<16|g|0,0!==c;);for(l=1<<b-1;T&l;)l>>=1;if(0!==l?T=(T&l-1)+l:T=0,y++,0==--A[b]){if(b===x)break;b=t[n+a[y]]}if(_<b&&(T&u)!==d){for(p+=w,C=1<<(k=b-(S=0===S?_:S));k+S<x&&!((C-=A[k+S])<=0);)k++,C<<=1;if(P+=1<<k,1===e&&852<P||2===e&&592<P)return 1;o[d=T&u]=_<<24|k<<16|p-r|0}}0!==T&&(o[p+T]=b-S<<24|64<<16|0),s.bits=_}return 0}},{"../utils/common":62}],72:[function(e,t,n){t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],73:[function(n,a,e){function t(e){for(var t=e.length;0<=--t;)e[t]=0}function s(e,t,n,i,o){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=i,this.max_length=o,this.has_stree=e&&e.length}function l(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function c(e){return e<256?D[e]:D[256+(e>>>7)]}function o(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function d(e,t,n){e.bi_valid>i-n?(e.bi_buf|=t<<e.bi_valid&65535,o(e,e.bi_buf),e.bi_buf=t>>i-e.bi_valid,e.bi_valid+=n-i):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function u(e,t,n){d(e,n[2*t],n[2*t+1])}function p(e,t){for(var n=0;n|=1&e,e>>>=1,n<<=1,0<--t;);return n>>>1}function C(e,t,n){for(var i,o=new Array(j+1),r=0,a=1;a<=j;a++)o[a]=r=r+n[a-1]<<1;for(i=0;i<=t;i++){var s=e[2*i+1];0!==s&&(e[2*i]=p(o[s]++,s))}}function f(e){for(var t=0;t<k;t++)e.dyn_ltree[2*t]=0;for(t=0;t<S;t++)e.dyn_dtree[2*t]=0;for(t=0;t<T;t++)e.bl_tree[2*t]=0;e.dyn_ltree[2*E]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function h(e){8<e.bi_valid?o(e,e.bi_buf):0<e.bi_valid&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function r(e,t,n,i){var o=2*t,r=2*n;return e[o]<e[r]||e[o]===e[r]&&i[t]<=i[n]}function P(e,t,n){for(var i=e.heap[n],o=n<<1;o<=e.heap_len&&(o<e.heap_len&&r(t,e.heap[o+1],e.heap[o],e.depth)&&o++,!r(t,i,e.heap[o],e.depth));)e.heap[n]=e.heap[o],n=o,o<<=1;e.heap[n]=i}function m(e,t,n){var i,o,r,a,s=0;if(0!==e.last_lit)for(;i=e.pending_buf[e.d_buf+2*s]<<8|e.pending_buf[e.d_buf+2*s+1],o=e.pending_buf[e.l_buf+s],s++,0==i?u(e,o,t):(u(e,(r=F[o])+_+1,t),0!==(a=A[r])&&d(e,o-=I[r],a),u(e,r=c(--i),n),0!==(a=L[r])&&d(e,i-=M[r],a)),s<e.last_lit;);u(e,E,t)}function g(e,t){var n,i,o,r=t.dyn_tree,a=t.stat_desc.static_tree,s=t.stat_desc.has_stree,l=t.stat_desc.elems,c=-1;for(e.heap_len=0,e.heap_max=R,n=0;n<l;n++)0!==r[2*n]?(e.heap[++e.heap_len]=c=n,e.depth[n]=0):r[2*n+1]=0;for(;e.heap_len<2;)r[2*(o=e.heap[++e.heap_len]=c<2?++c:0)]=1,e.depth[o]=0,e.opt_len--,s&&(e.static_len-=a[2*o+1]);for(t.max_code=c,n=e.heap_len>>1;1<=n;n--)P(e,r,n);for(o=l;n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],P(e,r,1),i=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=i,r[2*o]=r[2*n]+r[2*i],e.depth[o]=(e.depth[n]>=e.depth[i]?e.depth[n]:e.depth[i])+1,r[2*n+1]=r[2*i+1]=o,e.heap[1]=o++,P(e,r,1),2<=e.heap_len;);e.heap[--e.heap_max]=e.heap[1];for(var d,u,p,f,h,m=e,g=t.dyn_tree,v=t.max_code,b=t.stat_desc.static_tree,y=t.stat_desc.has_stree,w=t.stat_desc.extra_bits,x=t.stat_desc.extra_base,_=t.stat_desc.max_length,k=0,S=0;S<=j;S++)m.bl_count[S]=0;for(g[2*m.heap[m.heap_max]+1]=0,d=m.heap_max+1;d<R;d++)_<(S=g[2*g[2*(u=m.heap[d])+1]+1]+1)&&(S=_,k++),g[2*u+1]=S,v<u||(m.bl_count[S]++,f=0,x<=u&&(f=w[u-x]),h=g[2*u],m.opt_len+=h*(S+f),y&&(m.static_len+=h*(b[2*u+1]+f)));if(0!==k){do{for(S=_-1;0===m.bl_count[S];)S--}while(m.bl_count[S]--,m.bl_count[S+1]+=2,m.bl_count[_]--,0<(k-=2));for(S=_;0!==S;S--)for(u=m.bl_count[S];0!==u;)v<(p=m.heap[--d])||(g[2*p+1]!==S&&(m.opt_len+=(S-g[2*p+1])*g[2*p],g[2*p+1]=S),u--)}C(r,c,e.bl_count)}function v(e,t,n){var i,o,r=-1,a=t[1],s=0,l=7,c=4;for(0===a&&(l=138,c=3),t[2*(n+1)+1]=65535,i=0;i<=n;i++)o=a,a=t[2*(i+1)+1],++s<l&&o===a||(s<c?e.bl_tree[2*o]+=s:0!==o?(o!==r&&e.bl_tree[2*o]++,e.bl_tree[2*H]++):s<=10?e.bl_tree[2*z]++:e.bl_tree[2*W]++,r=o,c=(s=0)===a?(l=138,3):o===a?(l=6,3):(l=7,4))}function b(e,t,n){var i,o,r=-1,a=t[1],s=0,l=7,c=4;for(0===a&&(l=138,c=3),i=0;i<=n;i++)if(o=a,a=t[2*(i+1)+1],!(++s<l&&o===a)){if(s<c)for(;u(e,o,e.bl_tree),0!=--s;);else 0!==o?(o!==r&&(u(e,o,e.bl_tree),s--),u(e,H,e.bl_tree),d(e,s-3,2)):s<=10?(u(e,z,e.bl_tree),d(e,s-3,3)):(u(e,W,e.bl_tree),d(e,s-11,7));r=o,c=(s=0)===a?(l=138,3):o===a?(l=6,3):(l=7,4)}}function y(e,t,n,i){d(e,0+(i?1:0),3),i=t,t=n,n=!0,h(e=e),n&&(o(e,t),o(e,~t)),B.arraySet(e.pending_buf,e.window,i,t,e.pending),e.pending+=t}var B=n("../utils/common"),w=0,N=1,x=29,_=256,k=_+1+x,S=30,T=19,R=2*k+1,j=15,i=16,U=7,E=256,H=16,z=17,W=18,A=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],L=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],q=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],V=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],$=new Array(2*(k+2)),O=(t($),new Array(2*S)),D=(t(O),new Array(512)),F=(t(D),new Array(256)),I=(t(F),new Array(x)),M=(t(I),new Array(S));t(M);var G,J,Y,K=!1;e._tr_init=function(e){if(!K){for(var t,n,i,o=new Array(j+1),r=0,a=0;a<x-1;a++)for(I[a]=r,t=0;t<1<<A[a];t++)F[r++]=a;for(F[r-1]=a,a=i=0;a<16;a++)for(M[a]=i,t=0;t<1<<L[a];t++)D[i++]=a;for(i>>=7;a<S;a++)for(M[a]=i<<7,t=0;t<1<<L[a]-7;t++)D[256+i++]=a;for(n=0;n<=j;n++)o[n]=0;for(t=0;t<=143;)$[2*t+1]=8,t++,o[8]++;for(;t<=255;)$[2*t+1]=9,t++,o[9]++;for(;t<=279;)$[2*t+1]=7,t++,o[7]++;for(;t<=287;)$[2*t+1]=8,t++,o[8]++;for(C($,k+1,o),t=0;t<S;t++)O[2*t+1]=5,O[2*t]=p(t,5);G=new s($,A,_+1,k,j),J=new s(O,L,0,S,j),Y=new s(new Array(0),q,0,T,U),K=!0}e.l_desc=new l(e.dyn_ltree,G),e.d_desc=new l(e.dyn_dtree,J),e.bl_desc=new l(e.bl_tree,Y),e.bi_buf=0,e.bi_valid=0,f(e)},e._tr_stored_block=y,e._tr_flush_block=function(e,t,n,i){var o,r,a,s=0;if(0<e.level?(2===e.strm.data_type&&(e.strm.data_type=function(e){for(var t=4093624447,n=0;n<=31;n++,t>>>=1)if(1&t&&0!==e.dyn_ltree[2*n])return w;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return N;for(n=32;n<_;n++)if(0!==e.dyn_ltree[2*n])return N;return w}(e)),g(e,e.l_desc),g(e,e.d_desc),s=function(e){var t;for(v(e,e.dyn_ltree,e.l_desc.max_code),v(e,e.dyn_dtree,e.d_desc.max_code),g(e,e.bl_desc),t=T-1;3<=t&&0===e.bl_tree[2*V[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),o=e.opt_len+3+7>>>3,(r=e.static_len+3+7>>>3)<=o&&(o=r)):o=r=n+5,n+4<=o&&-1!==t)y(e,t,n,i);else if(4===e.strategy||r===o)d(e,2+(i?1:0),3),m(e,$,O);else{d(e,4+(i?1:0),3);var l=e,c=(t=e.l_desc.max_code+1,n=e.d_desc.max_code+1,s+1);for(d(l,t-257,5),d(l,n-1,5),d(l,c-4,4),a=0;a<c;a++)d(l,l.bl_tree[2*V[a]+1],3);b(l,l.dyn_ltree,t-1),b(l,l.dyn_dtree,n-1),m(e,e.dyn_ltree,e.dyn_dtree)}f(e),i&&h(e)},e._tr_tally=function(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(F[n]+_+1)]++,e.dyn_dtree[2*c(t)]++),e.last_lit===e.lit_bufsize-1},e._tr_align=function(e){d(e,2,3),u(e,E,$),16===(e=e).bi_valid?(o(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):8<=e.bi_valid&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}},{"../utils/common":62}],74:[function(e,t,n){t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}]},{},[10])(10)},"object"==m(i)&&void 0!==t?t.exports=e():void 0!==(e="function"==typeof(e=e)?e.apply(i,[]):e)&&(t.exports=e)}.call(this,e(371).Buffer,e(44))},function(e,t,n){"use strict";t.byteLength=function(e){var e=d(e),t=e[0],e=e[1];return 3*(t+e)/4-e},t.toByteArray=function(e){var t,n,i=d(e),o=i[0],i=i[1],r=new c(function(e,t){return 3*(e+t)/4-t}(o,i)),a=0,s=0<i?o-4:o;for(n=0;n<s;n+=4)t=l[e.charCodeAt(n)]<<18|l[e.charCodeAt(n+1)]<<12|l[e.charCodeAt(n+2)]<<6|l[e.charCodeAt(n+3)],r[a++]=t>>16&255,r[a++]=t>>8&255,r[a++]=255&t;2===i&&(t=l[e.charCodeAt(n)]<<2|l[e.charCodeAt(n+1)]>>4,r[a++]=255&t);1===i&&(t=l[e.charCodeAt(n)]<<10|l[e.charCodeAt(n+1)]<<4|l[e.charCodeAt(n+2)]>>2,r[a++]=t>>8&255,r[a++]=255&t);return r},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,o=[],r=0,a=n-i;r<a;r+=16383)o.push(function(e,t,n){for(var i,o=[],r=t;r<n;r+=3)i=(e[r]<<16&16711680)+(e[r+1]<<8&65280)+(255&e[r+2]),o.push(function(e){return s[e>>18&63]+s[e>>12&63]+s[e>>6&63]+s[63&e]}(i));return o.join("")}(e,r,a<r+16383?a:r+16383));1==i?(t=e[n-1],o.push(s[t>>2]+s[t<<4&63]+"==")):2==i&&(t=(e[n-2]<<8)+e[n-1],o.push(s[t>>10]+s[t>>4&63]+s[t<<2&63]+"="));return o.join("")};for(var s=[],l=[],c="undefined"!=typeof Uint8Array?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,r=i.length;o<r;++o)s[o]=i[o],l[i.charCodeAt(o)]=o;function d(e){var t=e.length;if(0<t%4)throw new Error("Invalid string. Length must be a multiple of 4");e=e.indexOf("="),t=(e=-1===e?t:e)===t?0:4-e%4;return[e,t]}l["-".charCodeAt(0)]=62,l["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,n,i,o){var r,a,s=8*o-i-1,l=(1<<s)-1,c=l>>1,d=-7,u=n?o-1:0,p=n?-1:1,o=e[t+u];for(u+=p,r=o&(1<<-d)-1,o>>=-d,d+=s;0<d;r=256*r+e[t+u],u+=p,d-=8);for(a=r&(1<<-d)-1,r>>=-d,d+=i;0<d;a=256*a+e[t+u],u+=p,d-=8);if(0===r)r=1-c;else{if(r===l)return a?NaN:1/0*(o?-1:1);a+=Math.pow(2,i),r-=c}return(o?-1:1)*a*Math.pow(2,r-i)},t.write=function(e,t,n,i,o,r){var a,s,l=8*r-o-1,c=(1<<l)-1,d=c>>1,u=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,p=i?0:r-1,f=i?1:-1,r=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=c):(a=Math.floor(Math.log(t)/Math.LN2),t*(i=Math.pow(2,-a))<1&&(a--,i*=2),2<=(t+=1<=a+d?u/i:u*Math.pow(2,1-d))*i&&(a++,i/=2),c<=a+d?(s=0,a=c):1<=a+d?(s=(t*i-1)*Math.pow(2,o),a+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,o),a=0));8<=o;e[n+p]=255&s,p+=f,s/=256,o-=8);for(a=a<<o|s,l+=o;0<l;e[n+p]=255&a,p+=f,a/=256,l-=8);e[n+p-f]|=128*r}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){"use strict";var i,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};i=function(){return function i(o,r,a){function s(n,e){if(!r[n]){if(!o[n]){if(l)return l(n,!0);throw new Error("Cannot find module '"+n+"'")}var t=r[n]={exports:{}};o[n][0].call(t.exports,function(e){var t=o[n][1][e];return s(t||e)},t,t.exports,i,o,r,a)}return r[n].exports}for(var l=!1,e=0;e<a.length;e++)s(a[e]);return s}({1:[function(e,t){function n(){try{return new window.XMLHttpRequest}catch(e){}}var r={_getBinaryFromXHR:function(e){return e.response||e.responseText}},a=window.ActiveXObject?function(){return n()||function(){try{return new window.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}()}:n;r.getBinaryContent=function(n,i){try{var o=a();o.open("GET",n,!0),"responseType"in o&&(o.responseType="arraybuffer"),o.overrideMimeType&&o.overrideMimeType("text/plain; charset=x-user-defined"),o.onreadystatechange=function(){var e,t;if(4===o.readyState)if(200===o.status||0===o.status){t=e=null;try{e=r._getBinaryFromXHR(o)}catch(e){t=new Error(e)}i(t,e)}else i(new Error("Ajax error for "+n+" : "+this.status+" "+this.statusText),null)},o.send()}catch(e){i(new Error(e),null)}},t.exports=r},{}]},{},[1])(1)},"object"==o(t)?e.exports=i():void 0!==(i="function"==typeof(o=i)?o.call(t,n,t,e):o)&&(e.exports=i)},function(n,i,e){"use strict";!function(e){var t,p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};void 0!==(t="function"==typeof(t=function(){"use strict";function o(e,t){return"undefined"==typeof t?t={autoBom:!1}:"object"!=(typeof t==="undefined"?"undefined":p(t))&&(console.warn("Depricated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}function d(e,t,n){var i=new XMLHttpRequest;i.open("GET",e),i.responseType="blob",i.onload=function(){s(i.response,t,n)},i.onerror=function(){console.error("could not download file")},i.send()}function r(e){var t=new XMLHttpRequest;return t.open("HEAD",e,!1),t.send(),200<=t.status&&299>=t.status}function a(t){try{t.dispatchEvent(new MouseEvent("click"))}catch(e){var n=document.createEvent("MouseEvents");n.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(n)}}var u="object"==(typeof window==="undefined"?"undefined":p(window))&&window.window===window?window:"object"==(typeof self==="undefined"?"undefined":p(self))&&self.self===self?self:"object"==(typeof e==="undefined"?"undefined":p(e))&&e.global===e?e:void 0,s=u.saveAs||("object"!=(typeof window==="undefined"?"undefined":p(window))||window!==u?function(){}:"download"in HTMLAnchorElement.prototype?function(e,t,n){var i=u.URL||u.webkitURL,o=document.createElement("a");t=t||e.name||"download",o.download=t,o.rel="noopener","string"==typeof e?(o.href=e,o.origin===location.origin?a(o):r(o.href)?d(e,t,n):a(o,o.target="_blank")):(o.href=i.createObjectURL(e),setTimeout(function(){i.revokeObjectURL(o.href)},4e4),setTimeout(function(){a(o)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,n){if(t=t||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(o(e,n),t);else if(r(e))d(e,t,n);else{var i=document.createElement("a");i.href=e,i.target="_blank",setTimeout(function(){a(i)})}}:function(e,t,n,i){if(i=i||open("","_blank"),i&&(i.document.title=i.document.body.innerText="downloading..."),"string"==typeof e)return d(e,t,n);var o="application/octet-stream"===e.type,r=/constructor/i.test(u.HTMLElement)||u.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||o&&r)&&"object"==(typeof FileReader==="undefined"?"undefined":p(FileReader))){var s=new FileReader;s.onloadend=function(){var e=s.result;e=a?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=e:location=e,i=null},s.readAsDataURL(e)}else{var l=u.URL||u.webkitURL,c=l.createObjectURL(e);i?i.location=c:location.href=c,i=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});u.saveAs=s.saveAs=s,true&&(n.exports=s)})?t.apply(i,[]):t)&&(n.exports=t)}.call(this,e(44))},function(e,t,n){"use strict";var i,z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};n=[n(137)],void 0!==(t="function"==typeof(i=function(_){_.ui=_.ui||{},_.ui.version="1.12.1";var i=0,s=Array.prototype.slice;function k(e,t,n){return[parseFloat(e[0])*(d.test(e[0])?t/100:1),parseFloat(e[1])*(d.test(e[1])?n/100:1)]}function S(e,t){return parseInt(_.css(e,t),10)||0}function t(e){var t=e[0];return 9===t.nodeType?{width:e.width(),height:e.height(),offset:{top:0,left:0}}:_.isWindow(t)?{width:e.width(),height:e.height(),offset:{top:e.scrollTop(),left:e.scrollLeft()}}:t.preventDefault?{width:0,height:0,offset:{top:t.pageY,left:t.pageX}}:{width:e.outerWidth(),height:e.outerHeight(),offset:e.offset()}}_.cleanData=function(o){return function(e){var t,n,i;for(i=0;null!=(n=e[i]);i++)try{t=_._data(n,"events"),t&&t.remove&&_(n).triggerHandler("remove")}catch(e){}o(e)}}(_.cleanData),_.widget=function(e,n,t){var i,o,r,a={},s=e.split(".")[0];e=e.split(".")[1];var l=s+"-"+e;return t||(t=n,n=_.Widget),_.isArray(t)&&(t=_.extend.apply(null,[{}].concat(t))),_.expr[":"][l.toLowerCase()]=function(e){return!!_.data(e,l)},_[s]=_[s]||{},i=_[s][e],o=_[s][e]=function(e,t){return this._createWidget?(arguments.length&&this._createWidget(e,t),void 0):new o(e,t)},_.extend(o,i,{version:t.version,_proto:_.extend({},t),_childConstructors:[]}),r=new n,r.options=_.widget.extend({},r.options),_.each(t,function(t,r){return _.isFunction(r)?(a[t]=function(){function i(){return n.prototype[t].apply(this,arguments)}function o(e){return n.prototype[t].apply(this,e)}return function(){var e,t=this._super,n=this._superApply;return this._super=i,this._superApply=o,e=r.apply(this,arguments),this._super=t,this._superApply=n,e}}(),void 0):(a[t]=r,void 0)}),o.prototype=_.widget.extend(r,{widgetEventPrefix:i?r.widgetEventPrefix||e:e},a,{constructor:o,namespace:s,widgetName:e,widgetFullName:l}),i?(_.each(i._childConstructors,function(e,t){var n=t.prototype;_.widget(n.namespace+"."+n.widgetName,o,t._proto)}),delete i._childConstructors):n._childConstructors.push(o),_.widget.bridge(e,o),o},_.widget.extend=function(e){for(var t,n,i=s.call(arguments,1),o=0,r=i.length;r>o;o++)for(t in i[o])n=i[o][t],i[o].hasOwnProperty(t)&&void 0!==n&&(e[t]=_.isPlainObject(n)?_.isPlainObject(e[t])?_.widget.extend({},e[t],n):_.widget.extend({},n):n);return e},_.widget.bridge=function(r,t){var a=t.prototype.widgetFullName||r;_.fn[r]=function(n){var e="string"==typeof n,i=s.call(arguments,1),o=this;return e?this.length||"instance"!==n?this.each(function(){var e,t=_.data(this,a);return"instance"===n?(o=t,!1):t?_.isFunction(t[n])&&"_"!==n.charAt(0)?(e=t[n].apply(t,i),e!==t&&void 0!==e?(o=e&&e.jquery?o.pushStack(e.get()):e,!1):void 0):_.error("no such method '"+n+"' for "+r+" widget instance"):_.error("cannot call methods on "+r+" prior to initialization; "+"attempted to call method '"+n+"'")}):o=void 0:(i.length&&(n=_.widget.extend.apply(null,[n].concat(i))),this.each(function(){var e=_.data(this,a);e?(e.option(n||{}),e._init&&e._init()):_.data(this,a,new t(n,this))})),o}},_.Widget=function(){},_.Widget._childConstructors=[],_.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function e(t,n){n=_(n||this.defaultElement||this)[0],this.element=_(n),this.uuid=i++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=_(),this.hoverable=_(),this.focusable=_(),this.classesElementLookup={},n!==this&&(_.data(n,this.widgetFullName,this),this._on(!0,this.element,{remove:function e(t){t.target===n&&this.destroy()}}),this.document=_(n.style?n.ownerDocument:n.document||n),this.window=_(this.document[0].defaultView||this.document[0].parentWindow)),this.options=_.widget.extend({},this.options,this._getCreateOptions(),t),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function e(){return{}},_getCreateEventData:_.noop,_create:_.noop,_init:_.noop,destroy:function e(){var n=this;this._destroy(),_.each(this.classesElementLookup,function(e,t){n._removeClass(t,e)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:_.noop,widget:function e(){return this.element},option:function e(t,n){var i,o,r,a=t;if(0===arguments.length)return _.widget.extend({},this.options);if("string"==typeof t)if(a={},i=t.split("."),t=i.shift(),i.length){for(o=a[t]=_.widget.extend({},this.options[t]),r=0;i.length-1>r;r++)o[i[r]]=o[i[r]]||{},o=o[i[r]];if(t=i.pop(),1===arguments.length)return void 0===o[t]?null:o[t];o[t]=n}else{if(1===arguments.length)return void 0===this.options[t]?null:this.options[t];a[t]=n}return this._setOptions(a),this},_setOptions:function e(t){var n;for(n in t)this._setOption(n,t[n]);return this},_setOption:function e(t,n){return"classes"===t&&this._setOptionClasses(n),this.options[t]=n,"disabled"===t&&this._setOptionDisabled(n),this},_setOptionClasses:function e(t){var n,i,o;for(n in t)o=this.classesElementLookup[n],t[n]!==this.options.classes[n]&&o&&o.length&&(i=_(o.get()),this._removeClass(o,n),i.addClass(this._classes({element:i,keys:n,classes:t,add:!0})))},_setOptionDisabled:function e(t){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!t),t&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function e(){return this._setOptions({disabled:!1})},disable:function e(){return this._setOptions({disabled:!0})},_classes:function e(o){function t(e,t){var n,i;for(i=0;e.length>i;i++)n=a.classesElementLookup[e[i]]||_(),n=o.add?_(_.unique(n.get().concat(o.element.get()))):_(n.not(o.element).get()),a.classesElementLookup[e[i]]=n,r.push(e[i]),t&&o.classes[e[i]]&&r.push(o.classes[e[i]])}var r=[],a=this;return o=_.extend({element:this.element,classes:this.options.classes||{}},o),this._on(o.element,{remove:"_untrackClassesElement"}),o.keys&&t(o.keys.match(/\S+/g)||[],!0),o.extra&&t(o.extra.match(/\S+/g)||[]),r.join(" ")},_untrackClassesElement:function e(n){var i=this;_.each(i.classesElementLookup,function(e,t){-1!==_.inArray(n.target,t)&&(i.classesElementLookup[e]=_(t.not(n.target).get()))})},_removeClass:function e(t,n,i){return this._toggleClass(t,n,i,!1)},_addClass:function e(t,n,i){return this._toggleClass(t,n,i,!0)},_toggleClass:function e(t,n,i,o){o="boolean"==typeof o?o:i;var r="string"==typeof t||null===t,a={extra:r?n:i,keys:r?t:n,element:r?this.element:t,add:o};return a.element.toggleClass(this._classes(a),o),this},_on:function e(a,s,t){var l,c=this;"boolean"!=typeof a&&(t=s,s=a,a=!1),t?(s=l=_(s),this.bindings=this.bindings.add(s)):(t=s,s=this.element,l=this.widget()),_.each(t,function(e,t){function n(){return a||c.options.disabled!==!0&&!_(this).hasClass("ui-state-disabled")?("string"==typeof t?c[t]:t).apply(c,arguments):void 0}"string"!=typeof t&&(n.guid=t.guid=t.guid||n.guid||_.guid++);var i=e.match(/^([\w:-]*)\s*(.*)$/),o=i[1]+c.eventNamespace,r=i[2];r?l.on(o,r,n):s.on(o,n)})},_off:function e(t,n){n=(n||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.off(n).off(n),this.bindings=_(this.bindings.not(t).get()),this.focusable=_(this.focusable.not(t).get()),this.hoverable=_(this.hoverable.not(t).get())},_delay:function e(t,n){function i(){return("string"==typeof t?o[t]:t).apply(o,arguments)}var o=this;return setTimeout(i,n||0)},_hoverable:function e(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function e(t){this._addClass(_(t.currentTarget),null,"ui-state-hover")},mouseleave:function e(t){this._removeClass(_(t.currentTarget),null,"ui-state-hover")}})},_focusable:function e(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function e(t){this._addClass(_(t.currentTarget),null,"ui-state-focus")},focusout:function e(t){this._removeClass(_(t.currentTarget),null,"ui-state-focus")}})},_trigger:function e(t,n,i){var o,r,a=this.options[t];if(i=i||{},n=_.Event(n),n.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),n.target=this.element[0],r=n.originalEvent)for(o in r)o in n||(n[o]=r[o]);return this.element.trigger(n,i),!(_.isFunction(a)&&a.apply(this.element[0],[n].concat(i))===!1||n.isDefaultPrevented())}},_.each({show:"fadeIn",hide:"fadeOut"},function(r,a){_.Widget.prototype["_"+r]=function(t,e,n){"string"==typeof e&&(e={effect:e});var i,o=e?e===!0||"number"==typeof e?a:e.effect||a:r;e=e||{},"number"==typeof e&&(e={duration:e}),i=!_.isEmptyObject(e),e.complete=n,e.delay&&t.delay(e.delay),i&&_.effects&&_.effects.effect[o]?t[r](e):o!==r&&t[o]?t[o](e.duration,e.easing,n):t.queue(function(e){_(this)[r](),n&&n.call(t[0]),e()})}}),_.widget;var r,C=Math.max,P=Math.abs,o=/left|center|right/,a=/top|center|bottom/,l=/[\+\-]\d+(\.[\d]+)?%?/,c=/^\w+/,d=/%$/,I=_.fn.position,u=(_.position={scrollbarWidth:function e(){if(void 0!==r)return r;var t,n,i=_("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),o=i.children()[0];return _("body").append(i),t=o.offsetWidth,i.css("overflow","scroll"),n=o.offsetWidth,t===n&&(n=i[0].clientWidth),i.remove(),r=t-n},getScrollInfo:function e(t){var n=t.isWindow||t.isDocument?"":t.element.css("overflow-x"),i=t.isWindow||t.isDocument?"":t.element.css("overflow-y"),o="scroll"===n||"auto"===n&&t.width<t.element[0].scrollWidth,r="scroll"===i||"auto"===i&&t.height<t.element[0].scrollHeight;return{width:r?_.position.scrollbarWidth():0,height:o?_.position.scrollbarWidth():0}},getWithinInfo:function e(t){var n=_(t||window),i=_.isWindow(n[0]),o=!!n[0]&&9===n[0].nodeType,r=!i&&!o;return{element:n,isWindow:i,isDocument:o,offset:r?_(t).offset():{left:0,top:0},scrollLeft:n.scrollLeft(),scrollTop:n.scrollTop(),width:n.outerWidth(),height:n.outerHeight()}}},_.fn.position=function(u){if(!u||!u.of)return I.apply(this,arguments);u=_.extend({},u);var p,f,h,m,g,e,v=_(u.of),b=_.position.getWithinInfo(u.within),y=_.position.getScrollInfo(b),w=(u.collision||"flip").split(" "),x={};return e=t(v),v[0].preventDefault&&(u.at="left top"),f=e.width,h=e.height,m=e.offset,g=_.extend({},m),_.each(["my","at"],function(){var e,t,n=(u[this]||"").split(" ");1===n.length&&(n=o.test(n[0])?n.concat(["center"]):a.test(n[0])?["center"].concat(n):["center","center"]),n[0]=o.test(n[0])?n[0]:"center",n[1]=a.test(n[1])?n[1]:"center",e=l.exec(n[0]),t=l.exec(n[1]),x[this]=[e?e[0]:0,t?t[0]:0],u[this]=[c.exec(n[0])[0],c.exec(n[1])[0]]}),1===w.length&&(w[1]=w[0]),"right"===u.at[0]?g.left+=f:"center"===u.at[0]&&(g.left+=f/2),"bottom"===u.at[1]?g.top+=h:"center"===u.at[1]&&(g.top+=h/2),p=k(x.at,f,h),g.left+=p[0],g.top+=p[1],this.each(function(){var n,e,a=_(this),s=a.outerWidth(),l=a.outerHeight(),t=S(this,"marginLeft"),i=S(this,"marginTop"),o=s+t+S(this,"marginRight")+y.width,r=l+i+S(this,"marginBottom")+y.height,c=_.extend({},g),d=k(x.my,a.outerWidth(),a.outerHeight());"right"===u.my[0]?c.left-=s:"center"===u.my[0]&&(c.left-=s/2),"bottom"===u.my[1]?c.top-=l:"center"===u.my[1]&&(c.top-=l/2),c.left+=d[0],c.top+=d[1],n={marginLeft:t,marginTop:i},_.each(["left","top"],function(e,t){_.ui.position[w[e]]&&_.ui.position[w[e]][t](c,{targetWidth:f,targetHeight:h,elemWidth:s,elemHeight:l,collisionPosition:n,collisionWidth:o,collisionHeight:r,offset:[p[0]+d[0],p[1]+d[1]],my:u.my,at:u.at,within:b,elem:a})}),u.using&&(e=function e(t){var n=m.left-c.left,i=n+f-s,o=m.top-c.top,e=o+h-l,r={target:{element:v,left:m.left,top:m.top,width:f,height:h},element:{element:a,left:c.left,top:c.top,width:s,height:l},horizontal:0>i?"left":n>0?"right":"center",vertical:0>e?"top":o>0?"bottom":"middle"};s>f&&f>P(n+i)&&(r.horizontal="center"),l>h&&h>P(o+e)&&(r.vertical="middle"),r.important=C(P(n),P(i))>C(P(o),P(e))?"horizontal":"vertical",u.using.call(this,t,r)}),a.offset(_.extend(c,{using:e}))})},_.ui.position={fit:{left:function e(t,n){var i,o=n.within,r=o.isWindow?o.scrollLeft:o.offset.left,a=o.width,s=t.left-n.collisionPosition.marginLeft,l=r-s,c=s+n.collisionWidth-a-r;n.collisionWidth>a?l>0&&0>=c?(i=t.left+l+n.collisionWidth-a-r,t.left+=l-i):t.left=c>0&&0>=l?r:l>c?r+a-n.collisionWidth:r:l>0?t.left+=l:c>0?t.left-=c:t.left=C(t.left-s,t.left)},top:function e(t,n){var i,o=n.within,r=o.isWindow?o.scrollTop:o.offset.top,a=n.within.height,s=t.top-n.collisionPosition.marginTop,l=r-s,c=s+n.collisionHeight-a-r;n.collisionHeight>a?l>0&&0>=c?(i=t.top+l+n.collisionHeight-a-r,t.top+=l-i):t.top=c>0&&0>=l?r:l>c?r+a-n.collisionHeight:r:l>0?t.top+=l:c>0?t.top-=c:t.top=C(t.top-s,t.top)}},flip:{left:function e(t,n){var i,o,r=n.within,a=r.offset.left+r.scrollLeft,s=r.width,l=r.isWindow?r.scrollLeft:r.offset.left,c=t.left-n.collisionPosition.marginLeft,d=c-l,u=c+n.collisionWidth-s-l,p="left"===n.my[0]?-n.elemWidth:"right"===n.my[0]?n.elemWidth:0,f="left"===n.at[0]?n.targetWidth:"right"===n.at[0]?-n.targetWidth:0,h=-2*n.offset[0];0>d?(i=t.left+p+f+h+n.collisionWidth-s-a,(0>i||P(d)>i)&&(t.left+=p+f+h)):u>0&&(o=t.left-n.collisionPosition.marginLeft+p+f+h-l,(o>0||u>P(o))&&(t.left+=p+f+h))},top:function e(t,n){var i,o,r=n.within,a=r.offset.top+r.scrollTop,s=r.height,l=r.isWindow?r.scrollTop:r.offset.top,c=t.top-n.collisionPosition.marginTop,d=c-l,u=c+n.collisionHeight-s-l,p="top"===n.my[1],f=p?-n.elemHeight:"bottom"===n.my[1]?n.elemHeight:0,h="top"===n.at[1]?n.targetHeight:"bottom"===n.at[1]?-n.targetHeight:0,m=-2*n.offset[1];0>d?(o=t.top+f+h+m+n.collisionHeight-s-a,(0>o||P(d)>o)&&(t.top+=f+h+m)):u>0&&(i=t.top-n.collisionPosition.marginTop+f+h+m-l,(i>0||u>P(i))&&(t.top+=f+h+m))}},flipfit:{left:function e(){_.ui.position.flip.left.apply(this,arguments),_.ui.position.fit.left.apply(this,arguments)},top:function e(){_.ui.position.flip.top.apply(this,arguments),_.ui.position.fit.top.apply(this,arguments)}}},_.ui.position,_.extend(_.expr[":"],{data:_.expr.createPseudo?_.expr.createPseudo(function(t){return function(e){return!!_.data(e,t)}}):function(e,t,n){return!!_.data(e,n[3])}}),_.fn.scrollParent=function(e){var t=this.css("position"),n="absolute"===t,i=e?/(auto|scroll|hidden)/:/(auto|scroll)/,o=this.parents().filter(function(){var e=_(this);return n&&"static"===e.css("position")?!1:i.test(e.css("overflow")+e.css("overflow-y")+e.css("overflow-x"))}).eq(0);return"fixed"!==t&&o.length?o:_(this[0].ownerDocument||document)},_.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),!1),p=(_(document).on("mouseup",function(){u=!1}),_.widget("ui.mouse",{version:"1.12.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function e(){var t=this;this.element.on("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).on("click."+this.widgetName,function(e){return!0===_.data(e.target,t.widgetName+".preventClickEvent")?(_.removeData(e.target,t.widgetName+".preventClickEvent"),e.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function e(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function e(t){if(!u){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(t),this._mouseDownEvent=t;var n=this,i=1===t.which,o="string"==typeof this.options.cancel&&t.target.nodeName?_(t.target).closest(this.options.cancel).length:!1;return i&&!o&&this._mouseCapture(t)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){n.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(t)!==!1,!this._mouseStarted)?(t.preventDefault(),!0):(!0===_.data(t.target,this.widgetName+".preventClickEvent")&&_.removeData(t.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return n._mouseMove(e)},this._mouseUpDelegate=function(e){return n._mouseUp(e)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),t.preventDefault(),u=!0,!0)):!0}},_mouseMove:function e(t){if(this._mouseMoved){if(_.ui.ie&&(!document.documentMode||9>document.documentMode)&&!t.button)return this._mouseUp(t);if(!t.which)if(t.originalEvent.altKey||t.originalEvent.ctrlKey||t.originalEvent.metaKey||t.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(t)}return(t.which||t.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,t)!==!1,this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function e(t){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&_.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,u=!1,t.preventDefault()},_mouseDistanceMet:function e(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function e(){return this.mouseDelayMet},_mouseStart:function e(){},_mouseDrag:function e(){},_mouseStop:function e(){},_mouseCapture:function e(){return!0}}),_.widget("ui.sortable",_.ui.mouse,{version:"1.12.1",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function e(t,n,i){return t>=n&&n+i>t},_isFloating:function e(t){return/left|right/.test(t.css("float"))||/inline|table-cell/.test(t.css("display"))},_create:function e(){this.containerCache={},this._addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function e(t,n){this._super(t,n),"handle"===t&&this._setHandleClassName()},_setHandleClassName:function e(){var t=this;this._removeClass(this.element.find(".ui-sortable-handle"),"ui-sortable-handle"),_.each(this.items,function(){t._addClass(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item,"ui-sortable-handle")})},_destroy:function e(){this._mouseDestroy();for(var t=this.items.length-1;t>=0;t--)this.items[t].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function e(t,n){var i=null,o=!1,r=this;return this.reverting?!1:this.options.disabled||"static"===this.options.type?!1:(this._refreshItems(t),_(t.target).parents().each(function(){return _.data(this,r.widgetName+"-item")===r?(i=_(this),!1):void 0}),_.data(t.target,r.widgetName+"-item")===r&&(i=_(t.target)),i?!this.options.handle||n||(_(this.options.handle,i).find("*").addBack().each(function(){this===t.target&&(o=!0)}),o)?(this.currentItem=i,this._removeCurrentsFromItems(),!0):!1:!1)},_mouseStart:function e(t,n,i){var o,r,a=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},_.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,a.cursorAt&&this._adjustOffsetFromHelper(a.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),a.containment&&this._setContainment(),a.cursor&&"auto"!==a.cursor&&(r=this.document.find("body"),this.storedCursor=r.css("cursor"),r.css("cursor",a.cursor),this.storedStylesheet=_("<style>*{ cursor: "+a.cursor+" !important; }</style>").appendTo(r)),a.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",a.opacity)),a.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",a.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!i)for(o=this.containers.length-1;o>=0;o--)this.containers[o]._trigger("activate",t,this._uiHash(this));return _.ui.ddmanager&&(_.ui.ddmanager.current=this),_.ui.ddmanager&&!a.dropBehaviour&&_.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this._addClass(this.helper,"ui-sortable-helper"),this._mouseDrag(t),!0},_mouseDrag:function e(t){var n,i,o,r,a=this.options,s=!1;for(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<a.scrollSensitivity?this.scrollParent[0].scrollTop=s=this.scrollParent[0].scrollTop+a.scrollSpeed:t.pageY-this.overflowOffset.top<a.scrollSensitivity&&(this.scrollParent[0].scrollTop=s=this.scrollParent[0].scrollTop-a.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<a.scrollSensitivity?this.scrollParent[0].scrollLeft=s=this.scrollParent[0].scrollLeft+a.scrollSpeed:t.pageX-this.overflowOffset.left<a.scrollSensitivity&&(this.scrollParent[0].scrollLeft=s=this.scrollParent[0].scrollLeft-a.scrollSpeed)):(t.pageY-this.document.scrollTop()<a.scrollSensitivity?s=this.document.scrollTop(this.document.scrollTop()-a.scrollSpeed):this.window.height()-(t.pageY-this.document.scrollTop())<a.scrollSensitivity&&(s=this.document.scrollTop(this.document.scrollTop()+a.scrollSpeed)),t.pageX-this.document.scrollLeft()<a.scrollSensitivity?s=this.document.scrollLeft(this.document.scrollLeft()-a.scrollSpeed):this.window.width()-(t.pageX-this.document.scrollLeft())<a.scrollSensitivity&&(s=this.document.scrollLeft(this.document.scrollLeft()+a.scrollSpeed))),s!==!1&&_.ui.ddmanager&&!a.dropBehaviour&&_.ui.ddmanager.prepareOffsets(this,t)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),n=this.items.length-1;n>=0;n--)if(i=this.items[n],o=i.item[0],r=this._intersectsWithPointer(i),r&&i.instance===this.currentContainer&&o!==this.currentItem[0]&&this.placeholder[1===r?"next":"prev"]()[0]!==o&&!_.contains(this.placeholder[0],o)&&("semi-dynamic"===this.options.type?!_.contains(this.element[0],o):!0)){if(this.direction=1===r?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(i))break;this._rearrange(t,i),this._trigger("change",t,this._uiHash());break}return this._contactContainers(t),_.ui.ddmanager&&_.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function e(t,n){if(t){if(_.ui.ddmanager&&!this.options.dropBehaviour&&_.ui.ddmanager.drop(this,t),this.options.revert){var i=this,o=this.placeholder.offset(),r=this.options.axis,a={};r&&"x"!==r||(a.left=o.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),r&&"y"!==r||(a.top=o.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,_(this.helper).animate(a,parseInt(this.options.revert,10)||500,function(){i._clear(t)})}else this._clear(t,n);return!1}},cancel:function e(){if(this.dragging){this._mouseUp(new _.Event("mouseup",{target:null})),"original"===this.options.helper?(this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")):this.currentItem.show();for(var t=this.containers.length-1;t>=0;t--)this.containers[t]._trigger("deactivate",null,this._uiHash(this)),this.containers[t].containerCache.over&&(this.containers[t]._trigger("out",null,this._uiHash(this)),this.containers[t].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),_.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?_(this.domPosition.prev).after(this.currentItem):_(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function e(t){var n=this._getItemsAsjQuery(t&&t.connected),i=[];return t=t||{},_(n).each(function(){var e=(_(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[\-=_](.+)/);e&&i.push((t.key||e[1]+"[]")+"="+(t.key&&t.expression?e[1]:e[2]))}),!i.length&&t.key&&i.push(t.key+"="),i.join("&")},toArray:function e(t){var n=this._getItemsAsjQuery(t&&t.connected),i=[];return t=t||{},n.each(function(){i.push(_(t.item||this).attr(t.attribute||"id")||"")}),i},_intersectsWith:function e(t){var n=this.positionAbs.left,i=n+this.helperProportions.width,o=this.positionAbs.top,r=o+this.helperProportions.height,a=t.left,s=a+t.width,l=t.top,c=l+t.height,d=this.offset.click.top,u=this.offset.click.left,p="x"===this.options.axis||o+d>l&&c>o+d,f="y"===this.options.axis||n+u>a&&s>n+u,h=p&&f;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>t[this.floating?"width":"height"]?h:n+this.helperProportions.width/2>a&&s>i-this.helperProportions.width/2&&o+this.helperProportions.height/2>l&&c>r-this.helperProportions.height/2},_intersectsWithPointer:function e(t){var n,i,o="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top,t.height),r="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left,t.width),a=o&&r;return a?(n=this._getDragVerticalDirection(),i=this._getDragHorizontalDirection(),this.floating?"right"===i||"down"===n?2:1:n&&("down"===n?2:1)):!1},_intersectsWithSides:function e(t){var n=this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),i=this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),o=this._getDragVerticalDirection(),r=this._getDragHorizontalDirection();return this.floating&&r?"right"===r&&i||"left"===r&&!i:o&&("down"===o&&n||"up"===o&&!n)},_getDragVerticalDirection:function e(){var t=this.positionAbs.top-this.lastPositionAbs.top;return 0!==t&&(t>0?"down":"up")},_getDragHorizontalDirection:function e(){var t=this.positionAbs.left-this.lastPositionAbs.left;return 0!==t&&(t>0?"right":"left")},refresh:function e(t){return this._refreshItems(t),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function e(){var t=this.options;return t.connectWith.constructor===String?[t.connectWith]:t.connectWith},_getItemsAsjQuery:function e(t){function n(){s.push(this)}var i,o,r,a,s=[],l=[],c=this._connectWith();if(c&&t)for(i=c.length-1;i>=0;i--)for(r=_(c[i],this.document[0]),o=r.length-1;o>=0;o--)a=_.data(r[o],this.widgetFullName),a&&a!==this&&!a.options.disabled&&l.push([_.isFunction(a.options.items)?a.options.items.call(a.element):_(a.options.items,a.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),a]);for(l.push([_.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):_(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),i=l.length-1;i>=0;i--)l[i][0].each(n);return _(s)},_removeCurrentsFromItems:function e(){var n=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=_.grep(this.items,function(e){for(var t=0;n.length>t;t++)if(n[t]===e.item[0])return!1;return!0})},_refreshItems:function e(t){this.items=[],this.containers=[this];var n,i,o,r,a,s,l,c,d=this.items,u=[[_.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):_(this.options.items,this.element),this]],p=this._connectWith();if(p&&this.ready)for(n=p.length-1;n>=0;n--)for(o=_(p[n],this.document[0]),i=o.length-1;i>=0;i--)r=_.data(o[i],this.widgetFullName),r&&r!==this&&!r.options.disabled&&(u.push([_.isFunction(r.options.items)?r.options.items.call(r.element[0],t,{item:this.currentItem}):_(r.options.items,r.element),r]),this.containers.push(r));for(n=u.length-1;n>=0;n--)for(a=u[n][1],s=u[n][0],i=0,c=s.length;c>i;i++)l=_(s[i]),l.data(this.widgetName+"-item",a),d.push({item:l,instance:a,width:0,height:0,left:0,top:0})},refreshPositions:function e(t){this.floating=this.items.length?"x"===this.options.axis||this._isFloating(this.items[0].item):!1,this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var n,i,o,r;for(n=this.items.length-1;n>=0;n--)i=this.items[n],i.instance!==this.currentContainer&&this.currentContainer&&i.item[0]!==this.currentItem[0]||(o=this.options.toleranceElement?_(this.options.toleranceElement,i.item):i.item,t||(i.width=o.outerWidth(),i.height=o.outerHeight()),r=o.offset(),i.left=r.left,i.top=r.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(n=this.containers.length-1;n>=0;n--)r=this.containers[n].element.offset(),this.containers[n].containerCache.left=r.left,this.containers[n].containerCache.top=r.top,this.containers[n].containerCache.width=this.containers[n].element.outerWidth(),this.containers[n].containerCache.height=this.containers[n].element.outerHeight();return this},_createPlaceholder:function e(i){i=i||this;var o,r=i.options;r.placeholder&&r.placeholder.constructor!==String||(o=r.placeholder,r.placeholder={element:function e(){var t=i.currentItem[0].nodeName.toLowerCase(),n=_("<"+t+">",i.document[0]);return i._addClass(n,"ui-sortable-placeholder",o||i.currentItem[0].className)._removeClass(n,"ui-sortable-helper"),"tbody"===t?i._createTrPlaceholder(i.currentItem.find("tr").eq(0),_("<tr>",i.document[0]).appendTo(n)):"tr"===t?i._createTrPlaceholder(i.currentItem,n):"img"===t&&n.attr("src",i.currentItem.attr("src")),o||n.css("visibility","hidden"),n},update:function e(t,n){(!o||r.forcePlaceholderSize)&&(n.height()||n.height(i.currentItem.innerHeight()-parseInt(i.currentItem.css("paddingTop")||0,10)-parseInt(i.currentItem.css("paddingBottom")||0,10)),n.width()||n.width(i.currentItem.innerWidth()-parseInt(i.currentItem.css("paddingLeft")||0,10)-parseInt(i.currentItem.css("paddingRight")||0,10)))}}),i.placeholder=_(r.placeholder.element.call(i.element,i.currentItem)),i.currentItem.after(i.placeholder),r.placeholder.update(i,i.placeholder)},_createTrPlaceholder:function e(t,n){var i=this;t.children().each(function(){_("<td>&#160;</td>",i.document[0]).attr("colspan",_(this).attr("colspan")||1).appendTo(n)})},_contactContainers:function e(t){var n,i,o,r,a,s,l,c,d,u,p=null,f=null;for(n=this.containers.length-1;n>=0;n--)if(!_.contains(this.currentItem[0],this.containers[n].element[0]))if(this._intersectsWith(this.containers[n].containerCache)){if(p&&_.contains(this.containers[n].element[0],p.element[0]))continue;p=this.containers[n],f=n}else this.containers[n].containerCache.over&&(this.containers[n]._trigger("out",t,this._uiHash(this)),this.containers[n].containerCache.over=0);if(p)if(1===this.containers.length)this.containers[f].containerCache.over||(this.containers[f]._trigger("over",t,this._uiHash(this)),this.containers[f].containerCache.over=1);else{for(o=1e4,r=null,d=p.floating||this._isFloating(this.currentItem),a=d?"left":"top",s=d?"width":"height",u=d?"pageX":"pageY",i=this.items.length-1;i>=0;i--)_.contains(this.containers[f].element[0],this.items[i].item[0])&&this.items[i].item[0]!==this.currentItem[0]&&(l=this.items[i].item.offset()[a],c=!1,t[u]-l>this.items[i][s]/2&&(c=!0),o>Math.abs(t[u]-l)&&(o=Math.abs(t[u]-l),r=this.items[i],this.direction=c?"up":"down"));if(!r&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[f])return this.currentContainer.containerCache.over||(this.containers[f]._trigger("over",t,this._uiHash()),this.currentContainer.containerCache.over=1),void 0;r?this._rearrange(t,r,null,!0):this._rearrange(t,null,this.containers[f].element,!0),this._trigger("change",t,this._uiHash()),this.containers[f]._trigger("change",t,this._uiHash(this)),this.currentContainer=this.containers[f],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[f]._trigger("over",t,this._uiHash(this)),this.containers[f].containerCache.over=1}},_createHelper:function e(t){var n=this.options,i=_.isFunction(n.helper)?_(n.helper.apply(this.element[0],[t,this.currentItem])):"clone"===n.helper?this.currentItem.clone():this.currentItem;return i.parents("body").length||_("parent"!==n.appendTo?n.appendTo:this.currentItem[0].parentNode)[0].appendChild(i[0]),i[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!i[0].style.width||n.forceHelperSize)&&i.width(this.currentItem.width()),(!i[0].style.height||n.forceHelperSize)&&i.height(this.currentItem.height()),i},_adjustOffsetFromHelper:function e(t){"string"==typeof t&&(t=t.split(" ")),_.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function e(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&_.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&_.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function e(){if("relative"===this.cssPosition){var t=this.currentItem.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function e(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function e(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function e(){var t,n,i,o=this.options;"parent"===o.containment&&(o.containment=this.helper[0].parentNode),("document"===o.containment||"window"===o.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===o.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===o.containment?this.document.height()||document.body.parentNode.scrollHeight:this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(o.containment)||(t=_(o.containment)[0],n=_(o.containment).offset(),i="hidden"!==_(t).css("overflow"),this.containment=[n.left+(parseInt(_(t).css("borderLeftWidth"),10)||0)+(parseInt(_(t).css("paddingLeft"),10)||0)-this.margins.left,n.top+(parseInt(_(t).css("borderTopWidth"),10)||0)+(parseInt(_(t).css("paddingTop"),10)||0)-this.margins.top,n.left+(i?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(_(t).css("borderLeftWidth"),10)||0)-(parseInt(_(t).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,n.top+(i?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(_(t).css("borderTopWidth"),10)||0)-(parseInt(_(t).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function e(t,n){n||(n=this.position);var i="absolute"===t?1:-1,o="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&_.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,r=/(html|body)/i.test(o[0].tagName);return{top:n.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():r?0:o.scrollTop())*i,left:n.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():r?0:o.scrollLeft())*i}},_generatePosition:function e(t){var n,i,o=this.options,r=t.pageX,a=t.pageY,s="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&_.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(s[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(r=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(a=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(r=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(a=this.containment[3]+this.offset.click.top)),o.grid&&(n=this.originalPageY+Math.round((a-this.originalPageY)/o.grid[1])*o.grid[1],a=this.containment?n-this.offset.click.top>=this.containment[1]&&n-this.offset.click.top<=this.containment[3]?n:n-this.offset.click.top>=this.containment[1]?n-o.grid[1]:n+o.grid[1]:n,i=this.originalPageX+Math.round((r-this.originalPageX)/o.grid[0])*o.grid[0],r=this.containment?i-this.offset.click.left>=this.containment[0]&&i-this.offset.click.left<=this.containment[2]?i:i-this.offset.click.left>=this.containment[0]?i-o.grid[0]:i+o.grid[0]:i)),{top:a-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():l?0:s.scrollTop()),left:r-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():l?0:s.scrollLeft())}},_rearrange:function e(t,n,i,o){i?i[0].appendChild(this.placeholder[0]):n.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?n.item[0]:n.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var r=this.counter;this._delay(function(){r===this.counter&&this.refreshPositions(!o)})},_clear:function e(t,n){function i(t,n,i){return function(e){i._trigger(t,e,n._uiHash(n))}}this.reverting=!1;var o,r=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(o in this._storedCSS)("auto"===this._storedCSS[o]||"static"===this._storedCSS[o])&&(this._storedCSS[o]="");this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!n&&r.push(function(e){this._trigger("receive",e,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||n||r.push(function(e){this._trigger("update",e,this._uiHash())}),this!==this.currentContainer&&(n||(r.push(function(e){this._trigger("remove",e,this._uiHash())}),r.push(function(t){return function(e){t._trigger("receive",e,this._uiHash(this))}}.call(this,this.currentContainer)),r.push(function(t){return function(e){t._trigger("update",e,this._uiHash(this))}}.call(this,this.currentContainer)))),o=this.containers.length-1;o>=0;o--)n||r.push(i("deactivate",this,this.containers[o])),this.containers[o].containerCache.over&&(r.push(i("out",this,this.containers[o])),this.containers[o].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,n||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!n){for(o=0;r.length>o;o++)r[o].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function e(){_.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function e(t){var n=t||this;return{helper:n.helper,placeholder:n.placeholder||_([]),position:n.position,originalPosition:n.originalPosition,offset:n.positionAbs,item:n.currentItem,sender:t?t.element:null}}}),"ui-effects-"),n="ui-effects-style",f="ui-effects-animated",h=_,m=(_.effects={effect:{}},h),g=void 0;function v(e,t,n){var i=j[t.type]||{};return null==e?n||!t.def?null:t.def:(e=i.floor?~~e:parseFloat(e),isNaN(e)?t.def:i.mod?(e+i.mod)%i.mod:0>e?0:e>i.max?i.max:e)}function b(a){var s=x(),l=s._rgba=[];return a=a.toLowerCase(),A(N,function(e,t){var n,i=t.re.exec(a),o=i&&t.parse(i),r=t.space||"rgba";return o?(n=s[r](o),s[T[r].cache]=n[T[r].cache],l=s._rgba=n._rgba,!1):g}),l.length?("0,0,0,0"===l.join()&&m.extend(l,w.transparent),s):w[a]}function y(e,t,n){return n=(n+1)%1,1>6*n?e+6*(t-e)*n:1>2*n?t:2>3*n?e+6*(t-e)*(2/3-n):e}var w,M="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",B=/^([\-+])=\s*(\d+\.?\d*)/,N=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function e(t){return[t[1],t[2],t[3],t[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function e(t){return[2.55*t[1],2.55*t[2],2.55*t[3],t[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function e(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function e(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function e(t){return[t[1],t[2]/100,t[3]/100,t[4]]}}],x=m.Color=function(e,t,n,i){return new m.Color.fn.parse(e,t,n,i)},T={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},j={byte:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},E=x.support={},e=m("<p>")[0],A=m.each;function L(e){var t,n,i=e.ownerDocument.defaultView?e.ownerDocument.defaultView.getComputedStyle(e,null):e.currentStyle,o={};if(i&&i.length&&i[0]&&i[i[0]])for(n=i.length;n--;)t=i[n],"string"==typeof i[t]&&(o[_.camelCase(t)]=i[t]);else for(t in i)"string"==typeof i[t]&&(o[t]=i[t]);return o}function R(e,t){var n,i,o={};for(n in t)i=t[n],e[n]!==i&&(H[n]||(_.fx.step[n]||!isNaN(parseFloat(i)))&&(o[n]=i));return o}e.style.cssText="background-color:rgba(1,1,1,.5)",E.rgba=e.style.backgroundColor.indexOf("rgba")>-1,A(T,function(e,t){t.cache="_"+e,t.props.alpha={idx:3,type:"percent",def:1}}),(x.fn=m.extend(x.prototype,{parse:function e(o,t,n,i){if(o===g)return this._rgba=[null,null,null,null],this;(o.jquery||o.nodeType)&&(o=m(o).css(t),t=g);var r=this,a=m.type(o),s=this._rgba=[];return t!==g&&(o=[o,t,n,i],a="array"),"string"===a?this.parse(b(o)||w._default):"array"===a?(A(T.rgba.props,function(e,t){s[t.idx]=v(o[t.idx],t)}),this):"object"===a?(o instanceof x?A(T,function(e,t){o[t.cache]&&(r[t.cache]=o[t.cache].slice())}):A(T,function(e,n){var i=n.cache;A(n.props,function(e,t){if(!r[i]&&n.to){if("alpha"===e||null==o[e])return;r[i]=n.to(r._rgba)}r[i][t.idx]=v(o[e],t,!0)}),r[i]&&0>m.inArray(null,r[i].slice(0,3))&&(r[i][3]=1,n.from&&(r._rgba=n.from(r[i])))}),this):g},is:function e(t){var o=x(t),r=!0,a=this;return A(T,function(e,t){var n,i=o[t.cache];return i&&(n=a[t.cache]||t.to&&t.to(a._rgba)||[],A(t.props,function(e,t){return null!=i[t.idx]?r=i[t.idx]===n[t.idx]:g})),r}),r},_space:function e(){var n=[],i=this;return A(T,function(e,t){i[t.cache]&&n.push(e)}),n.pop()},transition:function e(t,a){var s=x(t),n=s._space(),i=T[n],o=0===this.alpha()?x("transparent"):this,l=o[i.cache]||i.to(o._rgba),c=l.slice();return s=s[i.cache],A(i.props,function(e,t){var n=t.idx,i=l[n],o=s[n],r=j[t.type]||{};null!==o&&(null===i?c[n]=o:(r.mod&&(o-i>r.mod/2?i+=r.mod:i-o>r.mod/2&&(i-=r.mod)),c[n]=v((o-i)*a+i,t)))}),this[n](c)},blend:function e(t){if(1===this._rgba[3])return this;var n=this._rgba.slice(),i=n.pop(),o=x(t)._rgba;return x(m.map(n,function(e,t){return(1-i)*o[t]+i*e}))},toRgbaString:function e(){var t="rgba(",n=m.map(this._rgba,function(e,t){return null==e?t>2?1:0:e});return 1===n[3]&&(n.pop(),t="rgb("),t+n.join()+")"},toHslaString:function e(){var t="hsla(",n=m.map(this.hsla(),function(e,t){return null==e&&(e=t>2?1:0),t&&3>t&&(e=Math.round(100*e)+"%"),e});return 1===n[3]&&(n.pop(),t="hsl("),t+n.join()+")"},toHexString:function e(t){var n=this._rgba.slice(),i=n.pop();return t&&n.push(~~(255*i)),"#"+m.map(n,function(e){return e=(e||0).toString(16),1===e.length?"0"+e:e}).join("")},toString:function e(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}})).parse.prototype=x.fn,T.hsla.to=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t,n,i=e[0]/255,o=e[1]/255,r=e[2]/255,a=e[3],s=Math.max(i,o,r),l=Math.min(i,o,r),c=s-l,d=s+l,u=.5*d;return t=l===s?0:i===s?60*(o-r)/c+360:o===s?60*(r-i)/c+120:60*(i-o)/c+240,n=0===c?0:.5>=u?c/d:c/(2-d),[Math.round(t)%360,n,u,null==a?1:a]},T.hsla.from=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t=e[0]/360,n=e[1],i=e[2],o=e[3],r=.5>=i?i*(1+n):i+n-i*n,a=2*i-r;return[Math.round(255*y(a,r,t+1/3)),Math.round(255*y(a,r,t)),Math.round(255*y(a,r,t-1/3)),o]},A(T,function(l,e){var n=e.props,a=e.cache,s=e.to,c=e.from;x.fn[l]=function(e){if(s&&!this[a]&&(this[a]=s(this._rgba)),e===g)return this[a].slice();var t,i=m.type(e),o="array"===i||"object"===i?e:arguments,r=this[a].slice();return A(n,function(e,t){var n=o["object"===i?e:t.idx];null==n&&(n=r[t.idx]),r[t.idx]=v(n,t)}),c?(t=x(c(r)),t[a]=r,t):x(r)},A(n,function(a,s){x.fn[a]||(x.fn[a]=function(e){var t,n=m.type(e),i="alpha"===a?this._hsla?"hsla":"rgba":l,o=this[i](),r=o[s.idx];return"undefined"===n?r:("function"===n&&(e=e.call(this,r),n=m.type(e)),null==e&&s.empty?this:("string"===n&&(t=B.exec(e),t&&(e=r+parseFloat(t[2])*("+"===t[1]?1:-1))),o[s.idx]=e,this[i](o)))})})}),(x.hook=function(e){var t=e.split(" ");A(t,function(e,a){m.cssHooks[a]={set:function e(t,n){var i,o,r="";if("transparent"!==n&&("string"!==m.type(n)||(i=b(n)))){if(n=x(i||n),!E.rgba&&1!==n._rgba[3]){for(o="backgroundColor"===a?t.parentNode:t;(""===r||"transparent"===r)&&o&&o.style;)try{r=m.css(o,"backgroundColor"),o=o.parentNode}catch(e){}n=n.blend(r&&"transparent"!==r?r:"_default")}n=n.toRgbaString()}try{t.style[a]=n}catch(e){}}},m.fx.step[a]=function(e){e.colorInit||(e.start=x(e.elem,a),e.end=x(e.end),e.colorInit=!0),m.cssHooks[a].set(e.elem,e.start.transition(e.end,e.pos))}})})(M),m.cssHooks.borderColor={expand:function e(n){var i={};return A(["Top","Right","Bottom","Left"],function(e,t){i["border"+t+"Color"]=n}),i}},w=m.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"};var U=["add","remove","toggle"],H={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};function $(e,t,n,i){return _.isPlainObject(e)&&(t=e,e=e.effect),e={effect:e},null==t&&(t={}),_.isFunction(t)&&(i=t,n=null,t={}),("number"==typeof t||_.fx.speeds[t])&&(i=n,n=t,t={}),_.isFunction(n)&&(i=n,n=null),t&&_.extend(e,t),n=n||t.duration,e.duration=_.fx.off?0:"number"==typeof n?n:n in _.fx.speeds?_.fx.speeds[n]:_.fx.speeds._default,e.complete=i||t.complete,e}function O(e){return!e||"number"==typeof e||_.fx.speeds[e]?!0:"string"!=typeof e||_.effects.effect[e]?_.isFunction(e)?!0:"object"!=(typeof e==="undefined"?"undefined":z(e))||e.effect?!1:!0:!0}function D(e,t){var n=t.outerWidth(),i=t.outerHeight(),o=/^rect\((-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto)\)$/,r=o.exec(e)||["",0,n,i,0];return{top:parseFloat(r[1])||0,right:"auto"===r[2]?n:parseFloat(r[2]),bottom:"auto"===r[3]?i:parseFloat(r[3]),left:parseFloat(r[4])||0}}_.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(e,t){_.fx.step[t]=function(e){("none"!==e.end&&!e.setAttr||1===e.pos&&!e.setAttr)&&(h.style(e.elem,t,e.end),e.setAttr=!0)}}),_.fn.addBack||(_.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),_.effects.animateClass=function(o,e,t,n){var r=_.speed(e,t,n);return this.queue(function(){var e,n=_(this),t=n.attr("class")||"",i=r.children?n.find("*").addBack():n;i=i.map(function(){var e=_(this);return{el:e,start:L(this)}}),e=function e(){_.each(U,function(e,t){o[t]&&n[t+"Class"](o[t])})},e(),i=i.map(function(){return this.end=L(this.el[0]),this.diff=R(this.start,this.end),this}),n.attr("class",t),i=i.map(function(){var t=this,n=_.Deferred(),e=_.extend({},r,{queue:!1,complete:function e(){n.resolve(t)}});return this.el.animate(this.diff,e),n.promise()}),_.when.apply(_,i.get()).done(function(){e(),_.each(arguments,function(){var t=this.el;_.each(this.diff,function(e){t.css(e,"")})}),r.complete.call(n[0])})})},_.fn.extend({addClass:function(o){return function(e,t,n,i){return t?_.effects.animateClass.call(this,{add:e},t,n,i):o.apply(this,arguments)}}(_.fn.addClass),removeClass:function(o){return function(e,t,n,i){return arguments.length>1?_.effects.animateClass.call(this,{remove:e},t,n,i):o.apply(this,arguments)}}(_.fn.removeClass),toggleClass:function(r){return function(e,t,n,i,o){return"boolean"==typeof t||void 0===t?n?_.effects.animateClass.call(this,t?{add:e}:{remove:e},n,i,o):r.apply(this,arguments):_.effects.animateClass.call(this,{toggle:e},t,n,i)}}(_.fn.toggleClass),switchClass:function e(t,n,i,o,r){return _.effects.animateClass.call(this,{add:n,remove:t},i,o,r)}}),_.expr&&_.expr.filters&&_.expr.filters.animated&&(_.expr.filters.animated=function(t){return function(e){return!!_(e).data(f)||t(e)}}(_.expr.filters.animated)),_.uiBackCompat!==!1&&_.extend(_.effects,{save:function e(t,n){for(var i=0,o=n.length;o>i;i++)null!==n[i]&&t.data(p+n[i],t[0].style[n[i]])},restore:function e(t,n){for(var i,o=0,r=n.length;r>o;o++)null!==n[o]&&(i=t.data(p+n[o]),t.css(n[o],i))},setMode:function e(t,n){return"toggle"===n&&(n=t.is(":hidden")?"show":"hide"),n},createWrapper:function e(n){if(n.parent().is(".ui-effects-wrapper"))return n.parent();var i={width:n.outerWidth(!0),height:n.outerHeight(!0),float:n.css("float")},t=_("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),o={width:n.width(),height:n.height()},r=document.activeElement;try{r.id}catch(e){r=document.body}return n.wrap(t),(n[0]===r||_.contains(n[0],r))&&_(r).trigger("focus"),t=n.parent(),"static"===n.css("position")?(t.css({position:"relative"}),n.css({position:"relative"})):(_.extend(i,{position:n.css("position"),zIndex:n.css("z-index")}),_.each(["top","left","bottom","right"],function(e,t){i[t]=n.css(t),isNaN(parseInt(i[t],10))&&(i[t]="auto")}),n.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),n.css(o),t.css(i).show()},removeWrapper:function e(t){var n=document.activeElement;return t.parent().is(".ui-effects-wrapper")&&(t.parent().replaceWith(t),(t[0]===n||_.contains(t[0],n))&&_(n).trigger("focus")),t}}),_.extend(_.effects,{version:"1.12.1",define:function e(t,n,i){return i||(i=n,n="effect"),_.effects.effect[t]=i,_.effects.effect[t].mode=n,i},scaledDimensions:function e(t,n,i){if(0===n)return{height:0,width:0,outerHeight:0,outerWidth:0};var o="horizontal"!==i?(n||100)/100:1,r="vertical"!==i?(n||100)/100:1;return{height:t.height()*r,width:t.width()*o,outerHeight:t.outerHeight()*r,outerWidth:t.outerWidth()*o}},clipToBox:function e(t){return{width:t.clip.right-t.clip.left,height:t.clip.bottom-t.clip.top,left:t.clip.left,top:t.clip.top}},unshift:function e(t,n,i){var o=t.queue();n>1&&o.splice.apply(o,[1,0].concat(o.splice(n,i))),t.dequeue()},saveStyle:function e(t){t.data(n,t[0].style.cssText)},restoreStyle:function e(t){t[0].style.cssText=t.data(n)||"",t.removeData(n)},mode:function e(t,n){var i=t.is(":hidden");return"toggle"===n&&(n=i?"show":"hide"),(i?"hide"===n:"show"===n)&&(n="none"),n},getBaseline:function e(t,n){var i,o;switch(t[0]){case"top":i=0;break;case"middle":i=.5;break;case"bottom":i=1;break;default:i=t[0]/n.height}switch(t[1]){case"left":o=0;break;case"center":o=.5;break;case"right":o=1;break;default:o=t[1]/n.width}return{x:o,y:i}},createPlaceholder:function e(t){var n,i=t.css("position"),o=t.position();return t.css({marginTop:t.css("marginTop"),marginBottom:t.css("marginBottom"),marginLeft:t.css("marginLeft"),marginRight:t.css("marginRight")}).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()),/^(static|relative)/.test(i)&&(i="absolute",n=_("<"+t[0].nodeName+">").insertAfter(t).css({display:/^(inline|ruby)/.test(t.css("display"))?"inline-block":"block",visibility:"hidden",marginTop:t.css("marginTop"),marginBottom:t.css("marginBottom"),marginLeft:t.css("marginLeft"),marginRight:t.css("marginRight"),float:t.css("float")}).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()).addClass("ui-effects-placeholder"),t.data(p+"placeholder",n)),t.css({position:i,left:o.left,top:o.top}),n},removePlaceholder:function e(t){var n=p+"placeholder",i=t.data(n);i&&(i.remove(),t.removeData(n))},cleanUp:function e(t){_.effects.restoreStyle(t),_.effects.removePlaceholder(t)},setTransition:function e(i,t,o,r){return r=r||{},_.each(t,function(e,t){var n=i.cssUnit(t);n[0]>0&&(r[t]=n[0]*o+n[1])}),r}}),_.fn.extend({effect:function e(){function t(e){function t(){i.removeData(f),_.effects.cleanUp(i),"hide"===o.mode&&i.hide(),n()}function n(){_.isFunction(s)&&s.call(i[0]),_.isFunction(e)&&e()}var i=_(this);o.mode=c.shift(),_.uiBackCompat===!1||a?"none"===o.mode?(i[l](),n()):r.call(i[0],o,t):(i.is(":hidden")?"hide"===l:"show"===l)?(i[l](),n()):r.call(i[0],o,n)}var o=$.apply(this,arguments),r=_.effects.effect[o.effect],a=r.mode,n=o.queue,i=n||"fx",s=o.complete,l=o.mode,c=[],d=function e(t){var n=_(this),i=_.effects.mode(n,l)||a;n.data(f,!0),c.push(i),a&&("show"===i||i===a&&"hide"===i)&&n.show(),a&&"none"===i||_.effects.saveStyle(n),_.isFunction(t)&&t()};return _.fx.off||!r?l?this[l](o.duration,s):this.each(function(){s&&s.call(this)}):n===!1?this.each(d).each(t):this.queue(i,d).queue(i,t)},show:function(n){return function(e){if(O(e))return n.apply(this,arguments);var t=$.apply(this,arguments);return t.mode="show",this.effect.call(this,t)}}(_.fn.show),hide:function(n){return function(e){if(O(e))return n.apply(this,arguments);var t=$.apply(this,arguments);return t.mode="hide",this.effect.call(this,t)}}(_.fn.hide),toggle:function(n){return function(e){if(O(e)||"boolean"==typeof e)return n.apply(this,arguments);var t=$.apply(this,arguments);return t.mode="toggle",this.effect.call(this,t)}}(_.fn.toggle),cssUnit:function e(t){var n=this.css(t),i=[];return _.each(["em","px","%","pt"],function(e,t){n.indexOf(t)>0&&(i=[parseFloat(n),t])}),i},cssClip:function e(t){return t?this.css("clip","rect("+t.top+"px "+t.right+"px "+t.bottom+"px "+t.left+"px)"):D(this.css("clip"),this)},transfer:function e(t,n){var i=_(this),o=_(t.to),r="fixed"===o.css("position"),a=_("body"),s=r?a.scrollTop():0,l=r?a.scrollLeft():0,c=o.offset(),d={top:c.top-s,left:c.left-l,height:o.innerHeight(),width:o.innerWidth()},u=i.offset(),p=_("<div class='ui-effects-transfer'></div>").appendTo("body").addClass(t.className).css({top:u.top-s,left:u.left-l,height:i.innerHeight(),width:i.innerWidth(),position:r?"fixed":"absolute"}).animate(d,t.duration,t.easing,function(){p.remove(),_.isFunction(n)&&n()})}}),_.fx.step.clip=function(e){e.clipInit||(e.start=_(e.elem).cssClip(),"string"==typeof e.end&&(e.end=D(e.end,e.elem)),e.clipInit=!0),_(e.elem).cssClip({top:e.pos*(e.end.top-e.start.top)+e.start.top,right:e.pos*(e.end.right-e.start.right)+e.start.right,bottom:e.pos*(e.end.bottom-e.start.bottom)+e.start.bottom,left:e.pos*(e.end.left-e.start.left)+e.start.left})};var F={};_.each(["Quad","Cubic","Quart","Quint","Expo"],function(t,e){F[e]=function(e){return Math.pow(e,t+2)}}),_.extend(F,{Sine:function e(t){return 1-Math.cos(t*Math.PI/2)},Circ:function e(t){return 1-Math.sqrt(1-t*t)},Elastic:function e(t){return 0===t||1===t?t:-Math.pow(2,8*(t-1))*Math.sin((80*(t-1)-7.5)*Math.PI/15)},Back:function e(t){return t*t*(3*t-2)},Bounce:function e(t){for(var n,i=4;((n=Math.pow(2,--i))-1)/11>t;);return 1/Math.pow(4,3-i)-7.5625*Math.pow((3*n-2)/22-t,2)}}),_.each(F,function(e,t){_.easing["easeIn"+e]=t,_.easing["easeOut"+e]=function(e){return 1-t(1-e)},_.easing["easeInOut"+e]=function(e){return.5>e?t(2*e)/2:1-t(-2*e+2)/2}}),_.effects,_.effects.define("slide","show",function(e,t){var n,i,o=_(this),r={up:["bottom","top"],down:["top","bottom"],left:["right","left"],right:["left","right"]},a=e.mode,s=e.direction||"left",l="up"===s||"down"===s?"top":"left",c="up"===s||"left"===s,d=e.distance||o["top"===l?"outerHeight":"outerWidth"](!0),u={};_.effects.createPlaceholder(o),n=o.cssClip(),i=o.position()[l],u[l]=(c?-1:1)*d+i,u.clip=o.cssClip(),u.clip[r[s][1]]=u.clip[r[s][0]],"show"===a&&(o.cssClip(u.clip),o.css(l,u[l]),u.clip=n,u[l]=i),o.animate(u,{queue:!1,duration:e.duration,easing:e.easing,complete:t})})})?i.apply(t,n):i)&&(e.exports=t)},function(e,t,n){"use strict";
/*!
 * jQuery UI Touch Punch 0.2.3
 *
 * Copyright 2011–2014, Dave Furfero
 * Dual licensed under the MIT or GPL Version 2 licenses.
 *
 * Depends:
 *  jquery.ui.widget.js
 *  jquery.ui.mouse.js
 */function i(e,t){var n,i;1<e.originalEvent.touches.length||(e.preventDefault(),n=e.originalEvent.changedTouches[0],(i=document.createEvent("MouseEvents")).initMouseEvent(t,!0,!0,window,1,n.screenX,n.screenY,n.clientX,n.clientY,!1,!1,!1,!1,0,null),e.target.dispatchEvent(i))}var o,r,a,s,l;(o=jQuery).support.touch="ontouchend"in document,o.support.touch&&(a=o.ui.mouse.prototype,s=a._mouseInit,l=a._mouseDestroy,a._touchStart=function(e){!r&&this._mouseCapture(e.originalEvent.changedTouches[0])&&(r=!0,this._touchMoved=!1,i(e,"mouseover"),i(e,"mousemove"),i(e,"mousedown"))},a._touchMove=function(e){r&&(this._touchMoved=!0,i(e,"mousemove"))},a._touchEnd=function(e){r&&(i(e,"mouseup"),i(e,"mouseout"),this._touchMoved||i(e,"click"),r=!1)},a._mouseInit=function(){this.element.bind({touchstart:o.proxy(this,"_touchStart"),touchmove:o.proxy(this,"_touchMove"),touchend:o.proxy(this,"_touchEnd")}),s.call(this)},a._mouseDestroy=function(){this.element.unbind({touchstart:o.proxy(this,"_touchStart"),touchmove:o.proxy(this,"_touchMove"),touchend:o.proxy(this,"_touchEnd")}),l.call(this)})},function(e,t,n){"use strict";var i,K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};n=[n(137)],void 0!==(t="function"==typeof(i=function(Be,Ne){"use strict";var i={beforeShow:e,move:e,change:e,show:e,hide:e,color:false,flat:false,showInput:false,allowEmpty:false,showButtons:true,clickoutFiresChange:true,showInitial:false,showPalette:false,showPaletteOnly:false,hideAfterPaletteSelect:false,togglePaletteOnly:false,showSelectionPalette:true,localStorageKey:false,appendTo:"body",maxSelectionSize:7,cancelText:"cancel",chooseText:"choose",togglePaletteMoreText:"more",togglePaletteLessText:"less",clearText:"Clear Color Selection",noColorSelectedText:"No Color Selected",preferredFormat:false,className:"",containerClassName:"",replacerClassName:"",showAlpha:false,theme:"sp-light",palette:[["#ffffff","#000000","#ff0000","#ff8000","#ffff00","#008000","#0000ff","#4b0082","#9400d3"]],selectionPalette:[],disabled:false,offset:null},Re=[],Ue=!!/msie/i.exec(window.navigator.userAgent),He=function(){function e(e,t){return!!~(""+e).indexOf(t)}var t=document.createElement("div");var n=t.style;n.cssText="background-color:rgba(0,0,0,.5)";return e(n.backgroundColor,"rgba")||e(n.backgroundColor,"hsla")}(),ze=["<div class='sp-replacer'>","<div class='sp-preview'><div class='sp-preview-inner'></div></div>","<div class='sp-dd'>&#9660;</div>","</div>"].join(""),We=function(){var e="";if(Ue)for(var t=1;t<=6;t++)e+="<div class='sp-"+t+"'></div>";return["<div class='sp-container sp-hidden'>","<div class='sp-palette-container'>","<div class='sp-palette sp-thumb sp-cf'></div>","<div class='sp-palette-button-container sp-cf'>","<button type='button' class='sp-palette-toggle'></button>","</div>","</div>","<div class='sp-picker-container'>","<div class='sp-top sp-cf'>","<div class='sp-fill'></div>","<div class='sp-top-inner'>","<div class='sp-color'>","<div class='sp-sat'>","<div class='sp-val'>","<div class='sp-dragger'></div>","</div>","</div>","</div>","<div class='sp-clear sp-clear-display'>","</div>","<div class='sp-hue'>","<div class='sp-slider'></div>",e,"</div>","</div>","<div class='sp-alpha'><div class='sp-alpha-inner'><div class='sp-alpha-handle'></div></div></div>","</div>","<div class='sp-input-container sp-cf'>","<input class='sp-input' type='text' spellcheck='false'  />","</div>","<div class='sp-initial sp-thumb sp-cf'></div>","<div class='sp-button-container sp-cf'>","<a class='sp-cancel' href='#'></a>","<button type='button' class='sp-choose'></button>","</div>","</div>","</div>"].join("")}();function qe(e,t,n,i){var o=[];for(var r=0;r<e.length;r++){var a=e[r];if(a){var s=tinycolor(a);var l=s.toHsl().l<.5?"sp-thumb-el sp-thumb-dark":"sp-thumb-el sp-thumb-light";l+=tinycolor.equals(t,a)?" sp-thumb-active":"";var c=s.toString(i.preferredFormat||"rgb");var d=He?"background-color:"+s.toRgbString():"filter:"+s.toFilter();o.push('<span title="'+c+'" data-color="'+s.toRgbString()+'" class="'+l+'"><span class="sp-thumb-inner" style="'+d+';"></span></span>')}else{var u="sp-clear-display";o.push(Be("<div />").append(Be('<span data-color="" style="background-color:transparent;" class="'+u+'"></span>').attr("title",i.noColorSelectedText)).html())}}return"<div class='sp-cf "+n+"'>"+o.join("")+"</div>"}function Ve(){for(var e=0;e<Re.length;e++)if(Re[e])Re[e].hide()}function Ge(e,t){var n=Be.extend({},i,e);n.callbacks={move:o(n.move,t),change:o(n.change,t),show:o(n.show,t),hide:o(n.hide,t),beforeShow:o(n.beforeShow,t)};return n}function r(e,M){var c=Ge(M,e),i=c.flat,B=c.showSelectionPalette,n=c.localStorageKey,N=c.theme,o=c.callbacks,R=Qe(I,10),t=false,U=false,l=0,d=0,a=0,s=0,H=0,z=0,W=0,q=0,u=0,p=0,f=0,h=1,V=[],r=[],G={},m=c.selectionPalette.slice(0),J=c.maxSelectionSize,Y="sp-dragging",g=null;var v=e.ownerDocument,K=v.body,b=Be(e),X=false,y=Be(We,v).addClass(N),Q=y.find(".sp-picker-container"),Z=y.find(".sp-color"),ee=y.find(".sp-dragger"),te=y.find(".sp-hue"),ne=y.find(".sp-slider"),w=y.find(".sp-alpha-inner"),ie=y.find(".sp-alpha"),oe=y.find(".sp-alpha-handle"),x=y.find(".sp-input"),re=y.find(".sp-palette"),ae=y.find(".sp-initial"),se=y.find(".sp-cancel"),le=y.find(".sp-clear"),ce=y.find(".sp-choose"),de=y.find(".sp-palette-toggle"),ue=b.is("input"),pe=ue&&b.attr("type")==="color"&&Ke(),fe=ue&&!i,_=fe?Be(ze).addClass(N).addClass(c.className).addClass(c.replacerClassName):Be([]),k=fe?_:b,S=_.find(".sp-preview-inner"),C=c.color||ue&&b.val(),P=false,T=c.preferredFormat,he=!c.showButtons||c.clickoutFiresChange,j=!C,E=c.allowEmpty&&!pe;function me(){if(c.showPaletteOnly)c.showPalette=true;de.text(c.showPaletteOnly?c.togglePaletteMoreText:c.togglePaletteLessText);if(c.palette){V=c.palette.slice(0);r=Be.isArray(V[0])?V:[V];G={};for(var e=0;e<r.length;e++)for(var t=0;t<r[e].length;t++){var n=tinycolor(r[e][t]).toRgbString();G[n]=true}}y.toggleClass("sp-flat",i);y.toggleClass("sp-input-disabled",!c.showInput);y.toggleClass("sp-alpha-enabled",c.showAlpha);y.toggleClass("sp-clear-enabled",E);y.toggleClass("sp-buttons-disabled",!c.showButtons);y.toggleClass("sp-palette-buttons-disabled",!c.togglePaletteOnly);y.toggleClass("sp-palette-disabled",!c.showPalette);y.toggleClass("sp-palette-only",c.showPaletteOnly);y.toggleClass("sp-initial-disabled",!c.showInitial);y.addClass(c.className).addClass(c.containerClassName);I()}function ge(){if(Ue)y.find("*:not(input)").attr("unselectable","on");me();if(fe)b.after(_).hide();if(!E)le.hide();if(i)b.after(y).hide();else{var e=c.appendTo==="parent"?b.parent():Be(c.appendTo);if(e.length!==1)e=Be("body");e.append(y)}ve();k.on("click.spectrum touchstart.spectrum",function(e){if(!X)Ce();e.stopPropagation();if(!Be(e.target).is("input"))e.preventDefault()});if(b.is(":disabled")||c.disabled===true)Fe();y.click(Xe);x.change(Se);x.on("paste",function(){setTimeout(Se,1)});x.keydown(function(e){if(e.keyCode==13)Se()});se.text(c.cancelText);se.on("click.spectrum",function(e){e.stopPropagation();e.preventDefault();Ee();A()});le.attr("title",c.clearText);le.on("click.spectrum",function(e){e.stopPropagation();e.preventDefault();j=true;O();if(i)F(true)});ce.text(c.chooseText);ce.on("click.spectrum",function(e){e.stopPropagation();e.preventDefault();if(Ue&&x.is(":focus"))x.trigger("change");if(Ae()){F(true);A()}});de.text(c.showPaletteOnly?c.togglePaletteMoreText:c.togglePaletteLessText);de.on("click.spectrum",function(e){e.stopPropagation();e.preventDefault();c.showPaletteOnly=!c.showPaletteOnly;if(!c.showPaletteOnly&&!i)y.css("left","-="+(Q.outerWidth(true)+5));me()});Ye(ie,function(e,t,n){h=e/z;j=false;if(n.shiftKey)h=Math.round(h*10)/10;O()},_e,ke);Ye(te,function(e,t){u=parseFloat(t/s);j=false;if(!c.showAlpha)h=1;O()},_e,ke);Ye(Z,function(e,t,n){if(!n.shiftKey)g=null;else if(!g){var i=p*l;var o=d-f*d;var r=Math.abs(e-i)>Math.abs(t-o);g=r?"x":"y"}var a=!g||g==="x";var s=!g||g==="y";if(a)p=parseFloat(e/l);if(s)f=parseFloat((d-t)/d);j=false;if(!c.showAlpha)h=1;O()},_e,ke);if(!!C){L(C);D();T=c.preferredFormat||tinycolor(C).format;be(C)}else D();if(i)Pe();function t(e){if(e.data&&e.data.ignore){L(Be(e.target).closest(".sp-thumb-el").data("color"));O()}else{L(Be(e.target).closest(".sp-thumb-el").data("color"));O();if(c.hideAfterPaletteSelect){F(true);A()}else F()}return false}var n=Ue?"mousedown.spectrum":"click.spectrum touchstart.spectrum";re.on(n,".sp-thumb-el",t);ae.on(n,".sp-thumb-el:nth-child(1)",{ignore:true},t)}function ve(){if(n&&window.localStorage){try{var e=window.localStorage[n].split(",#");if(e.length>1){delete window.localStorage[n];Be.each(e,function(e,t){be(t)})}}catch(e){}try{m=window.localStorage[n].split(";")}catch(e){}}}function be(e){if(B){var t=tinycolor(e).toRgbString();if(!G[t]&&Be.inArray(t,m)===-1){m.push(t);while(m.length>J)m.shift()}if(n&&window.localStorage)try{window.localStorage[n]=m.join(";")}catch(e){}}}function ye(){var e=[];if(c.showPalette)for(var t=0;t<m.length;t++){var n=tinycolor(m[t]).toRgbString();if(!G[n])e.push(m[t])}return e.reverse().slice(0,c.maxSelectionSize)}function we(){var n=$();var e=Be.map(r,function(e,t){return qe(e,n,"sp-palette-row sp-palette-row-"+t,c)});ve();if(m)e.push(qe(ye(),n,"sp-palette-row sp-palette-row-selection",c));re.html(e.join(""))}function xe(){if(c.showInitial){var e=P;var t=$();ae.html(qe([e,t],t,"sp-palette-row-initial",c))}}function _e(){if(d<=0||l<=0||s<=0)I();U=true;y.addClass(Y);g=null;b.trigger("dragstart.spectrum",[$()])}function ke(){U=false;y.removeClass(Y);b.trigger("dragstop.spectrum",[$()])}function Se(){var e=x.val();if((e===null||e==="")&&E){L(null);O();F()}else{var t=tinycolor(e);if(t.isValid()){L(t);O();F()}else x.addClass("sp-validation-error")}}function Ce(){if(t)A();else Pe()}function Pe(){var e=Be.Event("beforeShow.spectrum");if(t){I();return}b.trigger(e,[$()]);if(o.beforeShow($())===false||e.isDefaultPrevented())return;Ve();t=true;Be(v).on("keydown.spectrum",Te);Be(v).on("click.spectrum",je);Be(window).on("resize.spectrum",R);_.addClass("sp-active");y.removeClass("sp-hidden");I();D();P=$();xe();o.show(P);b.trigger("show.spectrum",[P])}function Te(e){if(e.keyCode===27)A()}function je(e){if(e.button==2)return;if(U)return;if(he)F(true);else Ee();A()}function A(){if(!t||i)return;t=false;Be(v).off("keydown.spectrum",Te);Be(v).off("click.spectrum",je);Be(window).off("resize.spectrum",R);_.removeClass("sp-active");y.addClass("sp-hidden");o.hide($());b.trigger("hide.spectrum",[$()])}function Ee(){L(P,true);F(true)}function L(e,t){if(tinycolor.equals(e,$())){D();return}var n,i;if(!e&&E)j=true;else{j=false;n=tinycolor(e);i=n.toHsv();u=i.h%360/360;p=i.s;f=i.v;h=i.a}D();if(n&&n.isValid()&&!t)T=c.preferredFormat||n.getFormat()}function $(e){e=e||{};if(E&&j)return null;return tinycolor.fromRatio({h:u,s:p,v:f,a:Math.round(h*1e3)/1e3},{format:e.format||T})}function Ae(){return!x.hasClass("sp-validation-error")}function O(){D();o.move($());b.trigger("move.spectrum",[$()])}function D(){x.removeClass("sp-validation-error");Le();var e=tinycolor.fromRatio({h:u,s:1,v:1});Z.css("background-color",e.toHexString());var t=T;if(h<1&&!(h===0&&t==="name"))if(t==="hex"||t==="hex3"||t==="hex6"||t==="name")t="rgb";var n=$({format:t}),i="";S.removeClass("sp-clear-display");S.css("background-color","transparent");if(!n&&E)S.addClass("sp-clear-display");else{var o=n.toHexString(),r=n.toRgbString();if(He||n.alpha===1)S.css("background-color",r);else{S.css("background-color","transparent");S.css("filter",n.toFilter())}if(c.showAlpha){var a=n.toRgb();a.a=0;var s=tinycolor(a).toRgbString();var l="linear-gradient(left, "+s+", "+o+")";if(Ue)w.css("filter",tinycolor(s).toFilter({gradientType:1},o));else{w.css("background","-webkit-"+l);w.css("background","-moz-"+l);w.css("background","-ms-"+l);w.css("background","linear-gradient(to right, "+s+", "+o+")")}}i=n.toString(t)}if(c.showInput)x.val(i);if(c.showPalette)we();xe()}function Le(){var e=p;var t=f;if(E&&j){oe.hide();ne.hide();ee.hide()}else{oe.show();ne.show();ee.show();var n=e*l;var i=d-t*d;n=Math.max(-a,Math.min(l-a,n-a));i=Math.max(-a,Math.min(d-a,i-a));ee.css({top:i+"px",left:n+"px"});var o=h*z;oe.css({left:o-W/2+"px"});var r=u*s;ne.css({top:r-q+"px"})}}function F(e){var t=$(),n="",i=!tinycolor.equals(t,P);if(t){n=t.toString(T);be(t)}if(ue)b.val(n);if(e&&i){o.change(t);b.trigger("change",[t])}}function I(){if(!t)return;l=Z.width();d=Z.height();a=ee.height();H=te.width();s=te.height();q=ne.height();z=ie.width();W=oe.width();if(!i){y.css("position","absolute");if(c.offset)y.offset(c.offset);else y.offset(Je(y,k))}Le();if(c.showPalette)we();b.trigger("reflow.spectrum")}function $e(){b.show();k.off("click.spectrum touchstart.spectrum");y.remove();_.remove();Re[Me.id]=null}function Oe(e,t){if(e===Ne)return Be.extend({},c);if(t===Ne)return c[e];c[e]=t;if(e==="preferredFormat")T=c.preferredFormat;me()}function De(){X=false;b.attr("disabled",false);k.removeClass("sp-disabled")}function Fe(){A();X=true;b.attr("disabled",true);k.addClass("sp-disabled")}function Ie(e){c.offset=e;I()}ge();var Me={show:Pe,hide:A,toggle:Ce,reflow:I,option:Oe,enable:De,disable:Fe,offset:Ie,set:function e(t){L(t);F()},get:$,destroy:$e,container:y};Me.id=Re.push(Me)-1;return Me}function Je(e,t){var n=0;var i=e.outerWidth();var o=e.outerHeight();var r=t.outerHeight();var a=e[0].ownerDocument;var s=a.documentElement;var l=s.clientWidth+Be(a).scrollLeft();var c=s.clientHeight+Be(a).scrollTop();var d=t.offset();var u=d.left;var p=d.top;p+=r;u-=Math.min(u,u+i>l&&l>i?Math.abs(u+i-l):0);p-=Math.min(p,p+o>c&&c>o?Math.abs(o+r-n):n);return{top:p,bottom:d.bottom,left:u,right:d.right,width:d.width,height:d.height}}function e(){}function Xe(e){e.stopPropagation()}function o(e,t){var n=Array.prototype.slice;var i=n.call(arguments,2);return function(){return e.apply(t,i.concat(n.call(arguments)))}}function Ye(a,s,n,e){s=s||function(){};n=n||function(){};e=e||function(){};var l=document;var c=false;var d={};var u=0;var p=0;var f="ontouchstart"in window;var i={};i["selectstart"]=h;i["dragstart"]=h;i["touchmove mousemove"]=o;i["touchend mouseup"]=m;function h(e){if(e.stopPropagation)e.stopPropagation();if(e.preventDefault)e.preventDefault();e.returnValue=false}function o(e){if(c){if(Ue&&l.documentMode<9&&!e.button)return m();var t=e.originalEvent&&e.originalEvent.touches&&e.originalEvent.touches[0];var n=t&&t.pageX||e.pageX;var i=t&&t.pageY||e.pageY;var o=Math.max(0,Math.min(n-d.left,p));var r=Math.max(0,Math.min(i-d.top,u));if(f)h(e);s.apply(a,[o,r,e])}}function t(e){var t=e.which?e.which==3:e.button==2;if(!t&&!c)if(n.apply(a,arguments)!==false){c=true;u=Be(a).height();p=Be(a).width();d=Be(a).offset();Be(l).on(i);Be(l.body).addClass("sp-dragging");o(e);h(e)}}function m(){if(c){Be(l).off(i);Be(l.body).removeClass("sp-dragging");setTimeout(function(){e.apply(a,arguments)},0)}c=false}Be(a).on("touchstart mousedown",t)}function Qe(i,o,r){var a;return function(){var t=this,n=arguments;var e=function e(){a=null;i.apply(t,n)};if(r)clearTimeout(a);if(r||!a)a=setTimeout(e,o)}}function Ke(){return Be.fn.spectrum.inputTypeColorSupport()}var a="spectrum.id",k=(Be.fn.spectrum=function(n,e){if(typeof n=="string"){var i=this;var o=Array.prototype.slice.call(arguments,1);this.each(function(){var e=Re[Be(this).data(a)];if(e){var t=e[n];if(!t)throw new Error("Spectrum: no such method: '"+n+"'");if(n=="get")i=e.get();else if(n=="container")i=e.container;else if(n=="option")i=e.option.apply(e,o);else if(n=="destroy"){e.destroy();Be(this).removeData(a)}else t.apply(e,o)}});return i}return this.spectrum("destroy").each(function(){var e=Be.extend({},Be(this).data(),n);var t=r(this,e);Be(this).data(a,t.id)})},Be.fn.spectrum.load=true,Be.fn.spectrum.loadOpts={},Be.fn.spectrum.draggable=Ye,Be.fn.spectrum.defaults=i,Be.fn.spectrum.inputTypeColorSupport=function e(){if(typeof e._cachedResult==="undefined"){var t=Be("<input type='color'/>")[0];e._cachedResult=t.type==="color"&&t.value!==""}return e._cachedResult},Be.spectrum={},Be.spectrum.localization={},Be.spectrum.palettes={},Be.fn.spectrum.processNativeColorInputs=function(){var e=Be("input[type=color]");if(e.length&&!Ke())e.spectrum({preferredFormat:"hex6"})},/^[\s,#]+/),S=/\s+$/,C=0,p=Math,s=p.round,c=p.min,d=p.max,t=p.random,u=function e(t,n){t=t?t:"";n=n||{};if(t instanceof e)return t;if(!(this instanceof e))return new e(t,n);var i=P(t);this._originalInput=t;this._r=i.r;this._g=i.g;this._b=i.b;this._a=i.a;this._roundA=s(1e3*this._a)/1e3;this._format=n.format||i.format;this._gradientType=n.gradientType;if(this._r<1)this._r=s(this._r);if(this._g<1)this._g=s(this._g);if(this._b<1)this._b=s(this._b);this._ok=i.ok;this._tc_id=C++};function P(e){var t={r:0,g:0,b:0};var n=1;var i=false;var o=false;if(typeof e=="string")e=Y(e);if((typeof e==="undefined"?"undefined":K(e))=="object"){if(e.hasOwnProperty("r")&&e.hasOwnProperty("g")&&e.hasOwnProperty("b")){t=T(e.r,e.g,e.b);i=true;o=String(e.r).substr(-1)==="%"?"prgb":"rgb"}else if(e.hasOwnProperty("h")&&e.hasOwnProperty("s")&&e.hasOwnProperty("v")){e.s=x(e.s);e.v=x(e.v);t=E(e.h,e.s,e.v);i=true;o="hsv"}else if(e.hasOwnProperty("h")&&e.hasOwnProperty("s")&&e.hasOwnProperty("l")){e.s=x(e.s);e.l=x(e.l);t=j(e.h,e.s,e.l);i=true;o="hsl"}if(e.hasOwnProperty("a"))n=e.a}n=g(n);return{ok:i,format:e.format||o,r:c(255,d(t.r,0)),g:c(255,d(t.g,0)),b:c(255,d(t.b,0)),a:n}}function T(e,t,n){return{r:v(e,255)*255,g:v(t,255)*255,b:v(n,255)*255}}function l(e,t,n){e=v(e,255);t=v(t,255);n=v(n,255);var i=d(e,t,n),o=c(e,t,n);var r,a,s=(i+o)/2;if(i==o)r=a=0;else{var l=i-o;a=s>.5?l/(2-i-o):l/(i+o);switch(i){case e:r=(t-n)/l+(t<n?6:0);break;case t:r=(n-e)/l+2;break;case n:r=(e-t)/l+4;break}r/=6}return{h:r,s:a,l:s}}function j(e,t,n){var i,o,r;e=v(e,360);t=v(t,100);n=v(n,100);function a(e,t,n){if(n<0)n+=1;if(n>1)n-=1;if(n<1/6)return e+(t-e)*6*n;if(n<1/2)return t;if(n<2/3)return e+(t-e)*(2/3-n)*6;return e}if(t===0)i=o=r=n;else{var s=n<.5?n*(1+t):n+t-n*t;var l=2*n-s;i=a(l,s,e+1/3);o=a(l,s,e);r=a(l,s,e-1/3)}return{r:i*255,g:o*255,b:r*255}}function f(e,t,n){e=v(e,255);t=v(t,255);n=v(n,255);var i=d(e,t,n),o=c(e,t,n);var r,a,s=i;var l=i-o;a=i===0?0:l/i;if(i==o)r=0;else{switch(i){case e:r=(t-n)/l+(t<n?6:0);break;case t:r=(n-e)/l+2;break;case n:r=(e-t)/l+4;break}r/=6}return{h:r,s:a,v:s}}function E(e,t,n){e=v(e,360)*6;t=v(t,100);n=v(n,100);var i=p.floor(e),o=e-i,r=n*(1-t),a=n*(1-o*t),s=n*(1-(1-o)*t),l=i%6,c=[n,a,r,r,s,n][l],d=[s,n,n,a,r,r][l],u=[r,r,s,n,n,a][l];return{r:c*255,g:d*255,b:u*255}}function n(e,t,n,i){var o=[w(s(e).toString(16)),w(s(t).toString(16)),w(s(n).toString(16))];if(i&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1))return o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0);return o.join("")}function h(e,t,n,i){var o=[w(G(i)),w(s(e).toString(16)),w(s(t).toString(16)),w(s(n).toString(16))];return o.join("")}function A(e,t){t=t===0?0:t||10;var n=u(e).toHsl();n.s-=t/100;n.s=b(n.s);return u(n)}function L(e,t){t=t===0?0:t||10;var n=u(e).toHsl();n.s+=t/100;n.s=b(n.s);return u(n)}function $(e){return u(e).desaturate(100)}function O(e,t){t=t===0?0:t||10;var n=u(e).toHsl();n.l+=t/100;n.l=b(n.l);return u(n)}function D(e,t){t=t===0?0:t||10;var n=u(e).toRgb();n.r=d(0,c(255,n.r-s(255*-(t/100))));n.g=d(0,c(255,n.g-s(255*-(t/100))));n.b=d(0,c(255,n.b-s(255*-(t/100))));return u(n)}function F(e,t){t=t===0?0:t||10;var n=u(e).toHsl();n.l-=t/100;n.l=b(n.l);return u(n)}function I(e,t){var n=u(e).toHsl();var i=(s(n.h)+t)%360;n.h=i<0?360+i:i;return u(n)}function M(e){var t=u(e).toHsl();t.h=(t.h+180)%360;return u(t)}function B(e){var t=u(e).toHsl();var n=t.h;return[u(e),u({h:(n+120)%360,s:t.s,l:t.l}),u({h:(n+240)%360,s:t.s,l:t.l})]}function N(e){var t=u(e).toHsl();var n=t.h;return[u(e),u({h:(n+90)%360,s:t.s,l:t.l}),u({h:(n+180)%360,s:t.s,l:t.l}),u({h:(n+270)%360,s:t.s,l:t.l})]}function R(e){var t=u(e).toHsl();var n=t.h;return[u(e),u({h:(n+72)%360,s:t.s,l:t.l}),u({h:(n+216)%360,s:t.s,l:t.l})]}function U(e,t,n){t=t||6;n=n||30;var i=u(e).toHsl();var o=360/n;var r=[u(e)];for(i.h=(i.h-(o*t>>1)+720)%360;--t;){i.h=(i.h+o)%360;r.push(u(i))}return r}function H(e,t){t=t||6;var n=u(e).toHsv();var i=n.h,o=n.s,r=n.v;var a=[];var s=1/t;while(t--){a.push(u({h:i,s:o,v:r}));r=(r+s)%1}return a}u.prototype={isDark:function e(){return this.getBrightness()<128},isLight:function e(){return!this.isDark()},isValid:function e(){return this._ok},getOriginalInput:function e(){return this._originalInput},getFormat:function e(){return this._format},getAlpha:function e(){return this._a},getBrightness:function e(){var t=this.toRgb();return(t.r*299+t.g*587+t.b*114)/1e3},setAlpha:function e(t){this._a=g(t);this._roundA=s(1e3*this._a)/1e3;return this},toHsv:function e(){var t=f(this._r,this._g,this._b);return{h:t.h*360,s:t.s,v:t.v,a:this._a}},toHsvString:function e(){var t=f(this._r,this._g,this._b);var n=s(t.h*360),i=s(t.s*100),o=s(t.v*100);return this._a==1?"hsv("+n+", "+i+"%, "+o+"%)":"hsva("+n+", "+i+"%, "+o+"%, "+this._roundA+")"},toHsl:function e(){var t=l(this._r,this._g,this._b);return{h:t.h*360,s:t.s,l:t.l,a:this._a}},toHslString:function e(){var t=l(this._r,this._g,this._b);var n=s(t.h*360),i=s(t.s*100),o=s(t.l*100);return this._a==1?"hsl("+n+", "+i+"%, "+o+"%)":"hsla("+n+", "+i+"%, "+o+"%, "+this._roundA+")"},toHex:function e(t){return n(this._r,this._g,this._b,t)},toHexString:function e(t){return"#"+this.toHex(t)},toHex8:function e(){return h(this._r,this._g,this._b,this._a)},toHex8String:function e(){return"#"+this.toHex8()},toRgb:function e(){return{r:s(this._r),g:s(this._g),b:s(this._b),a:this._a}},toRgbString:function e(){return this._a==1?"rgb("+s(this._r)+", "+s(this._g)+", "+s(this._b)+")":"rgba("+s(this._r)+", "+s(this._g)+", "+s(this._b)+", "+this._roundA+")"},toPercentageRgb:function e(){return{r:s(v(this._r,255)*100)+"%",g:s(v(this._g,255)*100)+"%",b:s(v(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function e(){return this._a==1?"rgb("+s(v(this._r,255)*100)+"%, "+s(v(this._g,255)*100)+"%, "+s(v(this._b,255)*100)+"%)":"rgba("+s(v(this._r,255)*100)+"%, "+s(v(this._g,255)*100)+"%, "+s(v(this._b,255)*100)+"%, "+this._roundA+")"},toName:function e(){if(this._a===0)return"transparent";if(this._a<1)return false;return z[n(this._r,this._g,this._b,true)]||false},toFilter:function e(t){var n="#"+h(this._r,this._g,this._b,this._a);var i=n;var o=this._gradientType?"GradientType = 1, ":"";if(t){var r=u(t);i=r.toHex8String()}return"progid:DXImageTransform.Microsoft.gradient("+o+"startColorstr="+n+",endColorstr="+i+")"},toString:function e(t){var n=!!t;t=t||this._format;var i=false;var o=this._a<1&&this._a>=0;var r=!n&&o&&(t==="hex"||t==="hex6"||t==="hex3"||t==="name");if(r){if(t==="name"&&this._a===0)return this.toName();return this.toRgbString()}if(t==="rgb")i=this.toRgbString();if(t==="prgb")i=this.toPercentageRgbString();if(t==="hex"||t==="hex6")i=this.toHexString();if(t==="hex3")i=this.toHexString(true);if(t==="hex8")i=this.toHex8String();if(t==="name")i=this.toName();if(t==="hsl")i=this.toHslString();if(t==="hsv")i=this.toHsvString();return i||this.toHexString()},_applyModification:function e(t,n){var i=t.apply(null,[this].concat([].slice.call(n)));this._r=i._r;this._g=i._g;this._b=i._b;this.setAlpha(i._a);return this},lighten:function e(){return this._applyModification(O,arguments)},brighten:function e(){return this._applyModification(D,arguments)},darken:function e(){return this._applyModification(F,arguments)},desaturate:function e(){return this._applyModification(A,arguments)},saturate:function e(){return this._applyModification(L,arguments)},greyscale:function e(){return this._applyModification($,arguments)},spin:function e(){return this._applyModification(I,arguments)},_applyCombination:function e(t,n){return t.apply(null,[this].concat([].slice.call(n)))},analogous:function e(){return this._applyCombination(U,arguments)},complement:function e(){return this._applyCombination(M,arguments)},monochromatic:function e(){return this._applyCombination(H,arguments)},splitcomplement:function e(){return this._applyCombination(R,arguments)},triad:function e(){return this._applyCombination(B,arguments)},tetrad:function e(){return this._applyCombination(N,arguments)}},u.fromRatio=function(e,t){if((typeof e==="undefined"?"undefined":K(e))=="object"){var n={};for(var i in e)if(e.hasOwnProperty(i))if(i==="a")n[i]=e[i];else n[i]=x(e[i]);e=n}return u(e,t)},u.equals=function(e,t){if(!e||!t)return false;return u(e).toRgbString()==u(t).toRgbString()},u.random=function(){return u.fromRatio({r:t(),g:t(),b:t()})},u.mix=function(e,t,n){n=n===0?0:n||50;var i=u(e).toRgb();var o=u(t).toRgb();var r=n/100;var a=r*2-1;var s=o.a-i.a;var l;if(a*s==-1)l=a;else l=(a+s)/(1+a*s);l=(l+1)/2;var c=1-l;var d={r:o.r*l+i.r*c,g:o.g*l+i.g*c,b:o.b*l+i.b*c,a:o.a*r+i.a*(1-r)};return u(d)},u.readability=function(e,t){var n=u(e);var i=u(t);var o=n.toRgb();var r=i.toRgb();var a=n.getBrightness();var s=i.getBrightness();var l=Math.max(o.r,r.r)-Math.min(o.r,r.r)+Math.max(o.g,r.g)-Math.min(o.g,r.g)+Math.max(o.b,r.b)-Math.min(o.b,r.b);return{brightness:Math.abs(a-s),color:l}},u.isReadable=function(e,t){var n=u.readability(e,t);return n.brightness>125&&n.color>500},u.mostReadable=function(e,t){var n=null;var i=0;var o=false;for(var r=0;r<t.length;r++){var a=u.readability(e,t[r]);var s=a.brightness>125&&a.color>500;var l=3*(a.brightness/125)+a.color/500;if(s&&!o||s&&o&&l>i||!s&&!o&&l>i){o=s;i=l;n=u(t[r])}}return n};var m=u.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},z=u.hexNames=W(m);function W(e){var t={};for(var n in e)if(e.hasOwnProperty(n))t[e[n]]=n;return t}function g(e){e=parseFloat(e);if(isNaN(e)||e<0||e>1)e=1;return e}function v(e,t){if(q(e))e="100%";var n=V(e);e=c(t,d(0,parseFloat(e)));if(n)e=parseInt(e*t,10)/100;if(p.abs(e-t)<1e-6)return 1;return e%t/parseFloat(t)}function b(e){return c(1,d(0,e))}function y(e){return parseInt(e,16)}function q(e){return typeof e=="string"&&e.indexOf(".")!=-1&&parseFloat(e)===1}function V(e){return typeof e==="string"&&e.indexOf("%")!=-1}function w(e){return e.length==1?"0"+e:""+e}function x(e){if(e<=1)e=e*100+"%";return e}function G(e){return Math.round(parseFloat(e)*255).toString(16)}function J(e){return y(e)/255}var _=function(){var e="[-\\+]?\\d+%?";var t="[-\\+]?\\d*\\.\\d+%?";var n="(?:"+t+")|(?:"+e+")";var i="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?";var o="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?";return{rgb:new RegExp("rgb"+i),rgba:new RegExp("rgba"+o),hsl:new RegExp("hsl"+i),hsla:new RegExp("hsla"+o),hsv:new RegExp("hsv"+i),hsva:new RegExp("hsva"+o),hex3:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex8:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function Y(e){e=e.replace(k,"").replace(S,"").toLowerCase();var t=false;if(m[e]){e=m[e];t=true}else if(e=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n;if(n=_.rgb.exec(e))return{r:n[1],g:n[2],b:n[3]};if(n=_.rgba.exec(e))return{r:n[1],g:n[2],b:n[3],a:n[4]};if(n=_.hsl.exec(e))return{h:n[1],s:n[2],l:n[3]};if(n=_.hsla.exec(e))return{h:n[1],s:n[2],l:n[3],a:n[4]};if(n=_.hsv.exec(e))return{h:n[1],s:n[2],v:n[3]};if(n=_.hsva.exec(e))return{h:n[1],s:n[2],v:n[3],a:n[4]};if(n=_.hex8.exec(e))return{a:J(n[1]),r:y(n[2]),g:y(n[3]),b:y(n[4]),format:t?"name":"hex8"};if(n=_.hex6.exec(e))return{r:y(n[1]),g:y(n[2]),b:y(n[3]),format:t?"name":"hex"};if(n=_.hex3.exec(e))return{r:y(n[1]+""+n[1]),g:y(n[2]+""+n[2]),b:y(n[3]+""+n[3]),format:t?"name":"hex"};return false}window.tinycolor=u,Be(function(){if(Be.fn.spectrum.load)Be.fn.spectrum.processNativeColorInputs()})})?i.apply(t,n):i)&&(e.exports=t)},function(e,t,n){"use strict";var O,D,i,s,d,o,r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function l(e,t){this.bodyOverflowX,this.callbacks={hide:[],show:[]},this.checkInterval=null,this.Content,this.$el=O(e),this.$elProxy,this.elProxyPosition,this.enabled=!0,this.options=O.extend({},s,t),this.mouseIsOverProxy=!1,this.namespace="tooltipster-"+Math.round(1e5*Math.random()),this.Status="hidden",this.timerHide=null,this.timerShow=null,this.$tooltip,this.options.iconTheme=this.options.iconTheme.replace(".",""),this.options.theme=this.options.theme.replace(".",""),this._init()}function a(n,i){var o=!0;return O.each(n,function(e,t){if(void 0===i[e]||n[e]!==i[e])return o=!1}),o}function c(){return!o&&d}function u(){var e=(i.body||i.documentElement).style;if("string"==typeof e[t="transition"])return 1;v=["Moz","Webkit","Khtml","O","ms"];for(var t=t.charAt(0).toUpperCase()+t.substr(1),n=0;n<v.length;n++)if("string"==typeof e[v[n]+t])return 1}O=jQuery,D=window,i=document,s={animation:"fade",arrow:!0,arrowColor:"",autoClose:!0,content:null,contentAsHTML:!1,contentCloning:!0,debug:!0,delay:200,minWidth:0,maxWidth:null,functionInit:function(e,t){},functionBefore:function(e,t){t()},functionReady:function(e,t){},functionAfter:function(e){},hideOnClick:!1,icon:"(?)",iconCloning:!0,iconDesktop:!1,iconTouch:!1,iconTheme:"tooltipster-icon",interactive:!1,interactiveTolerance:350,multiple:!1,offsetX:0,offsetY:0,onlyOne:!1,position:"top",positionTracker:!1,positionTrackerCallback:function(e){"hover"==this.option("trigger")&&this.option("autoClose")&&this.hide()},restoration:"current",speed:350,timer:0,theme:"tooltipster-default",touchDevices:!0,trigger:"hover",updateAnimation:!0},l.prototype={_init:function(){var e,t=this;i.querySelector&&(e=null,void 0===t.$el.data("tooltipster-initialTitle")&&(e=t.$el.attr("title"),t.$el.data("tooltipster-initialTitle",e=void 0===e?null:e)),null!==t.options.content?t._content_set(t.options.content):t._content_set(e),void 0!==(e=t.options.functionInit.call(t.$el,t.$el,t.Content))&&t._content_set(e),t.$el.removeAttr("title").addClass("tooltipstered"),!d&&t.options.iconDesktop||d&&t.options.iconTouch?("string"==typeof t.options.icon?(t.$elProxy=O('<span class="'+t.options.iconTheme+'"></span>'),t.$elProxy.text(t.options.icon)):t.options.iconCloning?t.$elProxy=t.options.icon.clone(!0):t.$elProxy=t.options.icon,t.$elProxy.insertAfter(t.$el)):t.$elProxy=t.$el,"hover"==t.options.trigger?(t.$elProxy.on("mouseenter."+t.namespace,function(){c()&&!t.options.touchDevices||(t.mouseIsOverProxy=!0,t._show())}).on("mouseleave."+t.namespace,function(){c()&&!t.options.touchDevices||(t.mouseIsOverProxy=!1)}),d&&t.options.touchDevices&&t.$elProxy.on("touchstart."+t.namespace,function(){t._showNow()})):"click"==t.options.trigger&&t.$elProxy.on("click."+t.namespace,function(){c()&&!t.options.touchDevices||t._show()}))},_show:function(){var e=this;"shown"!=e.Status&&"appearing"!=e.Status&&(e.options.delay?e.timerShow=setTimeout(function(){("click"==e.options.trigger||"hover"==e.options.trigger&&e.mouseIsOverProxy)&&e._showNow()},e.options.delay):e._showNow())},_showNow:function(l){var c=this;c.options.functionBefore.call(c.$el,c.$el,function(){var e,t,n,i,o,r,a,s;c.enabled&&null!==c.Content&&(l&&c.callbacks.show.push(l),c.callbacks.hide=[],clearTimeout(c.timerShow),c.timerShow=null,clearTimeout(c.timerHide),c.timerHide=null,c.options.onlyOne&&O(".tooltipstered").not(c.$el).each(function(e,t){var o=O(t),t=o.data("tooltipster-ns");O.each(t,function(e,t){var t=o.data(t),n=t.status(),i=t.option("autoClose");"hidden"!==n&&"disappearing"!==n&&i&&t.hide()})}),e=function(){c.Status="shown",O.each(c.callbacks.show,function(e,t){t.call(c.$el)}),c.callbacks.show=[]},"hidden"!==c.Status?(t=0,"disappearing"===c.Status?(c.Status="appearing",u()?(c.$tooltip.clearQueue().removeClass("tooltipster-dying").addClass("tooltipster-"+c.options.animation+"-show"),0<c.options.speed&&c.$tooltip.delay(c.options.speed),c.$tooltip.queue(e)):c.$tooltip.stop().fadeIn(e)):"shown"===c.Status&&e()):(c.Status="appearing",t=c.options.speed,c.bodyOverflowX=O("body").css("overflow-x"),O("body").css("overflow-x","hidden"),n="tooltipster-"+c.options.animation,i="-webkit-transition-duration: "+c.options.speed+"ms; -webkit-animation-duration: "+c.options.speed+"ms; -moz-transition-duration: "+c.options.speed+"ms; -moz-animation-duration: "+c.options.speed+"ms; -o-transition-duration: "+c.options.speed+"ms; -o-animation-duration: "+c.options.speed+"ms; -ms-transition-duration: "+c.options.speed+"ms; -ms-animation-duration: "+c.options.speed+"ms; transition-duration: "+c.options.speed+"ms; animation-duration: "+c.options.speed+"ms;",o=c.options.minWidth?"min-width:"+Math.round(c.options.minWidth)+"px;":"",r=c.options.maxWidth?"max-width:"+Math.round(c.options.maxWidth)+"px;":"",a=c.options.interactive?"pointer-events: auto;":"",c.$tooltip=O('<div class="tooltipster-base '+c.options.theme+'" style="'+o+" "+r+" "+a+" "+i+'"><div class="tooltipster-content"></div></div>'),u()&&c.$tooltip.addClass(n),c._content_insert(),c.$tooltip.appendTo("body"),c.reposition(),c.options.functionReady.call(c.$el,c.$el,c.$tooltip),u()?(c.$tooltip.addClass(n+"-show"),0<c.options.speed&&c.$tooltip.delay(c.options.speed),c.$tooltip.queue(e)):c.$tooltip.css("display","none").fadeIn(c.options.speed,e),c._interval_set(),O(D).on("scroll."+c.namespace+" resize."+c.namespace,function(){c.reposition()}),c.options.autoClose&&(O("body").off("."+c.namespace),"hover"==c.options.trigger?(d&&setTimeout(function(){O("body").on("touchstart."+c.namespace,function(){c.hide()})},0),c.options.interactive?(d&&c.$tooltip.on("touchstart."+c.namespace,function(e){e.stopPropagation()}),s=null,c.$elProxy.add(c.$tooltip).on("mouseleave."+c.namespace+"-autoClose",function(){clearTimeout(s),s=setTimeout(function(){c.hide()},c.options.interactiveTolerance)}).on("mouseenter."+c.namespace+"-autoClose",function(){clearTimeout(s)})):c.$elProxy.on("mouseleave."+c.namespace+"-autoClose",function(){c.hide()}),c.options.hideOnClick&&c.$elProxy.on("click."+c.namespace+"-autoClose",function(){c.hide()})):"click"==c.options.trigger&&(setTimeout(function(){O("body").on("click."+c.namespace+" touchstart."+c.namespace,function(){c.hide()})},0),c.options.interactive)&&c.$tooltip.on("click."+c.namespace+" touchstart."+c.namespace,function(e){e.stopPropagation()}))),0<c.options.timer)&&(c.timerHide=setTimeout(function(){c.timerHide=null,c.hide()},c.options.timer+t))})},_interval_set:function(){var n=this;n.checkInterval=setInterval(function(){var e,t;0===O("body").find(n.$el).length||0===O("body").find(n.$elProxy).length||"hidden"==n.Status||0===O("body").find(n.$tooltip).length?("shown"!=n.Status&&"appearing"!=n.Status||n.hide(),n._interval_cancel()):n.options.positionTracker&&(t=!1,a((e=n._repositionInfo(n.$elProxy)).dimension,n.elProxyPosition.dimension)&&("fixed"===n.$elProxy.css("position")?a(e.position,n.elProxyPosition.position)&&(t=!0):a(e.offset,n.elProxyPosition.offset)&&(t=!0)),t||(n.reposition(),n.options.positionTrackerCallback.call(n,n.$el)))},200)},_interval_cancel:function(){clearInterval(this.checkInterval),this.checkInterval=null},_content_set:function(e){"object"===(void 0===e?"undefined":r(e))&&null!==e&&this.options.contentCloning&&(e=e.clone(!0)),this.Content=e},_content_insert:function(){var e=this.$tooltip.find(".tooltipster-content");"string"!=typeof this.Content||this.options.contentAsHTML?e.empty().append(this.Content):e.text(this.Content)},_update:function(e){var t=this;t._content_set(e),null!==t.Content?"hidden"!==t.Status&&(t._content_insert(),t.reposition(),t.options.updateAnimation)&&(u()?(t.$tooltip.css({width:"","-webkit-transition":"all "+t.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms","-moz-transition":"all "+t.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms","-o-transition":"all "+t.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms","-ms-transition":"all "+t.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms",transition:"all "+t.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms"}).addClass("tooltipster-content-changing"),setTimeout(function(){"hidden"!=t.Status&&(t.$tooltip.removeClass("tooltipster-content-changing"),setTimeout(function(){"hidden"!==t.Status&&t.$tooltip.css({"-webkit-transition":t.options.speed+"ms","-moz-transition":t.options.speed+"ms","-o-transition":t.options.speed+"ms","-ms-transition":t.options.speed+"ms",transition:t.options.speed+"ms"})},t.options.speed))},t.options.speed)):t.$tooltip.fadeTo(t.options.speed,.5,function(){"hidden"!=t.Status&&t.$tooltip.fadeTo(t.options.speed,1)})):t.hide()},_repositionInfo:function(e){return{dimension:{height:e.outerHeight(!1),width:e.outerWidth(!1)},offset:e.offset(),position:{left:parseInt(e.css("left")),top:parseInt(e.css("top"))}}},hide:function(e){var n=this,t=(e&&n.callbacks.hide.push(e),n.callbacks.show=[],clearTimeout(n.timerShow),n.timerShow=null,clearTimeout(n.timerHide),n.timerHide=null,function(){O.each(n.callbacks.hide,function(e,t){t.call(n.$el)}),n.callbacks.hide=[]});return"shown"==n.Status||"appearing"==n.Status?(n.Status="disappearing",e=function(){n.Status="hidden","object"==r(n.Content)&&null!==n.Content&&n.Content.detach(),n.$tooltip.remove(),n.$tooltip=null,O(D).off("."+n.namespace),O("body").off("."+n.namespace).css("overflow-x",n.bodyOverflowX),O("body").off("."+n.namespace),n.$elProxy.off("."+n.namespace+"-autoClose"),n.options.functionAfter.call(n.$el,n.$el),t()},u()?(n.$tooltip.clearQueue().removeClass("tooltipster-"+n.options.animation+"-show").addClass("tooltipster-dying"),0<n.options.speed&&n.$tooltip.delay(n.options.speed),n.$tooltip.queue(e)):n.$tooltip.stop().fadeOut(n.options.speed,e)):"hidden"==n.Status&&t(),n},show:function(e){return this._showNow(e),this},update:function(e){return this.content(e)},content:function(e){return void 0===e?this.Content:(this._update(e),this)},reposition:function(){var e=this;if(0!==O("body").find(e.$tooltip).length){var t=function(){var e=O(D).scrollLeft();E-e<0&&(i=E-e,E=e),o<E+a-e&&(i=E-(o+e-a),E=o+e-a)},n=function(e,t){r.offset.top-O(D).scrollTop()-s-L-12<0&&-1<t.indexOf("top")&&($=e),r.offset.top+r.dimension.height+s+12+L>O(D).scrollTop()+O(D).height()&&-1<t.indexOf("bottom")&&($=e,A=r.offset.top-s-L-12)},i=(e.$tooltip.css("width",""),e.elProxyPosition=e._repositionInfo(e.$elProxy),null),o=O(D).width(),r=e.elProxyPosition,a=e.$tooltip.outerWidth(!1),s=(e.$tooltip.innerWidth(),e.$tooltip.outerHeight(!1));if(e.$elProxy.is("area")){var l=e.$elProxy.attr("shape"),c=e.$elProxy.parent().attr("name"),c=O('img[usemap="#'+c+'"]'),d=c.offset().left,u=c.offset().top,p=void 0!==e.$elProxy.attr("coords")?e.$elProxy.attr("coords").split(","):void 0;if("circle"==l){var f=parseInt(p[0]),h=parseInt(p[1]),m=parseInt(p[2]);r.dimension.height=2*m,r.dimension.width=2*m,r.offset.top=u+h-m,r.offset.left=d+f-m}else if("rect"==l){var f=parseInt(p[0]),h=parseInt(p[1]),m=parseInt(p[2]),g=parseInt(p[3]);r.dimension.height=g-h,r.dimension.width=m-f,r.offset.top=u+h,r.offset.left=d+f}else if("poly"==l){for(var v=0,b=0,y=0,w=0,x="even",_=0;_<p.length;_++)var k=parseInt(p[_]),x="even"==x?(k<(v=y<k&&(y=k,0===_)?y:v)&&(v=k),"odd"):(k<(b=w<k&&(w=k,1==_)?w:b)&&(b=k),"even");r.dimension.height=w-b,r.dimension.width=y-v,r.offset.top=u+b,r.offset.left=d+v}else r.dimension.height=c.outerHeight(!1),r.dimension.width=c.outerWidth(!1),r.offset.top=u,r.offset.left=d}var S,C,P,T,j,E=0,g=0,A=0,L=parseInt(e.options.offsetY),m=parseInt(e.options.offsetX),$=e.options.position;"top"==$&&(j=r.offset.left+a-(r.offset.left+r.dimension.width),E=r.offset.left+m-j/2,A=r.offset.top-s-L-12,t(),n("bottom","top")),"top-left"==$&&(E=r.offset.left+m,A=r.offset.top-s-L-12,t(),n("bottom-left","top-left")),"top-right"==$&&(E=r.offset.left+r.dimension.width+m-a,A=r.offset.top-s-L-12,t(),n("bottom-right","top-right")),"bottom"==$&&(j=r.offset.left+a-(r.offset.left+r.dimension.width),E=r.offset.left-j/2+m,A=r.offset.top+r.dimension.height+L+12,t(),n("top","bottom")),"bottom-left"==$&&(E=r.offset.left+m,A=r.offset.top+r.dimension.height+L+12,t(),n("top-left","bottom-left")),"bottom-right"==$&&(E=r.offset.left+r.dimension.width+m-a,A=r.offset.top+r.dimension.height+L+12,t(),n("top-right","bottom-right")),"left"==$&&(E=r.offset.left-m-a-12,g=r.offset.left+m+r.dimension.width+12,S=r.offset.top+s-(r.offset.top+r.dimension.height),A=r.offset.top-S/2-L,E<0&&o<g+a?(C=2*parseFloat(e.$tooltip.css("border-width")),P=a+E-C,e.$tooltip.css("width",P+"px"),s=e.$tooltip.outerHeight(!1),E=r.offset.left-m-P-12-C,S=r.offset.top+s-(r.offset.top+r.dimension.height),A=r.offset.top-S/2-L):E<0&&(E=r.offset.left+m+r.dimension.width+12,i="left")),"right"==$&&(E=r.offset.left+m+r.dimension.width+12,g=r.offset.left-m-a-12,S=r.offset.top+s-(r.offset.top+r.dimension.height),A=r.offset.top-S/2-L,o<E+a&&g<0?(C=2*parseFloat(e.$tooltip.css("border-width")),P=o-E-C,e.$tooltip.css("width",P+"px"),s=e.$tooltip.outerHeight(!1),S=r.offset.top+s-(r.offset.top+r.dimension.height),A=r.offset.top-S/2-L):o<E+a&&(E=r.offset.left-m-a-12,i="right")),e.options.arrow&&(h="tooltipster-arrow-"+$,f=e.options.arrowColor.length<1?e.$tooltip.css("background-color"):e.options.arrowColor,i=i?"left"==i?(h="tooltipster-arrow-right",""):"right"==i?(h="tooltipster-arrow-left",""):"left:"+Math.round(i)+"px;":"",l="top"==$||"top-left"==$||"top-right"==$?(T=parseFloat(e.$tooltip.css("border-bottom-width")),e.$tooltip.css("border-bottom-color")):"bottom"==$||"bottom-left"==$||"bottom-right"==$?(T=parseFloat(e.$tooltip.css("border-top-width")),e.$tooltip.css("border-top-color")):"left"==$?(T=parseFloat(e.$tooltip.css("border-right-width")),e.$tooltip.css("border-right-color")):"right"==$?(T=parseFloat(e.$tooltip.css("border-left-width")),e.$tooltip.css("border-left-color")):(T=parseFloat(e.$tooltip.css("border-bottom-width")),e.$tooltip.css("border-bottom-color")),1<T&&T++,c="",0!==T&&(u="",d="border-color: "+l+";",-1!==h.indexOf("bottom")?u="margin-top: -"+Math.round(T)+"px;":-1!==h.indexOf("top")?u="margin-bottom: -"+Math.round(T)+"px;":-1!==h.indexOf("left")?u="margin-right: -"+Math.round(T)+"px;":-1!==h.indexOf("right")&&(u="margin-left: -"+Math.round(T)+"px;"),c='<span class="tooltipster-arrow-border" style="'+u+" "+d+';"></span>'),e.$tooltip.find(".tooltipster-arrow").remove(),j='<div class="'+h+' tooltipster-arrow" style="'+i+'">'+c+'<span style="border-color:'+f+';"></span></div>',e.$tooltip.append(j)),e.$tooltip.css({top:Math.round(A)+"px",left:Math.round(E)+"px"})}return e},enable:function(){return this.enabled=!0,this},disable:function(){return this.hide(),this.enabled=!1,this},destroy:function(){var e,n=this,t=(n.hide(),n.$el[0]!==n.$elProxy[0]&&n.$elProxy.remove(),n.$el.removeData(n.namespace).off("."+n.namespace),n.$el.data("tooltipster-ns"));return 1===t.length?(e=null,"previous"===n.options.restoration?e=n.$el.data("tooltipster-initialTitle"):"current"===n.options.restoration&&(e="string"==typeof n.Content?n.Content:O("<div></div>").append(n.Content).html()),e&&n.$el.attr("title",e),n.$el.removeClass("tooltipstered").removeData("tooltipster-ns").removeData("tooltipster-initialTitle")):(t=O.grep(t,function(e,t){return e!==n.namespace}),n.$el.data("tooltipster-ns",t)),n},elementIcon:function(){return this.$el[0]!==this.$elProxy[0]?this.$elProxy[0]:void 0},elementTooltip:function(){return this.$tooltip?this.$tooltip[0]:void 0},option:function(e,t){return void 0===t?this.options[e]:(this.options[e]=t,this)},status:function(){return this.Status}},O.fn.tooltipster=function(){var n,i,o,e,r,a=arguments;return 0===this.length?"string"==typeof a[0]&&(e=!0,"setDefaults"===a[0]?O.extend(s,a[1]):e=!1,!!e)||this:"string"==typeof a[0]?(n="#*$~&",this.each(function(){var e=O(this).data("tooltipster-ns"),e=e?O(this).data(e[0]):null;if(!e)throw new Error("You called Tooltipster's \""+a[0]+'" method on an uninitialized element');if("function"!=typeof e[a[0]])throw new Error('Unknown method .tooltipster("'+a[0]+'")');var t=e[a[0]](a[1],a[2]);if(t!==e)return n=t,!1}),"#*$~&"!==n?n:this):(i=[],e=a[0]&&void 0!==a[0].multiple,o=e&&a[0].multiple||!e&&s.multiple,e=a[0]&&void 0!==a[0].debug,r=e&&a[0].debug||!e&&s.debug,this.each(function(){var e=!1,t=O(this).data("tooltipster-ns"),n=null;!t||o?e=!0:r&&console.log('Tooltipster: one or more tooltips are already attached to this element: ignoring. Use the "multiple" option to attach more tooltips.'),e&&(n=new l(this,a[0]),(t=t||[]).push(n.namespace),O(this).data("tooltipster-ns",t),O(this).data(n.namespace,n)),i.push(n)}),o?i:this)},d=!!("ontouchstart"in D),o=!1,O("body").one("mousemove",function(){o=!0})},function(e,t,n){"use strict";var i,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};window,
/*!
 * Cropper v3.1.6
 * https://github.com/fengyuanchen/cropper
 *
 * Copyright (c) 2014-2018 Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2018-03-01T13:33:48.179Z
 */
i=function(C){C=C&&C.hasOwnProperty("default")?C.default:C;var e="undefined"!=typeof window?window:{},l="cropper",o=l+"-crop",t=l+"-disabled",P=l+"-hidden",s=l+"-hide",c=l+"-modal",d=l+"-move",u="action",h="preview",p="crop",r="cropend",a="cropmove",f="cropstart",i=e.PointerEvent?"pointerdown":"touchstart mousedown",m=e.PointerEvent?"pointermove":"touchmove mousemove",g=e.PointerEvent?"pointerup pointercancel":"touchend touchcancel mouseup",v="wheel mousewheel DOMMouseScroll",I=/^(e|w|s|n|se|sw|ne|nw|all|crop|move|zoom)$/,M=/^data:/,B=/^data:image\/jpeg;base64,/,N=/^(img|canvas)$/i,b={viewMode:0,dragMode:"crop",aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:200,minContainerHeight:100,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},R=function(e,t,n){return t&&y(e.prototype,t),n&&y(e,n),e};function y(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function w(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var U=Number.isNaN||e.isNaN;function x(e){return"number"==typeof e&&!U(e)}function _(e){return void 0===e}function k(i,o){for(var e=arguments.length,r=Array(2<e?e-2:0),t=2;t<e;t++)r[t-2]=arguments[t];return function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return i.apply(o,r.concat(t))}}var T=Object.keys||function(e){var t=[];return C.each(e,function(e){t.push(e)}),t},H=/\.\d*(?:0|9){12}\d*$/i;function S(e,t){t=1<arguments.length&&void 0!==t?t:1e11;return H.test(e)?Math.round(e*t)/t:e}var n=e.location,z=/^(https?:)\/\/([^:/?#]+):?(\d*)/i;function j(e){e=e.match(z);return e&&(e[1]!==n.protocol||e[2]!==n.hostname||e[3]!==n.port)}function E(e){var t="timestamp="+(new Date).getTime();return e+(-1===e.indexOf("?")?"?":"&")+t}function A(e){var t=e.rotate,n=e.scaleX,i=e.scaleY,o=e.translateX,e=e.translateY,r=[];return x(o)&&0!==o&&r.push("translateX("+o+"px)"),x(e)&&0!==e&&r.push("translateY("+e+"px)"),x(t)&&0!==t&&r.push("rotate("+t+"deg)"),x(n)&&1!==n&&r.push("scaleX("+n+")"),x(i)&&1!==i&&r.push("scaleY("+i+")"),r.length?r.join(" "):"none"}var L=e.navigator,W=L&&/(Macintosh|iPhone|iPod|iPad).*AppleWebKit/i.test(L.userAgent);function $(e,t){var n=e.pageX,e=e.pageY,i={endX:n,endY:e};return t?i:C.extend({startX:n,startY:e},i)}var q=Number.isFinite||e.isFinite;function O(e,t){function n(e){return q(e)&&0<e}var i,o=e.aspectRatio,r=e.height,e=e.width,t=1<arguments.length&&void 0!==t?t:"contain";return n(e)&&n(r)?(i=r*o,"contain"===t&&e<i||"cover"===t&&i<e?r=e/o:e=r*o):n(e)?r=e/o:n(r)&&(e=r*o),{width:e,height:r}}var V=String.fromCharCode;var G=/^data:.*,/;function J(e){var t,n=new DataView(e),i=void 0,o=void 0,r=void 0,a=void 0;if(255===n.getUint8(0)&&216===n.getUint8(1))for(var s=n.byteLength,l=2;l<s;){if(255===n.getUint8(l)&&225===n.getUint8(l+1)){r=l;break}l+=1}if(a=r&&(e=r+10,"Exif"===function(e,t,n){var i="",o=void 0;for(n+=t,o=t;o<n;o+=1)i+=V(e.getUint8(o));return i}(n,r+4,4))&&((o=18761===(t=n.getUint16(e)))||19789===t)&&42===n.getUint16(e+2,o)&&8<=(t=n.getUint32(e+4,o))?e+t:a)for(var c,d=n.getUint16(a,o),u=void 0,u=0;u<d;u+=1)if(274===n.getUint16(c=a+12*u+2,o)){c+=8,i=n.getUint16(c,o),n.setUint16(c,1,o);break}return i}var Y,L={render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function(){var e=this.$element,t=this.options,n=this.$container,i=this.$cropper;i.addClass(P),e.removeClass(P),i.css(this.container={width:Math.max(n.width(),Number(t.minContainerWidth)||200),height:Math.max(n.height(),Number(t.minContainerHeight)||100)}),e.addClass(P),i.removeClass(P)},initCanvas:function(){var e=this.container,t=this.image,n=this.options.viewMode,i=Math.abs(t.rotate)%180==90,o=i?t.naturalHeight:t.naturalWidth,i=i?t.naturalWidth:t.naturalHeight,r=o/i,a=e.width,s=e.height,r=(e.height*r>e.width?3===n?a=e.height*r:s=e.width/r:3===n?s=e.width/r:a=e.height*r,{aspectRatio:r,naturalWidth:o,naturalHeight:i,width:a,height:s});r.left=(e.width-a)/2,r.top=(e.height-s)/2,r.oldLeft=r.left,r.oldTop=r.top,this.canvas=r,this.limited=1===n||2===n,this.limitCanvas(!0,!0),this.initialImage=C.extend({},t),this.initialCanvas=C.extend({},r)},limitCanvas:function(e,t){var n=this.options,i=this.container,o=this.canvas,r=this.cropBox,a=n.viewMode,s=o.aspectRatio,l=this.cropped&&r;e&&(e=Number(n.minCanvasWidth)||0,n=Number(n.minCanvasHeight)||0,0<a&&(1<a?(e=Math.max(e,i.width),n=Math.max(n,i.height),3===a&&(e<n*s?e=n*s:n=e/s)):e?e=Math.max(e,l?r.width:0):n?n=Math.max(n,l?r.height:0):l&&((e=r.width)<(n=r.height)*s?e=n*s:n=e/s)),e=(s=O({aspectRatio:s,width:e,height:n})).width,n=s.height,o.minWidth=e,o.minHeight=n,o.maxWidth=1/0,o.maxHeight=1/0),t&&(0<a?(s=i.width-o.width,e=i.height-o.height,o.minLeft=Math.min(0,s),o.minTop=Math.min(0,e),o.maxLeft=Math.max(0,s),o.maxTop=Math.max(0,e),l&&this.limited&&(o.minLeft=Math.min(r.left,r.left+r.width-o.width),o.minTop=Math.min(r.top,r.top+r.height-o.height),o.maxLeft=r.left,o.maxTop=r.top,2===a)&&(o.width>=i.width&&(o.minLeft=Math.min(0,s),o.maxLeft=Math.max(0,s)),o.height>=i.height)&&(o.minTop=Math.min(0,e),o.maxTop=Math.max(0,e))):(o.minLeft=-o.width,o.minTop=-o.height,o.maxLeft=i.width,o.maxTop=i.height))},renderCanvas:function(e,t){var n,i,o,r,a=this.canvas,s=this.image;t&&(t={width:s.naturalWidth*Math.abs(s.scaleX||1),height:s.naturalHeight*Math.abs(s.scaleY||1),degree:s.rotate||0},s=t.width,r=t.height,t=t.degree,n=90==(t=Math.abs(t)%180)?{width:r,height:s}:(i=t%90*Math.PI/180,n=Math.sin(i),o=s*(i=Math.cos(i))+r*n,s=s*n+r*i,90<t?{width:s,height:o}:{width:o,height:s}),i=a.width*((r=n.width)/a.naturalWidth),o=a.height*((t=n.height)/a.naturalHeight),a.left-=(i-a.width)/2,a.top-=(o-a.height)/2,a.width=i,a.height=o,a.aspectRatio=r/t,a.naturalWidth=r,a.naturalHeight=t,this.limitCanvas(!0,!1)),(a.width>a.maxWidth||a.width<a.minWidth)&&(a.left=a.oldLeft),(a.height>a.maxHeight||a.height<a.minHeight)&&(a.top=a.oldTop),a.width=Math.min(Math.max(a.width,a.minWidth),a.maxWidth),a.height=Math.min(Math.max(a.height,a.minHeight),a.maxHeight),this.limitCanvas(!1,!0),a.left=Math.min(Math.max(a.left,a.minLeft),a.maxLeft),a.top=Math.min(Math.max(a.top,a.minTop),a.maxTop),a.oldLeft=a.left,a.oldTop=a.top,this.$canvas.css({width:a.width,height:a.height,transform:A({translateX:a.left,translateY:a.top})}),this.renderImage(e),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:function(e){var t=this.canvas,n=this.image,i=n.naturalWidth*(t.width/t.naturalWidth),o=n.naturalHeight*(t.height/t.naturalHeight);C.extend(n,{width:i,height:o,left:(t.width-i)/2,top:(t.height-o)/2}),this.$clone.css({width:n.width,height:n.height,transform:A(C.extend({translateX:n.left,translateY:n.top},n))}),e&&this.output()},initCropBox:function(){var e=this.options,t=this.canvas,n=e.aspectRatio,e=Number(e.autoCropArea)||.8,i={width:t.width,height:t.height};n&&(t.height*n>t.width?i.height=i.width/n:i.width=i.height*n),this.cropBox=i,this.limitCropBox(!0,!0),i.width=Math.min(Math.max(i.width,i.minWidth),i.maxWidth),i.height=Math.min(Math.max(i.height,i.minHeight),i.maxHeight),i.width=Math.max(i.minWidth,i.width*e),i.height=Math.max(i.minHeight,i.height*e),i.left=t.left+(t.width-i.width)/2,i.top=t.top+(t.height-i.height)/2,i.oldLeft=i.left,i.oldTop=i.top,this.initialCropBox=C.extend({},i)},limitCropBox:function(e,t){var n,i,o=this.options,r=this.container,a=this.canvas,s=this.cropBox,l=this.limited,c=o.aspectRatio;e&&(e=Number(o.minCropBoxWidth)||0,o=Number(o.minCropBoxHeight)||0,n=Math.min(r.width,(l?a:r).width),i=Math.min(r.height,(l?a:r).height),e=Math.min(e,r.width),o=Math.min(o,r.height),c&&(e&&o?e<o*c?o=e/c:e=o*c:e?o=e/c:o&&(e=o*c),n<i*c?i=n/c:n=i*c),s.minWidth=Math.min(e,n),s.minHeight=Math.min(o,i),s.maxWidth=n,s.maxHeight=i),t&&(l?(s.minLeft=Math.max(0,a.left),s.minTop=Math.max(0,a.top),s.maxLeft=Math.min(r.width,a.left+a.width)-s.width,s.maxTop=Math.min(r.height,a.top+a.height)-s.height):(s.minLeft=0,s.minTop=0,s.maxLeft=r.width-s.width,s.maxTop=r.height-s.height))},renderCropBox:function(){var e=this.options,t=this.container,n=this.cropBox;(n.width>n.maxWidth||n.width<n.minWidth)&&(n.left=n.oldLeft),(n.height>n.maxHeight||n.height<n.minHeight)&&(n.top=n.oldTop),n.width=Math.min(Math.max(n.width,n.minWidth),n.maxWidth),n.height=Math.min(Math.max(n.height,n.minHeight),n.maxHeight),this.limitCropBox(!1,!0),n.left=Math.min(Math.max(n.left,n.minLeft),n.maxLeft),n.top=Math.min(Math.max(n.top,n.minTop),n.maxTop),n.oldLeft=n.left,n.oldTop=n.top,e.movable&&e.cropBoxMovable&&this.$face.data(u,n.width>=t.width&&n.height>=t.height?"move":"all"),this.$cropBox.css({width:n.width,height:n.height,transform:A({translateX:n.left,translateY:n.top})}),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function(){this.preview(),this.completed&&this.trigger(p,this.getData())}},e={initPreview:function(){var i=this.crossOrigin,o=i?this.crossOriginUrl:this.url,e=document.createElement("img"),e=(i&&(e.crossOrigin=i),e.src=o,C(e));this.$preview=C(this.options.preview),this.$clone2=e,this.$viewBox.html(e),this.$preview.each(function(e,t){var t=C(t),n=document.createElement("img");t.data(h,{width:t.width(),height:t.height(),html:t.html()}),i&&(n.crossOrigin=i),n.src=o,n.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',t.html(n)})},resetPreview:function(){this.$preview.each(function(e,t){var t=C(t),n=t.data(h);t.css({width:n.width,height:n.height}).html(n.html).removeData(h)})},preview:function(){var s=this.image,e=this.canvas,t=this.cropBox,l=t.width,c=t.height,d=s.width,u=s.height,p=t.left-e.left-s.left,f=t.top-e.top-s.top;this.cropped&&!this.disabled&&(this.$clone2.css({width:d,height:u,transform:A(C.extend({translateX:-p,translateY:-f},s))}),this.$preview.each(function(e,t){var t=C(t),n=t.data(h),i=n.width,n=n.height,o=i,r=n,a=1;l&&(r=c*(a=i/l)),c&&n<r&&(o=l*(a=n/c),r=n),t.css({width:o,height:r}).find("img").css({width:d*a,height:u*a,transform:A(C.extend({translateX:-p*a,translateY:-f*a},s))})}))}},K={bind:function(){var e=this.$element,t=this.options,n=this.$cropper;C.isFunction(t.cropstart)&&e.on(f,t.cropstart),C.isFunction(t.cropmove)&&e.on(a,t.cropmove),C.isFunction(t.cropend)&&e.on(r,t.cropend),C.isFunction(t.crop)&&e.on(p,t.crop),C.isFunction(t.zoom)&&e.on("zoom",t.zoom),n.on(i,k(this.cropStart,this)),t.zoomable&&t.zoomOnWheel&&n.on(v,k(this.wheel,this)),t.toggleDragModeOnDblclick&&n.on("dblclick",k(this.dblclick,this)),C(this.element.ownerDocument).on(m,this.onCropMove=k(this.cropMove,this)).on(g,this.onCropEnd=k(this.cropEnd,this)),t.responsive&&C(window).on("resize",this.onResize=k(this.resize,this))},unbind:function(){var e=this.$element,t=this.options,n=this.$cropper;C.isFunction(t.cropstart)&&e.off(f,t.cropstart),C.isFunction(t.cropmove)&&e.off(a,t.cropmove),C.isFunction(t.cropend)&&e.off(r,t.cropend),C.isFunction(t.crop)&&e.off(p,t.crop),C.isFunction(t.zoom)&&e.off("zoom",t.zoom),n.off(i,this.cropStart),t.zoomable&&t.zoomOnWheel&&n.off(v,this.wheel),t.toggleDragModeOnDblclick&&n.off("dblclick",this.dblclick),C(this.element.ownerDocument).off(m,this.onCropMove).off(g,this.onCropEnd),t.responsive&&C(window).off("resize",this.onResize)}},X={resize:function(){var n,i,o,e=this.options,t=this.$container,r=this.container,a=Number(e.minContainerWidth)||200,s=Number(e.minContainerHeight)||100;this.disabled||r.width<=a||r.height<=s||1==(n=t.width()/r.width)&&t.height()===r.height||(o=i=void 0,e.restore&&(i=this.getCanvasData(),o=this.getCropBoxData()),this.render(),e.restore&&(this.setCanvasData(C.each(i,function(e,t){i[e]=t*n})),this.setCropBoxData(C.each(o,function(e,t){o[e]=t*n}))))},dblclick:function(){this.disabled||"none"===this.options.dragMode||this.setDragMode(this.$dragBox.hasClass(o)?"move":"crop")},wheel:function(e){var t,n=this,i=e.originalEvent||e,o=Number(this.options.wheelZoomRatio)||.1;this.disabled||(e.preventDefault(),this.wheeling)||(this.wheeling=!0,setTimeout(function(){n.wheeling=!1},50),t=1,i.deltaY?t=0<i.deltaY?1:-1:i.wheelDelta?t=-i.wheelDelta/120:i.detail&&(t=0<i.detail?1:-1),this.zoom(-t*o,e))},cropStart:function(e){var t,n,i,o;this.disabled||(t=this.options,n=this.pointers,o=void 0,(i=e.originalEvent)&&i.changedTouches?C.each(i.changedTouches,function(e,t){n[t.identifier]=$(t)}):n[i&&i.pointerId||0]=$(i||e),o=1<T(n).length&&t.zoomable&&t.zoomOnTouch?"zoom":C(e.target).data(u),!I.test(o))||this.trigger(f,{originalEvent:i,action:o}).isDefaultPrevented()||(e.preventDefault(),this.action=o,this.cropping=!1,"crop"===o&&(this.cropping=!0,this.$dragBox.addClass(c)))},cropMove:function(e){var n,t,i=this.action;this.disabled||!i||(n=this.pointers,t=e.originalEvent,e.preventDefault(),this.trigger(a,{originalEvent:t,action:i}).isDefaultPrevented())||(t&&t.changedTouches?C.each(t.changedTouches,function(e,t){C.extend(n[t.identifier],$(t,!0))}):C.extend(n[t&&t.pointerId||0],$(t||e,!0)),this.change(e))},cropEnd:function(e){var t,n,i;this.disabled||(t=this.action,n=this.pointers,(i=e.originalEvent)&&i.changedTouches?C.each(i.changedTouches,function(e,t){delete n[t.identifier]}):delete n[i&&i.pointerId||0],t&&(e.preventDefault(),T(n).length||(this.action=""),this.cropping&&(this.cropping=!1,this.$dragBox.toggleClass(c,this.cropped&&this.options.modal)),this.trigger(r,{originalEvent:i,action:t})))}},Q={change:function(e){function t(e){switch(e){case"e":g+S.x>w&&(S.x=w-g);break;case"w":p+S.x<b&&(S.x=b-p);break;case"n":f+S.y<y&&(S.y=y-f);break;case"s":v+S.y>x&&(S.y=x-v)}}var n,i,a,o=this.options,r=this.pointers,s=this.container,l=this.canvas,c=this.cropBox,d=this.action,u=o.aspectRatio,p=c.left,f=c.top,h=c.width,m=c.height,g=p+h,v=f+m,b=0,y=0,w=s.width,x=s.height,_=!0,k=(!u&&e.shiftKey&&(u=h&&m?h/m:1),this.limited&&(b=c.minLeft,y=c.minTop,w=b+Math.min(s.width,l.width,l.left+l.width),x=y+Math.min(s.height,l.height,l.top+l.height)),r[T(r)[0]]),S={x:k.endX-k.startX,y:k.endY-k.startY};switch(d){case"all":p+=S.x,f+=S.y;break;case"e":0<=S.x&&(w<=g||u&&(f<=y||x<=v))?_=!1:(t("e"),h+=S.x,u&&(m=h/u,f-=S.x/u/2),h<0&&(d="w",h=0));break;case"n":S.y<=0&&(f<=y||u&&(p<=b||w<=g))?_=!1:(t("n"),m-=S.y,f+=S.y,u&&(h=m*u,p+=S.y*u/2),m<0&&(d="s",m=0));break;case"w":S.x<=0&&(p<=b||u&&(f<=y||x<=v))?_=!1:(t("w"),h-=S.x,p+=S.x,u&&(m=h/u,f+=S.x/u/2),h<0&&(d="e",h=0));break;case"s":0<=S.y&&(x<=v||u&&(p<=b||w<=g))?_=!1:(t("s"),m+=S.y,u&&(h=m*u,p-=S.y*u/2),m<0&&(d="n",m=0));break;case"ne":if(u){if(S.y<=0&&(f<=y||w<=g)){_=!1;break}t("n"),m-=S.y,f+=S.y,h=m*u}else t("n"),t("e"),!(0<=S.x)||g<w?h+=S.x:S.y<=0&&f<=y&&(_=!1),(!(S.y<=0)||y<f)&&(m-=S.y,f+=S.y);h<0&&m<0?(d="sw",h=m=0):h<0?(d="nw",h=0):m<0&&(d="se",m=0);break;case"nw":if(u){if(S.y<=0&&(f<=y||p<=b)){_=!1;break}t("n"),m-=S.y,f+=S.y,h=m*u,p+=S.y*u}else t("n"),t("w"),!(S.x<=0)||b<p?(h-=S.x,p+=S.x):S.y<=0&&f<=y&&(_=!1),(!(S.y<=0)||y<f)&&(m-=S.y,f+=S.y);h<0&&m<0?(d="se",h=m=0):h<0?(d="ne",h=0):m<0&&(d="sw",m=0);break;case"sw":if(u){if(S.x<=0&&(p<=b||x<=v)){_=!1;break}t("w"),h-=S.x,p+=S.x,m=h/u}else t("s"),t("w"),!(S.x<=0)||b<p?(h-=S.x,p+=S.x):0<=S.y&&x<=v&&(_=!1),(!(0<=S.y)||v<x)&&(m+=S.y);h<0&&m<0?(d="ne",h=m=0):h<0?(d="se",h=0):m<0&&(d="nw",m=0);break;case"se":if(u){if(0<=S.x&&(w<=g||x<=v)){_=!1;break}t("e"),m=(h+=S.x)/u}else t("s"),t("e"),!(0<=S.x)||g<w?h+=S.x:0<=S.y&&x<=v&&(_=!1),(!(0<=S.y)||v<x)&&(m+=S.y);h<0&&m<0?(d="nw",h=m=0):h<0?(d="sw",h=0):m<0&&(d="ne",m=0);break;case"move":this.move(S.x,S.y),_=!1;break;case"zoom":this.zoom((n=r,i=C.extend({},n),a=[],C.each(n,function(e,r){delete i[e],C.each(i,function(e,t){var n=Math.abs(r.startX-t.startX),i=Math.abs(r.startY-t.startY),o=Math.abs(r.endX-t.endX),t=Math.abs(r.endY-t.endY),n=Math.sqrt(n*n+i*i),i=Math.sqrt(o*o+t*t);a.push((i-n)/n)})}),a.sort(function(e,t){return Math.abs(e)<Math.abs(t)}),a[0]),e.originalEvent),_=!1;break;case"crop":S.x&&S.y?(n=this.$cropper.offset(),p=k.startX-n.left,f=k.startY-n.top,h=c.minWidth,m=c.minHeight,0<S.x?d=0<S.y?"se":"ne":S.x<0&&(p-=h,d=0<S.y?"sw":"nw"),S.y<0&&(f-=m),this.cropped||(this.$cropBox.removeClass(P),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0))):_=!1}_&&(c.width=h,c.height=m,c.left=p,c.top=f,this.action=d,this.renderCropBox()),C.each(r,function(e,t){t.startX=t.endX,t.startY=t.endY})}},Z={crop:function(){this.ready&&!this.disabled&&(this.cropped||(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&this.$dragBox.addClass(c),this.$cropBox.removeClass(P)),this.setCropBoxData(this.initialCropBox))},reset:function(){this.ready&&!this.disabled&&(this.image=C.extend({},this.initialImage),this.canvas=C.extend({},this.initialCanvas),this.cropBox=C.extend({},this.initialCropBox),this.renderCanvas(),this.cropped)&&this.renderCropBox()},clear:function(){this.cropped&&!this.disabled&&(C.extend(this.cropBox,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),this.$dragBox.removeClass(c),this.$cropBox.addClass(P))},replace:function(e,t){!this.disabled&&e&&(this.isImg&&this.$element.attr("src",e),t?(this.url=e,this.$clone.attr("src",e),this.ready&&this.$preview.find("img").add(this.$clone2).attr("src",e)):(this.isImg&&(this.replaced=!0),this.options.data=null,this.load(e)))},enable:function(){this.ready&&(this.disabled=!1,this.$cropper.removeClass(t))},disable:function(){this.ready&&(this.disabled=!0,this.$cropper.addClass(t))},destroy:function(){var e=this.$element;this.loaded?(this.isImg&&this.replaced&&e.attr("src",this.originalUrl),this.unbuild(),e.removeClass(P)):this.isImg?e.off("load",this.start):this.$clone&&this.$clone.remove(),e.removeData(l)},move:function(e,t){var n=this.canvas,i=n.left,n=n.top;this.moveTo(_(e)?e:i+Number(e),_(t)?t:n+Number(t))},moveTo:function(e,t){var n=this.canvas,i=!1;_(t)&&(t=e),e=Number(e),t=Number(t),this.ready&&!this.disabled&&this.options.movable&&(x(e)&&(n.left=e,i=!0),x(t)&&(n.top=t,i=!0),i)&&this.renderCanvas(!0)},zoom:function(e,t){var n=this.canvas;e=Number(e),this.zoomTo(n.width*(e=e<0?1/(1-e):1+e)/n.naturalWidth,t)},zoomTo:function(e,t){var i,o,r,n=this.options,a=this.pointers,s=this.canvas,l=s.width,c=s.height,d=s.naturalWidth,u=s.naturalHeight;0<=(e=Number(e))&&this.ready&&!this.disabled&&n.zoomable&&(n=u*e,u=void 0,t&&(u=t.originalEvent),this.trigger("zoom",{originalEvent:u,oldRatio:l/d,ratio:(e=d*e)/d}).isDefaultPrevented()||(u?(d=this.$cropper.offset(),a=a&&T(a).length?(r=o=i=0,C.each(a,function(e,t){var n=t.startX,t=t.startY;i+=n,o+=t,r+=1}),{pageX:i/=r,pageY:o/=r}):{pageX:t.pageX||u.pageX||0,pageY:t.pageY||u.pageY||0},s.left-=(e-l)*((a.pageX-d.left-s.left)/l),s.top-=(n-c)*((a.pageY-d.top-s.top)/c)):(s.left-=(e-l)/2,s.top-=(n-c)/2),s.width=e,s.height=n,this.renderCanvas(!0)))},rotate:function(e){this.rotateTo((this.image.rotate||0)+Number(e))},rotateTo:function(e){x(e=Number(e))&&this.ready&&!this.disabled&&this.options.rotatable&&(this.image.rotate=e%360,this.renderCanvas(!0,!0))},scaleX:function(e){var t=this.image.scaleY;this.scale(e,x(t)?t:1)},scaleY:function(e){var t=this.image.scaleX;this.scale(x(t)?t:1,e)},scale:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:e,n=this.image,i=!1;e=Number(e),t=Number(t),this.ready&&!this.disabled&&this.options.scalable&&(x(e)&&(n.scaleX=e,i=!0),x(t)&&(n.scaleY=t,i=!0),i)&&this.renderCanvas(!0,!0)},getData:function(){var n,i=0<arguments.length&&void 0!==arguments[0]&&arguments[0],e=this.options,t=this.image,o=this.canvas,r=this.cropBox,a=void 0;return this.ready&&this.cropped?(a={x:r.left-o.left,y:r.top-o.top,width:r.width,height:r.height},n=t.width/t.naturalWidth,C.each(a,function(e,t){t/=n,a[e]=i?Math.round(t):t})):a={x:0,y:0,width:0,height:0},e.rotatable&&(a.rotate=t.rotate||0),e.scalable&&(a.scaleX=t.scaleX||1,a.scaleY=t.scaleY||1),a},setData:function(e){var t,n=this.options,i=this.image,o=this.canvas,r={};C.isFunction(e)&&(e=e.call(this.element)),this.ready&&!this.disabled&&C.isPlainObject(e)&&(t=!1,n.rotatable&&x(e.rotate)&&e.rotate!==i.rotate&&(i.rotate=e.rotate,t=!0),n.scalable&&(x(e.scaleX)&&e.scaleX!==i.scaleX&&(i.scaleX=e.scaleX,t=!0),x(e.scaleY))&&e.scaleY!==i.scaleY&&(i.scaleY=e.scaleY,t=!0),t&&this.renderCanvas(!0,!0),n=i.width/i.naturalWidth,x(e.x)&&(r.left=e.x*n+o.left),x(e.y)&&(r.top=e.y*n+o.top),x(e.width)&&(r.width=e.width*n),x(e.height)&&(r.height=e.height*n),this.setCropBoxData(r))},getContainerData:function(){return this.ready?C.extend({},this.container):{}},getImageData:function(){return this.loaded?C.extend({},this.image):{}},getCanvasData:function(){var n=this.canvas,i={};return this.ready&&C.each(["left","top","width","height","naturalWidth","naturalHeight"],function(e,t){i[t]=n[t]}),i},setCanvasData:function(e){var t=this.canvas,n=t.aspectRatio;C.isFunction(e)&&(e=e.call(this.$element)),this.ready&&!this.disabled&&C.isPlainObject(e)&&(x(e.left)&&(t.left=e.left),x(e.top)&&(t.top=e.top),x(e.width)?(t.width=e.width,t.height=e.width/n):x(e.height)&&(t.height=e.height,t.width=e.height*n),this.renderCanvas(!0))},getCropBoxData:function(){var e=this.cropBox;return this.ready&&this.cropped?{left:e.left,top:e.top,width:e.width,height:e.height}:{}},setCropBoxData:function(e){var t=this.cropBox,n=this.options.aspectRatio,i=void 0,o=void 0;C.isFunction(e)&&(e=e.call(this.$element)),this.ready&&this.cropped&&!this.disabled&&C.isPlainObject(e)&&(x(e.left)&&(t.left=e.left),x(e.top)&&(t.top=e.top),x(e.width)&&e.width!==t.width&&(i=!0,t.width=e.width),x(e.height)&&e.height!==t.height&&(o=!0,t.height=e.height),n&&(i?t.height=t.width/n:o&&(t.width=t.height*n)),this.renderCropBox())},getCroppedCanvas:function(){var e,t,n,i,o,r,a,s,l,c,d,u,p,f,h,m,g,v=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return this.ready&&window.HTMLCanvasElement?(a=this.canvas,f=this.$clone[0],p=this.image,m=a,o=v,s=void 0===(s=p.rotate)?0:s,u=void 0===(u=p.scaleX)?1:u,p=void 0===(p=p.scaleY)?1:p,n=m.aspectRatio,e=m.naturalWidth,m=m.naturalHeight,t=void 0===(t=o.fillColor)?"transparent":t,d=void 0===(d=o.imageSmoothingEnabled)||d,i=void 0===(i=o.imageSmoothingQuality)?"low":i,l=void 0===(l=o.maxWidth)?1/0:l,g=void 0===(g=o.maxHeight)?1/0:g,c=void 0===(c=o.minWidth)?0:c,o=void 0===(o=o.minHeight)?0:o,h=document.createElement("canvas"),r=h.getContext("2d"),l=O({aspectRatio:n,width:l,height:g}),g=O({aspectRatio:n,width:c,height:o},"cover"),n=Math.min(l.width,Math.max(g.width,e)),c=Math.min(l.height,Math.max(g.height,m)),o=[-n/2,-c/2,n,c],h.width=S(n),h.height=S(c),r.fillStyle=t,r.fillRect(0,0,n,c),r.save(),r.translate(n/2,c/2),r.rotate(s*Math.PI/180),r.scale(u,p),r.imageSmoothingEnabled=d,r.imageSmoothingQuality=i,r.drawImage.apply(r,[f].concat(w(C.map(o,function(e){return Math.floor(S(e))})))),r.restore(),e=h,this.cropped?(g=(l=this.getData()).x,m=l.y,t=l.width,n=l.height,1!=(c=e.width/Math.floor(a.naturalWidth))&&(g*=c,m*=c,t*=c,n*=c),u=O({aspectRatio:s=t/n,width:v.maxWidth||1/0,height:v.maxHeight||1/0}),p=O({aspectRatio:s,width:v.minWidth||0,height:v.minHeight||0},"cover"),i=(d=O({aspectRatio:s,width:v.width||(1!=c?e.width:t),height:v.height||(1!=c?e.height:n)})).width,f=d.height,i=Math.min(u.width,Math.max(p.width,i)),f=Math.min(u.height,Math.max(p.height,f)),r=(o=document.createElement("canvas")).getContext("2d"),o.width=S(i),o.height=S(f),r.fillStyle=v.fillColor||"transparent",r.fillRect(0,0,i,f),h=v.imageSmoothingEnabled,l=v.imageSmoothingQuality,r.imageSmoothingEnabled=void 0===h||h,l&&(r.imageSmoothingQuality=l),a=e.width,s=e.height,c=m,h=v=f=p=u=d=void 0,(l=g)<=-t||a<l?v=p=d=l=0:l<=0?(p=-l,l=0,v=d=Math.min(a,t+l)):l<=a&&(p=0,v=d=Math.min(t,a-l)),d<=0||c<=-n||s<c?h=f=u=c=0:c<=0?(f=-c,c=0,h=u=Math.min(s,n+c)):c<=s&&(f=0,h=u=Math.min(n,s-c)),m=[l,c,d,u],0<v&&0<h&&m.push(p*(g=i/t),f*g,v*g,h*g),r.drawImage.apply(r,[e].concat(w(C.map(m,function(e){return Math.floor(S(e))})))),o):e):null},setAspectRatio:function(e){var t=this.options;this.disabled||_(e)||(t.aspectRatio=Math.max(0,e)||NaN,this.ready&&(this.initCropBox(),this.cropped)&&this.renderCropBox())},setDragMode:function(e){var t,n,i=this.options;this.loaded&&!this.disabled&&(n=i.movable&&"move"===e,this.$dragBox.data(u,e=(t="crop"===e)||n?e:"none").toggleClass(o,t).toggleClass(d,n),i.cropBoxMovable||this.$face.data(u,e).toggleClass(o,t).toggleClass(d,n))}},D=(R(F,[{key:"init",value:function(){var e=this.$element,t=void 0;if(e.is("img")){if(this.isImg=!0,t=e.attr("src")||"",!(this.originalUrl=t))return;t=e.prop("src")}else e.is("canvas")&&window.HTMLCanvasElement&&(t=e[0].toDataURL());this.load(t)}},{key:"trigger",value:function(e,t){e=C.Event(e,t);return this.$element.trigger(e),e}},{key:"load",value:function(e){var t,n,i,o,r,a,s=this;e&&(this.url=e,this.image={},t=this.$element,(n=this.options).checkOrientation&&window.ArrayBuffer?M.test(e)?B.test(e)?this.read((i=(i=e).replace(G,""),o=atob(i),i=new ArrayBuffer(o.length),r=new Uint8Array(i),C.each(r,function(e){r[e]=o.charCodeAt(e)}),i)):this.clone():((a=new XMLHttpRequest).onerror=function(){s.clone()},a.onload=function(){s.read(a.response)},n.checkCrossOrigin&&j(e)&&!t.prop("crossOrigin")&&(e=E(e)),a.open("get",e),a.responseType="arraybuffer",a.withCredentials="use-credentials"===t.prop("crossOrigin"),a.send()):this.clone())}},{key:"read",value:function(e){var t,n,i,o=this.options,r=this.image,a=J(e),s=0,l=1,c=1;1<a&&(this.url=(t=e,n="image/jpeg",t=new Uint8Array(e),i="",C.each(t,function(e,t){i+=V(t)}),"data:"+n+";base64,"+btoa(i)),s=(e=function(e){var t=0,n=1,i=1;switch(e){case 2:n=-1;break;case 3:t=-180;break;case 4:i=-1;break;case 5:t=90,i=-1;break;case 6:t=90;break;case 7:t=90,n=-1;break;case 8:t=-90}return{rotate:t,scaleX:n,scaleY:i}}(a)).rotate,l=e.scaleX,c=e.scaleY),o.rotatable&&(r.rotate=s),o.scalable&&(r.scaleX=l,r.scaleY=c),this.clone()}},{key:"clone",value:function(){var e=this.$element,t=this.options,n=this.url,i="",o=void 0,t=(t.checkCrossOrigin&&j(n)&&(o=(i=e.prop("crossOrigin"))?n:(i="anonymous",E(n))),this.crossOrigin=i,this.crossOriginUrl=o,document.createElement("img")),i=(i&&(t.crossOrigin=i),t.src=o||n,C(t));this.$clone=i,this.isImg?this.element.complete?this.start():e.one("load",C.proxy(this.start,this)):i.one("load",C.proxy(this.start,this)).one("error",C.proxy(this.stop,this)).addClass(s).insertAfter(e)}},{key:"start",value:function(){var e,t,n=this,i=this.$clone,o=this.$element;this.isImg||(i.off("error",this.stop),o=i),i=o[0],e=function(e,t){C.extend(n.image,{naturalWidth:e,naturalHeight:t,aspectRatio:e/t}),n.loaded=!0,n.build()},i.naturalWidth&&!W?e(i.naturalWidth,i.naturalHeight):((t=document.createElement("img")).onload=function(){e(t.width,t.height)},t.src=i.src)}},{key:"stop",value:function(){this.$clone.remove(),this.$clone=null}},{key:"build",value:function(){var e,t,n,i,o,r,a=this;this.loaded&&(this.ready&&this.unbuild(),e=this.$element,t=this.options,n=this.$clone,r=(o=(i=C('<div class="cropper-container"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-action="e"></span><span class="cropper-line line-n" data-action="n"></span><span class="cropper-line line-w" data-action="w"></span><span class="cropper-line line-s" data-action="s"></span><span class="cropper-point point-e" data-action="e"></span><span class="cropper-point point-n" data-action="n"></span><span class="cropper-point point-w" data-action="w"></span><span class="cropper-point point-s" data-action="s"></span><span class="cropper-point point-ne" data-action="ne"></span><span class="cropper-point point-nw" data-action="nw"></span><span class="cropper-point point-sw" data-action="sw"></span><span class="cropper-point point-se" data-action="se"></span></div></div>')).find(".cropper-crop-box")).find(".cropper-face"),this.$container=e.parent(),this.$cropper=i,this.$canvas=i.find(".cropper-canvas").append(n),this.$dragBox=i.find(".cropper-drag-box"),this.$cropBox=o,this.$viewBox=i.find(".cropper-view-box"),this.$face=r,e.addClass(P).after(i),this.isImg||n.removeClass(s),this.initPreview(),this.bind(),t.aspectRatio=Math.max(0,t.aspectRatio)||NaN,t.viewMode=Math.max(0,Math.min(3,Math.round(t.viewMode)))||0,this.cropped=t.autoCrop,t.autoCrop?t.modal&&this.$dragBox.addClass(c):o.addClass(P),t.guides||o.find(".cropper-dashed").addClass(P),t.center||o.find(".cropper-center").addClass(P),t.cropBoxMovable&&r.addClass(d).data(u,"all"),t.highlight||r.addClass("cropper-invisible"),t.background&&i.addClass(l+"-bg"),t.cropBoxResizable||o.find(".cropper-line,.cropper-point").addClass(P),this.setDragMode(t.dragMode),this.render(),this.ready=!0,this.setData(t.data),this.completing=setTimeout(function(){C.isFunction(t.ready)&&e.one("ready",t.ready),a.trigger("ready"),a.trigger(p,a.getData()),a.completed=!0},0))}},{key:"unbuild",value:function(){this.ready&&(this.completed||clearTimeout(this.completing),this.ready=!1,this.completed=!1,this.initialImage=null,this.initialCanvas=null,this.initialCropBox=null,this.container=null,this.canvas=null,this.cropBox=null,this.unbind(),this.resetPreview(),this.$preview=null,this.$viewBox=null,this.$cropBox=null,this.$dragBox=null,this.$canvas=null,this.$container=null,this.$cropper.remove(),this.$cropper=null)}}],[{key:"setDefaults",value:function(e){C.extend(b,C.isPlainObject(e)&&e)}}]),F);function F(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=this,i=F;if(!(n instanceof i))throw new TypeError("Cannot call a class as a function");if(!e||!N.test(e.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=e,this.$element=C(e),this.options=C.extend({},b,C.isPlainObject(t)&&t),this.completed=!1,this.cropped=!1,this.disabled=!1,this.isImg=!1,this.limited=!1,this.loaded=!1,this.ready=!1,this.replaced=!1,this.wheeling=!1,this.originalUrl="",this.canvas=null,this.cropBox=null,this.pointers={},this.init()}C.extend&&C.extend(D.prototype,L,e,K,X,Q,Z),C.fn&&(Y=C.fn.cropper,C.fn.cropper=function(r){for(var e=arguments.length,a=Array(1<e?e-1:0),t=1;t<e;t++)a[t-1]=arguments[t];var s=void 0;return this.each(function(e,t){var n=C(t);if(!(o=n.data(l))){if(/destroy/.test(r))return;var i=C.extend({},n.data(),C.isPlainObject(r)&&r),o=new D(t,i);n.data(l,o)}"string"==typeof r&&(t=o[r],C.isFunction(t))&&(s=t.apply(o,a))}),_(s)?this:s},C.fn.cropper.Constructor=D,C.fn.cropper.setDefaults=D.setDefaults,C.fn.cropper.noConflict=function(){return C.fn.cropper=Y,this})},"object"===o(t)&&void 0!==e?i(n(137)):(o=[n(137)],void 0!==(i="function"==typeof(n=i)?n.apply(t,o):n)&&(e.exports=i))},function(e,t,n){"use strict";window.ImageCompressor=function(){"use strict";function e(e,t){return t={exports:{}},e(t,t.exports),t.exports}var j=e(function(t){(function(e){var o=e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype;var d=e.Blob&&function(){try{return Boolean(new Blob)}catch(e){return false}}();var u=d&&e.Uint8Array&&function(){try{return new Blob([new Uint8Array(100)]).size===100}catch(e){return false}}();var p=e.BlobBuilder||e.WebKitBlobBuilder||e.MozBlobBuilder||e.MSBlobBuilder;var f=/^data:((.*?)(;charset=.*?)?)(;base64)?,/;var r=(d||p)&&e.atob&&e.ArrayBuffer&&e.Uint8Array&&function(e){var t,n,i,o,r,a,s,l,c;t=e.match(f);if(!t)throw new Error("invalid data URI");n=t[2]?t[1]:"text/plain"+(t[3]||";charset=US-ASCII");i=!!t[4];o=e.slice(t[0].length);if(i)r=atob(o);else r=decodeURIComponent(o);a=new ArrayBuffer(r.length);s=new Uint8Array(a);for(l=0;l<r.length;l+=1)s[l]=r.charCodeAt(l);if(d)return new Blob([u?s:a],{type:n});c=new p;c.append(a);return c.getBlob(n)};if(e.HTMLCanvasElement&&!o.toBlob)if(o.mozGetAsFile)o.toBlob=function(e,t,n){var i=this;setTimeout(function(){if(n&&o.toDataURL&&r)e(r(i.toDataURL(t,n)));else e(i.mozGetAsFile("blob",t))})};else if(o.toDataURL&&r)o.toBlob=function(e,t,n){var i=this;setTimeout(function(){e(r(i.toDataURL(t,n)))})};if(false);else if(true&&t.exports)t.exports=r;else e.dataURLtoBlob=r})(window)}),n=Object.prototype.toString,a=function e(t){return t instanceof Blob||n.call(t)==="[object Blob]"},t={checkOrientation:true,maxWidth:Infinity,maxHeight:Infinity,minWidth:0,minHeight:0,width:undefined,height:undefined,quality:.8,mimeType:"auto",convertSize:5e6,beforeDraw:null,drew:null,success:null,error:null},i=/^image\/.+$/;function E(e){return i.test(e)}function r(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;var n=E(e)?e.substr(6):"";if(n==="jpeg")n="jpg";if(n&&t)n="."+n;return n}var s=String.fromCharCode;function m(e,t,n){var i="";var o=void 0;n+=t;for(o=t;o<n;o+=1)i+=s(e.getUint8(o));return i}var o,l=window.btoa;function c(e,t){var n=new Uint8Array(e);var i=n.length;var o="";var r=void 0;for(r=0;r<i;r+=1)o+=s(n[r]);return"data:"+t+";base64,"+l(o)}function d(e){var t=new DataView(e);var n=void 0;var i=void 0;var o=void 0;var r=void 0;if(t.getUint8(0)===255&&t.getUint8(1)===216){var a=t.byteLength;var s=2;while(s<a){if(t.getUint8(s)===255&&t.getUint8(s+1)===225){o=s;break}s+=1}}if(o){var l=o+4;var c=o+10;if(m(t,l,4)==="Exif"){var d=t.getUint16(c);i=d===18761;if(i||d===19789)if(t.getUint16(c+2,i)===42){var u=t.getUint32(c+4,i);if(u>=8)r=c+u}}}if(r){var p=t.getUint16(r,i);var f=void 0;var h=void 0;for(h=0;h<p;h+=1){f=r+h*12+2;if(t.getUint16(f,i)===274){f+=8;n=t.getUint16(f,i);t.setUint16(f,1,i);break}}}return n}function u(e){var t=0;var n=1;var i=1;switch(e){case 2:n=-1;break;case 3:t=-180;break;case 4:i=-1;break;case 5:t=90;i=-1;break;case 6:t=90;break;case 7:t=90;n=-1;break;case 8:t=-90;break;default:}return{rotate:t,scaleX:n,scaleY:i}}var p=/\.\d*(?:0|9){12}\d*$/i;function A(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1e11;return p.test(e)?Math.round(e*t)/t:e}var f=function e(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")},h=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(e,i.key,i)}}return function(e,t,n){if(t)i(e.prototype,t);if(n)i(e,n);return e}}(),g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i))e[i]=n[i]}return e},v=window,b=v.ArrayBuffer,y=v.FileReader,w=window.URL||window.webkitURL,x=/\.\w+$/,_;function k(e,t){f(this,k);this.result=null;if(e)this.compress(e,t)}return h(k,[{key:"compress",value:function e(S,C){var P=this;var T=new Image;C=g({},t,C);if(!b)C.checkOrientation=false;return new Promise(function(i,e){if(!a(S)){e(new Error("The first argument must be a File or Blob object."));return}var o=S.type;if(!E(o)){e(new Error("The first argument must be an image File or Blob object."));return}if(!w&&!y){e(new Error("The current browser does not support image compression."));return}if(w&&!C.checkOrientation)i({url:w.createObjectURL(S)});else if(y){var t=new y;var r=C.checkOrientation&&o==="image/jpeg";t.onload=function(e){var t=e.target;var n=t.result;i(r?g({url:c(n,o)},u(d(n))):{url:n})};t.onabort=e;t.onerror=e;if(r)t.readAsArrayBuffer(S);else t.readAsDataURL(S)}}).then(function(n){return new Promise(function(e,t){T.onload=function(){return e(g({},n,{naturalWidth:T.naturalWidth,naturalHeight:T.naturalHeight}))};T.onabort=t;T.onerror=t;T.alt=S.name;T.src=n.url})}).then(function(e){var y=e.naturalWidth,w=e.naturalHeight,t=e.rotate,x=t===undefined?0:t,n=e.scaleX,_=n===undefined?1:n,i=e.scaleY,k=i===undefined?1:i;return new Promise(function(n){var e=document.createElement("canvas");var t=e.getContext("2d");var i=y/w;var o=Math.max(C.maxWidth,0)||Infinity;var r=Math.max(C.maxHeight,0)||Infinity;var a=Math.max(C.minWidth,0)||0;var s=Math.max(C.minHeight,0)||0;var l=y;var c=w;if(o<Infinity&&r<Infinity)if(r*i>o)r=o/i;else o=r*i;else if(o<Infinity)r=o/i;else if(r<Infinity)o=r*i;if(a>0&&s>0)if(s*i>a)s=a/i;else a=s*i;else if(a>0)s=a/i;else if(s>0)a=s*i;if(C.width>0){var d=C;l=d.width;c=l/i}else if(C.height>0){var u=C;c=u.height;l=c*i}l=Math.min(Math.max(l,a),o);c=Math.min(Math.max(c,s),r);var p=-l/2;var f=-c/2;var h=l;var m=c;if(Math.abs(x)%180===90){var g={width:c,height:l};l=g.width;c=g.height}e.width=A(l);e.height=A(c);if(!E(C.mimeType))C.mimeType=S.type;var v="transparent";if(S.size>C.convertSize&&C.mimeType==="image/png"){v="#fff";C.mimeType="image/jpeg"}t.fillStyle=v;t.fillRect(0,0,l,c);t.save();t.translate(l/2,c/2);t.rotate(x*Math.PI/180);t.scale(_,k);if(C.beforeDraw)C.beforeDraw.call(P,t,e);t.drawImage(T,Math.floor(A(p)),Math.floor(A(f)),Math.floor(A(h)),Math.floor(A(m)));if(C.drew)C.drew.call(P,t,e);t.restore();var b=function e(t){n({naturalWidth:y,naturalHeight:w,result:t})};if(e.toBlob)e.toBlob(b,C.mimeType,C.quality);else b(j(e.toDataURL(C.mimeType,C.quality)))})}).then(function(e){var t=e.naturalWidth,n=e.naturalHeight,i=e.result;if(w&&!C.checkOrientation)w.revokeObjectURL(T.src);if(i)if(i.size>S.size&&C.mimeType===S.type&&!(C.width>t||C.height>n||C.minWidth>t||C.minHeight>n))i=S;else{var o=new Date;i.lastModified=o.getTime();i.lastModifiedDate=o;i.name=S.name;if(i.name&&i.type!==S.type)i.name=i.name.replace(x,r(i.type))}else i=S;P.result=i;if(C.success)C.success.call(P,i);return Promise.resolve(i)}).catch(function(e){if(!C.error)throw e;C.error.call(P,e)})}}]),k}()},function(e,t,n){"use strict";var i,o,r,a,s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function l(){if(i)o=!0;else{o=!(i=!0);for(var e=0;e<r.length;)!function(t){var e,n=[];if(t.deps){for(var i=0;i<t.deps.length;i++){var o=t.deps[i].replace(/\(\)$/,"");if(!(o in a))return;n.push(a[o])}for(i=0;i<t.deps.length;i++)if(/\(\)$/.test(t.deps[i]))try{n[i]=n[i](t)}catch(e){console.error("Error while execute include",t.deps[i],"for module",t,e)}}try{e=t.func.apply(t,n)}catch(e){console.error("Error while execute module ",t.path||t.name,e)}"object"==(void 0===e?"undefined":s(e))&&e.then?e.then(function(e){c(t,e)},function(e){console.error("Error while execute module ",t.path||t.name,e),c(t)}):c(t,e);return 1}(r[e])?e++:r.splice(e,1);o&&setTimeout(l,1),o=i=!1}}function c(e,t){e.result=t,(e.name||e.path)&&(e.name&&(a[e.name]=t),e.path&&(a[e.path]=t),l())}r=[],a={},window.defineM=function(e,t,n){for(var i={},o=0;o<3;o++)"string"==typeof arguments[o]?i.name=arguments[o]:"function"==typeof arguments[o]?i.func=arguments[o]:"object"==s(arguments[o])&&arguments[o]instanceof Array&&(i.deps=arguments[o]);if(i.func)return i.path=function(){var e=document.getElementsByTagName("script"),e=e[e.length-1],e=e&&e.src||"",t=/^([^?]*)\/[^?]*/.exec(window.location.href)[1]+"/";e.startsWith(t)&&(e=e.replace(t,""));return e}(),i.name=i.name||i.path.replace(/\.js$/,""),r.push(i),l(),i;console.error("Error: no function while module define",arguments)}},function(e,t,n){"use strict";defineM("mbrApp",function(i,r){function e(){this.$iframeOverlay=i("<div>").hide().css({position:"absolute",left:0,top:65,right:0,bottom:0}).appendTo("body"),r.isMobile&&i("html").addClass("device"),this.$window=i(window),this.$body=i("body")}var o={},a={},s=(e.prototype.on=function(e,t){if(i.isArray(e))for(var n in e)this.on(e[n],t);else if(e in a){if(t)try{t.apply(this,a[e])}catch(e){console.error(e)}}else(o[e]||(o[e]=[])).push(t)},e.prototype.off=function(e,t){if(!o[e])return!1;if(t)for(var n=0;n<o[e].length;n++)o[e][n]===t&&(o[e][n]=void 0);else delete o[e]},e.prototype.fire=function(e){r&&1&r.debug&&console.log("fire mbrApp::"+e);var t=[].slice.call(arguments,1);if(void 0!==o[e])for(var n in o[e])if(o[e][n])try{o[e][n].apply(this,t)}catch(e){console.error(e)}},e.prototype.fireOnce=function(e){if(r&&1&r.debug&&console.log("fire mbrApp::"+e),!(e in a)){var t,n=[].slice.call(arguments,1);for(t in a[e]=n,o[e])if(o[e][t])try{o[e][t].apply(this,n),o[e][t]=void 0}catch(e){console.error(e)}}},{}),l=(e.prototype.addFilter=function(e,t){(s[e]||(s[e]=[])).push(t)},e.prototype.applyFilter=function(e){r&&2&r.debug&&console.log("applyFilter App:"+e);var t=[].slice.call(arguments,1);if(s[e])for(var n=s[e],i=0,o=n.length;i<o;i++)try{t[0]=n[i].apply(this,t),void 0===t[0]&&console.warn("handle of "+e+" filter return undefined: ",n[i])}catch(e){console.error(e)}return t[0]},{}),t=(e.prototype.regExtension=e.prototype.registerExtension=function(e){if(!e.name||void 0!==l[e.name])return!1;if((l[e.name]=e).global)for(var t in e.global)t in this?console.error("Error re-definition method mbrApp."+t+" by module "+e.name):this[t]=e.global[t];if(e.events)for(var n in e.events)this.on(n,e.events[n]);if(e.filters)for(var n in e.filters)this.addFilter(n,e.filters[n]);return r&&8&r.debug&&console.log("mbrApp.regExtension"+e.name),!0},e.prototype.rmExtension=e.prototype.removeExtension=function(e){if(!l[e])return!1;var t=l[e].global;if(t)for(var n in t)this.k&&delete this.k;return delete l[e],!0},e.prototype.bridgeInit=function(){this.fireOnce("bridgeInit")},0);return e.prototype.uniqNum=function(){return t++},e.prototype.resetUniqNum=function(e){t=0,e&&this.Core.resetUniqNum()},window.mbrApp=new e,r.setOnReady(function(){r.bind("drop",function(e){for(var t in e)window.mbrApp.fire("incomingFile",e[t])}),i(function(){window.mbrApp.bridgeInit()})}),window.mbrApp},["jQuery","Bridge"])},function(e,t,n){"use strict";defineM("aws-app-core",function(n,e,t,i){var o=n(".app-template > iframe")[0];e.regExtension({name:"aws-app-core",global:{$iframe:n(o),iframe:o,iwindow:o.contentWindow||o,Core:void 0,appElements:{window:{width:0,height:0},iframe:{width:0,height:0},iframeBody:{width:0,height:0},sidebar:{width:0,height:0},componentsLayer:{width:0,height:0,left:0,top:0},paramsLayer:{width:0,height:0,left:0,top:0}},$template:void 0,publishKW:"",listKW:[""],preloaderHTML:'<div class="preloader preloader-spinner"><div class="mobirise-spinner"><i></i><i></i><i></i><i></i><i></i></div></div>',path2core:function(e){return e=i.path2app(e),/^(\w*\:)?\/\//.test(e)?e:"../../"+e},core2path:function(e){return/^(\w*\:)?\/\//.test(e)?e:i.path2app("web/app/builder/"+e)},appElementsUpdate:function(){var e=this;e.appElements={window:{width:e.$window.width(),height:e.$window.height()},iframe:{width:e.$iframe.width(),height:e.$iframe.height()},iframeBody:{width:e.Core.$body.width(),height:e.Core.$body.height()},sidebar:{width:e.$sidebar.width(),height:e.$sidebar.height()},componentsLayer:{width:e.$componentsLayer.width(),height:e.$componentsLayer.height()},paramsLayer:{width:e.$componentsParams.width(),height:e.$componentsParams.height()}}},coreInit:function(){var t=this;t.appElementsUpdate(),t.$window.on("resize",function(e){t.appElementsUpdate(),t.fire("resizeInterface",e)}),n(t.iwindow).on("resize",function(e){t.appElementsUpdate(),t.fire("resizeTemplate",e)}),n(t.$body).on("click",function(e){n(e.target).is(".modal")||n(e.target).parents(".modal").length||t.fire("clickBody",e)}),n(t.iwindow).on("click",function(e){t.fire("clickTemplate",e)})}},events:{bridgeInit:function(){var e=this,t=(e.fireOnce("createUI"),n(e.iframe).one("load",function(){e.$template=n(e.iframe.contentDocument||e.iframe.contentWindow.document),e.Core=e.iwindow.mbrAppCore,(e.iwindow.mbrAppCore.APP=e).fireOnce("beforeAppLoad"),e.on("addonsReady",function(){e.on("accountInited",function(){e.fireOnce("appLoaded")})})}),n(e.iframe).attr("data-src"));i.loadLocalFile(t,function(e){o.src="about:blank",o.contentWindow.document.open(),o.contentWindow.document.write(e.replace(/<head>/i,'<head><base href="'+i.path2app(t)+'"/>')),o.contentWindow.document.close()})},started:function(){n(".preloader").delay(100).fadeOut(1e3,function(){n(this).remove()})}}})},["jQuery","mbrApp","TR()","Bridge"])},function(e,t,n){"use strict";var o=n(23);function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}defineM("app-init",function(e,r){r.regExtension({name:"app-init",global:{startApplicationProject:function(e,t,n){var i=this;function o(){i.fireOnce("beforeCoreLoad"),i.Core.fireOnce("load"),i.fireOnce("coreLoad"),i.coreInit(),i.fireOnce("load"),i._forceLoadProject(t,e,n)}r.loadThemeAddon(e&&e.settings&&e.settings.theme&&e.settings.theme.name||!1,function(e){e||console.error("Critical: default theme is wrong!"),i.getUserInfo()?i.loadAddons(o,{type:"plugin"}):o()})},_forceLoadProject:function(e,t,n){var i=this;function o(){i.createProject(t&&t.settings&&t.settings.name||"My Site",t,0,n,function(e){return n()})}e?i.loadProject(e,t,{noSave:!0,onError:o,onDone:function(){return n()}}):o()},startRecent:function(n){var i=this;r.getRecentProject(function(e,t){t?i._forceLoadProject(t,e,function(e){e&&r.showError(e);i._emitStartComplete(),n&&n()}):i.newProject(!0,function(){i._emitStartComplete(),n&&n()})})},startApplicationRecent:function(){var i=this;r.getRecentProject(function(e,t,n){if(e)return r.showError("Failed to load project list");n?r.startApplicationProject(t,n,function(e){e?r.showError(e.message||e):i._emitStartComplete()}):i.createProject("My Site",0,0,function(e){e&&r.showError(e.message||e)})},!0)},createProjectWithPresets:function(e,t,n){n=n||function(){},this._readProjectWithPresets(e,t).then(function(e){r.createProject(t.name,e,0,n,function(){return n()})}).catch(n)},_readProjectWithPresets:function(e,t){var n=this;return this._readPresetProject(e).then(function(e){return n.presetProjectParams(e,t)})},_readPresetProject:function(i){return new Promise(function(t,n){o.Bridge.loadLocalFile((r.theme&&r.theme.path||r.getAddonDir(r.DEFAULT_THEME))+"/projects/"+i+"/project.mobirise",function(e){e=e.replace(/\@PROJECT_PATH\@/g,"@THEME_PATH@/projects/"+i);try{t(JSON.parse(e))}catch(e){n(e)}})})},applyProjectPresets:function(t,e,n){if("string"==typeof(e=e||r.prepareProjectText()))try{e=JSON.parse(r.prepareProjectText())}catch(e){}this.presetProjectParams(e,t).then(function(e){r.loadProject(r.projectPath,e,{onError:function(e){r._emitStartComplete(),n&&n(e)},onDone:function(){r._emitStartComplete(),n&&n()}}),o.Bridge.changeRecentSettings(r.projectPath,{name:t.name},function(e){console.warn("Can't apply project name to recent list")})}).catch(function(e){r._emitStartComplete(),n&&n(e)})},_emitStartComplete:function(){r.fireOnce("loaded"),r.fireOnce("started")},presetProjectParams:function(i,o){return i.settings=i.settings||{},i.settings.sourceProject=i.settings.sourceProject||i.settings.name.toLowerCase(),i.settings.name=o.name||i.settings.name,i.pages=i.pages||{},i.pages["index.html"]=i.pages["index.html"]||{},i.pages["index.html"].components=i.pages["index.html"].components||[],o.email=r.getUserInfo().email,o.year=r.getCurrentYear(),new Promise(function(t){function n(){var e,n;n=o,(e=i).pages["index.html"].settings=e.pages["index.html"].settings||{},e.pages["index.html"].settings.title=n.name,e.pages["index.html"].components.forEach(function(e){var t=void 0;try{t=(new DOMParser).parseFromString(e._customHTML,"text/html")}catch(e){return void console.error(e)}[].concat(a(t.querySelectorAll("[mbr-link-type=address],[mbr-link-type=phone],[mbr-link-type=email],[mbr-link-type=name],[mbr-link-type=year]"))).forEach(function(e){n[e.getAttribute("mbr-link-type")]&&(e.innerHTML=n[e.getAttribute("mbr-link-type")])}),n.email&&n.account!=n.email&&[].concat(a(t.querySelectorAll("form"))).forEach(function(e){return e.setAttribute("action",n.email)}),n.address&&n.place_id&&[].concat(a(t.querySelectorAll("input[type=map]"))).forEach(function(e){e.setAttribute("place-id",n.place_id),e.setAttribute("value",e.address)}),e._customHTML=t.body.innerHTML}),t(i)}i.settings.authorLocation?(o.address=i.settings.authorLocation.address,n()):(r.fire("setAuthorProjectLocation"),r.userPosPromise.then(function(e){i.settings.authorLocation=e,o.address=e.address,o.phone="+"+e.phoneCode+"-000-000-0000",n()},function(e){n()}))})}},events:{appLoaded:function(){o.Bridge.isDev||window.addEventListener("beforeunload",function(e){(e||window.event).returnValue=""}),window.stopStart||r.startApplicationRecent()}}})},["jQuery","mbrApp","app-plugin-map"])},function(e,t,n){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};defineM("app-common",function(l,s,c,d,t){function o(e){return(new TextEncoder).encode(e)}function r(e,t,n,i){return function(){var e=Array.prototype.slice.call(arguments),n=e.reduce(function(e,t){if(t instanceof ArrayBuffer||ArrayBuffer.isView(t))return e+t.byteLength;throw new TypeError("Every argument must be an ArrayBuffer of ArrayBuffer view")},0);return e.reduceRight(function(e,t){return n-=t.byteLength,e.set(ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.length*t.BYTES_PER_ELEMENT):new Uint8Array(t),n),e},new Uint8Array(n)).buffer}((o=e.length,r=t.length,n=n,(a=new DataView(new ArrayBuffer(6))).setUint8(0,o),a.setUint8(1,r),a.setUint32(2,n),a.buffer),e,t,i);var o,r,a}var a,u;s.regExtension({name:"common",global:{redirectLinks:function(e,t){var n=this;l("a[href^=http]",e).each(function(){l(this).data("link",l(this).attr("href"))}).attr("href","javascript:void(0)").click(function(e){e.stopPropagation(),s.openUrl(l(this).data("link"))}),l("iframe",e).each(function(){n.redirectLinks(this.contentWindow.document.documentElement,t)})},openUrl:function(e){e=s.applyFilter("openUrl",e),(e=d.substUrl(e))&&d.openUrl(e)},criticalError:function(e,t){var n="<i>"+c("This is a critical error, some functions of the program may not work correctly, please send information to the developers.")+"</i>",i=this;if(t){if(0<=i._criticalErrorShown.indexOf(t))return;if(0<=i._criticalErrorShowed.indexOf(e))return;i._criticalErrorShown.push(t),i._criticalErrorShowed.push(e)}bootbox.dialog({title:c("Critical error"),message:(e||"")+"<br/>"+n,buttons:{cancel:{label:c("Cancel"),className:"btn-default",callback:function(){}},success:{label:c("Send Error Report"),className:"btn-primary",callback:function(){}}}}).on("hidden.bs.modal",function(){i._criticalErrorShowed.slice(i._criticalErrorShowed.indexOf(e),1)})},_criticalErrorShown:[],_criticalErrorShowed:[],showDialog:function(n){var i=!1;if(this.$body.find(".bootbox.modal").length&&this.$body.find(".bootbox.modal").each(function(e,t){(l(t).find(".modal-title").length&&l(t).find(".modal-title").html()===n.title||l(t).find(".modal-body").length&&l(t).find(".modal-body").html()===n.body)&&(i=!0)}),!i){var e,t,o=this,r={};if((n=n||{}).cancel&&(r.cancel={label:n.cancelLabel||c("Cancel"),className:"btn-default",callback:function(){n.cancel.call(e,e)}}),n.success&&(r.success={label:n.successLabel||c("Ok"),className:"btn-primary",callback:function(){n.success.call(e,e)}}),n.buttons)for(var a in n.buttons)!function(e){r[a]={label:e.label||"",className:(e.className||"")+" "+(/btn-primary|btn-default/.test(e.className)?"":e.default?"btn-primary":"btn-default"),callback:function(){if(e.callback)return e.callback()}}}(n.buttons[a]);for(t in e=bootbox.dialog({size:n.size,title:n.title,className:n.className+(n.flex?" mbr-flex":""),message:n.body||"\x3c!-- Empty body --\x3e",buttons:r,onEscape:n.oncancel||function(){},show:!1}),n.id&&e.attr("id",n.id),n.buttons)e.find("[data-bb-handler="+t+"]").attr("name",t);return n.create&&n.create.call(e,e),e.find("select").dropdown({absolutePos:!0,align:"right"}),e.find("input.mbr-color").each(function(){function n(e,t){return-1==(t=t.map(function(e){return e.toUpperCase()})).indexOf(e.toUpperCase())}var t=l(this);t.spectrum("destroy").spectrum({showButtons:!1,preferredFormat:"hex",allowEmpty:!0,showInput:!0,showPaletteOnly:!0,togglePaletteOnly:!0,togglePaletteMoreText:c("More")+" >",togglePaletteLessText:c("Less")+" <",replacerClassName:t.hasClass("pull-right")?"pull-right":"",appendTo:"#innerFontDialog",maxSelectionSize:1,palette:s.getThemeColorsSet(7),move:function(e){t.val(e&&e.toHexString()),t.trigger("change")},hide:function(e){var t;e&&((t=s.projectSettings.theme.additionalSetColors)?n(e.toHexString(),t)&&n(e.toHexString(),s.getThemeColorsSet(7)[0])&&(t.length<7?t.push(e.toHexString()):(t.unshift(e.toHexString()),t.pop())):n(e.toHexString(),s.getThemeColorsSet(7)[0])?s.projectSettings.theme.additionalSetColors=[e.toHexString()]:s.projectSettings.theme.additionalSetColors=[])}})}),n.show&&n.show.call(e,e),e.on("shown.bs.modal",function(){o.fire("modalDialogShow",e,n)}),l(e).on("hide.bs.modal",function(){e.find("select").each(function(){l(l(this).data("dropdownjs-ul")).remove()}),e.find("input.mbr-color").spectrum("hide"),o.fire("modalDialogHide",e)}),e.on("hidden.bs.modal",function(){s.$body.find(".modal:visible").length&&s.$body.addClass("modal-open"),e.find("input.mbr-color").spectrum("destroy"),n.onhide&&(n.onhide.call(e,e),console.log("Warning: Using showDialog.onhide is depracated, use showDialog.hide instead")),n.hide&&n.hide.call(e,e),o.fire("modalDialogHidden",e)}),e.modal("show"),e}},showError:function(e,t){(e="object"!=(void 0===e?"undefined":i(e))?{message:e||"Unknown error"}:e).callback=e.callback||t,bootbox.alert(e)},confirmDlg:function(e,t){return"object"!==(void 0===e?"undefined":i(e))?e={body:e,cancel:function(){t(!1)},success:function(){t(!0)},oncancel:function(){t(!1)}}:(e.body=e.message,e.buttons?(e.buttons.cancel.callback=function(){e.callback(!1)},e.buttons.confirm.callback=function(){e.callback(!0)},e.buttons.confirm.default=!0):(e.cancel=function(){e.callback(!1)},e.success=function(){e.callback(!0)},e.oncancel=function(){e.callback(!1)}),e.oncancel=function(){e.callback(!1)}),s.showDialog(e)},alertDlg:function(e){return s.showDialog({body:e,success:function(){}})},Accordion:function(t,n,i){return i=l.extend({autoCollapse:!0},i),t=l(t),n=l(n),t.click(function(){var e=n.eq(t.index(this));i.autoCollapse&&n.not(e).slideUp(),e.slideToggle()}),(i.autoCollapse?(n.hide(),l(i.start_panel||n.get(0))):n).show(),{collapse:function(e){l(e||n).hide()},expand:function(e){l(e||n).show()},open:function(e){n.hide(),l(e).show()},close:function(e){l(e).hide()}}},initPopoverRange:function(e){var t=this;l(e).popover({trigger:"click,focus",content:function(){return t.renderRangeSlider(e)},html:!0,placement:"top"})},renderRangeSlider:function(e){var n=l(e),i=l('<div class="slider" style="width:150px" />').get(0),o=parseFloat(n.attr("data-min"))||0,r=parseFloat(n.attr("data-max"))||10,e=parseFloat(n.attr("data-step"))||1,a=(noUiSlider.create(i,{start:parseFloat(n.val())||o,step:e,range:{min:o,max:r}}),l("<span></span>").appendTo(l(i).find(".noUi-handle"))),s=0;return i.noUiSlider.on("update",function(e,t){s?(e=parseFloat(e[t]),l(i).removeClass("noUi-first noUi-last"),e==o?l(i).addClass("noUi-first"):e==r&&l(i).addClass("noUi-last"),a.html("<span>"+e+"</span>"),n.val(e).trigger("change")):s=1}),i},runIframe:function(e,t,n){(n=n||{}).base=n.base||window.location.href;var i="",i="<html><head>";if(i+='<base href="'+n.base+'"/>',n.links)for(var o=0;o<n.links.length;o++)i+='<link rel="stylesheet" href="'+n.links[o]+'"/>';return i=(i+="</head><body"+(s.appSettings&&(!0===s.appSettings.darkMode?' class="dark-mode"':""))+">")+(t||"")+"</body></html>",e.style.visibility="hidden",n.noScroll&&(e.setAttribute("scrolling","no"),e.style.overflow="hidden"),e.onload=function(){e.onload="",this.style.visibility="visible",n.onload&&n.onload(e.contentWindow.document.documentElement)},e.contentWindow.document.open(),e.contentWindow.document.write(i),e.contentWindow.document.close(),e},addAppResource:function(e,t){if(e)return(t=void 0===t?/\.js$/.test(e.split("?")[0]):t)?this.addAppScript(e):(this.addAppStyle(e),l.Deferred().resolve())},addCoreResource:function(e,t){var n;if(e)return void 0===t&&(t=/\.js$/.test(e.split("?")[0])),0<=(n=s.Core.$body.data("files")||[]).indexOf(e)?l.Deferred().resolve():(n.push(e),s.Core.$body.data("files",n),t?this.addCoreScript(e):(e=s.path2core(e),s.Core.$document.find("#insertBefore").before('<link rel="stylesheet" href="'+e+'"/>'),l.Deferred().resolve()))},addAppScript:function(e){var t=l.Deferred();return this.appendScriptAsync(d.path2app(e),s.$window.get(0),function(e){return t.resolve()}),t.promise()},addAppStyle:function(e){s.$body.find("#insertBefore").before('<link rel="stylesheet" href="'+d.path2app(e)+'">')},addCoreScript:function(e){var t=l.Deferred();return this.appendScriptAsync(s.path2core(e),s.iwindow,function(e){return t.resolve()}),t.promise()},appendScriptAsync:function(t,e,n){var i=document.createElement("script");i.addEventListener("load",n),i.addEventListener("error",function(e){console.warn("Error while script loading "+t,e),n&&n()}),i.src=t,(e||window).document.head.appendChild(i)},checkScriptSyntaxError:function(e,t){var i,n=document.createElement("iframe");n.style.visibility="hidden",window.document.body.appendChild(n),n.myerrors=function(e,t,n){return e&&!e.indexOf("SyntaxError:")&&((i=new Error(e)).fileName=t,i.lineNumber=n),!0},n.onload=function(){window.document.body.removeChild(n),t&&t(i)},n.contentWindow.document.open();try{n.contentWindow.document.write('<html><head><script> window.onerror = window.frameElement.myerrors <\/script><script src="'+e+'"><\/script></head><body></body></html>'),n.contentWindow.document.close()}catch(i){}},evalScript:function(t,e){var a=(e=e||{}).globals||{},n=!!e.noCheckErrors,s=e.context||window,i=e.callback_error||function(){};if((!s.eval||!s.location)&&(!(s=(s=s.ownerDocument||s).defaultView||s).eval||!s.location))return e=new Error("Wrong context of evalScript",s),console.error(e),void i(e);function o(o,r){d.loadLocalFile(o,function(e){if(e){var t,n,i={};for(n in a)i[n]=s[n],s[n]=a[n];try{s.eval(e)}catch(e){console.error(e.message,o,e.stack),t=e}for(n in i)s[n]=i[n];r(t)}else console.error("Empty script",o),r(new Error("Empty script",o))})}/^[\w]*:/.test(t)||(e=(e=s.location.href).substring(0,e.lastIndexOf("/")+1),t=e+t),n?setTimeout(function(){o(t,i)},1):this.checkScriptSyntaxError(t,function(e){e?(console.error("Script error:",e,t),i(e)):setTimeout(function(){o(t,i)},1)})},spinText:function(e){for(var i=function(e){return e[t=0,e=e.length,Math.floor(Math.random()*(e-t))+t];var t};/\{[^{}]*\}/.exec(e);)e=e.replace(/\{([^{}]*)\}(\s?)/g,function(e,t,n){return(t=i(t.split("|")))&&(t+=n),t});return e.replace(/\s$/,"")},escapeHtml:function(e){var t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};return String(e).replace(/[&<>"'\/]/g,function(e){return t[e]})},http:function(e,t){return d.http(e,t)},encrypt:(a=window.crypto,u=a&&(a.subtle||a.webkitSubtle),function(t,e){var n,i;return u?"string"!=typeof t?Promise.reject(new TypeError('"content" must be a string')):"string"!=typeof e?Promise.reject(new TypeError('"password" must be a string')):(n=a.getRandomValues(new Uint8Array(16)),i=a.getRandomValues(new Uint8Array(32)),u.importKey("raw",o(e),"PBKDF2",!1,["deriveKey"]).then(function(e){return u.deriveKey({name:"PBKDF2",salt:i,iterations:5e5,hash:"SHA-256"},e,{name:"AES-GCM",length:256},!1,["encrypt"])}).then(function(e){return u.encrypt({name:"AES-GCM",iv:n},e,o(t))}).then(function(e){return r(i,n,5e5,e)}).then(function(e){for(var t="",n=new Uint8Array(e),i=n.byteLength,o=0;o<i;o++)t+=String.fromCharCode(n[o]);return window.btoa(t)})):Promise.reject(new Error("Crypto.subtle is not implemented"))}),reloadTranslator:function(e){"MobiriseTranslator"===e.name&&d.reload()},resizeWindow:function(){s.$window.resize()},runFileDialog:function(e){return e.path&&(e.path=d.docLocation+"/"+e.path),$Bridge.runFileDialog2(e)},showPreloader:function(e){var t;s.$body.find(".preloader").length?(s.$body.find(".preloader").css({opacity:".8",transition:"0.2s"}),e&&e()):(t=l(s.preloaderHTML),s.$body.append(t),t.css({opacity:".8",transition:"0.2s"}),t.one("transitionend",function(){e&&e()}))},hidePreloader:function(e){var t=s.$body.find(".preloader");t.one("transitionend",function(){t.remove(),e&&e()}),t.css("opacity",0)},openImage:function(e,t,n,i,o,r,a){d.openImage(e,t,n,i,o,r,a)},mbrServerGet:function(e){return t.get("storage/"+e)},stopIfRepeatDecorator:function(n,i){var o=null;return function(){var e=this,t=arguments;clearTimeout(o),o=setTimeout(function(){n.apply(e,t)},i)}}},events:{beforeAppLoad:function(){l(document).on("show.bs.modal",function(e){l(e.target).find(".close").addClass("mbr-icon-times").empty()})},translateLoaded:function(){l(".preloader .logo").last().html(c("LOADING..."))}}})},["jQuery","mbrApp","TR()","Bridge","mbrServer"])},function(e,t,n){"use strict";var o=n(23);defineM("app-migrate",function(e,i){i.regExtension({name:"migrate",global:{dirList:function(e,t,n){o.Bridge.dirList(e,t,n)},transformImage:function(e,t,n){o.Bridge.transformImage(e,t,n)},getComponent:function(e){return i.Core.getComponent(e)},getCoreTemplate:function(){return i.Core.$template},removeComponent:function(e,t,n){return i.Core.removeComponent(e,t,n)},getUniqCompName:function(){return i.Core.getUniqCompName()},getCoreUniqNum:function(){return i.Core.uniqNum()}},events:{load:function(){i.Core.on("savedMediaIconFontDialog",function(e,t,n){i.fire("savedMediaIconFontDialog",e,t,n)}),i.Core.on("updateGlobalComponents",function(e,t){i.fire("updateGlobalComponents",e,t)}),i.Core.addFilter("getComponentsAnchorList",function(e){return i.applyFilter("getComponentsAnchorList",e)})},loaded:function(){i.addFilter("additionalSiteSettings",function(e){return i.applyFilter("additionalPageSettings",e)})}}})},["jQuery","mbrApp"])},function(e,t,n){"use strict";var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=n(142),f=(i=i)&&i.__esModule?i:{default:i},h=n(23);defineM("TR",function(u,p){var a={},n={},i=u.Deferred();function c(e,i){function r(e){var t=e;function n(){return"global"!==i&&a.groups.global[e]?a.groups.global[e]:e}return i=i||"global",t=a.groups?a.groups[i]&&a.groups[i][e]||n():t}return e&&("string"==typeof e&&e.search(/<[^>]+\/?>/)<0?r:function(e){var t;if("string"==typeof e)(t=document.implementation.createHTMLDocument("fake doc").createElement("div")).innerHTML=e;else{if(!e.nodeType)return e;t=e}return function e(t){var n;if(1===t.nodeType?t.hasAttribute("title")&&t.setAttribute("title",r(t.getAttribute("title").trim())):3===t.nodeType&&(n=t.textContent,!/^\s+$/.test(n))&&/[A-Za-z]+/.test(n)&&(t.textContent=t.textContent.replace(t.textContent.trim(),r(t.textContent.trim()))),t.childNodes.length)for(var i=0,o=t.childNodes.length;i<o;i++)e(t.childNodes[i])}(t),t.innerHTML})(e)}function t(){var t,n;f.default.getSettings("language").then(function(e){return t=e.split('"')[1]||e||"en",f.default.osLocale()}).then(function(e){var s,l;n=(n=e.match(/([a-z]+)_/))&&n[1]||"",s=t,l=n,p.getTranslateFilesInfo().then(function(e){for(var t,n,i="",o="",r=0,a=e.length;r<a;r++)o=l===e[r].language?"selected":"",i+='<option value="'+e[r].language+'" '+o+">"+e[r].title+"</option>";t=['<div class="form-group">','   <select class="lang-select">',i,"   </select>","</div>"],n=p.showDialog({title:c("Change language?"),className:"change_language",body:t.join("\n"),buttons:{success:{label:c("Ok"),className:"btn-primary",callback:function(){var e=n.find(".lang-select").val();e!==s&&f.default.setSettings("language",e).then(function(){h.Bridge.reload()}).fail(function(){p.alertDlg(c("Error setup language!"))})}}},show:function(e){o||e.find("select.lang-select").val("en").change()},cancel:function(){}})})}).fail(function(e){console.error(e)})}return n.updateLangObj=function(e){for(var t in e.language&&!a.language&&(a.language=e.language),e.title&&!a.title&&(a.title=e.title),a.groups||(a.groups={}),e.groups)if(e.groups[t].length){a.groups[t]||(a.groups[t]={});for(var n=0,i=e.groups[t].length;n<i;n++)a.groups[t][e.groups[t][n].phrase]=e.groups[t][n].translate}},n.init=function(r){var a=this;return p.on("themeLoaded",function(){p.getTranslateFileData(r,p.theme.name).then(function(e,t){e&&a.updateLangObj(e)})}),p.getTranslateFileData(r).then(function(e,t){var o=u.Deferred();e&&a.updateLangObj(e),p.getPluginsExtensions().then(function(e){!function n(i){i<e.length?p.getTranslateFileData(r,e[i].name).then(function(e,t){e&&a.updateLangObj(e),n(++i)}):o.resolve()}(0)}).fail(function(e){console.error(e)}).always(function(){o.resolve()})})},p.regExtension({name:"translate",global:{languageList:{af:"Afrikaans",am:"Amharic",ar:"Arabic",az:"Azerbaijani",be:"Belarusian",bg:"Bulgarian",bh:"Bihari",bn:"Bengali",br:"Breton",bs:"Bosnian",ca:"Catalan",co:"Corsican",cs:"Czech",cy:"Welsh",da:"Danish",de:"German",el:"Greek",en:"English",eo:"Esperanto",es:"Spanish",et:"Estonian",eu:"Basque",fa:"Persian",fi:"Finnish",fil:"Filipino",fo:"Faroese",fr:"French",fy:"Frisian",ga:"Irish",gd:"Scots Gaelic",gl:"Galician",gn:"Guarani",gu:"Gujarati",ha:"Hausa",haw:"Hawaiian",he:"Hebrew",hi:"Hindi",hr:"Croatian",hu:"Hungarian",hy:"Armenian",ia:"Interlingua",id:"Indonesian",is:"Icelandic",it:"Italian",ja:"Japanese",jw:"Javanese",ka:"Georgian",kk:"Kazakh",km:"Cambodian",kn:"Kannada",ko:"Korean",ku:"Kurdish",ky:"Kyrgyz",la:"Latin",ln:"Lingala",lo:"Laothian",lt:"Lithuanian",lv:"Latvian",mk:"Macedonian",ml:"Malayalam",mn:"Mongolian",mo:"Moldavian",mr:"Marathi",ms:"Malay",mt:"Maltese",ne:"Nepali",nl:"Dutch",no:"Norwegian",oc:"Occitan",om:"Oromo",or:"Oriya",pa:"Punjabi",pl:"Polish",ps:"Pashto",pt:"Portuguese",qu:"Quechua",rm:"Romansh",ro:"Romanian",ru:"Russian",sd:"Sindhi",sh:"Serbo-Croatian",si:"Sinhalese",sk:"Slovak",sl:"Slovenian",sn:"Shona",so:"Somali",sq:"Albanian",sr:"Serbian",st:"Sesotho",su:"Sundanese",sv:"Swedish",sw:"Swahili",ta:"Tamil",te:"Telugu",tg:"Tajik",th:"Thai",ti:"Tigrinya",tk:"Turkmen",tlh:"Klingon",to:"Tonga",tr:"Turkish",tt:"Tatar",tw:"Twi",ug:"Uighur",uk:"Ukrainian",ur:"Urdu",uz:"Uzbek",vi:"Vietnamese",xh:"Xhosa",yi:"Yiddish",yo:"Yoruba",zh:"Chinese",zu:"Zulu"},TR:c,getAccountTranslateDir:function(){return p.getAccountPath()?p.getAccountPath()+"/translations":""},getSrcTranslationsFolder:function(e){return"interface"!==e&&e?p.getAddonDir(e)+"/translations":"web/assets/translations"},getTranslationsFolder:function(e){var t=p.getAccountTranslateDir();return"interface"!==e&&e?t?t+"/"+e:"":t},validateTranslationData:function(i){return p.languageList[i.language]===i.title&&function(){if(i.groups)for(var e in i.groups)if(i.groups[e].length)for(var t=0,n=i.groups[e].length;t<n;t++)if(i.groups[e][t].phrase&&void 0!==i.groups[e][t].translate)return!0;return!1}()},getTranslateFileData:function(e,t){var i=u.Deferred(),o=[];return t&&p.getTranslationsFolder(t)&&o.push(p.getTranslationsFolder(t)+"/"+e+".json"),p.getSrcTranslationsFolder(t)&&o.push(p.getSrcTranslationsFolder(t)+"/"+e+".json"),function t(n){o.length<=n?i.resolve():f.default.loadLocalFile(o[n]).then(function(e){try{e=JSON.parse(e),p.validateTranslationData(e)?i.resolve(e,o[n]):t(++n)}catch(e){t(++n)}})}(0),i.promise()},getPluginsExtensions:function(){var i=u.Deferred();return p.getAddons(function(e){var t=[];if(e)for(var n in e)"plugin"===e[n].type&&t.push(e[n]);i.resolve(t)}),i.promise()},getTranslateFilesPaths:function(t){var c=[],n=u.Deferred(),r=p.getTranslationsFolder(t),d=p.getSrcTranslationsFolder(t),i=d+"/en.json",o=r+"/en.json";return f.default.isExistsLocal(p.path2core(i)).then(function(e){return p.isValidTranslateFile(e?i:o)}).then(function(e){e?(r?f.default.dirList(r,{names:["*.json"],filter:1,recursive:!1}).then(function(e){var o=u.Deferred();return function t(n){var i;n<e.length?(i=r+"/"+e[n],"en"!==h.Bridge.splitPath(i).name?p.isValidTranslateFile(i).then(function(e){e&&c.push(i),t(++n)}):t(++n)):o.resolve()}(0),o.promise()}):u.Deferred().resolve()).then(function(){return"interface"!==t&&t?f.default.dirList(d,{names:["*.json"],filter:1,recursive:!1}):f.default.getLocalJSON(d+"/list.json")}).then(function(s){var l=u.Deferred();return function t(n){var i,e,o=!1;if(n<s.length){if(i=d+"/"+s[n],e=h.Bridge.splitPath(i).name,c.length)for(var r=0,a=c.length;r<a;r++)if(e===h.Bridge.splitPath(c[r]).name){o=!0;break}o?t(++n):p.isValidTranslateFile(i).then(function(e){e&&c.push(i),t(++n)})}else l.resolve()}(0),l.promise()}).then(function(){n.resolve(c)}):n.resolve([])}),n.promise()},isValidTranslateFile:function(e){var t=u.Deferred();return h.Bridge.getLocalJSON(e,function(e){e?t.resolve(p.validateTranslationData(e)):t.resolve(!1)},function(e){e&&console.error(e),t.resolve(!1)}),t.promise()},getTranslateFilesInfo:function(e){return p.getTranslateFilesPaths(e).then(function(e){var i=u.Deferred(),o=[];return function t(n){n<e.length?f.default.loadLocalFile(e[n]).then(function(e){if(e)try{e=JSON.parse(e),p.validateTranslationData(e)&&o.push({title:e.title,language:e.language})}catch(e){}t(++n)}):i.resolve(o)}(0),i.promise()})},getLangInfo:function(){return a},startLanguageSelect:t},events:{load:function(){c(p.$sidebar[0]),c(p.$pagesList[0]),c(p.$pageSettings[0]),c(p.$componentsLayer[0]),c(p.$themeToggleBtn[0]),bootbox.setLocale(a.language),f.default.getSettings("language").then(function(e){e?a.language=e.split('"')[1]||e:t()}),p.addFilter("addAppSettingsItem",function(e){return[e,"<div>",'   <label class="col-md-3">'+c("Language")+"</label>",'   <div class="col-md-9">',"       <br>",'       <div class="setting">','           <div class="row">','               <div class="input-group">','                   <select class="form-control" name="language"></select>',"               </div>","           </div>","       </div>","   </div>","</div>"].join("\n")})},beforeAppLoad:function(){p.Core.addFilter("loadComponentTemplate",function(e,t,n,i){return e=p.isSecondaryComponent(t)?e&&c(e,p.theme.name):e})},showAppSettings:function(r){p.getTranslateFilesInfo().then(function(e){var t="";if(e.length)for(var n=0,i=e.length;n<i;n++)t+='<option value="'+e[n].language+'">'+e[n].title+"</option>";u("select[name=language]").append(t),u("select[name=language]").change();var o=r.find('[name="language"]');a.language&&(o.val(a.language),o.trigger("change"))})},applyAppSettings:function(e){e=e.find('[name="language"]');a.language&&e.val()&&e.val()!==a.language&&h.Bridge.setSettings("language",e.val(),function(){h.Bridge.reload()})},accountInited:function(e){var t=void 0;f.default.getSettings("language").then(function(e){return e?"en"==(t=e.split('"')[1]||e):f.default.osLocale().then(function(e){return(e=e&&e.split("_")[0])&&(t=e,f.default.setSettings("language",e)),e})}).then(function(e){return!e&&p.getTranslationsFolder()?p.isValidTranslateFile(p.getTranslationsFolder()+"/"+t+".json"):e}).then(function(e){return!e&&p.getSrcTranslationsFolder()?p.isValidTranslateFile(p.getSrcTranslationsFolder()+"/"+t+".json"):e}).then(function(e){if(e&&t)return n.init(t);f.default.setSettings("language","en"),t="en"}).fail(function(e){console.error("Error translate file",e)}).always(function(){i.resolve(function(n){return"object"==(void 0===n?"undefined":o(n))&&n.func?function(e,t){return c(e,t=t||(n.name+".js"===n.path?"web/"+n.path:n.name))}:c.apply(null,arguments)}),p.fire("translateLoaded")})}}}),i},["jQuery","mbrApp"])},function(e,t,n){"use strict";var o=n(23);defineM(function(t,a,i){var n=!1;a.regExtension({name:"aws",global:{getUserInfo:function(){return n&&t.extend({},!0,n)},checkUserInfo:function(e){e=e||function(){},n&&n.id&&"verified"in n?e(this.getUserInfo()):e()},getAccountPath:function(){return""},signUp:function(e,t){i.signup(e).then(function(e){t()}).catch(function(e){t(e)})},signIn:function(e,t,n){i.signin({email:e,password:t}).then(function(e){n()}).catch(function(e){n(e)})},signInWith:function(e,t){console.warn("Try to sign-in"),t&&t("Signin is denided")},signOut:function(){i.signout().then(function(e){a.fire("logout",a.getUserInfo().email),setTimeout(function(e){o.Bridge.goLogin()},1)})},logout:function(){this.signOut()},resetPassword:function(){var e=a.getUserInfo().email;i.lostpassword(e).then(function(){a.alertDlg("We've sent an email with instructions on how to reset your password to the email address $email$".replace("$email$",e)),a.fire("sendResetPassword",e)}).catch(function(e){a.alertDlg(e.message)})},serverAddons:function(e){return t.Deferred().reject(null)},connectUsrDomain:function(e,t){return o.Bridge._REST("sites/"+a.projectSettings.id+"/domains",{method:"POST",data:JSON.stringify({name:e})})},deleteUsrDomain:function(t){return a.infoUsrDomain(t).then(function(e){if(e)return o.Bridge._REST("sites/"+t+"/domains/"+a.projectSettings.domains[1].id,{method:"DELETE"});throw new Error("Invalid site information")},function(e){throw new Error(e)})},changeUsrDomain:function(e){return o.Bridge._REST("sites/"+a.projectSettings.id+"/domains/0",{method:"PUT",data:JSON.stringify({name:e+".@"})})},infoUsrDomain:function(e){return o.Bridge._REST("sites/"+e,{method:"GET"})},checkSign:function(t,e){var n,i=a.getUserInfo();function o(){n=!0}i&&i.email?t(!0):(n=!1,a.on("signedin",o),a.on("closedSignForm",function e(){a.off("closedSignForm",e),a.off("signedin",o),t&&t(n)}),a.showSignForm(SSF_DEFAULT,e))},handleServerError:function(e,t){403==t&&n&&n.token&&a.fire("accountAccessExpired")},isPremiumUser:function(){return i.licenses().then(function(e){return!!e.filter(function(e){return e.items.some(function(e){return"subscription"===e.type&&!e.expired})}).length})},goToBuyPremium:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.alert,e=e.delay,e=void 0===e?2e3:e;void 0!==t&&!t||a.confirmDlg({message:"This feature is available with our premium plans",buttons:{cancel:{label:"Cancel",className:"btn-default"},confirm:{label:"Upgrade",className:"btn-primary"}},callback:function(e){e&&a.goToBuyPremium({alert:!1,delay:!1})}}),setTimeout(function(){a.openUrl("https://mobirise.com/p/?u="+a.getUserInfo().id)},e||0)},reqUserInfo:function(){return a.getUserInfo()?Promise.resolve(a.getUserInfo()):i.getProfile()}},events:{bridgeInit:function(e){var t=this;i.getProfile().then(function(e){n=e,t.fireOnce("accountInited",e)}).catch(function(){console.error("Account is unavailable, need to re-login..."),t.fire("needLogin")}),o.Bridge.bind("auth-error",function(e){a.fire("authError",e)})},load:function(){a.addFilter("getPluginResource",function(e,t,n,i,o,r){return void 0!==a.projectSettings.theme.staticStyles&&0===t.indexOf("Theme")&&"css"===n&&a.appSettings.removeMobiriseReferences&&(result.css=""),e}),a.addFilter("publishFiles",function(e){for(var t=0;t<e.length;){var n=e[t];if(0<=n.dest.indexOf("project.mobirise"))e.splice(t,1);else{if(n.srcList&&n.srcList.length)for(var i=0;i<n.srcList.length;i++)n.srcList[i].src.startsWith(a.projectPath)&&(console.warn("Publish source is in project",n),e.splice(t,1));t++}}return e}),a.addFilter("publishHTML",function(e,t,n){return e=e.replace(/(?:href|src)\=\"([^\"#\?]+)/gim,function(e,t){var n;return!/^http[s]?\:/.test(t)&&!/\.html$|\.htm$|\.xht$|\.xhta$|\.xhtml$|\.shtml$|\.shtm$|\.php$|\.php3$|\.php4$|\.php5$|\.phps$|\.phpt$|\.phtml$|\.asp$|\.aspx$|\.jsp$|\.cgi$|\.pl$|\.py$/i.test(t)&&(n=void 0,t.startsWith(".")?n=a.projectSettings.resourcesUrl+t.replace(/^.\//,"")+"?rnd="+Date.now():t.startsWith("assets/")&&(n=a.projectSettings.resourcesUrl+t+"?rnd="+Date.now()),n)?e.replace(t,n):e})}),a.addFilter("initFontsForFrame",function(n,e){return e.forEach(function(e,t){/^http[s]?\:/.test(e.url)&&(n[t]=e.url)}),n}),a.addFilter("checkProjectFonts",function(e){return[]}),a.addFilter("downloadFonts",function(e){return[]}),a.Core.addFilter("getComponent",function(e,t,n,i){return e&&(e._customHTML=a.Core.replaceSystemVariables(e._customHTML,e)),e})},modalDialogShow:function(e,t){"google-fonts"==t.className&&e.find("#media-tabs li:first button").hide()},authError:function(e){a.showError(e,function(){a.fire("needLogin")})},needLogin:function(){o.Bridge.goLogin()}}}),a.on("openThemeSettings",function(){t("[data-setting-name=isScrollToTopButton]").hide()})},["jQuery","mbrApp","mbrServer"])},function(e,t,n){"use strict";defineM("app-plugin-sidebar",function(o,e){e.regExtension({name:"plugin-sidebar",global:{$sidebar:o(".app-sidebar"),$sidebarToggle:o(".sidebar-toggle .mbr-icon-bars"),$sidebarClose:o(".sidebar-close"),openSidebar:function(){var t=this;this.$body.hasClass("app-page-settings-open")||this.$body.hasClass("app-component-code-editor-open")||(this.$body.toggleClass("app-sidebar-open"),e.$body.on("keyup.escListenerSidebar",function(e){"Escape"!==e.key||t.$body.hasClass("modal-open")||t.$body[0].className.replace("app-sidebar-open","").trim().includes("open")||(t.closeSidebar(),e.stopPropagation())}),this.fire("sidebarOpened"))},closeSidebar:function(){this.$body.hasClass("app-page-settings-open")||(this.$body.removeClass("app-sidebar-open"),e.$body.off("keyup.escListenerSidebar"),this.fire("sidebarClosed"))},addSidebarItem:function(e,t){t||(t=e,e=""),(t=o.extend({title:e,description:t.tooltip||t.title,className:"sidebar-block",subTitle:"",subClass:"",hover:!0,customHTML:""},t)).hover&&(t.className+=" hover-block");var n,i='<div class="hover-block @className@" data-tooltipster="right" title="@description@"><span class="hover-block-arrow mbr-icon-angle-right"></span><h4>@title@</h4></div>';for(n in t)i=i.replace(new RegExp("@"+n+"@","g"),t[n]);return i=o(i),t.customHTML&&i.append(t.customHTML),i.appendTo(this.$sidebar),t.onclick&&i.click(t.onclick),i}},events:{load:function(){var t=this;t.$sidebarToggle.on("mouseenter touchenter",function(e){t.openSidebar()}),t.$sidebarClose.on("click",function(){t.closeSidebar()})},clickBody:function(e){o(e.target).is(".mbr-icon-bars")||o(e.target).is(".app-sidebar")||o(e.target).parents(".app-sidebar").length||o(e.target).parents(".app-layer").length||o(e.target).is(".app-layer")||o(e.target).is("ul, li")||this.closeSidebar()},toggleComponents:function(){this.closeSidebar()}}})},["jQuery","mbrApp"])},function(e,t,n){"use strict";defineM("app-user-account",function(e,i,o,n,t){var r=0;i.regExtension({name:"user-account-dialog",global:{$btnAccountBlock:e(".account-block"),$accountSettings:e("#app-account-settings"),updateAccountBlock:function(){this.fire("updateAccountBlock");var e=this.$btnAccountBlock.find(".app-user-email"),t=o("Please, Sign Up"),n=i.getUserInfo();n&&n.email?(this.$btnAccountBlock.addClass("app-user-signed"),t=n.email):this.$btnAccountBlock.removeClass("app-user-signed"),e.text(t),this.fire("updatedAccountBlock")},showAccountSettings:function(){var t=this;this.$body.hasClass("app-account-settings-open")||(this.fire("showSideBarsSection",this.$accountSettings),this.fire("showAccountSettings"),e(".account-email").text(i.getUserInfo().email),this.$body.addClass("app-account-settings-open"),i.$body.on("keyup.escListenerAccountSettings",function(e){"Escape"!==e.key||t.$body.hasClass("modal-open")||(t.hideAccountSettings(),e.stopPropagation())}),this.fire("showedAccountSettings"))},hideAccountSettings:function(){this.$body.hasClass("app-account-settings-open")&&(this.fire("hideAccountSettings"),this.$body.removeClass("app-account-settings-open"),i.$body.off("keyup.escListenerAccountSettings"),this.fire("hiddenAccountSettings"))},_initAccountSettings:function(){var t=this;t.$accountSettings.on("click",function(e){e.stopPropagation()}),t.$accountSettings.on("click",".app-layer-close",function(e){t.hideAccountSettings()}),t.on("clickBody",function(){t.hideAccountSettings()}),o(i.$accountSettings[0]),i.fire("initAccountSettings",t.$accountSettings)}},events:{accountInited:function(){i.getUserInfo()&&this.updateAccountBlock()},signedin:function(){this.updateAccountBlock()},load:function(){var t=this;t._initAccountSettings(),t.$btnAccountBlock.on("click",function(e){e.preventDefault(),e.stopPropagation(),i.getUserInfo()?t.showAccountSettings():t.showSignForm()}),e("#accountResetPassword").click(function(){t.resetPassword()}),e("#accountLogout").click(function(){t.logout()})},published:function(){var t=this;i.getUserInfo()||r||(r++,n.getSettings("showSignFormOnLoad",function(e){"no"!==e&&""!==e&&t.showSignForm(1)}))},showSideBarsSection:function(){this.hideAccountSettings()},sidebarClosed:function(){this.hideAccountSettings()}}})},["jQuery","mbrApp","TR()","Bridge","mbrServer"])},function(e,t,n){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=n(142),p=(o=o)&&o.__esModule?o:{default:o},l=n(23);defineM("app-fonts",function(f,h,m){var a="AIzaSyAHKXsrK2fMCl5gJJBy4N8t-_959d1zDls";function u(e,t){this.API_KEY=e,this.settingName=t,this.gFonts={},this.$iframeGoogle="",this.$iframeLocal="",this.loadQuantity=20,this._blockScroll=!1,this._lastIndex=0,this.$loader=f(h.preloaderHTML),this.fontsPath=h.projectPath+"/fonts",this.requestUrl="https://www.googleapis.com/webfonts/v1/webfonts?sort=popularity&key="+this.API_KEY,this.init=function(){var r=this;function e(e,t){h.runIframe(r.$modalFonts.find("#"+e).get(0),['<ul class="gf-list">',"</ul>"].join("\n"),{onload:t,links:["assets/bootstrap/bootstrap.min.css","assets/bootstrap-material/css/material.min.css","app/interface/app-plugin-iconfont.css","css/main.css","assets/fonts/fonts.css"]})}r.$modalFonts=h.showDialog({title:m("Fonts"),className:"google-fonts",body:['<div class="row">','   <div class="col-md-12">','       <form class="google-fonts-form">','           <div class="form-group clearfix">','               <div class="col-md-12" id="media-tabs">','                   <ul class="nav nav-tabs">',l.Bridge.isMobile?"":'                       <li>                           <button style="margin: 0 5px 0 0" class="btn btn-primary '+(h.isAMP()?"disabled":"")+'" id="browse-font">'+m("Browse Computer")+"</button>                       </li>",'                       <li class="active">','                           <a href="#1" data-toggle="tab">'+m("Google Fonts")+"</a>","                       </li>",l.Bridge.isMobile?"":'                       <li>                           <a href="#2" data-toggle="tab" id="downloaded-fonts-tab">'+m("Site Fonts")+"</a>                       </li>","                   </ul>",'                   <div class="tab-content">','                       <div class="tab-pane active" id="1">','                           <iframe id="gf-iframe" frameborder="0" width="100%" height="500px" src="about:blank"></iframe>',"                       </div>",'                       <div class="tab-pane" id="2">','                           <iframe id="lf-iframe" frameborder="0" width="100%" height="500px" src="about:blank"></iframe>',"                       </div>","                   </div>","               </div>","           </div>","       </form>","   </div>","</div>"].join("\n"),buttons:{fontsOk:{label:m("Ok"),className:"btn-primary"}},hide:function(){h.redrawStyleChanger()},cancel:function(){}}),r.$modalFonts.find(".modal-content").before(r.$loader),r.$loader.css({opacity:.8}),r.$loader.show(),r.$modalFonts.find("#browse-font").on("click",function(e){e.preventDefault(),l.Bridge.runFileDialog(m("Select font"),l.Bridge.docLocation,"Fonts file (*.eot *.woff *.ttf)",function(e){var t,n,i,o;e&&(r.$loader.show(),t=l.Bridge.splitPath(e),n=decodeURI(t.name),i=r.fontsPath+"/"+t.name,o=i+"/font."+t.ext,h.getProjectFont(n)?(r.fillCards(r.$iframeLocal,h.projectSettings.siteFonts,function(){r.$loader.hide()},!0),h.alertDlg("'"+n+"' font is already loaded!")):l.Bridge.copyLocal(e,o,function(e){e?(e=["@font-face {","   font-family: '"+n+"';","   src: url('"+e+"');","}\n"].join("\n"),l.Bridge.saveLocalFile(i+"/style.css",e,function(e){e?(h.projectSettings.siteFonts.push({css:"'"+n+"'",name:n,url:null,file:o}),r.activateFont(n)):(r.fillCards(r.$iframeLocal,h.projectSettings.siteFonts,function(){r.$loader.hide()},!0),h.alertDlg(m("Error saving style.css for $font name$").replace("$font name$","'"+n+"'")))})):(r.fillCards(r.$iframeLocal,h.projectSettings.siteFonts,function(){r.$loader.hide()},!0),h.alertDlg("Error copying file!"))}))})}),e("gf-iframe",function(){r.$iframeGoogle=r.$modalFonts.find("#gf-iframe").contents(),r.$iframeGoogle.find("body").addClass("gf-body"),r.$iframeGoogle.find("head").append('<link id="insertBefore">'),r.$iframeGoogle.find("body").prepend(['<div class="gf-form clearfix">','   <input class="form-control gf-form__input" value="" type="text" placeholder="'+m("Search by font name")+'">',"</div>"].join("\n")),r.$iframeGoogle.find(".gf-form .gf-form__input").on("keydown",function(e){var i=f(this),o=setTimeout(function(){var e=i.val().trim(),t=r.searchFonts(e),n=(r.$iframeGoogle.find("#insertBefore").nextAll().remove(),r.$iframeGoogle.find(".gf-list").replaceWith('<ul class="gf-list"></ul>'),r.$iframeGoogle.find(".gf-list"));r.$loader.show(),t.length?e?(r.$iframeGoogle.off(),r._lastIndex=0,r._blockScroll=!0,r.$loader.show(),r.fillCards(r.$iframeGoogle,t,function(){r.$loader.hide()}),r._blockScroll=!1,n.on("scroll",function(){r._blockScroll||n.height()+n.scrollTop()>n[0].scrollHeight-10&&(r._blockScroll=!0,r.$loader.show(),r.fillCards(r.$iframeGoogle,t,function(){r.$loader.hide()}),r._blockScroll=!1)})):(r._lastIndex=0,r.fillCards(r.$iframeGoogle,r.gFonts,function(){r.$loader.hide()})):(n.append('<h2 class="gf-list__error">No fonts found!</h2>'),r.$loader.hide()),clearTimeout(o)},300)}),r.getGoogleFonts(function(e,t){e?(r.$loader.hide(),h.alertDlg("Connection error!")):(r.gFonts=t,r.fillCards(r.$iframeGoogle,r.gFonts,function(){r.$loader.hide(),r.$iframeGoogle.find(".gf-list").on("scroll",function(){var e;r._blockScroll||(e=r.$iframeGoogle.find(".gf-list")).height()+e.scrollTop()>e[0].scrollHeight-10&&(r._blockScroll=!0,r.$loader.show(),r.fillCards(r.$iframeGoogle,r.gFonts,function(){r.$loader.hide()}),r._blockScroll=!1)})}))})}),e("lf-iframe",function(){r.$iframeLocal=r.$modalFonts.find("#lf-iframe").contents(),r.$iframeLocal.find("body").addClass("lf-body"),f("#downloaded-fonts-tab").on("click",function(){f(this).parent().hasClass("active")||(r.$loader.show(),r.fillCards(r.$iframeLocal,h.projectSettings.siteFonts,function(){r.$loader.hide()},!0))})})}}function e(){f("#theme-settings").find(".app-layer-font .dropdownjs").each(function(){var e=f(this).data("select"),e=f(e.data("dropdownjs-ul")),t=f(this).closest("[data-setting-name]").data("setting-name"),t=f('<button name="fontManager" class="btn  btn-primary" data-setting-name="'+t+'">'+m("More fonts")+"</button>");e.find('button[name="fontManager"]').length||(e.append(t),t.on("click",function(){new u(a,f(this).data("setting-name")).init()}))})}u.prototype.$loader=f(h.preloaderHTML),u.prototype.searchFonts=function(e){for(var t=[],n=new RegExp(e,"i"),i=0,o=this.gFonts.length;i<o;i++)0<=this.gFonts[i].family.search(n)&&t.push(this.gFonts[i]);return t},u.prototype.getGoogleFonts=function(i){l.Bridge.http(this.requestUrl,{success:function(e,t){var n;if(200===t.statusCode||200===t.code||200==t.status)try{n=JSON.parse(e).items,i(null,n)}catch(e){i(!0)}else i(!0)},error:function(){i(!0)},withCredentials:!1})},u.prototype.getFontLink=function(e){for(var t,n="https://fonts.googleapis.com/css?family="+e.family.replace(/\s/g,"+"),i="",o=0,r=e.variants.length;o<r;o++)(t=e.variants[o]).match(/\d+italic/)?t=t.replace("italic","i"):t.match("italic")?t=t.replace("italic","400i"):t.match("regular")&&(t=t.replace("regular","400")),i+=o<r-1?t+",":t;return n+=":"+i},u.prototype.activateFont=function(e){this.$modalFonts.trigger("hidden.bs.modal");var t='.app-layer-font[data-setting-name="'+this.settingName+'"] select',t=f("#theme-settings").find(t);t.val(e),t.trigger("change")},u.prototype.fillCards=function(n,i,o,e){var r=this;if(e)h.initFontsForFrame(n,function(){n.find(".gf-list").replaceWith('<ul class="gf-list"></ul>');for(var e=0,t=i.length;e<t;e++)r.appendCard(n,i[e],!0);o&&o()});else if(r._lastIndex>=r.gFonts.length)o();else{for(var t=r._lastIndex,a=r._lastIndex+r.loadQuantity;t<a&&i[t];t++)n.find("head").append('<link href="'+r.getFontLink(i[t])+'" rel="stylesheet">'),r.appendCard(n,i[t]);r._lastIndex=t,setTimeout(function(){o&&o()},1e3)}},u.prototype.appendCard=function(e,o,l){var c=this,d=l?o.name:o.family,t=h.getProjectFont(d),u=f(['<li class="gf-list__item">','   <div class="gf-card ',t?"gf-card_downloaded":"",'   ">','       <div class="gf-card__controls">','           <ul class="gf-controls">','               <li class="gf-controls__item">','                   <span class="gf-controls__button ',t?"gf-controls__button_del mbr-icon-trash":"gf-controls__button_add mbr-icon-plus",'                   "></span>',"               </li>","           </ul>","       </div>",'       <p class="gf-card__title">',"           "+d,"       </p>",'       <p class="gf-card__text">',m("The quick brown fox jumps over the lazy dog."),"       </p>","   </div>","</li>"].join("\n"));function p(e){function t(t){c.downloadFonts(t,function(e){e?h.alertDlg(m("Download font error!")):(c.$loader.show(),c.activateFont(t.family),h.fire("downloadedFont",t)),c.$loader.hide()})}if(e.preventDefault(),c.$loader.show(),o.files)t(o);else for(var n=0,i=c.gFonts.length;n<i;n++)if(o.name===c.gFonts[n].family){t(c.gFonts[n]);break}}e.find(".gf-list").append(u),u.find(".gf-card__text").css({"font-family":d}),t?u.find(".gf-controls__button").off().on("click",function(e){e.preventDefault();var s=f(this);c.$loader.show(),c.isFontInUse(d)?(h.alertDlg(m("This is the font used in the project!")),c.$loader.hide()):c.removeFont(d,function(e){if(e){if(l){u.remove();var t=c.$iframeGoogle.find(".gf-list").find('.gf-card__title:contains("'+d+'")');if(t.length)for(var n=0,i=t.length;n<i;n++){var o=f(t[n]),r=o.prev().find(".gf-controls__button"),a=r.closest(".gf-card");if(o.text().trim()===d){c.triggerFontButton(r),r.off(),a.on("click",p);break}}}else c.triggerFontButton(s),s.off(),s.closest(".gf-card").on("click",p);h.fire("deletedFont",d),h.alertDlg(m("This font has been successfully removed."))}else h.alertDlg(m("Font removal error!"));c.$loader.hide()})}):u.find(".gf-card").off().on("click",p)},u.prototype.triggerFontButton=function(e){e.hasClass("gf-controls__button_add")?e.removeClass("gf-controls__button_add mbr-icon-plus").addClass("gf-controls__button_del mbr-icon-trash").closest(".gf-card").addClass("gf-card_downloaded"):e.removeClass("gf-controls__button_del mbr-icon-trash").addClass("gf-controls__button_add mbr-icon-plus").closest(".gf-card").removeClass("gf-card_downloaded")},u.prototype.downloadFonts=function(r,t){var e,a=h.projectPath+"/fonts/"+r.family,s="",n=[],i=this;for(e in r.files)n.push({weight:e,file:r.files[e]});function o(e){h.getProjectFont(e.family)||h.projectSettings.siteFonts.push({css:"'"+e.family+"', "+e.category,name:e.family,url:i.getFontLink(e)})}n=h.applyFilter("downloadFonts",n),h.waitAllAndDo(n,function(i,o){l.Bridge.download2(i.file,function(e){var n;e?(n=a+"/"+i.weight+".ttf",l.Bridge.moveLocal(e,n,function(e){var t;e?(e=(e=i.weight.match(/([0-9]+)([a-z]+)?/))?(t=e[2]||"normal",e[1]):(t=i.weight,400),s+=["@font-face {","   font-family: '"+r.family+"';","   font-style: "+t+";","   font-weight: "+e+";","   src: url('"+n+"') format('truetype');","}\n"].join("\n"),o(s)):(o(""),0)})):(o(""),0)})},function(){s?l.Bridge.saveLocalFile(a+"/style.css",s,function(e){e?(o(r),t()):t(m("Error file saving!"))}):(o(r),t())})},u.prototype.removeFont=function(i,o){var e=h.projectPath+"/fonts/"+i;l.Bridge.removeLocal(e,function(e){if(e){var t,n=i;for(t in h.projectSettings.siteFonts)if(h.projectSettings.siteFonts[t].name===n){h.projectSettings.siteFonts.splice(t,1),o(!0);break}}else o(!1)})},u.prototype.isFontInUse=function(e){var t=h.getUsedFonts(),n=t.length;if(n)for(var i=0;i<n;i++)if(e===t[i].name)return!0;return!1},h.regExtension({name:"fonts",global:{getThemeFonts:function(){var e=[];return"object"===i(this.theme.params.theme)&&this.theme.params.theme.fonts&&(e=f.extend([],this.theme.params.theme.fonts)),this.applyFilter("getThemeFonts",e)||[]},getAccesibleFonts:function(){var i=[].concat(h.projectSettings.siteFonts||[]),o=i.length;return h.getThemeFonts().forEach(function(e){for(var t=e.name,n=0;n<o;n++)if(t==i[n].name)return;i.push(e)}),i},getFont:function(e){for(var t=this.getAccesibleFonts(),n=0;n<t.length;n++)if(t[n].name===e)return t[n];return{}},waitAllAndDo:function e(t,n,i){if(!t.length)return i();n(t.splice(0,1)[0],function(){e(t,n,i)})},getUsedFonts:function(){var i=f("#theme-settings").find(".app-layer-select select, .app-layer-font select"),o=[];if(i.length)for(var r=0,e=i.length;r<e;r++){var t=h.getProjectFont(i[r].value);!t||!function(){for(var e=i[r].value,t=0,n=o.length;t<n;t++)if(e===o[t].name)return;return 1}()||o.push(t)}return o},getProjectFont:function(e){for(var t=0,n=h.projectSettings.siteFonts.length;t<n;t++)if(e===h.projectSettings.siteFonts[t].name)return h.projectSettings.siteFonts[t];return!1},initFontsForFrame:function(e,t){e instanceof Array||(e=[e]);var i="",n=h.projectSettings.siteFonts.map(function(e){return h.projectPath+"/fonts/"+e.name+"/style.css"});h.waitAllAndDo(h.applyFilter("initFontsForFrame",n,h.projectSettings.siteFonts),function(t,n){/^http[s]?\:/.test(t)?(e.forEach(function(e){f(e).find("head").append('<link href="'+t+'" rel="stylesheet">')}),n()):l.Bridge.loadLocalFile(t,function(e){i+=e,n()})},function(){i&&e.forEach(function(e){f(e).find("#userFonts").length?f(e).find("#userFonts").text(i):f(e).find("body").append("<style id='userFonts'>"+i+"</style>")}),t&&t()})},checkProjectFonts:function(d){var n,i,o,e,r=[];try{for(i in n=h.projectSettings.theme.styling)/display\dFont/g.test(i)&&!function(){if(r.length)for(var e=0,t=r.length;e<t;e++)if(n[i]===r[e])return 1}()&&r.push(n[i])}catch(e){h.showError(e.message)}function t(){h.redrawStyleChanger(),h.Core.render()}(r=h.applyFilter("checkProjectFonts",r)).length?(o=r,e=f.Deferred(),function t(n){n<o.length?function(e){for(var t=h.projectSettings.siteFonts,n=0,i=t.length;n<i;n++)if(t[n].name===e&&(t[n].url||t[n].file)&&t[n].css)return p.default.isExistsLocal(d+"/fonts/"+e);return f.Deferred().resolve(!1)}(o[n]).then(function(e){var s,l,c;e?t(++n):(s=o[n],l=new u(a),c=f.Deferred(),l.getGoogleFonts(function(e,t){if(e)return c.resolve();for(var o,r,a,n=0,i=t.length;n<i;n++)if(t[n].family===s)return l.downloadFonts(t[n],function(e){c.resolve()});o=s,r=d+"assets/fonts/"+encodeURI(o),a=d+"fonts/"+encodeURI(o),p.default.dirList(r,{names:["*.ttf","*.eot","*.woff","*.woff2"],recursive:!1}).then(function(e){var t,n,i=f.Deferred();return e.length?(t=r+"/"+e[0],n=a+"/"+e[0],p.default.copyLocal(t,n).then(function(e){var t=["@font-face {","   font-family: '"+o+"';","   font-display: swap;","   src: url('"+n+"');","}\n"].join("\n");e?p.default.saveLocalFile(a+"/style.css",t).then(function(){h.projectSettings.siteFonts.push({css:"'"+o+"'",name:o,url:null,file:n}),i.resolve()}).fail(function(){i.resolve()}):i.resolve()}).fail(function(){i.resolve()})):i.resolve(),i.promise()}).then(function(){c.resolve()})}),c.promise().then(function(){t(++n)}))}):e.resolve()}(0),e.promise().then(t)):t()}},events:{load:function(){var i=[];function e(e){var t=h.getUsedFonts(),n=[];if(t.length){for(var i=0,o=t.length;i<o;i++)t[i].url||(e.push({srcList:[{src:t[i].file}],dest:"assets/fonts/"+t[i].name+"/"+l.Bridge.splitPath(t[i].file).fullname}),e.push({srcList:[{src:h.projectPath+"/fonts/"+t[i].name+"/style.css"}],dest:"assets/fonts/"+t[i].name+"/style.css"}),n.push({src:h.projectPath+"/fonts/"+t[i].name+"/style.css",filter:"template"}));n.length&&e.push({srcList:n,dest:"assets/fonts/style.css"})}return e}h.on("getPublishFonts",function(e){i=Array.from(new Set(e))}),h.addFilter("publishAssets",function(t,e){var n=h.projectSettings.cookiesAlert&&"3"===h.projectSettings.cookiesAlertType;return h.getUsedFonts().some(function(e){return!e.url})&&(t.css+="<link "+(n?"data-href":"href")+'="assets/fonts/style.css" rel="stylesheet">\n  '),!h.isAMP()&&i.length&&(i.forEach(function(e){t.css+='<link rel="preload" '+(n?"data-href":"href")+'="'+e+'&display=swap" as="style" onload="this.onload=null;this.rel=\'stylesheet\'">\n  <noscript><link rel="stylesheet" '+(n?"data-href":"href")+'="'+e+'&display=swap"></noscript>\n  '}),i=[]),t}),h.addFilter("publishFiles",e),h.addFilter("exportProjectFiles",e),h.addFilter("publishTemplating",function(e,t){var n=h.getUsedFonts();if(n.length)for(var i=0,o=n.length;i<o;i++)if(t===h.projectPath+"/fonts/"+n[i].name+"/style.css")return["@font-face {","   font-family: '"+n[i].name+"';","   font-display: swap;","   src: url('"+n[i].name+"/"+l.Bridge.splitPath(n[i].file).fullname+"');","}\n"].join("\n");return e})},loadProjectCore:function(e,t){h.projectSettings.siteFonts=h.projectSettings.siteFonts||[],this.checkProjectFonts(t)},initSettingsSidebar:function(){e()},redrawStyleChanger:function(){this.initFontsForFrame([h.$template,h.$body]),e()}}})},["jQuery","mbrApp","TR()"])},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d=n(23);function u(e){return function(){var s=e.apply(this,arguments);return new Promise(function(r,a){return function t(e,n){try{var i=s[e](n),o=i.value}catch(e){return void a(e)}if(!i.done)return Promise.resolve(o).then(function(e){t("next",e)},function(e){t("throw",e)});r(o)}("next")})}}defineM("app-themes",function(a,s,l){var c="startm5";s.regExtension({name:"themes",global:{DEFAULT_THEME:c,DEFAULT_THEME_TITLE:"startm5",getSecondaryThemesList:function(e){var i=[];a.when(s.getAddonsEx(function(e){i.push(c);for(var t=0,n=e.length;t<n;t++)e[t].theme&&"object"==r(e[t].theme)&&"secondary"===e[t].theme.type&&i.push(e[t].name)},{type:"theme"})).then(function(){e(i)})},calcProjectTheme:function(e){var t="default",n=d.Bridge.appName;return e?(e.settings&&e.settings.theme&&(n="object"===r(e.settings.theme)?(t=e.settings.theme.name||t,e.settings.theme.title||n):(t=e.settings.theme||t,e.settings.theme||n)),{name:t,title:n}):{}},requestTheme:function(t,n){var i,o,r=a.Deferred(),e=this;return t?t==(e.theme&&e.theme.name)?r.resolve(!0):(i=t,o=(o=function(e){e?r.resolve(!1):s.alertDlg(l("This site uses the theme $theme title$ that isn't available.").replace("$theme title$","<strong>"+(n||t)+"</strong>").replace(". ",".<br>"))})||function(){},e.getThemeAddonsEx(function(e){for(var t=0;t<e.length;t++)if(e[t].name===i)return void d.Bridge.getLocalJSON(s.getAddonDir(i)+"/params.json",o);o()},{type:"theme"})):r.reject("Wrong project"),r.promise()},loadThemeAddon:function(n,i){t=u(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t);case 3:e.sent.ok||(n=c,o.createProject("My Site",!1,!1,i)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("An error occurred while fetching the JSON:",e.t0);case 10:case"end":return e.stop()}},e,this,[[0,7]])}));var t,e=function(e){return t.apply(this,arguments)},o=this,r=("startm5"!==n&&"mobirise5"!==n&&e("https://e.mobirise.com/"+n+"/params.json"),n||console.warn("Warning: Force default theme will be loaded"),n=n||c,s.getAddonDir(n));s.readAddon(r,function(e){function t(){o.fire("themeLoaded"),i(!!e)}n===c||e?(o.theme=o.Core.theme={},a.extend(o.theme,{name:n,path:d.Bridge.path2app(r),pathCore:s.path2core(r),pathExport:r}),o.theme.params=e||{},e?o.loadEachAddon(r,e,!1,function(e){setTimeout(t,0)}):t()):i(!1)})},getThemeButtonColors:function(){var e={"btn-default":"#e6e6e6","btn-primary":"#286090","btn-success":"#449d44","btn-info":"#31b0d5","btn-warning":"#ec971f","btn-danger":"#c9302c"};return"object"===r(this.theme.params.theme)&&this.theme.params.theme.buttonColors&&(e=this.theme.params.theme.buttonColors),this.applyFilter("getThemeButtonColors",e)},hasButtonOutlineColors:function(){return this.theme.params.theme&&this.theme.params.theme.hasButtonOutlineColors},getThemeLinkColors:function(){var e={"text-muted":"#777","text-primary":"#337ab7","text-success":"#3c763d","text-info":"#31708f","text-warning":"#8a6d3b","text-danger":"#a94442"};return"object"===r(this.theme.params.theme)&&this.theme.params.theme.linkColors&&(e=this.theme.params.theme.linkColors),this.applyFilter("getThemeLinkColors",e)},getThemeColorsSet:function(e){var t=["#7ac673","#1ABC9C","#27aae0","#2C82C9","#9365B8","#4c6972","#FFFFFF","#41A85F","#00A885","#3D8EB9","#2969B0","#553982","#475577","#EFEFEF","#F7DA64","#faaf40","#EB6B56","#E25041","#A38F84","#28324E","#CCCCCC","#FAC51C","#f97352","#D14841","#B8312F","#7C706B","#000000","#c1c1c1"];if("object"===r(this.theme.params.theme)&&this.theme.params.theme.colorsSet&&(t=this.theme.params.theme.colorsSet),t=this.applyFilter("getThemeColorsSet",t),s.projectSettings.theme.additionalSetColors&&(t=t.concat(s.projectSettings.theme.additionalSetColors)),"number"==typeof e){for(var n=[],i=0,o=[];i<t.length;i++)o.push(t[i]),i%e===e&&(n.push(o),o=[]);n.push(o),t=n}return t}},events:{load:function(){}}})},["jQuery","mbrApp","TR()"])},function(e,t,n){"use strict";defineM("app-bs5-support",function(e,c){var d=/(data-)(ride|target|slide|slide-to|toggle|parent|interval|dismiss)(=".+?")(?=[^<>]*>)/g,u=/data-bs-version="(\d+(\.\d+)?)"(?=[^<>]*>)/;function p(e){return(e=e&&e.match(u))?Number(e[1]):4}function f(e,t){e=e.toString(),t=t.toString();for(var n,i=/(\.0+)+$/,o=e.replace(i,"").split("."),r=t.replace(i,"").split("."),a=Math.min(o.length,r.length),s=0;s<a;s++)if(n=parseInt(o[s],10)-parseInt(r[s],10))return n;return o.length-r.length}c.on("beforeAppLoad",function(){c.Core.addFilter("loadComponentTemplate",function(e,t,n){if(!n){n=c.theme.params.theme;if(!(n.base&&"bootstrap"===n.base.name&&4<n.base.version)||t.alias||"secondary"!==c.theme.type||c.isAMP())return e;n=t._customHTML||e;f(p(n),5.1)&&(r=t,0<=f(p(o=n),5)||o&&(o=(o=o.replace(d,function(e,t,n,i){return e+" "+t+"bs-"+n+i})).replace(/sr-only(?=[^<>]*>)/g,"sr-only visually-hidden"),a=r._styles,s=".active.carousel-item-right, .carousel-item-next",l=".active.carousel-item-left, .carousel-item-prev",r._name.toLowerCase().includes("slider")&&(a[s]&&a[l]&&(delete r._styles[s],delete r._styles[l]),delete r._styles[".mbr-overlay"]),o=(o=1<(o.match(/form-group(?=[^<>]*>)/g)||[]).length?o.replace(/form-group(?=[^<>]*>)/g,"form-group mb-3"):o).replace(/form-row(?=[^<>]*>)/g,"row")),n=a=0<=f(p(a=n=n=o),5.1)?a:a.replace(/data-bs-toggle="dropdown-submenu"/g,'data-bs-toggle="dropdown"'),i=5.1,n=s=(s=n=a)&&(u.test(s)?s.replace(u,function(){return'data-bs-version="'+i+'"'}):s.replace(/<section/,'<section data-bs-version="'+i+'"')),t._customHTML?t._customHTML=n:e=n)}var i,o,r,a,s,l;return e})}),c.regExtension({name:"bs5-support",events:{loadedComponent:function(e,t,n,i){var o,r,a=c.theme.params.theme;a.base&&"bootstrap"===a.base.name&&4<a.base.version&&e._plugins&&(o=["BootstrapCarouselSwipe","mbr-testimonials-slider","mbr-gradient-svg","mbr-flip-card","TouchSwipe"],(r=e._plugins.split(/,\s?/g)).forEach(function(t,n){o.forEach(function(e){t.toLowerCase()===e.toLocaleLowerCase()&&r.splice(n,1)})}),e._plugins=r.join(","))}}})},["jQuery","mbrApp"])},function(e,t,n){"use strict";defineM("app-settings",function(o,r,t,a){var n=void 0;function i(e){e="false"!==e&&!1!==e;!0==(r.appSettings.showPageSiteNames=e)?o(".navbar-nav .navbar-project-info").show():o(".navbar-nav .navbar-project-info").hide()}function s(e){"true"===(r.appSettings.showAllViews=e)?(r.$navbarDevices.find("> li").show(),r.$navbarDevices.find("> li.active").siblings().removeClass("active")):(r.$navbarDevices.find("> li").hide(),(r.$navbarDevices.find('> [data-device="phone"]').hasClass("active")?r.$navbarDevices.find('> [data-device="desktop"]'):r.$navbarDevices.find('> [data-device="phone"]')).show())}function l(e){r.appSettings.showAllBlockButtons=r.applyFilter("showAllBlockButtons",e)}var e,c,d,u="mobirise";function p(e){e&&(u=e,r.$body.hasClass("app-component-code-editor-open")&&(r.$codeEditorHTML.codemirror.setOption("theme",u),r.$codeEditorCSS.codemirror.setOption("theme",u)),r.$body.hasClass("app-site-code-editor-open"))&&(r.$codeEditorStaticCSS.codemirror.setOption("theme",u),r.$codeEditorDynamicCSS.codemirror.setOption("theme",u),r.$codeEditorParamsJSON.codemirror.setOption("theme",u))}function f(e){r.$codeEditor&&(r.appSettings.removeMobiriseReferences="true"===e||null===e)}function h(e){r.appSettings.showCodeEditorUndo="true"===e,r.$codeEditor&&(r.appSettings.showCodeEditorUndo?(r.$codeEditor.find(".code-editor-undo").show(),r.$codeEditor.find(".code-editor-redo").show()):(r.$codeEditor.find(".code-editor-undo").hide(),r.$codeEditor.find(".code-editor-redo").hide())),r.$siteCodeEditor&&(r.appSettings.showCodeEditorUndo?(r.$siteCodeEditor.find(".code-editor-undo").show(),r.$siteCodeEditor.find(".code-editor-redo").show()):(r.$siteCodeEditor.find(".code-editor-undo").hide(),r.$siteCodeEditor.find(".code-editor-redo").hide()))}function m(e){"true"===(r.appSettings.showSiteStylesBtn=e)?"secondary"===r.theme.type&&r.$themeToggleBtn.css("visibility","visible"):"secondary"===r.theme.type&&r.$themeToggleBtn.css("visibility","hidden")}function g(e){e="true"===e||!0===e;!0==(r.appSettings.darkMode=e)?(r.$body.addClass("dark-mode"),r.Core.$body.addClass("dark-mode")):(r.$body.removeClass("dark-mode"),r.Core.$body.removeClass("dark-mode"))}function v(e){e="true"===e||!0===e;!0==(r.appSettings.fullscreenCanvas=e)?r.Core.$body.removeClass("rounded-canvas"):r.Core.$body.addClass("rounded-canvas")}r.regExtension({name:"app-settings",global:{appSettings:{},showAppSettings:function(){r.showDialog({title:t("App Settings"),className:"app-settings-dialog",body:'<div class="row"><div class="col-md-12"><div><label class="col-md-3">'+t("Top Toolbar")+'</label><div class="col-md-9"><br><div class="setting"><div class="row"><div class="togglebutton"><label data-tooltipster="right" data-tooltip-class="setting-image" data-tooltip-src="app/builder/images/app_settings/show-page-site-names.jpg"><input name="show-page-site-names" type="checkbox"'+(!0===r.appSettings.showPageSiteNames?'checked="checked"':"")+'><span style="margin-top:-3px;" class="toggle"></span>'+t("Show Page & Site Names")+'</label></div></div></div><div class="setting"><div class="row"><div class="togglebutton"><label data-tooltipster="right" data-tooltip-class="setting-image" data-tooltip-src="app/builder/images/app_settings/show-all-views.jpg"><input name="show-all-views" type="checkbox"'+("true"===r.appSettings.showAllViews?'checked="checked"':"")+'><span style="margin-top:-3px;" class="toggle"></span>'+t("Show All Views")+'</label></div></div></div></div></div><div><label class="col-md-3">'+t("APP")+'</label><div class="col-md-9"><br><div class="setting"><div class="row"><div class="togglebutton"><label data-tooltipster="right" data-tooltip-class="setting-image" data-tooltip-src="app/builder/images/app_settings/dark-mode.jpg"><input name="app-setting-dark-mode" type="checkbox"'+(!0===r.appSettings.darkMode?'checked="checked"':"")+'><span style="margin-top:-3px;" class="toggle"></span>'+t("Dark Mode")+'</label></div></div></div><div class="setting"><div class="row"><div class="togglebutton"><label data-tooltipster="right" data-tooltip-class="setting-image" data-tooltip-src="app/builder/images/app_settings/fullscreen-canvas.jpg"><input name="app-setting-fullscreen-canvas" type="checkbox"'+(!0===r.appSettings.fullscreenCanvas?'checked="checked"':"")+'><span style="margin-top:-3px;" class="toggle"></span>'+t("Fullscreen Canvas")+'</label></div></div></div><div class="setting"><div class="row"><div class="togglebutton"><label data-tooltipster="right" data-tooltip-class="setting-image" data-tooltip-src="app/builder/images/app_settings/show-block-panel.jpg"><input name="show-all-block-buttons" type="checkbox"'+("true"===r.appSettings.showAllBlockButtons?'checked="checked"':"")+'><span style="margin-top:-3px;" class="toggle"></span>'+t("Show All Block Buttons")+'</label></div></div></div><div class="setting"><div class="row"><div class="togglebutton"><label data-tooltipster="right" data-tooltip-class="setting-image" data-tooltip-src="app/builder/images/app_settings/show-site-styles-button.jpg"><input name="show-site-styles-btn" type="checkbox"'+("true"===r.appSettings.showSiteStylesBtn?'checked="checked"':"")+'><span style="margin-top:-3px;" class="toggle"></span>'+t("Show Site Styles Button")+"</label></div></div></div></div></div>"+r.applyFilter("addAppSettingsItem","")+"</div></div>",success:function(e){a.setSettings("appSettings/showPageSiteNames",e.find('[name="show-page-site-names"]').prop("checked"),function(e){e&&a.getSettings("appSettings/showPageSiteNames",function(e){i(e)})}),a.setSettings("appSettings/showAllViews",e.find('[name="show-all-views"]').prop("checked"),function(e){e&&a.getSettings("appSettings/showAllViews",function(e){s(e)})}),a.setSettings("appSettings/showAllBlockButtons",e.find('[name="show-all-block-buttons"]').prop("checked"),function(e){e&&a.getSettings("appSettings/showAllBlockButtons",function(e){r.appSettings.showAllBlockButtons!==e&&(l(e),"true"===e?(r.$template.find(".app-component .app-component-edit").children().removeClass("hidden-interface"),r.$template.find(".app-component .component-show-more").hide()):a.setSettings("appSettings/showAllBlockButtonsTEMP","false",function(e){r.$template.find(".app-component-edit").css("width","").children(":not(.component-params, .component-show-more)").addClass("hidden-interface"),r.$template.find(".app-component .component-show-more").show()}))})}),e.find('[name="show-code-editor-undo"]').length&&a.setSettings("appSettings/showCodeEditorUndo",e.find('[name="show-code-editor-undo"]').prop("checked"),function(e){e&&a.getSettings("appSettings/showCodeEditorUndo",function(e){r.appSettings.showCodeEditorUndo!==e&&h(e)})}),e.find('[name="theme"]').length&&a.setSettings("appSettings/codeEditorTheme",e.find('[name="theme"]').val(),function(e){e&&a.getSettings("appSettings/codeEditorTheme",function(e){p(e)})}),e.find('[name="remove-mobirise-references"]').length&&a.setSettings("appSettings/removeMobiriseReferences",e.find('[name="remove-mobirise-references"]').prop("checked"),function(e){e&&a.getSettings("appSettings/removeMobiriseReferences",function(e){f(e)})}),a.setSettings("appSettings/showSiteStylesBtn",e.find('[name="show-site-styles-btn"]').prop("checked"),function(e){e&&a.getSettings("appSettings/showSiteStylesBtn",function(e){m(e)})});var t=e.find('[name="app-setting-dark-mode"]').prop("checked"),t=(a.setSettings("appSettings/darkMode",t),g(t),e.find('[name="app-setting-fullscreen-canvas"]').prop("checked"));a.setSettings("appSettings/fullscreenCanvas",t),v(t),r.fire("applyAppSettings",e)},show:function(e){r.fire("showAppSettings",e)}}),r.initTooltips()},getSettings:function(e){return $Bridge.getSettings(e)},setSettings:function(e,t){return $Bridge.setSettings(e,t)}},events:(d=function(){a.getSettings("lastAppVersion",function(e){e||(a.setSettings("lastAppVersion",a.version),a.setSettings("appSettings/showSiteStylesBtn",!0),a.setSettings("appSettings/darkMode",!0))})},(c="bridgeInit")in(e={bridgeInit:function(){a.getSettings("appSettings/darkMode",function(e){"true"===(n=e)&&o(".preloader-logo, .preloader-logo .svg-el, .preloader-logo .svg-el .mbr-overlay").css({"background-color":"#373c48",transition:"background-color 1.5s ease"})})},load:function(){o("#app-settings-btn").click(function(){r.showAppSettings()}),o("#app-settings-redeem").click(function(){r.checkSign(function(e){e&&r.showRedeem(a.reload)})}),n?g(n):a.getSettings("appSettings/darkMode",function(e){g(e)}),a.getSettings("appSettings/fullscreenCanvas",function(e){v(e)}),a.getSettings("appSettings/showPageSiteNames",function(e){i(e)}),a.getSettings("appSettings/showAllViews",function(e){s(e)}),a.getSettings("appSettings/showAllBlockButtons",function(e){l(e)}),r.$template.on("click",".app-component .component-show-more",function(){r.$template.find(".app-component .app-component-edit").each(function(e,t){var t=o(t),n=t.find("> .mbr-btn"),i=n.first().outerWidth(!0)*(n.length-1)+5;t.animate({width:i},300,"swing",function(){n.removeClass("hidden-interface")})}),r.$template.find(".app-component .component-show-more").hide(),a.setSettings("appSettings/showAllBlockButtonsTEMP","true",function(e){e||console.warn("Unabale to save appSettings/showAllBlockButtonsTEMP")})}),r.Core.on("loadedComponent",function(e,t,n,i){var o=n.find("[data-app-component-id="+e._id+"] > .app-component-menu");"true"===r.appSettings.showAllBlockButtons?o.find(".component-show-more").hide():a.getSettings("appSettings/showAllBlockButtonsTEMP",function(e){"true"===e?o.find(".component-show-more").hide():o.find(".app-component-edit").children(":not(.component-params, .component-show-more)").addClass("hidden-interface")})}),a.regQuitTask(function(e){a.setSettings("appSettings/showAllBlockButtonsTEMP","false",e)})},loaded:function(){a.getSettings("appSettings/showCodeEditorUndo",function(e){h(e)}),a.getSettings("appSettings/codeEditorTheme",function(e){p(e)}),a.getSettings("appSettings/removeMobiriseReferences",function(e){f(e)})},showCodeEditor:function(){r.$codeEditorHTML.codemirror.setOption("theme",u),r.$codeEditorCSS.codemirror.setOption("theme",u)},showSiteCodeEditor:function(){r.$codeEditorStaticCSS.codemirror.setOption("theme",u),r.$codeEditorDynamicCSS.codemirror.setOption("theme",u),r.$codeEditorParamsJSON.codemirror.setOption("theme",u)},showAppSettings:function(e){e.find('[name="theme"]').val(u).trigger("change")},initAccountSettings:function(e){e.find(".app-layer-title").after('<div class="hover-block" id="app-settings-btn"><label>'+t("App Settings")+'</label></div><div class="hover-block" id="app-settings-redeem"><label>'+t("Redeem")+"</label></div>")},loadedProject:function(){a.getSettings("appSettings/showSiteStylesBtn",function(e){m(e)})}})?Object.defineProperty(e,c,{value:d,enumerable:!0,configurable:!0,writable:!0}):e[c]=d,e)})},["jQuery","mbrApp","TR()","Bridge"])},function(e,t,n){"use strict";window.mbrScript=function(){function t(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}function s(e){return"string"==typeof e?"'"+e.replace(n,t)+"'":"number"==typeof e?e.toString():!0===e?"true":!1===e?"false":null===e?"null":"undefined"}var n=/[^ a-zA-Z0-9]/g;function i(e,t,n){this.name="mbrScriptError",this.message=e,Error.captureStackTrace?Error.captureStackTrace(this,i):this.stack=(new Error).stack,this.line=t,this.token=n}function o(e){o.parser.yy.parseError||(o.parser.yy.parseError=function(e,t){throw new i("Parse error: Unexpected '"+(t.text||t.token)+"'",t.line,t.text||t.token)});e=o.parser.parse(e);return"RepeatStatement"==e.type?new c(e.key,e.value,new a(e.expression)):new a(e)}(i.prototype=Object.create(Error.prototype)).constructor=i,o.filters={},o.filter=function(e,t){return o.filters[e]=t(),this};e.prototype.plus=function(e,t){return void 0===e?t:void 0===t?e:e+t},e.prototype.filter=function(e){var t=Array.prototype.slice.call(arguments,1);if(o.filters[e])return o.filters[e].apply(null,t);throw new Error('Filter "'+e+'" not defined.')},e.prototype.call=function(e){var t=Array.prototype.slice.call(arguments,1);if("function"==typeof e)return e.apply(this.scopes[0],t)},e.prototype.get=function(e){for(var t=Array.prototype.slice.call(arguments,1);;){var n=t.shift();if(void 0===n)break;if(null==e)break;e=e[n]}return e},e.prototype.getProp=function(e){for(var t=0;t<this.scopes.length;t++)if(void 0!==this.scopes[t][e])return this.scopes[t][e]};var r=e;function e(e){this.scopes=e}l.prototype.createFunction=function(e){var t=new r(Array.prototype.slice.call(arguments));return new Function("","var result = ("+this.code+'); if (result === undefined || result === null) return ""; return result;').bind(t)},l.prototype.getDependencies=function(){return this._dependencies.slice()},l.prototype._getCode=function(e,t){var i="",t=t||[];switch(e.type){case"ArrayExpression":i+="[",e.elements.map(function(e,t){i+=t?", ":"",e&&(i+=this._getCode(e))},this),i+="]";break;case"ObjectExpression":i+="{",e.properties.map(function(e,t){var n="Identifier"==e.key.type?e.key.name:this._getCode(e.key);i+=(t?", ":"")+n+":"+this._getCode(e.value)},this),i+="}";break;case"UnaryExpression":i+=e.operator+this._getCode(e.argument);break;case"BinaryExpression":case"LogicalExpression":"+"==e.operator?i+="this.plus("+this._getCode(e.left)+", "+this._getCode(e.right)+")":i+="("+this._getCode(e.left)+" "+e.operator+" "+this._getCode(e.right)+")";break;case"ConditionalExpression":i=(i=(i=(i+="(")+(this._getCode(e.test)+" ? "))+(this._getCode(e.consequent)+" : "))+this._getCode(e.alternate)+")";break;case"FilterExpression":i+="this.filter("+s(e.name),[e.expression].concat(e.arguments).map(function(e){i+=", "+this._getCode(e)},this),i+=")";break;case"CallExpression":i+="this.call("+this._getCode(e.callee),e.arguments.map(function(e){i+=", "+this._getCode(e)},this),i+=")";break;case"MemberExpression":var n=e.object;if("Identifier"==n.type||"Literal"==n.type){i+="this.get("+this._getCode(n,[]);for(var o=[e],r=t.length-1;0<=r;r--)o.push(t[r]);var a=n.name;o.map(function(e){i+=", "+s(e.property.name),a+="."+e.property.name},this),"Identifier"==n.type&&this._dependencies.push(a),i+=")"}else i+=this._getCode(n,t.concat(e));break;case"Identifier":i+="this.getProp("+s(e.name)+")",arguments.length<2&&this._dependencies.push(e.name);break;case"Literal":i+=s(e.value)}return i};var a=l;function l(e){this._dependencies=[],this.type="expression",this.code=this._getCode(e)}function c(e,t,n){this.key=e,this.type="repeat",this.value=t,this.expression=n}return o.Error=i,o.Context=r,o.Expression=a,o.RepeatStatement=c,o}()},function(e,t,n){"use strict";window.mbrScript=window.mbrScript||{},mbrScript.parser=function(){function e(e,t,n,i){for(n=n||{},i=e.length;i--;n[e[i]]=t);return n}var t=[1,5],n=[1,6],i=[1,35],o=[1,29],r=[1,18],a=[1,19],s=[1,20],l=[1,21],c=[1,36],d=[1,37],u=[1,38],p=[1,39],f=[1,40],h=[1,41],m=[5,13,15,18,20],I=[1,43],M=[2,4],B=[1,44],N=[5,13,15,18,20,64],g=[5,13,15,18,20,24,64],R=[1,48],U=[5,13,15,18,20,24,60,62,64],H=[1,49],z=[5,13,15,18,20,24,58,60,62,64],W=[1,50],q=[1,51],V=[1,52],G=[1,53],v=[5,13,15,18,20,24,53,54,55,56,58,60,62,64],b=[1,54],y=[1,55],w=[1,56],x=[1,57],_=[5,13,15,18,20,24,48,49,50,51,53,54,55,56,58,60,62,64],k=[1,58],S=[1,59],J=[5,13,15,18,20,24,38,39,48,49,50,51,53,54,55,56,58,60,62,64],Y=[1,60],K=[1,61],X=[1,62],C=[5,13,15,18,20,24,38,39,43,44,45,48,49,50,51,53,54,55,56,58,60,62,64],P=[1,64],T=[1,65],j=[1,71],E=[5,12,13,15,18,20,24,29,38,39,43,44,45,48,49,50,51,53,54,55,56,58,60,62,64],Q=[1,81],Z=[1,83],ee=[1,86],te=[1,87],ne=[1,84],ie=[1,85],oe=[1,91],re=[18,20],ae=[1,122],se=[9,12,14,15,18,19,38,39,40,41,71,72,73,74,75,76],le=[15,18],ce=[13,18],A={trace:function(){},yy:{},symbols_:{error:2,Program:3,Expression:4,EOF:5,PrimaryExpression:6,PrimaryExpressionNoBrace:7,ObjectLiteral:8,IDENTIFIER:9,Literal:10,ArrayLiteral:11,"(":12,")":13,"[":14,"]":15,Elision:16,ElementList:17,",":18,"{":19,"}":20,PropertyNameAndValueList:21,PropertyAssignment:22,PropertyName:23,":":24,IdentifierName:25,StringLiteral:26,NumericLiteral:27,MemberExpression:28,".":29,CallExpression:30,Arguments:31,ReservedWord:32,ArgumentList:33,LeftHandSideExpression:34,PostfixExpression:35,UnaryExpression:36,UnaryExpr:37,"+":38,"-":39,"~":40,"!":41,MultiplicativeExpression:42,"*":43,"/":44,"%":45,AdditiveExpression:46,RelationalExpression:47,"<":48,">":49,"<=":50,">=":51,EqualityExpression:52,"==":53,"!=":54,"===":55,"!==":56,LogicalANDExpression:57,"&&":58,LogicalORExpression:59,"||":60,ConditionalExpression:61,"?":62,FilterExpression:63,"|":64,FilterArguments:65,IterationStatement:66,IN:67,NullLiteral:68,UndefinedLiteral:69,BooleanLiteral:70,NULL:71,UNDEFINED:72,TRUE:73,FALSE:74,NUMERIC_LITERAL:75,STRING_LITERAL:76,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",9:"IDENTIFIER",12:"(",13:")",14:"[",15:"]",18:",",19:"{",20:"}",24:":",29:".",38:"+",39:"-",40:"~",41:"!",43:"*",44:"/",45:"%",48:"<",49:">",50:"<=",51:">=",53:"==",54:"!=",55:"===",56:"!==",58:"&&",60:"||",62:"?",64:"|",67:"IN",71:"NULL",72:"UNDEFINED",73:"TRUE",74:"FALSE",75:"NUMERIC_LITERAL",76:"STRING_LITERAL"},productions_:[0,[3,2],[6,1],[6,1],[7,1],[7,1],[7,1],[7,3],[11,2],[11,3],[11,3],[11,4],[11,5],[17,1],[17,2],[17,3],[17,4],[16,1],[16,2],[8,2],[8,3],[21,1],[21,3],[22,3],[23,1],[23,1],[23,1],[28,1],[28,3],[30,2],[30,2],[30,3],[25,1],[25,1],[31,2],[31,3],[33,1],[33,3],[34,1],[34,1],[35,1],[36,1],[36,1],[37,2],[37,2],[37,2],[37,2],[42,1],[42,3],[42,3],[42,3],[46,1],[46,3],[46,3],[47,1],[47,3],[47,3],[47,3],[47,3],[52,1],[52,3],[52,3],[52,3],[52,3],[57,1],[57,3],[59,1],[59,3],[61,1],[61,5],[63,1],[63,3],[63,4],[65,2],[65,3],[66,1],[66,3],[66,7],[4,1],[10,1],[10,1],[10,1],[10,1],[10,1],[68,1],[69,1],[70,1],[70,1],[27,1],[26,1],[32,1],[32,1],[32,1],[32,1],[32,1]],performAction:function(e,t,n,i,o,r,a){var s,l=r.length-1;switch(o){case 1:return this.$;case 4:case 32:case 33:this.$=new be(r[l],L(null,a[l],a[l]));break;case 7:case 35:this.$=r[l-1];break;case 8:this.$=new $([],L(null,a[l-1],a[l]));break;case 9:case 10:this.$=new $(r[l-1],L(null,a[l-2],a[l]));break;case 11:this.$=new $(r[l-2].concat(null),L(null,a[l-3],a[l]));break;case 12:this.$=new $(r[l-3].concat(r[l-1]),L(null,a[l-4],a[l]));break;case 13:case 21:case 36:case 73:this.$=[r[l]];break;case 14:this.$=r[l-1].slice(1).concat(r[l]);break;case 15:case 22:case 37:case 74:this.$=r[l-2].concat(r[l]);break;case 16:this.$=r[l-3].concat(r[l-1].slice(1)).concat(r[l]);break;case 17:this.$=[null,null];break;case 18:this.$=r[l-1].concat(null);break;case 19:this.$=new pe([],L(null,a[l-1],a[l]));break;case 20:this.$=new pe(r[l-1],L(null,a[l-2],a[l]));break;case 23:this.$={key:r[l-2],value:r[l]};break;case 28:case 31:this.$=new ve(r[l-2],r[l],L(null,a[l-2],a[l]));break;case 29:case 30:this.$=new ge(r[l-1],r[l],L(null,a[l-1],a[l]));break;case 34:this.$=[];break;case 43:this.$=new O("+",!0,r[l],L(null,a[l-1],a[l]));break;case 44:this.$=new O("-",!0,r[l],L(null,a[l-1],a[l]));break;case 45:this.$=new O("~",!0,r[l],L(null,a[l-1],a[l]));break;case 46:this.$=new O("!",!0,r[l],L(null,a[l-1],a[l]));break;case 48:this.$=new D("*",r[l-2],r[l],L(null,a[l-2],a[l]));break;case 49:this.$=new D("/",r[l-2],r[l],L(null,a[l-2],a[l]));break;case 50:this.$=new D("%",r[l-2],r[l],L(null,a[l-2],a[l]));break;case 52:this.$=new D("+",r[l-2],r[l],L(null,a[l-2],a[l]));break;case 53:this.$=new D("-",r[l-2],r[l],L(null,a[l-2],a[l]));break;case 55:this.$=new D("<",r[l-2],r[l],L(null,a[l-2],a[l]));break;case 56:this.$=new D(">",r[l-2],r[l],L(null,a[l-2],a[l]));break;case 57:this.$=new D("<=",r[l-2],r[l],L(null,a[l-2],a[l]));break;case 58:this.$=new D(">=",r[l-2],r[l],L(null,a[l-2],a[l]));break;case 60:this.$=new D("==",r[l-2],r[l],L(null,a[l-2],a[l]));break;case 61:this.$=new D("!=",r[l-2],r[l],L(null,a[l-2],a[l]));break;case 62:this.$=new D("===",r[l-2],r[l],L(null,a[l-2],a[l]));break;case 63:this.$=new D("!==",r[l-2],r[l],L(null,a[l-2],a[l]));break;case 65:this.$=new fe("&&",r[l-2],r[l],L(null,a[l-2],a[l]));break;case 67:this.$=new fe("||",r[l-2],r[l],L(null,a[l-2],a[l]));break;case 69:this.$=new he(r[l-4],r[l-2],r[l],L(null,a[l-4],a[l]));break;case 71:this.$=new me(r[l-2],r[l],[],L(null,a[l-2],a[l]));break;case 72:this.$=new me(r[l-3],r[l-1],r[l],L(null,a[l-3],a[l]));break;case 76:this.$=new ue(null,r[l-2],r[l],L(null,a[l-2],a[l]));break;case 77:this.$=new ue(r[l-5],r[l-3],r[l],L(null,a[l-6],a[l]));break;case 84:this.$=new F(null,L(null,a[l],a[l]));break;case 85:this.$=new F(void 0,L(null,a[l],a[l]));break;case 86:this.$=new F(!0,L(null,a[l],a[l]));break;case 87:this.$=new F(!1,L(null,a[l],a[l]));break;case 88:this.$=new F("0"===(s=r[l]).charAt(0)?"x"===s.charAt(1).toLowerCase()?parseInt(s,16):"."===s.charAt(1)?Number(s):parseInt(s,8):Number(s),L(null,a[l],a[l]));break;case 89:this.$=new F(r[l].slice(1,-1),L(null,a[l],a[l]))}},table:[{3:1,4:2,6:24,7:25,8:26,9:t,10:27,11:28,12:n,14:i,19:o,26:34,27:33,28:22,30:23,34:17,35:15,36:14,37:16,38:r,39:a,40:s,41:l,42:13,46:12,47:11,52:10,57:9,59:8,61:7,63:4,66:3,68:30,69:31,70:32,71:c,72:d,73:u,74:p,75:f,76:h},{1:[3]},{5:[1,42]},e(m,[2,78]),e(m,[2,75],{64:I}),e([5,12,13,15,18,20,29,38,39,43,44,45,48,49,50,51,53,54,55,56,58,60,62,64],M,{67:B}),{4:46,6:24,7:25,8:26,9:[1,45],10:27,11:28,12:n,14:i,19:o,26:34,27:33,28:22,30:23,34:17,35:15,36:14,37:16,38:r,39:a,40:s,41:l,42:13,46:12,47:11,52:10,57:9,59:8,61:7,63:4,66:3,68:30,69:31,70:32,71:c,72:d,73:u,74:p,75:f,76:h},e(N,[2,70]),e(g,[2,68],{60:R,62:[1,47]}),e(U,[2,66],{58:H}),e(z,[2,64],{53:W,54:q,55:V,56:G}),e(v,[2,59],{48:b,49:y,50:w,51:x}),e(_,[2,54],{38:k,39:S}),e(J,[2,51],{43:Y,44:K,45:X}),e(C,[2,47]),e(C,[2,41]),e(C,[2,42]),e(C,[2,40]),{6:24,7:25,8:26,9:P,10:27,11:28,12:T,14:i,19:o,26:34,27:33,28:22,30:23,34:17,35:15,36:63,37:16,38:r,39:a,40:s,41:l,68:30,69:31,70:32,71:c,72:d,73:u,74:p,75:f,76:h},{6:24,7:25,8:26,9:P,10:27,11:28,12:T,14:i,19:o,26:34,27:33,28:22,30:23,34:17,35:15,36:66,37:16,38:r,39:a,40:s,41:l,68:30,69:31,70:32,71:c,72:d,73:u,74:p,75:f,76:h},{6:24,7:25,8:26,9:P,10:27,11:28,12:T,14:i,19:o,26:34,27:33,28:22,30:23,34:17,35:15,36:67,37:16,38:r,39:a,40:s,41:l,68:30,69:31,70:32,71:c,72:d,73:u,74:p,75:f,76:h},{6:24,7:25,8:26,9:P,10:27,11:28,12:T,14:i,19:o,26:34,27:33,28:22,30:23,34:17,35:15,36:68,37:16,38:r,39:a,40:s,41:l,68:30,69:31,70:32,71:c,72:d,73:u,74:p,75:f,76:h},e(C,[2,38],{31:70,12:j,29:[1,69]}),e(C,[2,39],{31:72,12:j,29:[1,73]}),e(E,[2,27]),e(E,[2,2]),e(E,[2,3]),e(E,[2,5]),e(E,[2,6]),{9:Q,20:[1,74],21:75,22:76,23:77,25:78,26:79,27:80,32:82,67:Z,71:ee,72:te,73:ne,74:ie,75:f,76:h},e(E,[2,79]),e(E,[2,80]),e(E,[2,81]),e(E,[2,82]),e(E,[2,83]),{4:92,6:24,7:25,8:26,9:t,10:27,11:28,12:n,14:i,15:[1,88],16:89,17:90,18:oe,19:o,26:34,27:33,28:22,30:23,34:17,35:15,36:14,37:16,38:r,39:a,40:s,41:l,42:13,46:12,47:11,52:10,57:9,59:8,61:7,63:4,66:3,68:30,69:31,70:32,71:c,72:d,73:u,74:p,75:f,76:h},e(E,[2,84]),e(E,[2,85]),e(E,[2,86]),e(E,[2,87]),e(E,[2,88]),e(E,[2,89]),{1:[2,1]},{9:[1,93]},{6:24,7:25,8:26,9:P,10:27,11:28,12:T,14:i,19:o,26:34,27:33,28:22,30:23,34:17,35:15,36:14,37:16,38:r,39:a,40:s,41:l,42:13,46:12,47:11,52:10,57:9,59:8,61:7,63:94,68:30,69:31,70:32,71:c,72:d,73:u,74:p,75:f,76:h},e([12,13,29,38,39,43,44,45,48,49,50,51,53,54,55,56,58,60,62,64],M,{18:[1,95],67:B}),{13:[1,96]},{6:24,7:25,8:26,9:P,10:27,11:28,12:T,14:i,19:o,26:34,27:33,28:22,30:23,34:17,35:15,36:14,37:16,38:r,39:a,40:s,41:l,42:13,46:12,47:11,52:10,57:9,59:8,61:97,68:30,69:31,70:32,71:c,72:d,73:u,74:p,75:f,76:h},{6:24,7:25,8:26,9:P,10:27,11:28,12:T,14:i,19:o,26:34,27:33,28:22,30:23,34:17,35:15,36:14,37:16,38:r,39:a,40:s,41:l,42:13,46:12,47:11,52:10,57:98,68:30,69:31,70:32,71:c,72:d,73:u,74:p,75:f,76:h},{6:24,7:25,8:26,9:P,10:27,11:28,12:T,14:i,19:o,26:34,27:33,28:22,30:23,34:17,35:15,36:14,37:16,38:r,39:a,40:s,41:l,42:13,46:12,47:11,52:99,68:30,69:31,70:32,71:c,72:d,73:u,74:p,75:f,76:h},{6:24,7:25,8:26,9:P,10:27,11:28,12:T,14:i,19:o,26:34,27:33,28:22,30:23,34:17,35:15,36:14,37:16,38:r,39:a,40:s,41:l,42:13,46:12,47:100,68:30,69:31,70:32,71:c,72:d,73:u,74:p,75:f,76:h},{6:24,7:25,8:26,9:P,10:27,11:28,12:T,14:i,19:o,26:34,27:33,28:22,30:23,34:17,35:15,36:14,37:16,38:r,39:a,40:s,41:l,42:13,46:12,47:101,68:30,69:31,70:32,71:c,72:d,73:u,74:p,75:f,76:h},{6:24,7:25,8:26,9:P,10:27,11:28,12:T,14:i,19:o,26:34,27:33,28:22,30:23,34:17,35:15,36:14,37:16,38:r,39:a,40:s,41:l,42:13,46:12,47:102,68:30,69:31,70:32,71:c,72:d,73:u,74:p,75:f,76:h},{6:24,7:25,8:26,9:P,10:27,11:28,12:T,14:i,19:o,26:34,27:33,28:22,30:23,34:17,35:15,36:14,37:16,38:r,39:a,40:s,41:l,42:13,46:12,47:103,68:30,69:31,70:32,71:c,72:d,73:u,74:p,75:f,76:h},{6:24,7:25,8:26,9:P,10:27,11:28,12:T,14:i,19:o,26:34,27:33,28:22,30:23,34:17,35:15,36:14,37:16,38:r,39:a,40:s,41:l,42:13,46:104,68:30,69:31,70:32,71:c,72:d,73:u,74:p,75:f,76:h},{6:24,7:25,8:26,9:P,10:27,11:28,12:T,14:i,19:o,26:34,27:33,28:22,30:23,34:17,35:15,36:14,37:16,38:r,39:a,40:s,41:l,42:13,46:105,68:30,69:31,70:32,71:c,72:d,73:u,74:p,75:f,76:h},{6:24,7:25,8:26,9:P,10:27,11:28,12:T,14:i,19:o,26:34,27:33,28:22,30:23,34:17,35:15,36:14,37:16,38:r,39:a,40:s,41:l,42:13,46:106,68:30,69:31,70:32,71:c,72:d,73:u,74:p,75:f,76:h},{6:24,7:25,8:26,9:P,10:27,11:28,12:T,14:i,19:o,26:34,27:33,28:22,30:23,34:17,35:15,36:14,37:16,38:r,39:a,40:s,41:l,42:13,46:107,68:30,69:31,70:32,71:c,72:d,73:u,74:p,75:f,76:h},{6:24,7:25,8:26,9:P,10:27,11:28,12:T,14:i,19:o,26:34,27:33,28:22,30:23,34:17,35:15,36:14,37:16,38:r,39:a,40:s,41:l,42:108,68:30,69:31,70:32,71:c,72:d,73:u,74:p,75:f,76:h},{6:24,7:25,8:26,9:P,10:27,11:28,12:T,14:i,19:o,26:34,27:33,28:22,30:23,34:17,35:15,36:14,37:16,38:r,39:a,40:s,41:l,42:109,68:30,69:31,70:32,71:c,72:d,73:u,74:p,75:f,76:h},{6:24,7:25,8:26,9:P,10:27,11:28,12:T,14:i,19:o,26:34,27:33,28:22,30:23,34:17,35:15,36:110,37:16,38:r,39:a,40:s,41:l,68:30,69:31,70:32,71:c,72:d,73:u,74:p,75:f,76:h},{6:24,7:25,8:26,9:P,10:27,11:28,12:T,14:i,19:o,26:34,27:33,28:22,30:23,34:17,35:15,36:111,37:16,38:r,39:a,40:s,41:l,68:30,69:31,70:32,71:c,72:d,73:u,74:p,75:f,76:h},{6:24,7:25,8:26,9:P,10:27,11:28,12:T,14:i,19:o,26:34,27:33,28:22,30:23,34:17,35:15,36:112,37:16,38:r,39:a,40:s,41:l,68:30,69:31,70:32,71:c,72:d,73:u,74:p,75:f,76:h},e(C,[2,43]),e(E,M),{4:46,6:24,7:25,8:26,9:t,10:27,11:28,12:n,14:i,19:o,26:34,27:33,28:22,30:23,34:17,35:15,36:14,37:16,38:r,39:a,40:s,41:l,42:13,46:12,47:11,52:10,57:9,59:8,61:7,63:4,66:3,68:30,69:31,70:32,71:c,72:d,73:u,74:p,75:f,76:h},e(C,[2,44]),e(C,[2,45]),e(C,[2,46]),{9:Q,25:113,32:82,67:Z,71:ee,72:te,73:ne,74:ie},e(E,[2,29]),{4:116,6:24,7:25,8:26,9:t,10:27,11:28,12:n,13:[1,114],14:i,19:o,26:34,27:33,28:22,30:23,33:115,34:17,35:15,36:14,37:16,38:r,39:a,40:s,41:l,42:13,46:12,47:11,52:10,57:9,59:8,61:7,63:4,66:3,68:30,69:31,70:32,71:c,72:d,73:u,74:p,75:f,76:h},e(E,[2,30]),{9:Q,25:117,32:82,67:Z,71:ee,72:te,73:ne,74:ie},e(E,[2,19]),{18:[1,119],20:[1,118]},e(re,[2,21]),{24:[1,120]},{24:[2,24]},{24:[2,25]},{24:[2,26]},e(E,[2,32]),e(E,[2,33]),e(E,[2,90]),e(E,[2,91]),e(E,[2,92]),e(E,[2,93]),e(E,[2,94]),e(E,[2,8]),{4:123,6:24,7:25,8:26,9:t,10:27,11:28,12:n,14:i,15:[1,121],18:ae,19:o,26:34,27:33,28:22,30:23,34:17,35:15,36:14,37:16,38:r,39:a,40:s,41:l,42:13,46:12,47:11,52:10,57:9,59:8,61:7,63:4,66:3,68:30,69:31,70:32,71:c,72:d,73:u,74:p,75:f,76:h},{15:[1,124],18:[1,125]},e(se,[2,17]),e(le,[2,13]),e(N,[2,71],{65:126,24:[1,127]}),e(m,[2,76],{64:I}),{9:[1,128]},e(E,[2,7]),{24:[1,129]},e(U,[2,67],{58:H}),e(z,[2,65],{53:W,54:q,55:V,56:G}),e(v,[2,60],{48:b,49:y,50:w,51:x}),e(v,[2,61],{48:b,49:y,50:w,51:x}),e(v,[2,62],{48:b,49:y,50:w,51:x}),e(v,[2,63],{48:b,49:y,50:w,51:x}),e(_,[2,55],{38:k,39:S}),e(_,[2,56],{38:k,39:S}),e(_,[2,57],{38:k,39:S}),e(_,[2,58],{38:k,39:S}),e(J,[2,52],{43:Y,44:K,45:X}),e(J,[2,53],{43:Y,44:K,45:X}),e(C,[2,48]),e(C,[2,49]),e(C,[2,50]),e(E,[2,28]),e(E,[2,34]),{13:[1,130],18:[1,131]},e(ce,[2,36]),e(E,[2,31]),e(E,[2,20]),{9:Q,22:132,23:77,25:78,26:79,27:80,32:82,67:Z,71:ee,72:te,73:ne,74:ie,75:f,76:h},{4:133,6:24,7:25,8:26,9:t,10:27,11:28,12:n,14:i,19:o,26:34,27:33,28:22,30:23,34:17,35:15,36:14,37:16,38:r,39:a,40:s,41:l,42:13,46:12,47:11,52:10,57:9,59:8,61:7,63:4,66:3,68:30,69:31,70:32,71:c,72:d,73:u,74:p,75:f,76:h},e(E,[2,9]),e(se,[2,18]),e(le,[2,14]),e(E,[2,10]),{4:136,6:24,7:25,8:26,9:t,10:27,11:28,12:n,14:i,15:[1,134],16:135,18:oe,19:o,26:34,27:33,28:22,30:23,34:17,35:15,36:14,37:16,38:r,39:a,40:s,41:l,42:13,46:12,47:11,52:10,57:9,59:8,61:7,63:4,66:3,68:30,69:31,70:32,71:c,72:d,73:u,74:p,75:f,76:h},e(N,[2,72],{24:[1,137]}),{6:24,7:25,8:26,9:P,10:27,11:28,12:T,14:i,19:o,26:34,27:33,28:22,30:23,34:17,35:15,36:14,37:16,38:r,39:a,40:s,41:l,42:13,46:12,47:11,52:10,57:9,59:138,68:30,69:31,70:32,71:c,72:d,73:u,74:p,75:f,76:h},{13:[1,139]},{6:24,7:25,8:26,9:P,10:27,11:28,12:T,14:i,19:o,26:34,27:33,28:22,30:23,34:17,35:15,36:14,37:16,38:r,39:a,40:s,41:l,42:13,46:12,47:11,52:10,57:9,59:8,61:140,68:30,69:31,70:32,71:c,72:d,73:u,74:p,75:f,76:h},e(E,[2,35]),{4:141,6:24,7:25,8:26,9:t,10:27,11:28,12:n,14:i,19:o,26:34,27:33,28:22,30:23,34:17,35:15,36:14,37:16,38:r,39:a,40:s,41:l,42:13,46:12,47:11,52:10,57:9,59:8,61:7,63:4,66:3,68:30,69:31,70:32,71:c,72:d,73:u,74:p,75:f,76:h},e(re,[2,22]),e(re,[2,23]),e(E,[2,11]),{4:143,6:24,7:25,8:26,9:t,10:27,11:28,12:n,14:i,15:[1,142],18:ae,19:o,26:34,27:33,28:22,30:23,34:17,35:15,36:14,37:16,38:r,39:a,40:s,41:l,42:13,46:12,47:11,52:10,57:9,59:8,61:7,63:4,66:3,68:30,69:31,70:32,71:c,72:d,73:u,74:p,75:f,76:h},e(le,[2,15]),{6:24,7:25,8:26,9:P,10:27,11:28,12:T,14:i,19:o,26:34,27:33,28:22,30:23,34:17,35:15,36:14,37:16,38:r,39:a,40:s,41:l,42:13,46:12,47:11,52:10,57:9,59:144,68:30,69:31,70:32,71:c,72:d,73:u,74:p,75:f,76:h},e(g,[2,73],{60:R}),{67:[1,145]},e(g,[2,69]),e(ce,[2,37]),e(E,[2,12]),e(le,[2,16]),e(g,[2,74],{60:R}),{6:24,7:25,8:26,9:P,10:27,11:28,12:T,14:i,19:o,26:34,27:33,28:22,30:23,34:17,35:15,36:14,37:16,38:r,39:a,40:s,41:l,42:13,46:12,47:11,52:10,57:9,59:8,61:7,63:146,68:30,69:31,70:32,71:c,72:d,73:u,74:p,75:f,76:h},e(m,[2,77],{64:I})],defaultActions:{42:[2,1],78:[2,24],79:[2,25],80:[2,26]},parseError:function(e,t){var n;if(!t.recoverable)throw(n=function(e,t){this.message=e,this.hash=t}).prototype=Error,new n(e,t);this.trace(e)},parse:function(e){var t,n=this,i=[0],o=[null],r=[],a=this.table,s="",l=0,c=0,d=0,u=1,p=r.slice.call(arguments,1),f=Object.create(this.lexer),h={yy:{}};for(t in this.yy)Object.prototype.hasOwnProperty.call(this.yy,t)&&(h.yy[t]=this.yy[t]);f.setInput(e,h.yy),h.yy.lexer=f,h.yy.parser=this,void 0===f.yylloc&&(f.yylloc={});var m=f.yylloc,g=(r.push(m),f.options&&f.options.ranges);"function"==typeof h.yy.parseError?this.parseError=h.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var v,b,y,w,x,_,k,S=function(){var e=f.lex()||u;return e="number"!=typeof e?n.symbols_[e]||e:e},C={};;){if(y=i[i.length-1],void 0===(w=this.defaultActions[y]||(null==v&&(v=S()),a[y]&&a[y][v]))||!w.length||!w[0]){var P="",T=[];for(x in a[y])this.terminals_[x]&&2<x&&T.push("'"+this.terminals_[x]+"'");P=f.showPosition?"Parse error on line "+(l+1)+":\n"+f.showPosition()+"\nExpecting "+T.join(", ")+", got '"+(this.terminals_[v]||v)+"'":"Parse error on line "+(l+1)+": Unexpected "+(v==u?"end of input":"'"+(this.terminals_[v]||v)+"'"),this.parseError(P,{text:f.match,token:this.terminals_[v]||v,line:f.yylineno,loc:m,expected:T})}if(w[0]instanceof Array&&1<w.length)throw new Error("Parse Error: multiple actions possible at state: "+y+", token: "+v);switch(w[0]){case 1:i.push(v),o.push(f.yytext),r.push(f.yylloc),i.push(w[1]),v=null,b?(v=b,b=null):(c=f.yyleng,s=f.yytext,l=f.yylineno,m=f.yylloc,0<d&&d--);break;case 2:if(_=this.productions_[w[1]][1],C.$=o[o.length-_],C._$={first_line:r[r.length-(_||1)].first_line,last_line:r[r.length-1].last_line,first_column:r[r.length-(_||1)].first_column,last_column:r[r.length-1].last_column},g&&(C._$.range=[r[r.length-(_||1)].range[0],r[r.length-1].range[1]]),void 0!==(k=this.performAction.apply(C,[s,c,l,h.yy,w[1],o,r].concat(p))))return k;_&&(i=i.slice(0,-1*_*2),o=o.slice(0,-1*_),r=r.slice(0,-1*_)),i.push(this.productions_[w[1]][0]),o.push(C.$),r.push(C._$),k=a[i[i.length-2]][i[i.length-1]],i.push(k);break;case 3:return!0}}return!0}};function L(e,t,n){return new ye(e,new we(t.first_line,t.first_column),new we(n.last_line,n.last_column))}var de=A.parse;function ue(e,t,n,i){this.type="RepeatStatement",this.key=e,this.value=t,this.expression=n,this.loc=i}function $(e,t){this.type="ArrayExpression",this.elements=e,this.loc=t}function pe(e,t){this.type="ObjectExpression",this.properties=e,this.loc=t}function O(e,t,n,i){this.type="UnaryExpression",this.operator=e,this.prefix=t,this.argument=n,this.loc=i}function D(e,t,n,i){this.type="BinaryExpression",this.operator=e,this.left=t,this.right=n,this.loc=i}function fe(e,t,n,i){this.type="LogicalExpression",this.operator=e,this.left=t,this.right=n,this.loc=i}function he(e,t,n,i){this.type="ConditionalExpression",this.test=e,this.consequent=t,this.alternate=n,this.loc=i}function me(e,t,n,i){this.type="FilterExpression",this.expression=e,this.name=t,this.arguments=n,this.loc=i}function ge(e,t,n){this.type="CallExpression",this.callee=e,this.arguments=t,this.loc=n}function ve(e,t,n){if("Literal"==e.type&&(void 0===e.value||null===e.value))throw new TypeError(e.value+" has no properties",null,e.loc.start.line);this.type="MemberExpression",this.object=e,this.property=t,this.loc=n}function be(e,t){this.type="Identifier",this.name=e,this.loc=t}function F(e,t){this.type="Literal",this.value=e,this.loc=t}function ye(e,t,n){this.source=e,this.start=t,this.end=n}function we(e,t){this.line=e,this.column=t}A.parse=function(e,t){return A.wasNewLine=!1,A.newLine=!1,de.call(this,e)},A.parseError=function(e,t){throw new SyntaxError(e)},A.ast={},A.ast.RepeatStatementNode=ue,A.ast.ArrayExpressionNode=$,A.ast.ObjectExpressionNode=pe,A.ast.UnaryExpressionNode=O,A.ast.BinaryExpressionNode=D,A.ast.LogicalExpressionNode=fe,A.ast.ConditionalExpressionNode=he,A.ast.FilterExpressionNode=me,A.ast.CallExpressionNode=ge,A.ast.MemberExpressionNode=ve,A.ast.IdentifierNode=be,A.ast.LiteralNode=F;xe=(j={EOF:1,parseError:function(e,t){if(!this.yy.parser)throw new Error(e);this.yy.parser.parseError(e,t)},setInput:function(e,t){return this.yy=t||this.yy||{},this._input=e,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var e=this._input[0];return this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e,e.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},unput:function(e){var t=e.length,n=e.split(/(?:\r\n?|\n)/g),e=(this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-t),this.offset-=t,this.match.split(/(?:\r\n?|\n)/g)),i=(this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1),this.yylloc.range);return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===e.length?this.yylloc.first_column:0)+e[e.length-n.length].length-n[0].length:this.yylloc.first_column-t},this.options.ranges&&(this.yylloc.range=[i[0],i[0]+this.yyleng-t]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(e){this.unput(this.match.slice(e))},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(20<e.length?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(20<e.length?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"},test_match:function(e,t){var n,i;if(this.options.backtrack_lexer&&(i={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges)&&(i.yylloc.range=this.yylloc.range.slice(0)),(n=e[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=n.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:n?n[n.length-1].length-n[n.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],n=this.performAction.call(this,this.yy,this,t,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),n)return n;if(this._backtrack)for(var o in i)this[o]=i[o];return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var e,t,n,i,o=this._currentRules(),r=0;r<o.length;r++)if((n=this._input.match(this.rules[o[r]]))&&(!t||n[0].length>t[0].length))if(t=n,i=r,this.options.backtrack_lexer){if(!1!==(e=this.test_match(n,o[r])))return e;if(!this._backtrack)return!1;t=!1}else if(!this.options.flex)break;return t?!1!==(e=this.test_match(t,o[i]))&&e:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var e=this.next();return e||this.lex()},begin:function(e){this.conditionStack.push(e)},popState:function(){return 0<this.conditionStack.length-1?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return(this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]]:this.conditions.INITIAL).rules},topState:function(e){return 0<=(e=this.conditionStack.length-1-Math.abs(e||0))?this.conditionStack[e]:"INITIAL"},pushState:function(e){this.begin(e)},stateStackSize:function(){return this.conditionStack.length},options:{flex:!0},performAction:function(e,t,n,i){switch(n){case 0:case 1:case 2:t.yytext.match(/\r|\n/)&&(A.newLine=!0);break;case 3:return"STRING_LITERAL";case 4:return"IN";case 5:return"TRUE";case 6:return"FALSE";case 7:return"NULL";case 8:return"UNDEFINED";case 9:return"IDENTIFIER";case 10:case 11:case 12:return"NUMERIC_LITERAL";case 13:return"{";case 14:return"}";case 15:return"(";case 16:return")";case 17:return"[";case 18:return"]";case 19:return".";case 20:return";";case 21:return",";case 22:return"?";case 23:return":";case 24:return"===";case 25:return"==";case 26:return"!==";case 27:return"!=";case 28:return"!";case 29:return"<=";case 30:return"<";case 31:return">=";case 32:return">";case 33:return"+";case 34:return"-";case 35:return"*";case 36:return"/";case 37:return"%";case 38:return"&&";case 39:return"||";case 40:return"|";case 41:return"~";case 42:return"EOF";case 43:return"ERROR";case 44:console.log(t.yytext)}},rules:[/^(?:\s+)/,/^(?:\/\*(.|\r|\n)*?\*\/)/,/^(?:\/\/.*($|\r\n|\r|\n))/,/^(?:(("(([^\"\\]+)|(\\((([\'\"\\bfnrtv])|([^\'\"\\bfnrtv0-9xu]))|((?:[1-7][0-7]{0,2}|[0-7]{2,3}))|([x]([0-9a-fA-F]){2})|([u]([0-9a-fA-F]){4})))|(\\(\r\n|\r|\n)))*")|('(([^\'\\]+)|(\\((([\'\"\\bfnrtv])|([^\'\"\\bfnrtv0-9xu]))|((?:[1-7][0-7]{0,2}|[0-7]{2,3}))|([x]([0-9a-fA-F]){2})|([u]([0-9a-fA-F]){4})))|(\\(\r\n|\r|\n)))*')))/,/^(?:in)/,/^(?:true)/,/^(?:false)/,/^(?:null)/,/^(?:undefined)/,/^(?:(([$_a-zA-Z]|(\\[u]([0-9a-fA-F]){4}))(([$_a-zA-Z]|(\\[u]([0-9a-fA-F]){4}))|[0-9])*))/,/^(?:((([0]|(([1-9])([0-9]+)*))\.([0-9]+)*(([eE])([+-]?[0-9]+))?)|(\.([0-9]+)(([eE])([+-]?[0-9]+))?)|(([0]|(([1-9])([0-9]+)*))(([eE])([+-]?[0-9]+))?)))/,/^(?:([0][xX]([0-9a-fA-F])+))/,/^(?:([0]([0-7])+))/,/^(?:\{)/,/^(?:\})/,/^(?:\()/,/^(?:\))/,/^(?:\[)/,/^(?:\])/,/^(?:\.)/,/^(?:;)/,/^(?:,)/,/^(?:\?)/,/^(?::)/,/^(?:===)/,/^(?:==)/,/^(?:!==)/,/^(?:!=)/,/^(?:!)/,/^(?:<=)/,/^(?:<)/,/^(?:>=)/,/^(?:>)/,/^(?:\+)/,/^(?:-)/,/^(?:\*)/,/^(?:\/)/,/^(?:%)/,/^(?:&&)/,/^(?:\|\|)/,/^(?:\|)/,/^(?:~)/,/^(?:$)/,/^(?:.)/,/^(?:.)/],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44],inclusive:!0}}}).lex,j.lex=function(){return A.wasNewLine=A.newLine,A.newLine=!1,xe.call(this)};var xe,B=j;function _e(){this.yy={}}return A.lexer=B,new((_e.prototype=A).Parser=_e)}()},function(e,t,n){"use strict";mbrScript.filter("lowercase",function(){return function(e){return"string"==typeof e?e.toLowerCase():e}}),mbrScript.filter("uppercase",function(){return function(e){return"string"==typeof e?e.toUpperCase():e}}),mbrScript.filter("json",function(){return function(e,t){if(void 0!==e)return void 0===t?t=2:"number"!=typeof t&&(t=t?2:null),JSON.stringify(e,null,t)}})},function(e,t,n){"use strict";var l,c,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function o(){this._css=[]}function r(e,t){this.message=e,this.node=t,Error.captureStackTrace?Error.captureStackTrace(this,r):this.stack=(new Error).stack}function d(e){return"object"==(void 0===e?"undefined":i(e))}function u(e,t){return t in e||(e[t]={}),e[t]}function p(e){return e.replace(/^\((.+)\)$/,"$1")}function f(e,t){if(t=t||{},!d(e))return e;switch(e.type||""){case"Alpha":return"alpha(opacity="+f(e.value)+")";case"Anonymous":case"UnicodeDescriptor":case"Keyword":return e.value;case"Assignment":return f(e.key)+"="+f(e.value);case"Attribute":var n=f(e.key);return"["+(n=e.op?(n+=e.op)+f(e.value):n)+"]";case"Call":n=e.args.map(function(e){return p(f(e))});return e.name+"("+n.join(", ")+")";case"Color":return e.toCSS({});case"Combinator":return l(e);case"Comment":break;case"Condition":var n=e.op,i=f(e.rvalue),o=f(e.lvalue);return"="==n&&"true"==i||(o=o+("or"==n?",":" "+n)+" "+i),o="and"!=n&&"or"!=n&&(o="("+o+")",e.negate)?"not "+o:o;case"DetachedRuleset":case"RulesetCall":throw new c("Detached rulesets are not supported",e);case"Dimension":return f(e.value)+f(e.unit);case"Directive":e.rules?(r=e.name,e.value&&(r+=" "+f(e.value)),f.rules(e,u(t,r))):e.value&&(t[e.name]=f(e.value));break;case"Element":return f(e.combinator)+f(e.value);case"Expression":return f.join(e.value," ");case"Extend":throw new c("Selector :extend is not supported",e);case"Import":throw new c("Directive @import is not supported",e);case"JavaScript":throw new c("JavaScript is not supported",e);case"Media":var r="@media "+f.join(e.features.value,", ");f.rules(e,u(t,r));break;case"MixinCall":case"MixinDefinition":throw new c("Mixins are not supported",e);case"Negative":return"-"+f(e.value);case"Operation":return"("+f.join(e.operands," "+e.op+" ")+")";case"Paren":if(d(o=f(e.value))){var a,s=[];for(a in o)s.push("("+a+": "+o[a]+")");return s.join(" ")}return"("+o+")";case"Quoted":return(e.escaped?"~":"")+e.quote+e.value+e.quote;case"Rule":var r=f.join(e.name),i=f(e.value);0==r.indexOf("@")&&(i=p(i)),t[r]=i+e.important;break;case"Ruleset":e.selectors&&"&"!=(r=f.join(e.selectors,",").replace(/^\s+/,""))&&(t=u(t,r)),f.rules(e,t);break;case"Selector":n=f.join(e.elements);return e.condition&&(n+=" when "+f(e.condition)),n;case"Unit":return e.toString();case"Url":return"url("+f(e.value)+")";case"Value":return f.join(e.value,", ");case"Variable":return e.name}return t}window.objectifyCSS=(o.prototype.add=function(e){this._css.push(e)},o.prototype.toCSS=function(){return this._css.join("")},o.prototype.genCSS=function(e){return e.genCSS({},this),this.toCSS()},l=function(e){return(new o).genCSS(e)},c=(r.prototype=Object.create(Error.prototype)).constructor=r,f.rules=function(e,t){e.rules&&e.rules.forEach(function(e){f(e,t)})},f.join=function(e,t){return Array.isArray(e)?e.map(function(e){return f(e)}).join(t||""):f(e)},function(n,e,i){"function"==typeof(e=e||{})&&(i=e,e={});var o=e.lessjs||less;o.parse(n,function(e,t){if(e)i(e);else try{i(null,f(t))}catch(e){e.node&&"index"in e.node&&(t=o.utils.getLocation(e.node.index,n),e.line="number"==typeof t.line?t.line+1:null,e.column=t.column),i(e)}})})},function(e,t,n){"use strict";var U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};defineM("secondary-components",function(b,u,p){var e,o=(e={url:function(e){return e&&"url("+e+")"}}).global=e,I=(((t.prototype=Object.create(mbrScript.Context.prototype)).constructor=t).prototype.getProp=function(e){if(this.scopes[0]._params&&void 0!==this.scopes[0]._params[e])return this.scopes[0]._params[e];for(var t=1;t<this.scopes.length;t++)if(void 0!==this.scopes[t][e])return this.scopes[t][e]},t);function t(){mbrScript.Context.apply(this,arguments)}i.prototype.on=function(e,t){return"function"==typeof t&&(this._listeners[e]=this._listeners[e]||[],this._listeners[e].push(t)),this},i.prototype.emit=function(e){var t;return this._listeners[e]&&(t=Array.prototype.slice.call(arguments,1),u.fire(e+this._appEventNamespace+".SecondaryComponent",t),this._listeners[e].forEach(function(e){e.apply(this,t)},this)),this},i.prototype.removeAllListeners=function(e){return arguments.length?delete this._listeners[e]:this._listeners={},this},i.prototype.removeListener=function(e,t){return this._listeners[e]&&0<=(t=this._listeners[e].indexOf(t))&&this._listeners[e].splice(t,1),this},i.createChildClass=function(e,t){if("function"!=typeof e)throw Error('"constructor" is not a function');function n(){i.call(this,t),e.apply(this,arguments)}return(n.prototype=Object.create(i.prototype)).constructor=n};var r=i;function i(e){this._listeners={},this._appEventNamespace=e?"."+e:""}s.prototype.getTemplate=function(e){return this.template},s.prototype.initialize=function(e,t){var n=t.item.scope;return n.this={_params:{index:t.index}},n._params=t.global._params,n},s.prototype.remove=function(){var e=this.arrivo.sourceFragment;e.parentNode&&e.parentNode.removeChild(e)},s.prototype.clone=function(){var e,t="",i=new s;for(e in this)this.hasOwnProperty(e)&&(i[e]=this[e]);return i.$listSourceElement.find("> *:last").each(function(){t=this.outerHTML}),i.arrivo.getParent().fork().on("ready",function(e,t,n){i.template=t.outerHTML,i.arrivo=this,i.scope=e,i.$listSourceElement.append(n)}).process(t),i};var a,n,M=s;function s(e){for(var t in(e=e||{}).template=e.template||"<div></div>",e)this[t]=e[t]}u.objectifyCSS=function(e){var n=b.Deferred();return objectifyCSS(e,{lessjs:u.iwindow.less},function(e,t){e?n.reject(e):n.resolve(t)}),n.promise()},u.getUID=(a="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n="object"==("undefined"==typeof crypto?"undefined":U(crypto))&&crypto.getRandomValues?function(){var e=a.length,t=new Uint8Array(1);return window.crypto.getRandomValues(t),t[0]>=Math.floor(256/e)*e?n():a.charAt(t[0]%e)}:function(){return a.charAt(Math.random()*a.length|0)},function(e,t){"object"==(void 0===e?"undefined":U(e))?t=e:(t=t||{}).length=e||22;e="";return t.timePrefix&&(e+=function(){for(var e=(new Date).getTime(),t=a.length,n="";0<e;)n=a.charAt(e%t)+n,e=(e-e%t)/t;return n||"0"}()),t.length&&(e+=Array.apply(null,{length:t.length}).map(n).join("")),e});var l=u.isSecondaryComponent=function(e){var t;if("object"==(void 0===e?"undefined":U(e)))t=e;else{if(!/^\d+$/.test(e))return!1;t=u.Core.getComponent(e)}return!t.alias&&"secondary"==u.theme.type||t._isSecondary};function c(e){var t=document.implementation.createHTMLDocument("").createElement("DIV");return b(t).append(b.trim(e)),t}function d(e){return e.hasOwnProperty("_sc")||Object.defineProperty(e,"_sc",{value:new C(e)}),e._sc}function f(e){var t=e.alias,n=e._sourceTheme;return t?u.path2core(u.getAddonDir(t))+"/"+e._name+"/":n?u.path2core(u.getAddonDir(n)+"/components")+"/"+e._name+"/":u.path2core(u.theme.pathExport+"/components")+"/"+e._name+"/"}function h(t){var e=t;return b.isArray(t)?e=t.map(h).join(" "):"object"==(void 0===t?"undefined":U(t))&&(e=Object.keys(t).filter(function(e){return t[e]}).join(" ")),e}u.on("themeLoaded",function(){u.theme.type=u.theme.params.theme.type||"primary"}),u.on("beforeAppLoad",function(){u.on("beforeShowCodeEditor",function(e){e=u.Core.getComponent(e);l(e)||"pro.custom-html"===e._name&&"secondary"===u.theme.type?b("body").addClass("fullwidth-code-editor"):b("body").removeClass("fullwidth-code-editor")}),u.on("showCodeEditor",function(e){var t,e=u.Core.getComponent(e);l(e)&&(u.Core.destroySummernote(),e._styles?(t=u.Core.getComponentStyles({_styles:e._styles}),e._customCSS=t.css):e._customCSS="")}),u.on("savedCodeEditor",function(e){arguments.length&&(e=u.Core.getComponent(e),l(e)&&(e._alwaysTop||e._alwaysBottom)&&u.Core.$body.closest("html").stop().animate({scrollTop:e._alwaysTop?0:u.Core.$template.height()},1e3),l(e))&&u.Core.updateGlobalComponents(e._id,function(e,t){for(var n in t)"_styles"!==n&&"_customHTML"!==n&&("object"===U(t[n])||"function"==typeof t[n]||/^_/g.test(n))||(t[n]=e[n])})}),u.$template.on("click",".component-code",function(e){var t=b(this).closest("[data-app-component-id]").attr("data-app-component-id"),t=u.Core.getComponent(t);!l(t)||u.registeredAddons&&u.registeredAddons["code-editor"]&&16<parseInt(u.registeredAddons["code-editor"].version)||(e.stopImmediatePropagation(),bootbox.dialog({message:'<p><b>You can\'t edit this block. Please update "Code Editor".</b></p>',buttons:{cancel:{label:"Ok",className:"btn-primary"}}}))});var e,g,v=u.iwindow.rivets,i=(v.formatters.fakeFilter=new u.iwindow.Function("v, f",'if (typeof f == "function") return f(v); return "";'),v.formatters.toNULL=new u.iwindow.Function("v",'if (v === "" || v === false) return null; return v;'),v.formatters.grow=new u.iwindow.Function("items, count","count = Math.max(1, Math.min(500, parseInt(count) || 0));if (count < items.length) {Array.prototype.splice.call(items, count, items.length).forEach(function(item){ item.remove(); });} else if (count > items.length) {var item = items[ items.length - 1 ];for (var i = items.length; i < count; i++) {items[i] = item.clone();}}return items;"),e="active-components",g="active-component",v.components[g]={attributes:["collection","global","index","item"],template:function(e){return e.item.getTemplate(e)},initialize:function(e,t){return t.item.initialize(e,t)}},v.binders[e]={block:!1,priority:v.binders["each-*"].priority,unbind:v.binders["each-*"].unbind,update:v.binders["each-*"].update},v.binders[e].bind=function(e){var t,n,i,o;if(null==this.iterated)t=[this.view.prefix,this.type].join("-").replace("--","-"),this.iterated=[],e.removeAttribute(t);else for(n=0,i=(o=this.iterated).length;n<i;n++)o[n].bind()},v.binders[e].routine=function(e,t){var n,i,o,r,a,s,l,c,d,u,p,f,h,m;if(this.iterated.length>(t=t||[]).length)for(u=0,f=this.iterated.length-t.length;u<f;u++)(d=this.iterated.pop()).unbind(),e.removeChild(d.childElement);for(i=p=0,h=t.length;p<h;i=++p)if(r=t[i],d=this.iterated[i],n={collection:t,global:this.view.models,index:i,item:r},(a=null==d)||d.models.item!==r){if(!a){for(s=0,u=i+1,f=(m=this.iterated).length;u<f;u++)if(m[u].models.item===r){s=u;break}if(s){this.iterated.splice(i,0,this.iterated.splice(s,1)[0]),e.insertBefore(e.children[s],e.children[i]);continue}d.unbind()}for(o in c=document.createElement(g),n)c.setAttribute(o,o);(l=this.view.options()).preloadData=!0,(d=new v._.View(c,n,l)).bind(),d.childElement=c.firstChild,a?(this.iterated.push(d),e.appendChild(d.childElement)):(this.iterated[i]=d,e.replaceChild(d.childElement,e.children[i]))}},v.binders["static-html"]={priority:2e3,bind:function(e){var t=this.observer?this.observer.value():this.value,t=this.formattedValue("function"!=typeof t||this.binder.function?t:t.call(this.model));return e.innerHTML=null!=t?t:"",e},routine:function(e,t){return null!=t?t:""}},v.binders.style2={routine:function(e,t){var n=b(e),i=b(e).data("old-styles");if(i&&t!==i)for(var o in i)n.css(o,"");"object"!=(void 0===t?"undefined":U(t))&&(t={}),n.css(t),b(e).data("old-styles",t)}},v.binders.media);function o(e,t){return e.filter(function(e){return t.indexOf(e)<0})}v.binders.media={routine:function(e,t){if(!e.getAttribute("mbr-media-simple"))return i.apply(this,arguments);var n=Object.keys(t)[0],t=t[n];"image"==n?m.update(b(e),t):"video"!=n&&"iconFont"==n&&w.update(b(e),t)}},v.binders.class2={routine:function(e,t){b(e);var n,i=b(e).data("old-classes");i!=(t=h(t))&&(n=t&&t.split(" ")||[],i=i&&i.split(" ")||[],(i={add:o(n,i).join(" "),remove:o(i,n).join(" ")}).add&&b(e).addClass(i.add),i.remove&&b(e).removeClass(i.remove),b(e).data("old-classes",t))}};var n,r="data-rv-view",a=(v.originalBind=v.bind,v.bind=function(e,t,n){v.boundViews=v.boundViews||{};t=v.originalBind(e,t,n);return b(e).attr(r,t.models._rv),v.boundViews[t.models._rv]=t},v.unbind=function(e){var t="["+r+"]";return b(e).find(t).addBack(t).each(function(){var e=b(this).attr(r),t=v.boundViews[e];t.unbind(),delete v.boundViews[e],delete t.models._rv}),this},v.unbindAll=function(){v.boundViews.forEach(function(e){e.unbind()}),v.boundViews=[]},u.Core);function s(e){return'"'+(""+e).replace(/"/g,'\\"').replace(/\r/g,"").replace(/\n/g," ")+'"'}a.isSecondaryComponent=l,a.getSecondaryComponent=d,a.transformSecondaryComponentForProject=function(e){var t,n=["_anchor","_checkPublish","_cid","_customHTML","_protectedParams","_JSplaceholders","_name","_PHPplaceholders","_styles","alias","_once","_global","_isUserblock","_sourceTheme","_isSecondary","typeCompatible","_popupId"],i=e._protectedParams||[];for(t in e)if("_params"==t)for(var o in e._params)i.indexOf(o)<0&&delete e._params[o];else n.indexOf(t)<0&&delete e[t];return e},a.on("rivetsBlur",function(e){u.iwindow.$(e).trigger("change-component-node")}),a.addFilter("getComponentStyles",function(e,t){if(l(t)){if(!t._id&&!t._name)return e;var n,i=d(t).getDefaultParams(),o="";for(n in i){var r=t._params[n];switch(i[n].type||"none"){case"fonts":o+="@"+n+": "+(r.css||"false")+";\n";break;case"color":case"range":case"switch":case"switch-off":o+="@"+n+": "+r+";\n";break;case"none":case"image":case"select":o+="@"+n+": "+s(r)+";\n";break;case"background":o=(o+="@"+n+"-value: "+("color"==r.type?r.value:"image"==r.type?s(u.path2core(r.value)):'""')+";\n")+("@"+n+"-type: "+s(r.type)+";\n"),r.color&&(o+="@"+n+"-color-value: "+r.color.value+";\n"),r.image&&(o+="@"+n+"-parallax: "+r.parallax+";\n")}}e.css=o+"\n"+e.css}return e}),a.addFilter("beforeRenderStyles",function(e,t,n,i,o){return e="@isPublish: "+n+";\n"+e}),a.addFilter("componentSelector",function(e,t){return e=l(t)?"."+C.getClassName(t):e}),a.on("changedComponentParams",function(e,t,n){e=a.getComponent(e);l(e)&&d(e).changeParam(t,n),a.$document.trigger("change.cards"),"secondary"!==u.theme.type||l(e)||a.$template.find("[data-app-component-id="+e._id+"] .app-component-content > *").trigger("change.cards")}),a.on("loadedComponent",function(e,t,n,i){i||"secondary"!==u.theme.type||a.$template.find("[data-app-component-id="+e._id+"] .app-component-content > *").trigger("add.cards"),l(e)&&i&&-1!=e._customHTML.indexOf("mbr-form")&&i&&(y.clean(e,n),y.prefix(e,n)),l(e)&&i&&b(n[0]).find("[data-app-component-id="+e._id+"] .app-component-content > section").removeAttr("data-rv-view").find("img, span").removeAttr("media-simple")}),a.on("changedComponentPosition",function(e,t){var n=a.getComponent(e);l(n)&&(n=void 0!==t&&a.$template.find("[data-app-component-id="+t+"] .app-component-content > *")[0],a.$template.find("[data-app-component-id="+e+"] .app-component-content > *").trigger("drag.cards",n||[]))}),a.on("removeComponent",function(e){var t=a.getComponent(e);l(t)&&a.$template.find("[data-app-component-id="+e+"] .app-component-content > *").trigger("delete.cards")}),a.on("addedComponent",function(t){clearTimeout(n),n=setTimeout(function(){var e=a.getComponent(t);l(e)&&e._alwaysTop&&a.$body.closest("html").stop().animate({scrollTop:0},1e3)},50)}),a.addFilter("loadComponentTemplate",function(e,t,n,i){return l(t)?(t._customHTML=t._customHTML||e,t._customCSS="","_styles"in t||(t._styles=i),i=d(t),n&&(i._arrivo._scope.isPublish=!0),i.getTemplate()):e}),a.addFilter("getComponentParams",function(e,t){t=a.getComponent(t);return l(t)&&(e.default=a.convertComponentParams(d(t).getDefaultParams())),e})});var m={update:function(e,t){var n,i=e.closest("a");e.attr({src:u.path2core(t.src),alt:t.alt,title:t.title}),u.isAMP()&&(n=e.closest("amp-img"),t.lightbox?(e.attr("lightbox",t.lightbox),n.attr("lightbox",t.lightbox),t.link=void 0):n.removeAttr("lightbox"),t.title?n.attr("title",t.title):n.removeAttr("title")),t.link?(i.length||(i=e.after("<a/>").next())[0].appendChild(e[0]),i.attr("href",t.link),t.linkInNewWindow?i.attr("target","_blank"):i.removeAttr("target"),i=u.applyFilter("secondaryImgLinkUpdate",i,t)):i.length&&i.contents().each(function(){i[0].parentNode.insertBefore(this,i[0])}).end().remove()}},y={update:function(i,o){var e=i.find("[data-form-alert]"),i="FORM"==i[0].tagName?i:i.find("form");e.html(o.alerts.success),i.attr("action",o.action),b(i[0].elements).each(function(){var e=b(this).attr("name"),t=i.find("[for='"+b(this).attr("name")+"']")||"",n=i.find("[data-for='"+b(this).attr("name")+"']")||"";e&&o.fields[e]&&(!function(e){var t,n=0;for(t in e.fields)e.fields[t].visible&&n++;return!n}(o)||(o.fields[e].visible=!0),o.fields[e].visible?(b(this).removeAttr("hidden"),t.removeAttr("hidden"),n.removeAttr("hidden")):(b(this).attr("hidden","true"),t&&t.attr("hidden","hidden"),n&&n.attr("hidden","hidden")),o.fields[e].customTitle?b(this).attr("placeholder",o.fields[e].customTitle):b(this).removeAttr("placeholder"))})},clean:function(e,t){var n,i=b(t[0]).find("[data-app-component-id="+e._id+"] [mbr-form]"),o=e[i.attr("mbr-form")];for(n in o.fields)o.fields[n].visible||(i.find("[name='"+n+"']").remove(),i.find("[for='"+n+"']").remove(),i.find("[data-for='"+n+"']").remove())},prefix:function(e,t){var n=e._id,i=e._anchor,o=b(t[0]).find("[data-app-component-id="+n+"] form");b(o[0].elements).each(function(){var e=b(this).attr("name"),t=o.find("[for='"+b(this).attr("name")+"']")||"",n=e+"-"+i;e&&b(this).attr("id",n),t&&t.attr("for",n)})}},w={init:g,update:function(e,t){var n=e.closest("a"),i=u.iconFonts[t.family];i?(e.removeClass(e.data("old-icon-classes")),i.prefix?e.addClass(i.prefix+t.name).removeAttr("data-name").html(""):e.html("&#x"+i.codes[i.names.indexOf(t.name)]).attr("data-name",t.name),i.class&&e.addClass(i.class),g(e,t),e.css({"font-size":t.size?parseInt(t.size,10)+"px":"",color:t.color||"",fill:t.color||""}),t.link?(n.length||(n=e.after("<a/>").next())[0].appendChild(e[0]),n.attr("href",t.link),t.newWindow?n.attr("target","_blank"):n.removeAttr("target"),n=u.applyFilter("secondaryIconLinkUpdate",n,t)):n.length&&n.contents().each(function(){n[0].parentNode.insertBefore(this,n[0])}).end().remove()):console.warn("IconFont not found in fonts list",t,e)}};function g(e,t){var n=u.iconFonts[t.family],i=[];n?(n.prefix&&i.push(n.prefix+t.name),n.class&&i.push(n.class)):console.warn("IconFont not found in fonts list",t,e),e.data("old-icon-classes",i.join(" "))}_.prototype.set=function(e,t){this._params[e]=encodeURIComponent(t)},_.prototype.toString=function(){var e,t="";for(e in this._params)t&&(t+="&"),t+=e+"="+this._params[e];return t=t&&"?"+t},v=_,k.prototype.toString=function(){return this._prefix+this.searchParams.toString()+this.hash},x=k;var v,x,B={update:function(e,t){var n=e.find("iframe"),i=new x(t.src);n.length||(n=e.append("<iframe/>").find("iframe")),"4:3"==t.aspectratio?n.attr({width:800,height:600}):n.removeAttr("width height"),i.searchParams.set("loop",t.loop?1:0),i.searchParams.set("autoplay",t.autoplay?1:0),n.attr("src",i.toString())}};function _(e){this._params={},e&&e.replace(/^\?/,"").split("&").forEach(function(e){var t,n;(e=e.split("="))[0]&&(t=e[0],n="",1<e.length&&(n=e.slice(1).join("=")),this._params[t]=n)},this)}function k(e){var t,n=this;this.hash="",this._prefix=e.replace(/#.*$/,function(e){return 1<e.length&&(n.hash=e),""}).replace(/\?.*$/,function(e){return 1<e.length&&(t=e),""}),this.searchParams=new v(t)}S.prototype.reset=function(){return this.lastError=null,this.nextNode=null,this.isBreaked=this.isStopped,this.isIgnoredChildren=!1,this.isTraverseForOneNode=!1,this.node=null,this.attr=null,this},S.prototype.hardReset=function(){return this.isStopped=!1,this.reset(),this},S.prototype.error=function(e){return this.lastError=e,this},S.prototype.ignoreChildren=function(){return this.isIgnoredChildren=!0,this},S.prototype.traverseForOneNode=function(){return this.isTraverseForOneNode=!0,this},S.prototype.break=function(){return this.isBreaked=!0,this},S.prototype.test=function(e){return this.isTest=e,this},S.prototype.stop=function(){return this.isStopped=this.isBreaked=!0,this},S.prototype.next=function(e){return this.nextNode=e,this};var N=S;function S(){this.isTest=!1,this.hardReset()}var C=u.SecondaryComponent=(P.prototype.getDefaultParams=function(){return this._defaultParams},P.prototype.getTemplate=function(){return this._template},P.prototype.createElementFromTemplate=function(){return c(this.getTemplate()).firstChild},P.prototype.getClassName=function(){return P.getClassName(this._component)},P.prototype.changeParam=function(e,t){var n=new L.ParamEvent("change");this._arrivo.emit("changeParam",n,e,t),n.defaultPrevented||u.Core.renderComponentsStyles(null,null,this._component)},P.prototype.changeNode=function(e,t){this._arrivo.emit("changeNode",new L.NodeEvent("change"),e,t)},P.prototype.isActualTemplate=function(){return this._arrivo&&this._arrivo._template==this._component._customHTML},P.prototype.update=function(){var c=this,d=this._component;return this.isActualTemplate()||(this._arrivo=new L(this._component._customHTML,{component:d}).on("ready",function(e,t,n){for(var i in c._template=t,c._defaultParams=n,e._params={},n){var o=n[i];e._params[i]=o.default}if(d._params)for(var i in d._params){var r;(o=c._arrivo.getParam(i))&&o.isProtected()&&((r=d._params[i])instanceof Object&&(r=b.extend(!0,Array.isArray(r)?[]:{},r)),e._params[i]=r)}var a=["_anchor","_checkPublish","_cid","_customCSS","_customHTML","_id","_JSplaceholders","_name","_PHPplaceholders","_styles","alias","_isUserblock","_sourceTheme","_isSecondary","typeCompatible","_popupId"];for(i in d)a.indexOf(i)<0&&delete d[i];delete d._rv,b.extend(!0,d,e);var s,t=u.$template.find("[data-app-component-id="+d._id+"]"),l=(t[(d._noDrag?"add":"remove")+"Class"]("no-sortable"),t[(d._positionAbsolute?"add":"remove")+"Class"]("pos-absolute"),d._alwaysBottom?t.attr("data-app-always-bottom","true").appendTo(t.parent()):t.removeAttr("data-app-always-bottom"),d._alwaysTop?t.attr("data-app-always-top","true").prependTo(t.parent()):t.removeAttr("data-app-always-top"),d._noDrag?t.find(".sortable").remove():t.find(".sortable").length||t.find(".app-component-edit").prepend('<span class="mbr-btn sortable mbr-icon-arrows-vertical" data-tooltipster="bottom" title="Drag Block"></span>'),!1);for(s in n)if(n[s].type){l=!0;break}l?t.find(".component-params").length||t.find(".component-remove").before('<span class="mbr-btn component-params mbr-icon-cog" data-tooltipster="bottom" title="'+p("Block Parameters")+'"></span>'):t.find(".component-params").remove()}).on("changedTemplate",function(e){e=e.replace(/<([-a-z0-9]+)(\s[^<>]+)>/g,function(e,t,n){return"<"+t+(n=n.replace(/\s([-a-z]+)="([^"]*)"/g,function(e,t,n){return"checked"!=t&&"selected"!=t&&n?" "+t+'="'+(n=n.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&"))+'"':" "+t}))+">"}),d._customHTML=e,this._template=e}).on("changedParam",function(e,t,n){"object"==(void 0===t?"undefined":U(t))&&(t=b.extend(!0,{},t)),u.Core.$template.find("[data-app-component-id="+d._id+"] .app-component-content > *").trigger("changeParameter.cards",[e,t].concat(n&&String(n)||[]))}).on("changedNode",function(e,t){var n;switch(t.type){case"icon":case"image":case"video":n='[mbr-media="'+e+'"]'}n&&u.Core.$template.find("[data-app-component-id="+d._id+"] .app-component-content > *").find(n).trigger("changeContent.cards",[t.type])}),this._arrivo.process(),u.cleanOnceComponents()),this},P.validate=function(e){var t=b.Deferred();return new L(e,{component:{},test:!0}).on("ready",function(){t.resolve()}).on("error",function(e){t.reject(e)}).process(),t.promise()},P.getClassName=function(e){return"cid-"+e._cid},P);function P(e){this._defaultParams={},this._component=e,this._template="",e._cid||(e._cid=u.getUID(3,{timePrefix:!0})),this.update()}var T,j,E,A,L=u.Arrivo=(T={tags:{},attrs:{}},(j=r.createChildClass(function(e,t){this.flow=new N,t.test&&this.flow.test(!0),this._uid=0,this._template=e,this._component=t.component,this._scope={},this._nodes={},this._params={},this._newComponent={_protectedParams:[]},this.on("changeParam",function(e,t,n){t in this._params&&(e.target=this._params[t],e.targetName=t,e.target.trigger(e,n),this.emit("changedTemplate",this.sourceFragment.innerHTML),e.isPropagationStopped||this.emit("changedParam",t,n))}).on("changeNode",function(e,t,n){t in this._nodes&&(e.target=this._nodes[t],e.targetName=t,e.target.trigger(e,n),this.emit("changedTemplate",this.sourceFragment.innerHTML),e.isPropagationStopped||this.emit("changedNode",t,e.target))})})).prototype.getUName=function(){return"uname__"+ ++this._uid},j.prototype.getComponent=function(){return this._component},j.prototype.getComponentsDir=function(){var e=this._component.alias,t=this._component._sourceTheme;return e?u.path2core(u.getAddonDir(e))+"/":t?u.path2core(u.getAddonDir(t))+"/components/":u.path2core(u.theme.pathExport+"/components")+"/"},j.prototype._bindNodes=function(e,t){for(var n,i=[e],o=[t];e=i.pop();)if(t=o.pop(),((n=e.nodeType)==e.TEXT_NODE||n==e.ELEMENT_NODE)&&((t._assocElement=e)._assocElement=t,n==e.ELEMENT_NODE))for(var r=0;r<e.childNodes.length;r++)i.push(e.childNodes[r]),o.push(t.childNodes[r])},j.prototype.findErrorLine=function(){var e,t,n,i=0,o=u.getUID();return this.flow.node&&(this.flow.attr?(t=this.flow.attr.value,n=this.flow.attr.name,this.flow.node.setAttribute(n,o),e=this.sourceFragment.innerHTML.indexOf(o),this.flow.node.setAttribute(n,t)):this.flow.node.nodeType==this.flow.node.TEXT_NODE&&(t=this.flow.node.nodeValue,this.flow.node.nodeValue=o,e=this.sourceFragment.innerHTML.indexOf(o),this.flow.node.nodeValue=t),0<=e)&&(n=this.sourceFragment.innerHTML.substr(0,e).split(t).length,i=this._template.split(t,n).join(t).split("\n").length),i},j.prototype.process=function(){var e=this._template;if(this.sourceFragment=c(e),this.resultFragment=c(e),this._bindNodes(this.sourceFragment,this.resultFragment),this._process(this.sourceFragment,!0),this.flow.isTest&&this.flow.lastError)"line"in this.flow.lastError&&(e=this.findErrorLine())&&(this.flow.lastError.line+=e),this.flow.attr&&(this.flow.lastError.message=this.flow.lastError.message.replace(/^\s*Parse error:/,'Parse error in "'+this.flow.attr.name+'" attribute:')),this.emit("error",this.flow.lastError);else{var t,n={};for(t in this._params)n[t]=this._params[t].prop();this.emit("ready",this._newComponent,this.resultFragment.innerHTML,n)}},j.prototype._process=function(e,t){var n,i,o=this.flow.isTraverseForOneNode,r=o?e:e.firstChild;for(t&&this.flow.hardReset();r;){if(this.flow.isStopped)return;if(this.flow.reset(),i=(this.flow.node=r).nextSibling,r.nodeType==r.ELEMENT_NODE){if(r.hasAttributes())for(var a=r.attributes,s=0;s<a.length;s++){this.flow.attr=a[s];var l=a[s].name;if((n=T.attrs[l])?n.call(this,b(r._assocElement),b(r),a[s].value,l):(n=T.attrs["*"])&&n.call(this,r._assocElement,r,a[s].value,l),this.flow.isBreaked)return}this.flow.attr=null;var c=t?":root":r.tagName.toLowerCase();if((n=T.tags[c])?n.call(this,b(r._assocElement),b(r),c):(n=T.tags["*"])&&n.call(this,r._assocElement,r,c),this.flow.isBreaked)return;this.flow.nextNode&&(i=this.flow.nextNode),this.flow.isIgnoredChildren||this._process(r,!1)}else if(r.nodeType==r.TEXT_NODE&&T.text&&(T.text.call(this,r._assocElement),this.flow.isBreaked))return;if(o)return;r=i}},j.prototype.addParam=function(e,t){if(e in this._params){if(this._params[e]===t)return;this._params[e].trigger("delete")}var n,i=t.elm();return i&&!t.prop("condition")&&(n=i.attr("condition"))&&(this.flow.node=i[0],this.flow.attr={name:"condition",value:n},i=this.getScript(n),n=this.getUName(),i?this.addProp(n,this.createFunction(i)):this.addProp(n,function(){return!1}),t.prop("condition",n)),t.isProtected()&&(i=this._newComponent._protectedParams)&&i.indexOf(e)<0&&i.push(e),this._params[e]=t,this},j.prototype.getParam=function(e){return this._params[e]},j.prototype.addNode=function(e,t){if(e in this._nodes){if(this._nodes[e]===t)return;this._nodes[e].trigger("delete")}return this._nodes[e]=t,this},j.prototype.getNode=function(e){return this._nodes[e]},j.prototype.addProp=function(e,t){if("object"==(void 0===e?"undefined":U(e)))for(var n in e)null!=(t=e[n])&&(this._newComponent[n]=t);else this._newComponent[e]=t;return this},j.prototype.getProp=function(e){return this._newComponent[e]},j.prototype.getScript=function(e){try{var t=mbrScript(e);if("repeat"==t.type)throw t=null,new mbrScript.Error("Parse error: Operator 'in' is not supported",0)}catch(e){this.flow.error(e),this.flow.isTest?this.flow.stop():console.error(e)}return t},j.prototype.createFunction=function(e){var t=new I([this.getComponent(),this._scope,o]);return new u.iwindow.Function("","var result = ("+e.code+'); if (result === undefined || result === null) return ""; return result;').bind(t)},j.prototype.fork=function(){return new j.Scope(this).on("changedTemplate",function(){this._parent.emit("changedTemplate",this._parent.sourceFragment.innerHTML)}).on("changedNode",function(e,t){this._parent.emit("changedNode",e,t)})},j.Scope=function(){((e.prototype=Object.create(mbrScript.Context.prototype)).constructor=e).prototype.getProp=function(e){if("this"==e)return this.scopes[0]&&this.scopes[0]._params;if(this.scopes[1]._params&&void 0!==this.scopes[1]._params[e])return this.scopes[1]._params[e];for(var t=2;t<this.scopes.length;t++)if(void 0!==this.scopes[t][e])return this.scopes[t][e]};var n=e;function e(){mbrScript.Context.apply(this,arguments)}var t,i=r.createChildClass(function(e){this.flow=e.flow,this._uid=0,this._parent=e,this._template=e._template,this._component=e._component,this._scope=e._scope,this._nodes={},this._params={},this._newComponent={_checkPublish:function(){return!!e._scope.isPublish}},this.on("changeNode",function(e,t,n){t in this._nodes&&(e.target=this._nodes[t],e.targetName=t,e.target.trigger(e,n),this.emit("changedTemplate"),e.isPropagationStopped||this.emit("changedNode",t,e.target))})});for(t in i.prototype.addParam=function(){},i.prototype.getParam=function(){},i.prototype.getUName=function(){return this._parent.getUName()},i.prototype.getParent=function(){return this._parent},i.prototype.process=function(e){var t,n;return"string"==typeof e?(t=c(n=e),n=c(n),j.prototype._bindNodes(t,n),this._process(t),e=n.firstChild):(this.flow.traverseForOneNode(),this._process(e._assocElement)),this.resultFragment=e,this.sourceFragment=e._assocElement,this.flow.isTest&&this.flow.lastError||this.emit("ready",this._newComponent,this.resultFragment,this.sourceFragment),this},i.prototype.createFunction=function(e){var t=new n([null,this.getComponent(),this._scope,o]);return new u.iwindow.Function("scope","this.scopes[0] = scope; var result = ("+e.code+'); if (result === undefined || result === null) return ""; return result;').bind(t)},j.prototype)t in i.prototype||(i.prototype[t]=j.prototype[t]);return i}(),j.Param=(O.prototype.on=function(e,t){return $(e).forEach(function(e){r.prototype.on.call(this,e,t)},this),this},O.prototype.off=function(e,t){var n;return arguments.length?(n="remove"+(1<arguments.length?"Listener":"AllListeners"),$(e).forEach(function(e){r.prototype[n].call(this,e,t)},this)):r.prototype.removeAllListeners.call(this),this},O.prototype.trigger=function(e){e="object"==(void 0===e?"undefined":U(e))?[e]:$(e).map(function(e){return new j.ParamEvent(e,{target:this})},this);var t=Array.prototype.slice.call(arguments,1);return e.forEach(function(e){r.prototype.emit.apply(this,[e.type,e].concat(t))},this),this},O.prototype.elm=function(e){return arguments.length?(this._elm=e,this):this._elm},O.prototype.prop=function(e,t){var n=arguments.length;return 1<n?(this._props[e]=t,this):"object"==(void 0===e?"undefined":U(e))?(this._props=e,this):n?this._props[e]:this._props},O.prototype.removeProp=function(e){return delete this._props[e],this},O.prototype.protect=function(){return this._protected=!0,this},O.prototype.isProtected=function(){return this._protected},O),j.Node=(D.prototype.on=j.Param.prototype.on,D.prototype.off=j.Param.prototype.off,D.prototype.trigger=j.Param.prototype.trigger,D.prototype.elm=function(e){return arguments.length?(this._elm=e,this):this._elm},D),j.ParamEvent=function(e,t){var n=!1,i=!1;if(this.preventDefault=function(){n=!0},this.stopPropagation=function(){i=!0},Object.defineProperties(this,{type:{value:e,enumerable:!0},defaultPrevented:{get:function(){return n},enumerable:!0},isPropagationStopped:{get:function(){return i},enumerable:!0}}),"object"==(void 0===t?"undefined":U(t)))for(var o in t)this[o]=t[o]},j.NodeEvent=j.ParamEvent,j.addHandler=function(e,t,n){return T[e]||(T[e]={}),T[e][t]=n,j},j.tag=function(e,t){return j.addHandler("tags",e.toLowerCase(),t)},j.attr=function(e,t){return j.addHandler("attrs",e,t)},j.text=function(e){return T.text=e,j},j.handlers=T,j);function $(e){return"string"==typeof e&&(e=e.replace(/^\s+|\s+$/g,""))?e.split(/\s+/):[]}function O(e){r.call(this,"Param"),this._props="object"==(void 0===e?"undefined":U(e))?e:{},this._protected=!1}function D(e,t){r.call(this,"Node"),Object.defineProperty(this,"type",{get:function(){return e},enumerable:!0}),this._elm=t}function F(e){for(var t,n=e.firstElementChild;n;){if(this.flow.isBreaked)return;for(var i in t=b(n),o=!0,L.handlers.params)if(t.is(i)){this.flow.node=n;var o=!1,r=t.attr("name");if(r&&!/^[_a-zA-Z][_a-zA-Z0-9]*$/.test(r)){var a=new Error('Incorrect parameter name: "'+r+'"');if(a.line=0,this.flow.isTest)return this.flow.attr={name:"name",value:r},void this.flow.error(a).stop();console.error(a)}a=L.handlers.params[i].call(this,t,t.attr("title")||r,t.val());a&&this.addParam(r||this.getUName(),a);break}o&&F.call(this,n),n=n.nextElementSibling}}function R(e){return e.split(E).filter(function(e){return e}).map(function(e){return"{{"==e.slice(0,2)&&"}}"==e.slice(-2)?"("+e.slice(2,-2).replace(/\\\{/g,"{").replace(/\\\}/g,"}")+")":"'"+A(e).replace(/\\/g,"\\\\").replace(/'/g,"\\'")+"'"}).join(" + ")}L.param=function(e,t){return L.addHandler("params",e,t)},L.tag("mbr-parameters",function(e,t){e.remove(),this.flow.ignoreChildren(),L.handlers.params&&F.call(this,t[0])}),L.param("hr, header",function(e){return new L.Param({type:"separator",title:e.html()||""}).elm(e)}),L.param("label",function(e){return new L.Param({type:"label",title:e.html()||"label"}).elm(e)}),L.param("input[type=text], textarea",function(n,e,t){var i=n.is("textarea");return new L.Param({type:i?"textarea":"text",title:e||"Text",default:t||""}).elm(n).on("change",function(e,t){i?n.text(t):n.attr("value",t)})}),L.param("input[type=checkbox]",function(n,e){var t=void 0!==n.attr("inverted");return new L.Param({type:"switch"+(t?"-off":""),title:e||(t?"Disable":"Enable"),default:n.prop("checked")}).elm(n).on("change",function(e,t){t?n.attr("checked",!0):n.removeAttr("checked")})}),L.param("input[type=radio]",function(n,e,i){var o=this,r=n.attr("name")||this.getUName(),t=this.getParam(r),a=n.prop("checked"),e=(t||((t=new L.Param({default:""})).radioGroup=this.getUName(),this.addParam(r,t)),n.attr("title")||(e=n.is("[title]")||!i?"":i),n.is("[value]")||(i=e),new L.Param({type:"radio",name:t.radioGroup,title:e,default:a}).elm(n).on("change",function(e,t){e.stopPropagation(),t?(n.attr("checked",!0),o.getComponent()._params[r]=i,o.emit("changedParam",r,i)):(n.removeAttr("checked"),e.preventDefault())}));this.addParam(this.getUName(),e),a&&t.prop("default",i)}),L.param("select",function(t,e,n){var i={};return t.find("option").each(function(){var e=b(this),t=e.attr("value"),e=e.html();i[t=void 0===t?e:t]=e}),new L.Param({type:"select",title:e||"Select",values:i,inline:t.is("[inline]"),multiple:t.is("[multiple]"),default:n}).elm(t).on("change",function(e,i){t.find("option[selected]").removeAttr("selected"),t.find("option").each(function(){var e=b(this),t=e.attr("value");if(void 0===t&&(t=e.html()),Array.isArray(i)){for(var n=0;n<i.length;n++)if(t===i[n]){e.attr("selected",!0);break}}else t==i&&e.attr("selected",!0)})})}),L.param("fieldset[type=background]",function(s,e,t){var l,c,d,u,p,f,h,m,n=s.find("image, color, video".replace(/(\w+)/g,"input[type=$1]:last"));n.length&&(c={},d=[],u=(l=this).getUName(),p=s.is("[parallax]"),f=L.handlers.params,h=s.attr("name")||this.getUName(),m=new L.Param({type:"background"}).elm(s).on("select",function(e,t){var n=l.getComponent()._params[h];n.type=t,n.value=n[t].value,n.parallax=p&&"image"==t&&n[t].parallax,l.emit("changedParam",h,n,"type")}).on("change",function(e,t,n,i){var o=l.getComponent()._params[h];o.type===t&&(o[n]=i),o[t][n]=i,l.emit("changedParam",h,o,n)}),n.each(function(){var n=b(this),i=n.attr("type"),e=n.attr("title"),t=n.is("[selected]"),o=(f["input[type="+i+"]"]||b.noop).call(l,n,"",n.val());if(o){var r=new L.Param({type:"radio",name:u,default:t}).elm(n).on("change",function(e,t){e.stopPropagation(),t?(n.attr("selected",!0),m.trigger("select",i)):(n.removeAttr("selected"),e.preventDefault())});switch(i){case"image":o.prop("title",""),r.prop("title",e||"Background Image"),c[i]={value:o.prop("default"),parallax:p&&n.is("[parallax]")};break;case"color":r.prop("title",e||"Background Color"),c[i]={value:o.prop("default")};break;case"video":o.prop("default",{url:o.prop("default").url}),r.prop("title",e||"Background Video"),c[i]={value:o.prop("default")}}l.addParam(l.getUName(),r);var a=l.getUName();l.addProp(a,l.createFunction(l.getScript(h+'.type == "'+i+'"'))),o.on("change",function(e,t){e.stopPropagation(),m.trigger("change",i,"value",t)}).prop("condition",a),d.push(o),p&&"image"==i&&d.push(new L.Param({type:"switch",title:s.attr("parallax")||"Parallax",default:n.is("[parallax]"),condition:a}).elm(n).on("change",function(e,t){e.stopPropagation(),t?n.attr("parallax",""):n.removeAttr("parallax"),m.trigger("change",i,"parallax",t)})),!t&&c.type||(c.type=i,c.value=c[i].value,c.parallax="image"==i&&c[i].parallax)}}),d.forEach(function(e){l.addParam(l.getUName(),e)}),this.addParam(h,m.prop("default",c)))}),L.param("input[type=color]",function(n,e,t){return new L.Param({type:"color",title:e||"Color",default:t||"#ffffff"}).elm(n).on("change",function(e,t){n.attr("value",t)})}),L.param("input[type=range]",function(n,e,t){var i=n.attr("min")||0,o=n.attr("max")||100;return new L.Param({type:"range",min:i,max:o,step:n.attr("step")||1,title:e||"Range",inline:n.is("[inline]"),default:t||(parseFloat(o)+parseFloat(i))/2}).elm(n).on("change",function(e,t){n.attr("value",t)})}),L.param("input[type=font]",function(n,e,t){for(var i,o=u.getAccesibleFonts(),r=0;r<o.length;r++)if(t===o[r].name){i=o[r];break}return new L.Param({type:"fonts",title:e||"Font",inline:!0,default:i||o[0]||{}}).elm(n).on("change",function(e,t){n.attr("value",t.name)})}),L.param("input[type=image]",function(n,e,t){return t&&0!==t.indexOf("@SITES@")&&t.indexOf(":/")<0&&(t=f(this.getComponent())+t),new L.Param({type:"image",title:e||"Image",default:t}).elm(n).on("change",function(e,t){n.attr("value",t)})}),L.param("input[type=video]",function(n,e,t){return new L.Param({type:"video",title:e||"Video",default:{url:t||"http://www.youtube.com/watch?v=uNCr7NdOJgw",loop:!0}}).elm(n).on("change",function(e,t){n.attr("value",t.rawUrl)})}),L.param("input[type=hidden]",function(e,t,n){return new L.Param({default:n||""})}),L.param("input[type=id]",function(e){return new L.Param({default:u.getUID(3,{timePrefix:!0})})}),L.tag(":root",function(e,t){var n=(n=t.attr("plugins"))&&n.replace(/\s*,\s*/g,",");this.addProp({_alwaysBottom:t.is("[always-bottom]"),_alwaysTop:t.is("[always-top]"),_global:t.is("[global]"),_noDrag:t.is("[not-draggable]"),_plugins:n||null,_positionAbsolute:t.is("[position-absolute]"),_once:t.is("[once]")&&(t.attr("once")||!0)}),e.attr("mbr-id","_anchor").addClass(C.getClassName(this.getComponent())).removeAttr("plugins group always-top always-bottom position-absolute not-draggable global")}),L.attr("mbr-list",function(e,t){var n,i=[],o=this.getUName(),r=this;e.find("> *").each(function(){var n=new M({$listSourceElement:t});r.fork().on("ready",function(e,t){n.template=t.outerHTML,n.arrivo=this,n.scope=e}).process(this),i.push(n)}).remove(),n=(n=t.attr("mbr-list-grow"))?" | grow _params."+n:"",e.attr("mbr-active-components",o+n).removeAttr("mbr-list mbr-list-grow"),this.addProp(o,i),this.flow.ignoreChildren()}),L.attr("mbr-text",function(e,n){var i,t,o=this.getUName(),r=new L.Node("content",n).on("change",function(e,t){n.html(t)});e.attr({"data-app-edit":"content","mbr-static-html":o,"mbr-content-edit":o,"data-app-placeholder":p("Type Text"),"mbr-on-change-component-node":(t=(i=this).getUName(),i.addProp(t,function(e,t){i.emit("changeNode",new L.NodeEvent("change",{originalEvent:e}),o,t[o])}),t)}),e.is("[mbr-article]")&&e.attr({"data-app-edit":"full","data-multiline":!0,"data-app-placeholder":p("Type Content")}),e.removeAttr("mbr-text mbr-article"),this.addNode(o,r),this.addProp(o,n.html()),this.flow.ignoreChildren()}),L.attr("mbr-article",L.handlers.attrs["mbr-text"]),["h1","h2","h3","h4","h5","h6","p"].forEach(function(e){L.tag(e,L.handlers.attrs["mbr-text"])}),L.attr("mbr-buttons",function(e,n,t,i){var o,r,a=this.getUName(),s=e.is("[mbr-buttons]")?"buttons":"menu",l=new L.Node(s,n).on("change",function(e,t){n.html(t)});e.attr({"data-app-edit":s,"mbr-static-html":a,"mbr-content-edit":a,"mbr-on-change-component-node":(r=(o=this).getUName(),o.addProp(r,function(e,t){var e=new L.NodeEvent("change",{originalEvent:e});o.emit("changeNode",e,a,(e=t[a],(e=b(c(e))).find("a").removeAttr("data-app-btn data-toolbar"),e.html()))}),r)}).attr(i,this.getUName()).find("a").attr({"data-app-btn":"true","data-app-placeholder":p("Type Text")}),"menu"==s&&e.attr("data-app-modern-menu",!0),this.addNode(a,l),this.addProp(a,e.html()),this.flow.ignoreChildren(),e.html("")}),L.attr("mbr-menu",L.handlers.attrs["mbr-buttons"]),L.attr("mbr-icon",function(e,n){var i,o=this.getUName(),t=b.extend(u.extractIconFont(e[0]),{link:"",newWindow:!1}),r=new L.Node("icon",n).on("change",function(e,t){w.update(n,t.iconFont)});n.closest("a").each(function(){t.link=b(this).attr("href")||"#",t.newWindow=b(this).is("[target=_blank]")}),w.init(n,t),e.attr({"mbr-media":o,"mbr-media-simple":!0,"mbr-on-click":(e=(i=this).getUName(),i.addProp(e,function(e,t){e.preventDefault(),e.stopPropagation(),u.Core.showMediaIconFontDialog(b.extend(!0,{},t[o]),function(e){t[o]=e,i.emit("changeNode",new L.NodeEvent("change"),o,t[o]),u.Core.updateGlobalComponents(i.getComponent()._id,function(e,t){for(var n in t)"_customHTML"!==n&&("object"===U(t[n])||"function"==typeof t[n]||/^_/g.test(n))||(t[n]=e[n]);d(t).update()})},e.target)}),e)}).removeAttr("mbr-icon"),this.addNode(o,r),this.addProp(o,{iconFont:t}),this.flow.ignoreChildren()}),L.tag("img",function(e,n){var i,o,r={active:!0},a=this.getUName(),t=new L.Node("image",n).on("change",function(e,t){m.update(n,t.image)}),s=(["src","alt","title","width","height"].forEach(function(e){var t=n.attr(e);(t||"width"!=e&&"height"!=e)&&(r[e]=t)}),r.src.indexOf(":/")<0&&r.src.indexOf("app/themes")<0&&0!==r.src.indexOf("@SITES@")&&(0===r.src.indexOf("../")?((s=(s=f(this.getComponent())).split("/")).splice(-2,2),s=s.join("/"),r.src=s+r.src.slice(2)):r.src=f(this.getComponent())+r.src),n.closest("a").each(function(){r.link=b(this).attr("href")||"#",r.linkInNewWindow=b(this).is("[target=_blank]")}),0<r.width&&(r.width=2*r.width),0<r.height&&(r.height=2*r.height),e.closest("amp-img")),l=!1,c=!1;b(s).hasClass("image-without-link")&&(c=!0),b(s).is(".lb-image")&&(l=!0),!b(s).attr("lightbox")&&""!=b(s).attr("lightbox")||(r.lightbox=b(s).attr("lightbox")||!0),e.attr({"mbr-media":a,"mbr-media-simple":!0,"mbr-on-click":(s=(o=this).getUName(),o.addProp(s,function(e,t){e.preventDefault(),e.stopPropagation(),i={width:2*b(e.target).width()},u.showMediaImageDialog(b.extend(!0,{},t[a],{image:i}),function(e){t[a]=e,o.emit("changeNode",new L.NodeEvent("change"),a,t[a]),u.Core.updateGlobalComponents(o.getComponent()._id,function(e,t){for(var n in t)"_customHTML"!==n&&("object"===U(t[n])||"function"==typeof t[n]||/^_/g.test(n))||(t[n]=e[n]);d(t).update()})},!1,c,!1,t._id,l,b(e.target))}),s)}),this.addNode(a,t),this.addProp(a,{image:r})}),L.attr("mbr-video",function(e,n){var i,o=this.getUName(),r={active:!0,src:"http://www.youtube.com/watch?v=uNCr7NdOJgw",aspectratio:"16:9",autoplay:!1,loop:!1},t=new L.Node("video",n).on("change",function(e,t){B.update(n,t.video)});n.find("iframe:last").each(function(){var e,t=b(this),n=t.attr("height"),i=t.attr("width"),t=t.attr("src");t&&(r.src=t,e=(t=new URL(r.src)).searchParams.get("autoplay"),t=t.searchParams.get("loop"),r.autoplay="1"===e||void 0===e,r.loop="1"===t||void 0===t),i&&n&&i/n<1.4&&(r.aspectratio="4:3")}),e.attr({"mbr-media":o,"mbr-on-click":(e=(i=this).getUName(),i.addProp(e,function(e,t){e.preventDefault(),e.stopPropagation(),u.showMediaVideoDialog(b.extend(!0,{},t[o]),function(e){t[o]=e,i.emit("changeNode",new L.NodeEvent("change"),o,t[o]),u.Core.updateGlobalComponents(i.getComponent()._id,function(e,t){for(var n in t)"_customHTML"!==n&&("object"===U(t[n])||"function"==typeof t[n]||/^_/g.test(n))||(t[n]=e[n]);d(t).update()})})}),e)}).removeAttr("mbr-video").html(""),this.addNode(o,t),this.addProp(o,{video:r}),this.flow.ignoreChildren()}),L.attr("mbr-if",function(e,t,n,i){var o;n?(n=this.getScript(n))?(o=this.getUName(),this.addProp(o,this.createFunction(n)),o="this | fakeFilter "+[o].concat(n.getDependencies().map(function(e){return"_params."+e})).join(" "),"mbr-style"==i?e.removeAttr(i).attr("mbr-style2",o):e.attr(i,o)):"mbr-style"==i?e.removeAttr(i):e.attr(i,"false"):e.removeAttr(i)}),L.attr("mbr-style",L.handlers.attrs["mbr-if"]),L.attr("mbr-form",function(e,n,t,i){var r={title:"",action:"",alerts:{},fields:{}},o="FORM"==e[0].tagName?e:e.find("form"),a=e.find("[data-form-alert]").html(),s=this.getUName(),l=new L.Node("form",n).on("change",function(e,t){y.update(n,t)});r.title=o.attr("name"),r.action=o.attr("action")||u.getUserInfo().email,a&&(r.alerts.success=a.trim()),b(o[0].elements).each(function(){var e,t=b(this).attr("name"),n=b(this).attr("data-form-field")||"",i=b(this).attr("placeholder")||"",o=!b(this).attr("hidden");null!=b(this).attr("type")?e=b(this).attr("type"):b(this).is("select")?e="select":b(this).is("textarea")&&(e="textarea"),t&&(r.fields[t]={visible:o,title:n,customTitle:i,type:e})}),e.removeAttr(i),this.addNode(s,l),this.addProp(s,r),y.update(o,r),o.attr({action:"https://mobirise.eu/","mbr-form":s}).removeAttr("name")}),L.attr("mbr-theme-style",function(e,n,t,i){var o,r,a;t&&"secondary"===u.theme.type&&(o=this.getUName(),e.attr({"mbr-class-var":o,"mbr-on-change-theme-style":(a=(r=this).getUName(),r.addProp(a,function(e,t){n.attr(i,e.themeStyle),r.emit("changedTemplate",r.sourceFragment.innerHTML)}),a)}),this.addProp(o,t)),e.removeAttr(i)}),u.on("formoidSucces",function(e,t,n,i){e=u.Core.getComponent(e);l(e)&&(y.update(i,n),d(e).changeNode(t,n))}),E=/(\{\{[\s\S]*?\}\})/,A=function(e){return e.replace(/\\{\\{/g,"{{").replace(/\\}\\}/g,"}}")},L.attr("mbr-class",function(e,t,n,i){e.removeAttr(i);var i=t.attr("class");i&&E.test(i)&&(t=R(i),n=n?"["+t+", "+n+"]":t),n&&(i=this.getScript(n))&&(t=this.getUName(),this.addProp(t,this.createFunction(i)),n="this | fakeFilter "+[t].concat(i.getDependencies().map(function(e){return"_params."+e})).join(" "),e.attr("mbr-class2",n))}),L.attr("*",function(e,t,n,i){var o;/^mbr-/.test(i)?e.removeAttribute(i):E.test(n)?"class"==i?(t.hasAttribute("mbr-class")||L.handlers.attrs["mbr-class"].call(this,b(e),b(t),"","mbr-class"),e.removeAttribute(i)):(t=R(n),(t=this.getScript(t))&&(o=this.getUName(),this.addProp(o,this.createFunction(t)),o="this | fakeFilter "+[o].concat(t.getDependencies().map(function(e){return"_params."+e})).join(" "),b(e).removeAttr(i).attr("mbr-"+i,o+" | toNULL"))):e.getAttribute(i)===n&&"["!=i[0]&&e.setAttribute(i,A(n))})},["jQuery","mbrApp","TR()"])},function(e,t,n){"use strict";defineM("carousel",function(e,t,r){var a=t.Arrivo;a.param("input[type=carousel]",function(e,t,n){t=t||"Slides";var i=this.getComponentsDir()+"_images/",o=e.attr("name")||this.getUName();this.addParam(o+"__autoplay",new a.Param({type:"select",title:r("Autoplay"),values:{false:"False",hover:"Pause on hover",true:"Autoplay"},default:"false"}).protect()),this.addParam(o+"__autoplayInterval",new a.Param({type:"range",title:r("Autoplay Interval (ms)"),min:1e3,max:8e3,inline:!0,default:4e3,step:1e3,condition:o+"__autoplayCondition"}).protect()),this.addProp(o+"__autoplayCondition",function(){return"false"!==this._params[o+"__autoplay"]}),this.addProp("carouselFunction",function(e){return("hover"===e||"true"===e)&&"carousel"}),this.addProp("intervalFunction",function(e){return!/^false/.test(e)&&e.replace(/^hover |true /,"")}),this.addParam(o+"__showBullets",new a.Param({type:"switch",title:r("Show Bullets"),default:!0}).protect()),this.addParam(o,new a.Param({type:"image-tabs",subtype:"carousel",title:t,_params:(t=o,{playVideo:{type:"switch",title:r("Play Video"),default:!1},videoUrl:{type:"text",title:r("Youtube or Vimeo"),condition:[t+".playVideo"],default:"https://www.youtube.com/watch?v=fwkKc6M60-0"},image:{type:"image",title:r("Image"),condition:["!"+t+".playVideo"]},showTitle:{type:"switch",title:r("Show Title")},showText:{type:"switch",title:r("Show Text")},showButtons:{type:"switch",title:r("Show Buttons")},overlay:{type:"switch",title:"Overlay",default:!1},overlayColor:{type:"color",title:r("Color"),default:"#000000",condition:[t+".overlay"]},overlayOpacity:{type:"range",title:r("Opacity"),min:0,max:1,step:.1,inline:!0,default:.5,condition:[t+".overlay"]},contentAlign:{type:"select",title:r("Content Align"),values:{left:"left",center:"center",right:"right"}}}),default:[{image:(t=i)+"background1.jpg",active:!0,showButtons:!0,showText:!0,showTitle:!0,playVideo:!1,videoUrl:"https://www.youtube.com/watch?v=fwkKc6M60-0",customStyle1:"display-1",customStyle2:"display-5",customStyle3:"display-4",alt:r(""),title:r(""),textTitle:r("FULL SCREEN SLIDER"),overlay:!0,contentAlign:"center",text:r("Choose from the large selection of latest pre-made blocks - jumbotrons, hero images, parallax scrolling, video backgrounds, hamburger menu, sticky header and more."),buttons:'<a data-app-btn="true" class="btn btn-success" data-app-placeholder="'+r("Type Text")+'" href="https://mobirise.com">'+r("FOR WINDOWS")+'</a> <a data-app-btn="true" class="btn  btn-white-outline" data-app-placeholder="'+r("Type Text")+'" href="https://mobirise.com">'+r("FOR MAC")+"</a>"},{image:t+"background2.jpg",active:!1,showButtons:!0,showText:!0,showTitle:!0,playVideo:!1,videoUrl:"https://www.youtube.com/watch?v=fwkKc6M60-0",customStyle1:"display-1",customStyle2:"display-5",customStyle3:"display-4",alt:r(""),title:r(""),textTitle:r("VIDEO SLIDE"),overlay:!0,contentAlign:"left",text:r("Slide with youtube video background and color overlay. Title and text are aligned to the left."),buttons:'<a data-app-btn="true" class="btn btn-primary" data-app-placeholder="'+r("Type Text")+'" href="https://mobirise.com">'+r("FOR WINDOWS")+'</a> <a data-app-btn="true" class="btn  btn-white-outline" data-app-placeholder="'+r("Type Text")+'" href="https://mobirise.com">'+r("FOR MAC")+"</a>"},{image:t+"background3.jpg",active:!1,showButtons:!0,showText:!0,showTitle:!0,playVideo:!1,videoUrl:"https://www.youtube.com/watch?v=fwkKc6M60-0",customStyle1:"display-1",customStyle2:"display-5",customStyle3:"display-4",alt:r(""),title:r(""),textTitle:r("IMAGE SLIDE"),overlay:!0,contentAlign:"right",text:r("Choose from the large selection of latest pre-made blocks - jumbotrons, hero images, parallax scrolling, video backgrounds, hamburger menu, sticky header and more."),buttons:'<a data-app-btn="true" class="btn btn-info" data-app-placeholder="'+r("Type Text")+'" href="https://mobirise.com">'+r("FOR WINDOWS")+'</a> <a data-app-btn="true" class="btn  btn-white-outline" data-app-placeholder="'+r("Type Text")+'" href="https://mobirise.com">'+r("FOR MAC")+"</a>"}]}).elm(e).protect())}),a.attr("mbr-carousel",function(e,t,n,i){e.html(n?'<div class="mbr-slider slide carousel" mbr-data-ride="_params.%paramName%__autoplay | fakeFilter carouselFunction" mbr-data-bs-ride="_params.%paramName%__autoplay | fakeFilter carouselFunction" mbr-data-interval="_params.%paramName%__autoplay | concatenatio _params.%paramName%__autoplayInterval | fakeFilter intervalFunction" mbr-data-bs-interval="_params.%paramName%__autoplay | concatenatio _params.%paramName%__autoplayInterval | fakeFilter intervalFunction" mbr-data-interval="_params.%paramName%__autoplay | concatenatio _params.%paramName%__autoplayInterval | fakeFilter intervalFunction" mbr-data-bs-pause="_params.%paramName%__autoplay" mbr-data-pause="_params.%paramName%__autoplay" data-keyboard="false" data-bs-keyboard="false"><ol class="carousel-indicators" mbr-if="_params.%paramName%__showBullets"><li data-app-prevent-settings mbr-each-this="_params.%paramName%" mbr-data-target="_anchor | pref \'#\'" mbr-data-target="_anchor | pref \'#\'" mbr-data-bs-target="_anchor | pref \'#\'" mbr-class-active="this.active" mbr-data-slide-to="index" mbr-data-bs-slide-to="index"></li></ol><div class="carousel-inner" role="listbox"><div class="carousel-item slider-fullscreen-image"mbr-each-this="_params.%paramName%"mbr-bg-image="this.image | unless this.playVideo"mbr-data-bg-video-slide="this.videoUrl | if this.playVideo"mbr-class-active="this.active"><div class="mbr-overlay" mbr-if="this.overlay | if this.playVideo" mbr-opacity="this.overlayOpacity" mbr-bg-color="this.overlayColor"></div><div class="container container-slide"><div class="image_wrapper"><div class="mbr-overlay" mbr-if="this.overlay | unless this.playVideo" mbr-opacity="this.overlayOpacity" mbr-bg-color="this.overlayColor"></div><img mbr-unless="this.playVideo" mbr-src="this.image" mbr-alt="this.alt" mbr-title="this.title"><div class="carousel-caption justify-content-center"><div class="col-10"mbr-class-align-left="this.contentAlign | eq \'left\'"mbr-class-align-center="this.contentAlign | eq \'center\'"mbr-class-align-right="this.contentAlign | eq \'right\'"><h2 class="mbr-fonts-style" mbr-class-var="this.customStyle1" mbr-if="this.showTitle" mbr-static-html="this.textTitle" mbr-content-edit="this.textTitle" data-app-edit="content" data-app-placeholder="Type Title"></h2><p class="lead mbr-text mbr-fonts-style"mbr-class-var="this.customStyle2"mbr-if="this.showText"mbr-static-html="this.text" mbr-content-edit="this.text" data-app-edit="content"data-app-placeholder="Type Text"></p><div class="mbr-section-btn"mbr-buttons mbr-if="this.showButtons | if this.buttons"mbr-static-html="this.buttons" mbr-content-edit="this.buttons" mbr-class-var="this.customStyle3" data-app-edit="buttons"data-toolbar="-mbrBtnMove"></div></div></div></div></div></div></div><a data-app-prevent-settings class="carousel-control carousel-control-prev" mbr-href="_anchor | pref \'#\'" role="button" data-slide="prev" data-bs-slide="prev"><span aria-hidden="true" class="mbri-left mbr-iconfont"></span><span class="sr-only visually-hidden">Previous</span></a><a data-app-prevent-settings class="carousel-control carousel-control-next" mbr-href="_anchor | pref \'#\'" role="button" data-slide="next" data-bs-slide="next"><span aria-hidden="true" class="mbri-right mbr-iconfont"></span><span class="sr-only visually-hidden">Next</span></a></div>'.replace(/%paramName%/g,n):""),this.flow.ignoreChildren();e=t.is("["+i+"-embedded]");this.addParam(n+"__embedded",new a.Param({default:e})),(t=this.getParam(n))&&(e?t.prop("fullscreen",!0):t.prop("default").forEach(function(e){e.customStyle1="display-2",e.customStyle2="display-7",e.showTitle=!1,e.showButtons=!1,e.contentAlign="center"}))})},["jQuery","mbrApp","TR()"])},function(e,t,n){"use strict";defineM("gallery",function(h,e,a){var s=e.Arrivo,m='\x3c!-- Filter --\x3e<div class="mbr-gallery-filter container" mbr-if="_params.%paramName%__filter" mbr-class-gallery-filter-active="_params.%paramName%__filter"><ul data-toolbar="-mbrBtnMove,-mbrBtnAdd,-mbrBtnRemove,-mbrLink,-mbrFonts,-mbrFontSize,-iconFont" data-app-edit="buttons"></ul></div>\x3c!-- Gallery --\x3e<div class=\'mbr-gallery-row\' mbr-class-container="fullWidth"><div class="mbr-gallery-layout-default"><div><div><div class="mbr-gallery-item" mbr-add-class="\'mbr-gallery-item--p\' | suff _params.%paramName%__spacing" mbr-each-this="_params.%paramName%" mbr-class-video-slide="this.playVideo" mbr-data-video-url="this.videoUrl | if this.playVideo" mbr-data-tags="this.tags"><div mbr-href="_anchor | pref \'#lb-\'" mbr-data-slide-to="index" mbr-data-bs-slide-to="index"><div mbr-if="this.playVideo"></div><img mbr-if="this.playVideo" mbr-src="this.videoPreview" alt=""><img mbr-unless="this.playVideo" mbr-src="this.thumb | else this.image" mbr-alt="this.alt" mbr-title="this.title"><span mbr-if="this.playVideo" class="icon-video"></span><span mbr-unless="this.playVideo" class="icon-focus"></span><span mbr-if="_params.%paramName%__showText" mbr-html="this.caption" data-app-edit="content" data-app-placeholder="'+a("Type Text")+'" data-app-selector=".mbr-gallery-item > div > span" class="mbr-gallery-title mbr-fonts-style" mbr-class-var="this.customStyle1"></span></div></div></div></div><div class="clearfix"></div></div></div>',g='\x3c!-- Gallery --\x3e<div class=\'gallery-row\' mbr-class-container="fullWidth"><div class="mbr-gallery-layout-default"><div  mbr-add-class="\'row justify-content-center m-0\' | if _params.%paramName%__flexDirection"><div class=\'row-first row justify-content-center m-0\' mbr-add-class="12 | / _params.%paramName%__count | pref \'col-md-10 p-0 col-lg-\' | if _params.%paramName%__flexDirection"><div class="mbr-gallery-item" mbr-add-class="12 | / _params.%paramName%__firstCount | pref \'col-lg-\' | concatenatio _params.%paramName%__firstCount | fakeFilter suffMD  | concatenatio \'col-sm-12\' | unless _params.%paramName%__flexDirection | concatenatio \'p-\' | suff _params.%paramName%__spacing" mbr-each-this="_params.%paramName%" mbr-class-video-slide="this.playVideo" mbr-data-video-url="this.videoUrl | if this.playVideo" mbr-if="_params.%paramName%__firstCount | gt index"><div mbr-href="_anchor | pref \'#lb-\'" mbr-data-slide-to="index" mbr-data-bs-slide-to="index"><div mbr-if="this.playVideo"></div><img mbr-if="this.playVideo" mbr-src="this.videoPreview" alt=""><img mbr-unless="this.playVideo" mbr-src="this.thumb | else this.image" mbr-alt="this.alt" mbr-title="this.title"><span mbr-if="this.playVideo" class="icon-video"></span><span mbr-unless="this.playVideo" class="icon-focus"></span><span mbr-if="_params.%paramName%__showText" mbr-html="this.caption" data-app-edit="content" data-app-placeholder="'+a("Type Text")+'" data-app-selector=".mbr-gallery-title" class="mbr-gallery-title mbr-fonts-style" mbr-class-var="this.customStyle1"></span></div></div></div><div class=\'row-second row justify-content-center m-0\' mbr-if="_params.%paramName%__count | gt 1"  mbr-add-class="12 | / _params.%paramName%__count | pref \'col-md-10 p-0 col-lg-\' | if _params.%paramName%__flexDirection"><div class="mbr-gallery-item" mbr-add-class="12 | / _params.%paramName%__secondCount | pref \'col-lg-\' | concatenatio _params.%paramName%__secondCount | fakeFilter suffMD | concatenatio \'col-sm-12\' | unless _params.%paramName%__flexDirection | concatenatio \'p-\' | suff _params.%paramName%__spacing" mbr-each-this="_params.%paramName%" mbr-class-video-slide="this.playVideo" mbr-data-video-url="this.videoUrl | if this.playVideo" mbr-if="index | concatenatio _params.%paramName%__firstCount | concatenatio _params.%paramName%__secondCount | fakeFilter filterImg"><div mbr-href="_anchor | pref \'#lb-\'" mbr-data-slide-to="index" mbr-data-bs-slide-to="index"><div mbr-if="this.playVideo"></div><img mbr-if="this.playVideo" mbr-src="this.videoPreview" alt=""><img mbr-unless="this.playVideo" mbr-src="this.thumb | else this.image" mbr-alt="this.alt" mbr-title="this.title"><span mbr-if="this.playVideo" class="icon-video"></span><span mbr-unless="this.playVideo" class="icon-focus"></span><span mbr-if="_params.%paramName%__showText" mbr-html="this.caption" data-app-edit="content" data-app-placeholder="'+a("Type Text")+'" data-app-selector=".mbr-gallery-title" class="mbr-gallery-title mbr-fonts-style" mbr-class-var="this.customStyle1"></span></div></div></div><div class=\'row-third row justify-content-center m-0\' mbr-if="_params.%paramName%__count | gt 2"  mbr-add-class="12 | / _params.%paramName%__count | pref \'col-md-10 p-0 col-lg-\' | if _params.%paramName%__flexDirection"><div class="mbr-gallery-item" mbr-add-class="12 | / _params.%paramName%__thirdCount | pref \'col-lg-\' | concatenatio _params.%paramName%__thirdCount | fakeFilter suffMD | concatenatio \'col-sm-12\' | unless _params.%paramName%__flexDirection | concatenatio \'p-\' | suff _params.%paramName%__spacing" mbr-each-this="_params.%paramName%" mbr-class-video-slide="this.playVideo" mbr-data-video-url="this.videoUrl | if this.playVideo" mbr-if="index | concatenatio _params.%paramName%__firstCount | concatenatio _params.%paramName%__secondCount | concatenatio _params.%paramName%__thirdCount | fakeFilter filterImg"><div mbr-href="_anchor | pref \'#lb-\'" mbr-data-slide-to="index" mbr-data-bs-slide-to="index"><div mbr-if="this.playVideo"></div><img mbr-if="this.playVideo" mbr-src="this.videoPreview" alt=""><img mbr-unless="this.playVideo" mbr-src="this.thumb | else this.image" mbr-alt="this.alt" mbr-title="this.title"><span mbr-if="this.playVideo" class="icon-video"></span><span mbr-unless="this.playVideo" class="icon-focus"></span><span mbr-if="_params.%paramName%__showText" mbr-html="this.caption" data-app-edit="content" data-app-placeholder="'+a("Type Text")+'" data-app-selector=".mbr-gallery-title" class="mbr-gallery-title mbr-fonts-style" mbr-class-var="this.customStyle1"></span></div></div></div><div class=\'row-fourth row justify-content-center m-0\' mbr-if="_params.%paramName%__count | gt 3"  mbr-add-class="12 | / _params.%paramName%__count | pref \'col-md-10 p-0 col-lg-\' | if _params.%paramName%__flexDirection"><div class="mbr-gallery-item" mbr-add-class="12 | / _params.%paramName%__fourthCount | pref \'col-lg-\' | concatenatio _params.%paramName%__fourthCount | fakeFilter suffMD | concatenatio \'col-sm-12\' | unless _params.%paramName%__flexDirection | concatenatio \'p-\' | suff _params.%paramName%__spacing" mbr-each-this="_params.%paramName%" mbr-class-video-slide="this.playVideo" mbr-data-video-url="this.videoUrl | if this.playVideo" mbr-if="index | concatenatio _params.%paramName%__firstCount | concatenatio _params.%paramName%__secondCount | concatenatio _params.%paramName%__thirdCount | concatenatio _params.%paramName%__fourthCount | fakeFilter filterImg"><div mbr-href="_anchor | pref \'#lb-\'" mbr-data-slide-to="index" mbr-data-bs-slide-to="index"><div mbr-if="this.playVideo"></div><img mbr-if="this.playVideo" mbr-src="this.videoPreview" alt="" ><img mbr-unless="this.playVideo" mbr-src="this.thumb | else this.image" mbr-alt="this.alt" mbr-title="this.title"><span mbr-if="this.playVideo" class="icon-video"></span><span mbr-unless="this.playVideo" class="icon-focus"></span><span mbr-if="_params.%paramName%__showText" mbr-html="this.caption" data-app-edit="content" data-app-placeholder="'+a("Type Text")+'" data-app-selector=".mbr-gallery-title" class="mbr-gallery-title mbr-fonts-style" mbr-class-var="this.customStyle1"></span></div></div></div></div><div class="clearfix"></div></div></div>';s.param("input[type=gallery]",function(e,t,n){t=t||"Gallery";var i=this.getComponentsDir()+"_images/",o=e.attr("name")||this.getUName(),r=e.attr("subtype")||"default";"flex"===r&&(this.addParam(o+"__flexDirection",new s.Param({type:"switch",title:a("Row/Column"),default:!1})),this.addParam(o+"__count",new s.Param({type:"range",min:1,max:4,title:a("Containers Count"),inline:!0,default:2})),this.addParam(o+"__firstCount",new s.Param({type:"range",min:1,max:4,title:a("1st Container Items"),inline:!0,default:4})),this.addParam(o+"__secondCount",new s.Param({type:"range",min:1,max:4,title:a("2nd Container Items"),inline:!0,default:4,condition:o+"__secondCountCondition"})),this.addParam(o+"__thirdCount",new s.Param({type:"range",min:1,max:4,title:a("3rd Container Items"),inline:!0,default:4,condition:o+"__thirdCountCondition"})),this.addParam(o+"__fourthCount",new s.Param({type:"range",min:1,max:4,title:a("4th Container Items"),inline:!0,default:4,condition:o+"__fourthCountCondition"})),this.addProp(o+"__secondCountCondition",function(){return 1<this._params[o+"__count"]}),this.addProp(o+"__thirdCountCondition",function(){return 2<this._params[o+"__count"]}),this.addProp(o+"__fourthCountCondition",function(){return 3<this._params[o+"__count"]}),this.addProp("suffMD",function(e){var t;return!!e&&(t="3"==e[e.length-1]?"col-md-4":"col-md-6",e.substring(0,e.length-1)+t)}),this.addProp("filterImg",function(e){var t=e.split(" ");if(t.length){for(var e=Number(t[0]),n=Number(t[1]),i=Number(t[t.length-1]),o=2;o<t.length-1;o++)n+=Number(t[o]);return i+=n,n<=e&&e<i}return!1})),this.addParam(o+"__spacing",new s.Param({type:"range",min:0,max:"flex"===r?5:6,title:"Spacing",inline:!0,default:1})),this.addParam(o+"__showBullets",new s.Param({type:"switch",title:a("Show Bullets"),default:!0})),this.addParam(o+"__showText",new s.Param({type:"switch",title:a("Show Text"),default:!1})),"flex"!==r&&(this.addParam(o+"__filter",new s.Param({type:"switch",title:a("Show Tags"),default:!1})),this.addParam("text_all",new s.Param({type:"hidden",default:"All"}).elm(e).protect()),this.addParam(o+"__filtersTextStyle",new s.Param({type:"hidden",default:"display-7"}).elm(e).protect()),this.addParam(o+"__filtersBtnStyle",new s.Param({type:"hidden",default:"btn-primary-outline"}).elm(e).protect())),this.addParam(o,new s.Param({type:"image-tabs",title:t,defaultImg:i+"logo.jpg",_params:function(e,t,n){return n=2<arguments.length&&void 0!==n&&n,t={videoPreview:{default:t+"gallery/preview.jpg"},playVideo:{type:"switch",title:a("Play Video"),default:!1},videoUrl:{type:"text",title:a("Video URL"),condition:[e+".playVideo"],default:"https://www.youtube.com/watch?v=xTvvQ65jWVs"},image:{type:"image",title:a("Image"),condition:["!"+e+".playVideo"]}},n||(t.tags={type:"text",title:a("Tags"),default:a("Awesome image"),condition:[e+"__filter"]}),t}(o,i,"flex"===r),default:function(e){for(var t=[],n=[a("Awesome"),a("Responsive"),a("Creative"),a("Animated"),a("Awesome"),a("Awesome"),a("Responsive"),a("Animated")],i=0;i<8;i++)t.push({tags:n[i],videoPreview:e+"gallery/preview.jpg",playVideo:!1,videoUrl:"https://www.youtube.com/watch?v=fwkKc6M60-0",image:e+"gallery/gallery0"+i+".jpg",thumb:e+"gallery/gallery0"+i+".jpg",alt:"",title:"",customStyle1:"display-7",caption:a("Type caption here"),active:!i});return t}(i)}).elm(e).protect())}),e.on("beforeAppLoad",function(){e.iwindow.rivets.formatters.concatenatio=new e.iwindow.Function("v, v1",'if (!v) if(v != "0") v="";if (!v1) if(v1 != "0") v1= "";return v + " " + v1;')}),s.attr("mbr-gallery",function(e,n,i,t){var o=t+"-show-text",r=t+"-show-bullets",a=t+"-show-filter",s=t+"-spacing",l=t+"-count",c=t+"-first-count",d=t+"-second-count",u=t+"-third-count",p=t+"-fourth-count",f=t+"-flex-vertical";e.html(i?((n.is("["+l+"]")?g:m)+'\x3c!-- Lightbox --\x3e<div data-app-prevent-settings class="mbr-slider modal fade carousel slide" mbr-id="_anchor | pref \'lb-\'" tabindex="-1" data-keyboard="true" data-bs-keyboard="true" data-interval="false" data-bs-interval="false"><div class="modal-dialog"><div class="modal-content"><div class="modal-body"><ol class="carousel-indicators" mbr-if="_params.%paramName%__showBullets"><li data-app-prevent-settings mbr-each-this="_params.%paramName%" mbr-data-target="_anchor | pref \'#lb-\'" mbr-data-bs-target="_anchor | pref \'#lb-\'" mbr-class-active="this.active" mbr-data-slide-to="index" mbr-data-bs-slide-to="index"></li></ol><div class="carousel-inner"><div class="carousel-item" mbr-class-active="this.active" mbr-each-this="_params.%paramName%" mbr-class-video-container="this.playVideo"><img mbr-src="this.image" mbr-alt="this.alt" mbr-title="this.title"></div></div><a class="carousel-control carousel-control-prev" mbr-href="_anchor | pref \'#lb-\'" role="button" data-slide="prev" data-bs-slide="prev"><span class="mbri-left mbr-iconfont" aria-hidden="true"></span><span class="sr-only visually-hidden">Previous</span></a><a class="carousel-control carousel-control-next" mbr-href="_anchor | pref \'#lb-\'" role="button" data-slide="next" data-bs-slide="next"><span class="mbri-right mbr-iconfont" aria-hidden="true"></span><span class="sr-only visually-hidden">Next</span></a><a class="close" href="#" role="button" data-dismiss="modal" data-bs-dismiss="modal"><span class="sr-only visually-hidden">Close</span></a></div></div></div></div>').replace(/%paramName%/g,i):""),this.addProp(i+"__filters",new Function("","var className = this._params."+i+'__filtersBtnStyle; return "<li class=\\"mbr-gallery-filter-all active\\"><a class=\\"btn btn-md " + className + "\\" data-app-btn=\\"true\\" data-app-placeholder=\\"Type Text\\" href>" + this._params.text_all + "</a></li>";')),this.addProp(i+"__onChangeFiltersBtnStyle",function(e,t){t._params[i+"__filtersBtnStyle"]=e.addedClass}),this.addProp(i+"__onChangeFiltersBtnText",function(e,t){e=h(e.target).find(".mbr-gallery-filter-all a").html();t._params.text_all=e}),e.find(".mbr-gallery-filter ul").attr({"mbr-buttons":"","mbr-static-html":i+"__filters","mbr-content-edit":i+"__filters","mbr-class-var":"_params."+i+"__filtersTextStyle","mbr-on-change-button-color":i+"__onChangeFiltersBtnStyle","mbr-on-change-component-node":i+"__onChangeFiltersBtnText"}),this.flow.ignoreChildren(),i&&((t=this.getParam(i+"__flexDirection"))&&t.on("change",function(e,t){t?n.attr(f,""):n.removeAttr(f)}).prop("default",n.is("["+f+"]")),(t=this.getParam(i+"__showText"))&&t.on("change",function(e,t){t?n.attr(o,""):n.removeAttr(o)}).prop("default",n.is("["+o+"]")),(t=this.getParam(i+"__showBullets"))&&t.on("change",function(e,t){t?n.attr(r,""):n.removeAttr(r)}).prop("default",n.is("["+r+"]")),(t=this.getParam(i+"__filter"))&&t.on("change",function(e,t){t?n.attr(a,""):n.removeAttr(a)}).prop("default",n.is("["+a+"]")),(t=this.getParam(i+"__spacing"))&&t.on("change",function(e,t){-1<t?n.attr(s,t):n.removeAttr(s)}).prop("default",parseInt(n.attr(s))||0),(t=this.getParam(i+"__count"))&&t.on("change",function(e,t){0<t?n.attr(l,t):n.removeAttr(l)}).prop("default",parseInt(n.attr(l))||1),(t=this.getParam(i+"__firstCount"))&&t.on("change",function(e,t){0<t?n.attr(c,t):n.removeAttr(c)}).prop("default",parseInt(n.attr(c))||1),(t=this.getParam(i+"__secondCount"))&&t.on("change",function(e,t){0<t?n.attr(d,t):n.removeAttr(d)}).prop("default",parseInt(n.attr(d))||1),(t=this.getParam(i+"__thirdCount"))&&t.on("change",function(e,t){0<t?n.attr(u,t):n.removeAttr(u)}).prop("default",parseInt(n.attr(u))||1),t=this.getParam(i+"__fourthCount"))&&t.on("change",function(e,t){0<t?n.attr(p,t):n.removeAttr(p)}).prop("default",parseInt(n.attr(p))||1)})},["jQuery","mbrApp","TR()"])},function(e,t,n){"use strict";defineM("map",function(e,t,r){var a=t.Arrivo;a.param("input[type=map]",function(n,e,t){var i=n.attr("place-id"),o={address:'<iframe src="https://www.google.com/maps/embed?pb=!1m14!1m8!1m3!1d6045.3003145248895!2d-73.9884657!3d40.7477229!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x89c259a9ac1f1b85%3A0x7e33d1c0e7af3be4!2zMzUwIDV0aCBBdmUsIE5ldyBZb3JrLCBOWSAxMDExOCwg0KHQqNCQ!5e0!3m2!1sru!2sru!4v1689597362021!5m2!1sen!2sen" width="600" height="450" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>'};return i&&i!=o.placeId&&(o.placeId=i,o.address=t),new a.Param({type:"map",title:e||r("Address"),default:o}).elm(n).on("change",function(e,t){n.attr({"place-id":t.address,value:t.address})})}),a.attr("mbr-map",function(e,t,n){n&&e.attr("mbr-map","_params."+n).html(""),this.flow.ignoreChildren()})},["jQuery","mbrApp","TR()"])},function(e,t,n){"use strict";defineM("shop",function(u,p,f){var h,l=p.Arrivo,m='\x3c!-- Shop Gallery --\x3e<div class=" col-md-12 sort-buttons clearfix" mbr-if="_params.%paramName%__showSortButtons"><div class="sort-buttons"><div class="filter-by-d mbr-section-btn item-button" data-app-edit="content" mbr-html="_params.filter_by_d" data-app-edit="buttons" data-toolbar="-mbrBtnExtendedColor,-mbrBtnMove,-mbrBtnRemove,-mbrLink,-mbrBtnAdd,-mbrFonts,-mbrFontSize,-iconFont"></div><div class="filter-by-pu mbr-section-btn" data-app-edit="content" mbr-class-var="this.customStyle7" mbr-html="_params.filter_by_pu" data-app-edit="buttons" data-toolbar="-mbrBtnExtendedColor,-mbrBtnMove,-mbrBtnRemove,-mbrLink,-mbrBtnAdd,-mbrFonts,-mbrFontSize,-iconFont"></div><div class="filter-by-pd mbr-section-btn" data-app-edit="content" mbr-class-var="this.customStyle7" mbr-html="_params.filter_by_pd" data-app-edit="buttons" data-toolbar="-mbrBtnExtendedColor,-mbrBtnMove,-mbrBtnRemove,-mbrLink,-mbrBtnAdd,-mbrFonts,-mbrFontSize,-iconFont"></div></div></div><div class="row mbr-shop__row col-md-12"><div class="wrapper-shop-items" mbr-class-col-md-12="\'true\' | unless _params.%paramName%__showSidebar" mbr-class-col-xl-9="_params.%paramName%__showSidebar" ><div class="mbr-gallery-row"><div mbr-class-col-md-8="articleLayout" mbr-class-offset-md-2="articleLayout"><div class="shop-items"><div class="mbr-gallery-item" mbr-each-this="_params.%paramName%" mbr-data-tags="this.tags" mbr-data-seller="this.bestSeller" mbr-data-slide-to="index" mbr-data-bs-slide-to="index"><div class="item_overlay"></div><div class="galleryItem"><div class="style_overlay"></div><div class="img_wraper"><img mbr-src="this.thumb | else this.image" mbr-alt="this.alt" mbr-title="this.title"></div><span class="onsale mbr-fonts-style" mbr-class-var="this.customStyleSale" data-app-selector=".onsale" mbr-html="this.sale" mbr-data-onsale="this.onSale" mbr-show="this.onSale" mbr-content-edit="this.sale" data-app-edit="content" data-app-placeholder="'+f("Sale")+'"></span><div class="sidebar_wraper"><h4 class="item-title mbr-fonts-style mbr-text" mbr-class-var="this.customStyle5" data-app-selector=".item-title" mbr-html="this.itemTitle" mbr-content-edit="this.itemTitle" data-app-edit="content" data-app-placeholder="'+f("Type Title")+'"></h4><div class="price-block"><span class="shop-item-price mbr-fonts-style" mbr-class-var="this.customStyle5" data-app-selector=".shop-item-price,.price-block" mbr-html="this.itemPrice" mbr-content-edit="this.itemPrice" data-app-edit="content" data-app-placeholder="'+f("Type Price")+'"></span><span class="oldprice mbr-fonts-style" mbr-class-var="this.customStyle7" data-app-selector=".oldprice,.price-block" mbr-html="this.oldPriceValue" mbr-content-edit="this.oldPriceValue" data-app-edit="content" mbr-show="this.oldPrice" data-app-placeholder="'+f("Type Price")+'"></span></div><div class="card-description" mbr-html="this.itemDescription" data-app-edit="full" data-multiline data-app-selector=".card-description" data-app-placeholder="'+f("Type Caption")+'"></div><div class="mbr-section-btn" mbr-buttons mbr-html="this.button" mbr-content-edit="this.button" mbr-class-var="this.customStyle7" mbr-show="_params.%paramName%__showCardButtons"data-app-edit="buttons" data-toolbar="-mbrBtnMove,-mbrBtnAdd,-mbrFonts,-mbrBtnRemove,-mbrFontSize,-iconFont"></div></div></div></div></div></div><div class="clearfix"></div></div></div><div class="col-xl-3 sidebar" mbr-if="_params.%paramName%__showSidebar"><div class="sidebar-background"></div><div class="sidebar-block container bestseller-block" mbr-if="_params.%paramName%__showBestSellers"><h4 data-app-edit="content"class="sidebar-title mbr-fonts-style mbr-text"mbr-class-var="this.customStyle7"data-app-selector=".sidebar-title"mbr-html="_params.sidebar1" mbr-content-edit="_params.sidebar1" data-app-edit="content" data-app-placeholder="'+f("Type Title")+'"></h4><div class="bestsellers col-md-12" onselectstart="return false"><div class="bestsellers-img"></div><div class="bestsellers-title"></div></div></div><div class="sidebar-block container range-slider" mbr-if="_params.%paramName%__showPriceRange"><h4 class="sidebar-title mbr-fonts-style mbr-text"mbr-class-var="this.customStyle7" data-app-selector=".sidebar-title" mbr-html="_params.sidebar2" mbr-content-edit="_params.sidebar2" data-app-edit="content" data-app-placeholder="'+f("Type Title")+'"></h4><div class="filter-cost" onselectstart="return false"><div class="price-controls"><label class="min-price"><input class="min-input" type="text" value="auto" name="min"></label><label class="max-price"><input class="max-input" type="text" value="auto" name="max"></label></div><div class="range-controls"><div class="scale"><div class="bar"></div></div><div class="toggle min-toggle"></div><div class="toggle max-toggle"></div></div></div> <div class="price-range mbr-section-btn" mbr-buttons mbr-static-html="_params.price_range" mbr-content-edit="_params.price_range" mbr-class-var="this.customStyle7" data-app-edit="buttons" data-toolbar="-mbrBtnMove,-mbrLink,-mbrBtnRemove,-mbrFonts,-mbrFontSize,-mbrBtnAdd,-iconFont"></div><div class="price-range-reset mbr-section-btn" mbr-buttons mbr-static-html="_params.price_range_reset" mbr-content-edit="_params.price_range_reset" mbr-class-var="this.customStyle7" data-app-edit="buttons" data-toolbar="-mbrBtnMove,-mbrLink,-mbrBtnRemove,-mbrFonts,-mbrFontSize,-mbrBtnAdd,-iconFont"></div></div><div class="sidebar-block container sidebar-categories" mbr-if="_params.%paramName%__showTags"><h4 class="sidebar-title mbr-fonts-style mbr-text" mbr-class-var="this.customStyle7" data-app-selector=".sidebar-title" mbr-html="_params.sidebar3" mbr-content-edit="_params.sidebar3" data-app-edit="content" data-app-placeholder="'+f("Type Title")+'"></h4><div class="categories col-md-12"><div class="categories-titles">\x3c!-- Filter --\x3e<div class="mbr-gallery-filter mbr-shop-filter container" mbr-class-gallery-filter-active="_params.%paramName%__showTags" mbr-class-gallery-filter><ul><li class="mbr-gallery-filter-all active display-7" mbr-html="_params.text_all" data-app-edit="content"></li> </ul></div></div></div></div></div></div>\x3c!-- Lightbox --\x3e<div class="shopItemsModal_wraper"><div class="shopItemsModalBg"></div><div class="shopItemsModal row"><div class="col-md-6 image-modal"></div><div class="col-md-6 text-modal"></div><div class="closeModal"><div class="close-modal-wrapper"></div></div></div></div>';function g(e){var t;switch(e){case"secondary":t="btn-secondary";break;case"success":t="btn-success";break;case"info":t="btn-info";break;case"warning":t="btn-warning";break;case"danger":t="btn-danger";break;case"white":t="btn-white";break;case"black":t="btn-black";break;default:t="btn-primary"}return t}l.param("input[type=shop]",function(e,t,n){t=t||"Shop";var i=this.getComponentsDir()+"_images/shop/",o=e.attr("name")||this.getUName();this.addParam(o+"__showSidebar",new l.Param({type:"switch",title:f("Show Sidebar"),default:!1}).protect()),this.addParam(o+"__reverseSidebar",new l.Param({type:"switch",title:f("Reverse Sidebar:"),default:!1,condition:[o+"__showSidebar"]}).protect()),this.addParam(o+"__showSortButtons",new l.Param({type:"switch",title:f("Show Sorting Buttons"),default:!1}).protect()),this.addParam(o+"__showBestSellers",new l.Param({type:"switch",title:f("Show Best Sellers"),default:!1,condition:[o+"__showSidebar"]}).protect()),this.addParam(o+"__showPriceRange",new l.Param({type:"switch",title:f("Show Price Range"),default:!1,condition:[o+"__showSidebar"]}).protect()),this.addParam(o+"__showTags",new l.Param({type:"switch",title:f("Show Tags"),default:!0,condition:[o+"__showSidebar"]}).protect()),this.addParam("text_all",new l.Param({type:"hidden",default:"All"}).elm(e).protect()),this.addParam("sidebar1",new l.Param({type:"hidden",default:"Best Sellers"}).elm(e).protect()),this.addParam("sidebar2",new l.Param({type:"hidden",default:"Price Range"}).elm(e).protect()),this.addParam("sidebar3",new l.Param({type:"hidden",default:"Tags"}).elm(e).protect()),this.addParam(o+"__filtersTextStyle",new l.Param({type:"hidden",default:"display-7"}).elm(e).protect()),this.addParam("buttons_default_class",new l.Param({type:"hidden",default:e.attr("buttons")}).elm(e).protect()),this.addParam("filter_by_d",new l.Param({type:"hidden",default:'<a class="btn btn-sm '+g(e.attr("buttons"))+' disableSortButton" href="">'+f("Default sorting")+"</a>"}).elm(e).protect()),this.addParam("filter_by_pu",new l.Param({type:"hidden",default:'<a class="btn btn-sm '+g(e.attr("buttons"))+'-outline disableSortButton" href="">'+f("Price: low to high")+"</a>"}).elm(e).protect()),this.addParam("filter_by_pd",new l.Param({type:"hidden",default:'<a class="btn btn-sm '+g(e.attr("buttons"))+'-outline disableSortButton" href="">'+f("Price: high to low")+"</a>"}).elm(e).protect()),this.addParam(o,new l.Param({type:"image-tabs",title:t,defaultImg:i+"logo.jpg",_params:(t=o,{bestSeller:{type:"switch",title:f("Best Seller"),default:!1},onSale:{type:"switch",title:f("On Sale"),default:!1},oldPrice:{type:"switch",title:f("Old Price"),default:!1},image:{type:"image",title:f("Image")},tags:{type:"text",title:f("Tags"),default:f("Awesome image"),condition:[t+"__showTags"]}}),default:function(e,t){for(var n=[],i=[f("Brown Glasses"),f("Men's Shoes"),f("Blue Backpack"),f("Red Snapback"),f("Black Glasses"),f("Women's Shoes"),f("Pink Backpack"),f("Red Cap")],o=[f("Awesome"),f("Wonderful"),f("Creative"),f("Awesome"),f("Responsive"),f("Creative"),f("Animated"),f("Awesome")],r=g(t._props.default),a=0;a<8;a++){var s=!1,l=!1,c=Math.floor(100*Math.random())+1;2===a&&(l=s=!0),n.push({tags:o[a],bestSeller:!1,onSale:s,oldPrice:l,itemTitle:i[a],itemDescription:f("Casual shoes (contact us for sizing)")+"<br><br><ul><li>"+f("Lightweight textured fabric")+"</li> <li>"+f("Rounded v-neckline")+"</li> <li>"+f("Pom pom trims")+"</li> <li>"+f("Regular fit – true to size")+"</li></ul> <br>"+f("Duis auctor hendrerit nisi, at lacinia ex vulputate quis. Suspendisse convallis iaculis tortor, quis mattis lectus rutrum a.")+"<br><br>"+f("Product code: ")+"<b>385DDF5p</b>",itemPriceTitle:f("From: "),itemPrice:"$"+c,oldPriceValue:"$"+2*c,sale:"-50%",button:'<a data-app-btn="true" class="btn '+r+'" data-app-placeholder="'+f("Type Text")+'" href="https://mobirise.com">'+f("Buy now!")+"</a>",image:e+"shop"+a+".jpg",thumb:e+"shop"+a+".jpg",customStyle5:"display-5",customStyle7:"display-7",customStyleSale:"display-7",customStyleTags:"display-4",caption:f("Type caption here"),active:!a})}return n}(i,this.getParam("buttons_default_class"))}).elm(e).protect())}),l.attr("mbr-shop",function(e,n,c,t){e.html(c?m.replace(/%paramName%/g,c):""),this.addProp(c+"__onChangeFiltersBtnStyle",function(e,t){t._params[c+"__filtersTextStyle"]=e.addedClass}),this.addProp(c+"__onChangeFiltersBtnText",function(e,t){e=u(e.target).html();t._params.text_all=e}),e.find(".mbr-gallery-filter ul").attr({"mbr-buttons":"","mbr-content-edit":c+"__filters","mbr-class-var":"_params."+c+"__filtersTextStyle","mbr-on-change-button-color":c+"__onChangeFiltersBtnStyle","mbr-on-change-component-node":c+"__onChangeFiltersBtnText"}),e.find(".sidebar-title").attr({"mbr-on-change-component-node":c+"__onChangeFiltersText","mbr-on-change-text-color":c+"__onChangeFiltersBtnStyle","mbr-content-edit":c+"__showSidebar","mbr-class-var":"_params."+c+"__filtersTextStyle"}),this.addProp(c+"__onChangeFiltersBtnStyle",function(e,t){t._params[c+"__filtersBtnStyle"]=e.addedClass});var o,i,e=n.is("["+t+"-minimal");function r(e){var t,n,i,o,r=u(e.target).closest(".mbr-gallery-item"),e=u(e.target).closest(".mbr-shop");h=r.index(),e.find(".shopItemsModal_wraper").css("display","flex"),t=(r=r).closest(".mbr-shop").find(".shopItemsModal"),n=r.find(".sidebar_wraper").clone(),i=r.find("img").clone(),o=r.find(".onsale").clone(),d(r.closest(".mbr-shop")),u(t).find(".text-modal").append(n),u(t).find(".image-modal").append(i).append(o),e.find(".shopItemsModal").find("[data-app-btn]").removeClass("note-air-editor","note-editable")}function a(e){var t,n,i,o,r,a,s,l=u(e).closest(".mbr-shop"),e=p.Core.getComponent(u(e).closest(".app-component").attr("data-app-component-id"));t=h,e=e,i=u(n=l).find(".text-modal h4").html(),o=u(n).find(".text-modal .card-description").html(),r=u(n).find(".text-modal .shop-item-price ").html(),a=u(n).find(".image-modal .onsale ").html(),s=u(n).find(".text-modal .oldprice ").html(),n=u(n).find(".text-modal .mbr-section-btn"),(e=e._params[c][t]).itemTitle=i,e.itemDescription=o,e.itemPrice=r,e.sale=a,e.oldPriceValue=s,e.button=function(e){var t=e.find("a").length,o="";return t&&e.find("a").each(function(){var e=u(this).attr("href"),t=u(this).attr("class"),n=u(this).attr("target"),i=u(this).html();o+='<a data-app-btn="true" href="'+e+'" data-app-placeholder="'+f("Type Text")+'" class="'+t+(n?'" target="'+n:"")+'">'+i+"</a>"}),o}(n),u(l).find(".shopItemsModal_wraper").css("display","none"),d(l)}function d(e){e=u(e).find(".shopItemsModal");u(e).children(".text-modal").empty(),u(e).children(".image-modal").empty()}function s(e){function t(e){var o=u(this),t=o.closest("section").find(".mbr-gallery-row"),r=o.html().trim();o.parent().find("li").removeClass("active"),o.addClass("active"),i.find(".mbr-gallery-item:not(.bestsellers .mbr-gallery-item)").each(function(e,t){var n=u(this),i=n.attr("data-tags").split(",").map(function(e){return e.trim()});-1!=u.inArray(r,i)||o.hasClass("mbr-gallery-filter-all")?n.removeClass("mbr-gallery-item__hided"):(n.addClass("mbr-gallery-item__hided"),setTimeout(function(){n.css("left","300px")},200))}),setTimeout(function(){t.closest(".mbr-gallery-row").trigger("filter")},50)}var n,i=p.Core.$template.find("[data-app-component-id="+e+"] .app-component-content").find("section"),e=i.find(".mbr-gallery-filter-all"),o=[];i.find("div.mbr-shop").length&&(i.find(".mbr-gallery-item").each(function(e){(u(this).attr("data-tags")||"").trim().split(",").map(function(e){e=e.trim();-1==u.inArray(e,o)&&o.push(e)})}),0<i.find(".mbr-gallery-filter").length&&i.find(".mbr-gallery-filter").hasClass("gallery-filter-active")?(n="",i.find(".mbr-gallery-filter ul li:not(li:eq(0))").remove(),o.map(function(e){n+='<li class="display-7">'+e+"</li>"}),i.find(".mbr-gallery-filter ul").append(e).append(n),i.find(".mbr-gallery-filter ul li").off("click",t).on("click",t)):(i.find(".mbr-gallery-item__hided").removeClass("mbr-gallery-item__hided"),i.find(".mbr-gallery-row").trigger("filter")))}this.addParam(c+"__minimal",new l.Param({default:e})),e&&(i=this.getParam(c))&&i.prop("default").forEach(function(e){e.customStyleSale="display-4",e.sale="SALE"}),c&&((i=this.getParam(c+"__showSortButtons"))&&i.on("change",function(e,t){t?n.attr("sorting",""):n.removeAttr("sorting")}).prop("default",n.is("[sorting]")),(i=this.getParam(c+"__showSidebar"))&&i.on("change",function(e,t){t?n.attr(c+"__showSidebar",""):n.removeAttr(c+"__showSidebar")}).prop("default",n.is("[show-sidebar]")),(i=this.getParam(c+"__reverseSidebar"))&&i.on("change",function(e,t){t?o.find(".mbr-shop__row").removeClass("flex-row-reverse"):o.find(".mbr-shop__row").addClass("flex-row-reverse")}).prop("default",n.is("[show-sidebar]")),(i=this.getParam(c))&&i.on("change",function(e,t){var n=t.length-1,i=o.find(".mbr-gallery-item").eq(n);!0===t[n].onSale?i.find(".onsale").css("display","block").attr("data-onsale","true"):!1===t[n].onSale&&i.find(".onsale").css("display","none").attr("data-onsale","false"),!0===t[n].oldPrice?i.find(".oldprice").css("display","inline-block").attr("data-onsale","true"):!1===t[n].oldPrice&&i.find(".oldprice").css("display","none").attr("data-onsale","false"),t[n].hasOwnProperty("bestSeller")&&i.attr("mbr-data-seller")&&(o.find(".bestsellers").children().remove(),o.find(".shop-items").children().each(function(){var e;"true"==u(this).attr("data-seller")&&(e=u(this).clone(),o.find(".bestsellers").append(u(e)))}))}),p.Core.on("loadedComponent",function(t,e,n,i){if(s(t._id),o=p.Core.$template.find("[data-app-component-id="+t._id+"] .app-component-content"),!i&&"secondary"===p.theme.type&&t._plugins&&-1!==t._plugins.indexOf("mobirise-shop")&&(o.find(".item_overlay").off("click").on("click",function(e){r(e)}),o.find(".shopItemsModalBg, .close-modal-wrapper").attr("data-onclick")||o.find(".shopItemsModalBg, .close-modal-wrapper").attr("data-onclick","true").on("click",function(e){a(e.target)}),o.find(".bestsellers").html(""),o.find(".mbr-gallery-item").each(function(e){t._params[c][e].bestSeller&&u(this).attr("data-seller")&&(e=u(this).clone(),o.find(".bestsellers").append(u(e)))}),o.find(".mbr-gallery-item .mbr-section-btn").css("display","none")),i){try{n.find("section").attr("data-sortbtn",g(p.Core.getComponent(t._id)._params.buttons_default_class))}catch(e){}n.find(".shopItemsModal_wraper").css("z-index","2500"),n.find(".mbr-gallery-item>div").attr("data-bs-toggle","modal"),n.find(".mbr-gallery-item>div").attr("data-toggle","modal"),n.find(".item-button").css("text-align","center"),n.find(".item-button a").css({position:"relative",display:"inline-block"}),n.find(".bestsellers").children().remove(),n.find(".shop-items").children().each(function(){var e;"true"==u(this).attr("data-seller")&&(e=u(this).clone(),n.find(".bestsellers").append(u(e)))}),n.find(".shop-items .shop-item-price").each(function(){var e=u(this).html().match(/[+\-]?\d+(,\d+)?(\.\d+)?/)[0];u(this).closest(".mbr-gallery-item").attr("data-price",e)}),n.find(".shop-items .oldprice").each(function(){var e=u(this).html().match(/[+\-]?\d+(,\d+)?(\.\d+)?/)[0];u(this).closest(".mbr-gallery-item").attr("data-oldprice",e)}),t._params[c+"__showSortButtons"]?n.find(".sort-buttons").css("display","block"):n.find(".sort-buttons").css("display","none"),t._params[c+"__showSidebar"]&&!t._params[c+"__reverseSidebar"]?n.find(".mbr-shop__row").addClass("flex-row-reverse"):n.find(".mbr-shop__row").removeClass("flex-row-reverse")}}),p.Core.on("addComponentParamsTab",function(e){p.Core.$template.find("[data-app-component-id="+e+"] .app-component-content").find(".item_overlay").last().on("click",function(e){r(e)})}),p.Core.on("changedComponentParams",function(e){s(e)}))})},["jQuery","mbrApp","TR()"])},function(e,t,n){"use strict";defineM("app-pages",function(s,l,c,a){var t=!0;function i(){var e=l.getCurrentPageName(),t=(l.$navbarPageName.html(l.getPages()[e].settings.title||""),s(".navbar-project-info .app-page-url-separator")),n=s(".navbar-project-info .app-page-url");"index.html"===e?(t.hide(),n.html("")):(t.show(),n.html(e))}function d(e){for(var t=e.children().length,n=0;n<t;n++){var i=e.children().eq(n).find("a").attr("data-page");l.currentPageSettings=i,l.changePageSettings("order",n+1)}}function u(){l.$pageSettings.find(".page-settings-chrome-preview").hasClass("chrome-preview-mobile")?l.$pageSettings.find(".chrome-preview-url").text("https://yoursite.com"+("index.html"===l.currentPageSettings?"":" > "+l.currentPageSettings)):l.$pageSettings.find(".chrome-preview-url").text("https://yoursite.com/"+("index.html"===l.currentPageSettings?"":l.currentPageSettings))}var e={init:function(){function e(e){var t,n,i,o,r=l.Core.getPages();for(t in r)r.hasOwnProperty(t)&&r[t].settings.meta_image&&(n=r[t].settings.meta_image,i=(o=a.splitPath(n)).fullname,o=o.ext,e.push({srcList:[{src:n}],dest:l.IMAGES_FOLDER+"/"+i}),e.push({srcList:[{src:n}],dest:l.IMAGES_FOLDER+"/"+t.replace(/.html/gi,"")+"-meta."+o}));return e}l.$pageSettings.on("click","#metaShareImage",function(e){var t;s(e.target).is(":checked")?(t=e.currentTarget,l.Core.resultJSON[l.Core.currentPage].settings.meta_image?s(t).closest(".form-group").find(".social-sharing-on-users").css({display:"none"}):o().then(function(e){l.showMediaImageDialog({image:{width:2e3,quality:70,src:e||""}},n(t),!0)})):(e=e.currentTarget,delete l.Core.resultJSON[l.Core.currentPage].settings.meta_image,s(e).closest(".form-group").find(".social-sharing-on-mobirise").css({display:"none"}).find("img").attr("src",""),s(e).closest(".form-group").find(".social-sharing-on-users").css({display:"block"}))}),l.$pageSettings.on("click","img.social-sharing-on-mobirise__img",function(e){var t={image:{width:2e3,quality:70,src:s(e.currentTarget).attr("src")}};0<=t.image.src.indexOf(l.getAddonDir(l.theme.name).replace("web/",""))&&(t.image.src="../../"+t.image.src),l.showMediaImageDialog(t,n(!1,e.currentTarget),!0)}),l.on("cancelMediaImageDialog",function(e){l.$pageSettings.find(".social-sharing-on-mobirise__img").attr("src")||l.$pageSettings.find("#metaShareImage").trigger("click")}),l.on("closeMediaImageDialog",function(e){l.$pageSettings.find(".social-sharing-on-mobirise__img").attr("src")||l.$pageSettings.find("#metaShareImage").trigger("click")}),l.addFilter("publishHTML",function(e,t){var n=t.settings,i=n.meta_image,i=void 0===i?"":i,n=n.socialSharingUrl,n=void 0===n?"":n;return i?(i=a.splitPath(i).ext,i='<meta name="twitter:card" content="summary_large_image"/>\n  <meta name="twitter:image:src" content="'+l.IMAGES_FOLDER+"/"+t.settings.currentPageName.replace(/\.html/gi,"")+"-meta."+i+'">\n  <meta property="og:image" content="'+l.IMAGES_FOLDER+"/"+t.settings.currentPageName.replace(/\.html/gi,"")+"-meta."+i+'">\n  <meta name="twitter:title" content="'+t.settings.title+'">\n  ',e=e.replace('<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1"',i+'<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1"')):n&&(i='<meta name="twitter:card" content="summary_large_image"/>\n  <meta name="twitter:image:src" content="'+n+'">\n  <meta property="og:image" content="'+n+'">\n  <meta name="twitter:title" content="'+t.settings.title+'">\n  ',e=e.replace('<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1"',i+'<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1"')),e}),l.addFilter("publishFiles",e),l.addFilter("exportProjectFiles",e)}};function n(n,i){return function(e){var t;e.image.src?(0<=(e=e.image.src).indexOf(l.path2core(l.getAddonDir(l.theme.name)+"/components"))&&(e=e.replace(/^\.\.\/\.\.\//,"")),l.Core.resultJSON[l.Core.currentPage].settings.meta_image=e,i?(s(i).css({display:"block"}).attr("src",e),s(i).css({height:i.width/1.91})):(t=s(n).closest(".form-group").find(".social-sharing-on-mobirise").css({display:"block"}).find("img"),s(n).closest(".form-group").find(".social-sharing-on-users").css({display:"none"}),s(n).closest(".form-group").find(".social-sharing-on-mobirise").css({display:"block"}),t.on("load",function(){t.css({height:t.width()/1.91})}),t.css({display:"block"}),t.attr("src",e))):l.$pageSettings.find("#metaShareImage").trigger("click")}}function o(){return new Promise(function(o,e){var t=l.Core.currentPage,t=l.Core.resultJSON[t].components;t.length?t.some(function(e,t,n){var i;return-1!==e._name.search("menu")?t+1===n.length&&(o(),!0):(i=e._id,(i=(i=(l.Core.$template.find("[data-app-component-id="+i+"] > *").html().match(/<img[^>]* src=\"([^\"]*)\"[^>]*>/gi)||[]).map(function(e){return e.match(/<img[^>]* src=\"([^\"]*)\"[^>]*>/i)[1]})).map(function(e){return l.core2abs(e)})).length?(function e(t,n,i,o){t<n&&o(i[t]).catch(function(){e(++t,n,i,o)})}(0,Array.from(new Set(i)).length,Array.from(new Set(i)),function(i){return new Promise(function(e,t){var n=new Image;n.onload=function(){400<=n.width?o(i):t()},n.src=i})}),!0):e._params&&e._params.bg&&"image"===e._params.bg.type?(o(e._params.bg.value),!0):void(n.length-1===t&&o()))}):o()})}l.regExtension({name:"pages",global:{$navbarPageName:s(".app-page-name"),$pagesList:s("#app-pages-list"),$pagesListToggle:s(".pages-block"),currentPageSettings:void 0,$pageSettings:s("#app-page-settings"),pageSettingsInputs:"[data-page-settings]",showPagesList:function(){var t=this;this.$body.hasClass("app-pages-list-open")&&this.$body.hasClass("app-page-settings-open")||(this.fire("showSideBarsSection",this.$pagesList),this.fire("showPagesList"),this.$body.removeClass("app-projects-list-open").addClass("app-sidebar-open app-pages-list-open"),this.fire("showedPagesList"),s(".search-page-input").focus(),l.$body.on("keyup.escListenerPagesList",function(e){"Escape"!==e.key||t.$body.hasClass("app-page-settings-open")||t.$body.hasClass("modal-open")||(t.hidePagesList(),e.stopPropagation())}))},hidePagesList:function(){(this.$body.hasClass("app-pages-list-open")||this.$body.hasClass("app-page-settings-open"))&&(this.fire("hidePagesList"),this.$body.removeClass("app-pages-list-open app-page-settings-open"),this.fire("hiddenPagesList"),l.$body.off("keyup.escListenerPagesList"),l.$body.off("keyup.escListenerPagesSettings"))},addPage:function(e,t,n,i,o){var r;if(n||(r=!0,n=(a=this.Core.addPage(e)).name,i=i||a.title,o&&(l.Core.resultJSON[n].components=o)),!n)return!1;i=l.escapeHtml(i),this.fire("addPage",n);var a=s(["<li"+(t?' class="main-page"':"")+">",'<a href="javascript:void(0)" class="clearfix">','<span data-tooltipster="bottom"'+(t?"":' title="'+c("Drag Page")+'"')+">"+i+"</span>",'<div class="btn-group">','<button class="btn btn-primary app-page-clone" data-tooltipster="bottom" title="'+c("Clone Page")+'">','<i class="mbr-icon-copy"></i>',"</button>",'<button class="btn btn-info app-page-settings" data-tooltipster="bottom" title="'+c("Page Settings")+'">','<i class="mbr-icon-cog"></i>',"</button>",t?"":'<button class="btn btn-material-red app-page-remove" data-tooltipster="bottom" title="'+c("Remove Page")+'"><i class="mbr-icon-trash"></i></button>','<button class="btn btn-info app-page-ok" data-tooltipster="bottom" title="'+c("OK")+'">','<i class="mbr-icon-check"></i>',"</button>","</div>","</a>","</li>"].join("")),o=(a.find(">a").attr({"data-page":n,"data-title":i}),a=this.applyFilter("addPage",a,n),this.$pagesList.find(".list .sortable-container"));return r?(!e||(t=this.$pagesList.find('.list li > a[data-page="'+e+'"]').parent()).hasClass("main-page")?o.prepend(a):t.after(a),d(o)):a.hasClass("main-page")?o.before(a):o.append(a),this.fire("addedPage",n,arguments),a},switchPage:function(e){var t=s(e).attr("data-page");s(e).attr("data-title");this.fire("switchPage",t),s(e).closest(".list").find("li").children("a").removeClass("active"),s(e).addClass("active"),this.$body.hasClass("app-page-settings-open")&&s(e).find(".app-page-settings").click(),this.Core.switchPage(t).then(function(){l.fire("switchedPage",t)})},removePage:function(e){var t,n=s(e).find("> a").attr("data-page");this.fire("removePage",n),this.Core.removePage(n)&&(s(e).find("[data-toggle=tooltip]").tooltip("destroy"),s(e).find("> a").hasClass("active")&&(t=!(t=s(e).prev()).length&&s(e).is(":first-child")?this.$pagesList.find(".main-page"):t).children("a").click(),s(e).remove(),this.fire("removedPage",n))},showPageSettings:function(e){var t,n,i=this,o=(i.currentPageSettings=e.attr("data-page"),i.fire("showPageSettings"),i.applyFilter("showPageSettings",s.extend(!0,{fileName:i.currentPageSettings},i.Core.getPages()[i.currentPageSettings].settings))),e=(i.$pageSettings.find(i.pageSettingsInputs).each(function(){var e=s(this).attr("data-page-settings");s(this).val(o[e]||"")}),i.pageNameFullEdit=i.applyFilter("pageNameFullEdit",!1),i.pageNameFullEdit||(e=i.$pageSettings.find('[data-page-settings="fileName"]'),t=o.fileName.substr(0,o.fileName.lastIndexOf(".")),n=o.fileName.substr(o.fileName.lastIndexOf(".")+1),(e.parent(".file-name-wrap").length?(e.next().html("."+n),e):e.wrap('<div class="file-name-wrap"></div>').after("<span>."+n+"</span>")).val(t)),i.$pageSettings.find("img.social-sharing-on-mobirise__img"));e.length&&s(e).css({height:e[0].width/1.91}),i.$body.removeClass("app-projects-list-open").addClass("app-sidebar-open app-page-settings-open"),l.$body.on("keyup.escListenerPagesSettings",function(e){"Escape"!==e.key||i.$body.hasClass("modal-open")||(i.$pageSettings.find(".app-layer-close").trigger("click"),e.stopPropagation())}),i.fire("showedPageSettings")},changePageSettings:function(e,t,n){this.fire("changePageSettings",this.currentPageSettings),t=t.toString().trim(),this.pageNameFullEdit||"fileName"!==e||(t+=this.$pageSettings.find('[data-page-settings="fileName"]').next().html());var i=this.Core.changePageSettings(this.currentPageSettings,e,t);i?(this.$pagesList.find('[data-page="'+this.currentPageSettings.replace('"','\\"')+'"]').attr("data-page",i),this.currentPageSettings=i):"title"===e&&(i=t,(e=this.$pagesList.find('[data-page="'+this.currentPageSettings.replace('"','\\"')+'"]')).attr("data-title",i),n&&s(n.target).closest(".list").length?this.$pageSettings.find('[data-page-settings="title"]').val(i):e.find("span:eq(0)").html(i)),this.fire("changedPageSettings",this.currentPageSettings)},sortPagesByOrder:function(e){var t,n=[];for(t in e)e.hasOwnProperty(t)&&n.push({key:t,value:e[t]});n.sort(function(e,t){return e.value.settings.order-t.value.settings.order});for(var i={},o=n.length,r=0;r<o;r++)i[n[r].key]=n[r].value;return i},getResultPage:function(e){var t=(e=s.extend(!0,{},e)).components;delete e.components,(e=l.Core.cleanJSONPlease(s.extend(!0,{},e))).components=t;for(var n=0;n<t.length;n++)l.Core.isSecondaryComponent(e.components[n])&&(e.components[n]=l.Core.transformSecondaryComponentForProject(e.components[n])),e.components[n]=l.Core.cleanJSONPlease(e.components[n]),delete e.components[n]._anchor,delete e.components[n]._cid;return e},getResultJSON:function(){return l.Core.resultJSON},getPagesList:function(e){return l.Core.getPagesList(e)},getCurrentPageName:function(){return l.Core.currentPage}},events:{load:function(){var o,r=this,t=(l.$pagesList.prepend('\n                    <div class="col-xs-12 search-page-wrap">\n                        <input class="search-page-input form-control" type="text" placeholder="'+c("Search")+'" value="">\n                    </div>\n                '),null);function n(e,t){r.$pagesList.find(".list .sortable-container").sortable("disable");var n=e.find("span:eq(0)"),e=(o=n.html(),e.children("a").addClass("editing"),n.attr("contenteditable",""),t&&"dblclick"===t.type?n.tooltipster("content",c("Edit Title")):n.attr("title",c("Edit Title")),document.createRange()),t=window.getSelection();e.selectNodeContents(n[0]),t.removeAllRanges(),t.addRange(e)}function a(e,t){var n=t.closest("[data-page]");n.removeClass("editing"),t.removeAttr("contenteditable"),n.closest("li").hasClass("main-page")?t.tooltipster("content",null):s(e.relatedTarget).hasClass("app-page-new")||s(e.relatedTarget).attr("data-page")?setTimeout(function(){t.tooltipster("content",c("Drag Page"))},300):t.tooltipster("content",c("Drag Page")),r.$pagesList.find(".list .sortable-container").sortable("enable")}l.$pagesList.find(".search-page-input").on("input",function(e){clearTimeout(t),t=setTimeout(function(){var n=e.target.value.toLowerCase();l.$pagesList.find(".main-page, .sortable-container li").each(function(e,t){t=s(t);t.find("[data-title]").attr("data-title").toLowerCase().includes(n)?t.removeClass("hidden"):t.addClass("hidden")})},100)}),r.$pagesListToggle.on("click",function(e){e.preventDefault(),e.stopPropagation(),r.showPagesList()}),r.$pagesList.on("click",function(e){e.stopPropagation()}),r.$pagesList.on("click",".app-layer-close",function(e){r.hidePagesList()}),r.on("clickBody",function(){r.hidePagesList()}),r.on("sidebarClosed",function(){r.hidePagesList()}),r.$pagesList.on("paste","li > .editing > span:first-child",function(e){e.preventDefault();e=((e.originalEvent||e).clipboardData||window.clipboardData).getData("text/plain");s(this).html(e)}),r.$pagesList.on("click",".app-page-new",function(e){l.applyFilter("getPagePreset",Promise.resolve()).then(function(e){e=r.addPage(void 0,void 0,void 0,void 0,e);n(e),e.children("a").click()}).catch(function(){})}),r.$pagesList.find(".list").on("click",".app-page-clone",function(){var e=s(this).parents("[data-page]:eq(0)").attr("data-page");e&&(n(e=r.addPage(e)),e.children("a").click())}),r.$pagesList.find(".list").on("click","li > a:not(.active, .app-page-new)",function(e){e.preventDefault(),r.switchPage(this)}),r.$pagesList.find(".list").on("click",".app-page-remove",function(e){e.preventDefault(),e.stopPropagation();var t=s(this).parent().parent().parent()[0],e=s(this).parents("[data-page]:eq(0)").attr("data-page")||"";r.confirmDlg(c("Remove page $page name$?").replace("$page name$"," <strong>"+e+"</strong>"),function(e){e&&r.removePage(t)})}),r.$pagesList.find(".list").on("dblclick","li > a:not(.editing, .app-page-new) > span:first-child",function(e){n(s(this).closest("li"),e)}),r.$pagesList.find(".list").on("blur keydown",".editing [contenteditable]",function(e){var t,n,i=s(this);"focusout"===e.type?(t=i.closest("[data-page]").attr("data-page")||"",n=i.html(),r.currentPageSettings=t,r.changePageSettings("title",n,e),a(e,i)):13===e.which?s(this).trigger("blur"):27===e.which&&(i.html(o),a(e,i))}),r.$pagesList.find(".list").on("click",".app-page-settings",function(e){e.preventDefault(),e.stopPropagation();e=s(this).parent().parent();r.showPageSettings(e)}),r.$pageSettings.on("click",function(e){e.stopPropagation()}),r.$pageSettings.on("click",".app-layer-close",function(e){r.$body.removeClass("app-page-settings-open"),l.$body.off("keyup.escListenerPagesSettings")}),r.on("clickBody",function(){r.$body.removeClass("app-page-settings-open"),l.$body.off("keyup.escListenerPagesSettings")}),r.$pageSettings.on("blur keyup paste",r.pageSettingsInputs,function(){r.changePageSettings(s(this).attr("data-page-settings"),s(this).val()),l.$pageSettings.find(".chrome-preview-title").text(l.Core.getPages()[l.currentPageSettings].settings.title||""),l.$pageSettings.find(".chrome-preview-description").text(l.Core.getPages()[l.currentPageSettings].settings.meta_descr||"")}),l.$pageSettings.on("click",".app-page-settings-chrome-preview-btn",function(){s(this).addClass("active").siblings().removeClass("active"),l.$pageSettings.find(".page-settings-chrome-preview").removeClass("chrome-preview-desktop chrome-preview-mobile").addClass(s(this).hasClass("chrome-preview-desktop-btn")?"chrome-preview-desktop":"chrome-preview-mobile"),l.$pageSettings.find(".page-settings-chrome-preview").hasClass("chrome-preview-mobile")?(l.isAMP()?l.$pageSettings.find(".chrome-preview-amp-icon").show():l.$pageSettings.find(".chrome-preview-amp-icon").hide(),l.$pageSettings.find(".chrome-preview-link").insertBefore(l.$pageSettings.find(".chrome-preview-title"))):(l.$pageSettings.find(".chrome-preview-link").insertAfter(l.$pageSettings.find(".chrome-preview-title")),l.$pageSettings.find(".chrome-preview-amp-icon").hide()),u()}),e.init(),l.$body.find(".navbar-project-info .app-page-name").on("click",function(e){e.preventDefault(),e.stopPropagation(),l.$pageSettings.find(".page-setting-title-wrap").removeClass("selected"),l.openSidebar(),setTimeout(function(){l.$pageSettings.find(".app-layer-cont").scrollTop(0),l.$pagesList.find(".list li > a.active .app-page-settings").click(),l.$pageSettings.find(".page-setting-title-wrap").addClass("selected")},300)}),l.$body.find(".navbar-project-info .app-page-url").on("click",function(e){e.preventDefault(),e.stopPropagation(),l.$pageSettings.find(".page-setting-url-wrap").removeClass("selected"),l.openSidebar(),setTimeout(function(){l.$pageSettings.find(".app-layer-cont").scrollTop(0),l.$pagesList.find(".list li > a.active .app-page-settings").click(),l.$pageSettings.find(".page-setting-url-wrap").addClass("selected")},300)})},loadedProject:function(){var n,e,t,i=this.$pagesList.find(".list"),o=(i.html('<li><a href="javascript:void(0)" class="app-page-new"><span><i class="mbr-icon-plus"></i> '+c("Create New Page")+'</span></a></li><div class="sortable-container"></div>'),this.Core.getPages());for(e in o)if(o[e].settings.main){o[e].settings.order=0;break}for(t in o=this.sortPagesByOrder(o)){var r=o[t].settings.main,a=o[t].settings.title,a=this.addPage(null,r,t,a);r&&a.children("a").click()}var s=i.find(".sortable-container");s.sortable({axis:"y",containment:"parent",tolerance:"pointer",start:function(e,t){n=t.item.index()},stop:function(e,t){t.item.css("left",""),t.item.index()!==n&&d(s)}})},showSideBarsSection:function(){this.hidePagesList()},showedPageSettings:function(){var e=l.projectSettings.favicon||l.findMenuLogo()||("secondary"===l.theme.type?"app/builder/images/logo5.png":"app/builder/images/logo.png");0===e.indexOf("../../")&&(e=e.replace("../../","")),u(),l.Core.getPages()[l.currentPageSettings].settings.main?l.$pageSettings.find(".page-settings-url-info").show():l.$pageSettings.find(".page-settings-url-info").hide(),l.$pageSettings.find(".chrome-preview-favicon").attr("src",e),l.$pageSettings.find(".chrome-preview-title").text(l.Core.getPages()[l.currentPageSettings].settings.title||""),l.$pageSettings.find(".chrome-preview-description").text(l.Core.getPages()[l.currentPageSettings].settings.meta_descr||""),t&&(l.$pageSettings.find(".chrome-preview-mobile-btn").click(),t=!1)},changedPageSettings:function(){u(),l.$pageSettings.find(".chrome-preview-title").text(l.Core.getPages()[l.currentPageSettings].settings.title||""),i()},switchedPage:function(e){var e=l.Core.getPages()[e].settings.meta_image||"",t=l.$pageSettings.find(".social-sharing-on-mobirise"),n=l.$pageSettings.find("#metaShareImage");t.hide(),e?(t.find("img").attr("src",e),t.show(),n.is(":checked")||n.trigger("click")):n.is(":checked")&&n.trigger("click"),i()}}})},["jQuery","mbrApp","TR()","Bridge"])},function(e,t,n){"use strict";var i=n(142),p=(i=i)&&i.__esModule?i:{default:i},v=n(23);defineM("app-projects",function(f,h,m){var d,e={settings:{name:name,currentPage:"index.html",theme:{name:h.DEFAULT_THEME,title:h.DEFAULT_THEME_TITLE}},pages:{"index.html":{settings:{main:!0,title:"Home",meta_descr:"",header_custom:"",footer_custom:"",html_before:""},components:[]}}},u={};function t(){h.$projectName.each(function(e,t){var n,t=f(t),i=t.closest(".navbar-url");i.find(".ext-link").remove(),i.length?h.projectSettings.mbrsite?(t.html(h.escapeHtml(h.getPublicDomain())).addClass("navbar-domain").tooltipster("content",m("Change Site Domain")),(n=f('<span class="ext-link hover-block-arrow pages-show mbr-icon-external-link"></span>')).css({cursor:"pointer","padding-left":"5px"}),n.on("click",function(){h.openUrl(h.getPublicDomain())}),i.append(n)):((i=document.createElement("span")).classList.add("unpublished"),t.html(h.escapeHtml(h.projectSettings.name)),t[0].parentNode.querySelectorAll(".unpublished").length||(i.style.color="#df555c",i.innerText=m("Unpublished")+" ",i.style.marginRight="5px",i.style.textOverflow="clip",i.style.overflow="visible",t.before(i),f(".app-publish").attr("data-old-bg-color",f(".app-publish").css("background-color")),f(".app-publish").attr("data-old-color",f(".app-publish").css("color")),f(".app-publish").css({backgroundColor:"#522a2c",color:"#df555c"}),f(".app-publish .mbr-icon-cloud-upload").css({color:"#df555c"}),f(".app-publish").hover(function(e){f(".app-publish").css({backgroundColor:"#482527"})},function(e){f(".app-publish").css({backgroundColor:"#522a2c"})})),t.removeClass("navbar-domain").tooltipster("content",m("Change Site Name"))):t.html(h.escapeHtml(h.projectSettings.name))})}function g(e){return h.escapeHtml(e)}function i(t,n){function i(e){0!==f(e.target).parents(".app-layer, .modal").length||f(e.target).is("body, .app-layer, .modal, ul, li")||o(t,i,!0,n)}t.addClass("app-layer-open"),f("body").on("click",i),f("button.app-components-toggle").on("click",i),t.find(".app-layer-close").click(function(){o(t,i,!0,n)})}function o(e,t,n,i){var o,r=f(".app-layer-item-opened");r.length?(r.removeClass("app-layer-item-opened"),r.one("transitionend",function(){e.removeClass("app-layer-open"),e.one("transitionend",function(){e.remove(),f(".app-layer-item").remove(),n||(h.openSidebar(),h.$projectsListToggle.click())})})):(e.removeClass("app-layer-open"),e.one("transitionend",function(){e.remove(),f(".app-layer-item").remove(),n||(h.openSidebar(),h.$projectsListToggle.click()),h.$projectsListToggle.click()})),r=i,i=f(".app-layer-item").find("input:not(.fakeinput), select"),o={},i.each(function(e,t){t.name&&"checkbox"==t.type?o[t.name]=h.projectSettings[t.name]||t.checked||!1:t.name&&(o[t.name]=t.value||h.projectSettings[t.name]||!1)}),h.changeProjectSettings(r,o),f("body").off("click",t),f("button.app-components-toggle").off("click",t),h.$body.off("keyup.escListenerSidebarProjectSettings")}h.regExtension({name:"projects",global:{$projectsListToggle:f(".projects-block"),projectPath:void 0,projectSettings:{},$projectName:f(".app-project-name"),getDefaultProject:function(t){var n=this;v.Bridge.getLocalJSON(h.getAddonDir(h.DEFAULT_THEME)+"/default-project.json",function(e){(e=e||{}).settings=e.settings||{},e.settings.theme=e.settings.theme||{},e.settings.theme.name=h.DEFAULT_THEME,e.settings.theme.title=h.DEFAULT_THEME_TITLE,e=n.applyFilter("loadRecentProjectDefault",e),console.warn("Used default project"),t(e)})},getRecentProject:function(t,n){var i;function o(t){t?v.Bridge.getLocalJSON(t.path+"/project.mobirise",function(e){e?(e.settings=f.extend({},e.settings,t),i(null,e,t.path)):v.Bridge.isExistsLocal(t.path,function(e){e?i(null,0,t.path):(console.warn("Recent(last) project folder is not exists! ("+t.path+")"),i(null))})}):i(null)}t&&(i=function(){var e=Array.prototype.slice.call(arguments,n?0:1);t.apply(null,e)},v.Bridge.initPath?o({path:v.Bridge.initPath.replace("/project.mobirise","")}):v.Bridge.getRecentsList(function(e,t){if(e)return i(e);e=t&&t[0];e&&e.path?o(e):o()},!0))},loadRecentProject:function(t){var n=this;function i(e){t&&t()}n.getRecentProject(function(e,t){t?(n.fire("loadRecentProject"),n.loadProject(t,e,{noSave:!0,onError:function(){n.createProject("My Site",0,0,i)},onDone:function(){n.fire("loadedRecentProject",t),i()}})):n.createProject("My Site",0,0,i)})},loadProject:function(e,n,i){var o,r,a=this;function s(e){e?(console.error(e),i.onError(e)):(i.onSuccess(),i.onDone())}(i=i||{}).onError=i.onError||function(){},i.onSuccess=i.onSuccess||function(){},i.onDone=i.onDone||function(){},r=e.endsWith(".mobirise")?(o=e).replace(/\/[^\/]+\.mobirise$/,""):(o=e+"/project.mobirise",e),(n?f.Deferred().resolve(n):p.default.getLocalJSON(o)).then(function(e){return e?f.Deferred().resolve(e):f.Deferred().reject(m("Empty project"))}).then(function(t){var n=f.Deferred();return v.Bridge.getRecentSettings(r,function(e){t.settings=f.extend({},e,t.settings,{path:e.path||r}),n.resolve(t)}),n}).then(0,function(e){a.fire("projectError",r,e);e=f.Deferred();return e.reject(),e}).then(function(e){return n=e}).then(function(e){var t=a.calcProjectTheme(n);return a.requestTheme(t&&t.name,t&&t.title)}).fail(function(e){console.error(e)}).then(function(e){if(a.fire("loadProject",n,r),!e)return p.default.addRecent({path:r,name:n.name}).then(function(e){if(!i.noSave)return p.default.saveLocalFile(o,JSON.stringify(n))}).then(function(e){i.onSuccess(),v.Bridge.reload()}).fail(function(e){console.error("Unexpected project save error"),i.onError(m("Unexpected project save error"))}),f.Deferred().reject();var t,e=a.applyFilter("loadingProject",f.extend(!0,{},n),r),e=a.substProject(e,r);t=e,a.projectSettings=f.extend({},t.settings),a.projectPath=r,a.resetUniqNum(!0),a.applyFilter("loadProjectCore",f.Deferred().resolve(),t,r).then(function(){a.fire("loadProjectCore",t,r),a.Core.loadProject(t).always(function(){var e;a.fire("loadedProject",t,r),i.noSave?(e={path:r,name:a.projectSettings.name},a.projectSettings.screenshot&&(e.screenshot=a.projectSettings.screenshot),p.default.addRecent(e).then(function(e){return s()})):a.runSaveProject(function(e){e?s():s(m("Unable to save loaded project"))},!0)})})})},substProject:function(t,n){var e=h.getAddonDir(t.settings&&t.settings.theme&&t.settings.theme.name||h.DEFAULT_THEME),i=(i=JSON.stringify(t)).replace(/@PROJECT_PATH@(\/project\.mobirise)+/g,"@PROJECT_PATH@");i=(i=(i=n?(i=(i=i.replace(/\@PROJECT_PATH\@/g,n)).replace(/\{PROJECT_IMAGES\}/g,n+"/assets/images/")).replace(/https?:\/\/proxy\.electricblaze\.com\/\S*"/gi,function(e){var t=decodeURIComponent(new URL(e)).split("/").pop().split("?")[0];return t?n+"/assets/images/"+t+'.jpeg\\"':e}):i).replace(/\@ADDONS_PATH\@/g,h.getAddonsDir())).replace(/@THEME_PATH@/g,h.path2core(e));try{i=JSON.parse(i)}catch(e){console.error(error),i=t}return i},createProject:function(r,n,a,s){var l=this,c=(r=r||l.projectSettings.name,h.getAddonDir(a.presetSourceTheme));l.fire("createProject",r),v.Bridge.initProject(function(i,o){function t(){n=n||f.extend(!0,{},e),n=l.applyFilter("createProject",n,n.settings.name,o.path),l.applyFilter("promiseDefaultProject",Promise.resolve(n),o.path,a).then(function(e){if(e.settings=f.extend({},e.settings,o),e.settings.theme=f.extend({},e.settings.theme,a),a&&a.nameSelectPreset){var t=h.isBuildInAddon(a.name)?h.path2core(c+"/projects/"+a.nameSelectPreset):c+"/projects/"+a.nameSelectPreset,n=(n=JSON.stringify(e)).replace(/\@PROJECT_PATH\@/g,t);try{e=JSON.parse(n)}catch(e){console.error(i),n=rowProject}}e.settings.name=l.applyFilter("createProjectName",g(r)),l.loadProject(o.path,e,{onSuccess:function(){l.fire("createdProject",r)},onError:function(e){s&&s(e),h.hidePreloader()},onDone:function(){s&&s(),h.hidePreloader()}})})}!i&&o&&o.path?n||a?t():l.getDefaultProject(function(e){n=e,t()}):(console.error("Error init project folder"),s&&s(i))},r)},saveProjectFiles:function(t,e,n){var i;try{i=this.prepareProjectText()}catch(e){console.error(e)}i?v.Bridge.saveLocalFile(t+"/project.mobirise",i,function(e){n(e&&t)}):(console.error("Wrong project compilation"),n(!1))},waiting:0,running:0,runSaveProject:function(e,t){function i(e){var t=h.running.callbacks;if(t){for(var n=0;n<t.length;n++)if(t[n])try{t[n](e)}catch(e){console.error("SaveProject callback error: "+e.message,e)}h.running=0}}h.projectPath?(h.waiting=h.waiting||{timeout:0,callbacks:[],screenshot:!1},h.waiting.screenshot=h.waiting.screenshot||!t,e&&h.waiting.callbacks.push(e),h.running||function n(){h.waiting&&(h.waiting.timeout&&clearTimeout(h.waiting.timeout),h.waiting.timeout=setTimeout(function(){var t;h.running?setTimeout(n,1):(h.running=h.waiting,h.waiting=0,h.projectPath?(t=setTimeout(function(){t=0,console.error("Error: SaveProject timeout expired. Next run will be forced."),i(!1),h.waiting&&n()},3e3),h._saveProject(function(e){t&&(clearTimeout(t),i(e)),h.waiting&&n()},!h.running.screenshot)):(console.error("Critical error: projectPath is unexpectedly empty, while saveProject"),i(!1)))},h.waiting.callbacks.length?100:1e3))}()):(console.warn("projectPath is unexpectly empty, while saveProject"),e&&e(!1))},_saveProject:function(n,i){var o=this,r=o.projectSettings.name,a=o.projectPath;n=n||function(){},o.fire("saveProject",r,a),o.saveProjectFiles(a,!i,function(e,t){e?(e={name:r,path:a},!i&&t?e.screenshot=t:o.projectSettings.screenshot&&(e.screenshot=o.projectSettings.screenshot),h.projectSettings.mbrsite&&(e.mbrsite=h.projectSettings.mbrsite),v.Bridge.addRecent(e,function(e){e||h.showError(m("Error update recents list.")),n(!0),o.fire("savedProject",r,a)})):(console.error("Error to save project to "+a),h.criticalError(m("Error to save project file. Close application and run again."),"project_not_save"),n(!1))})},IMAGES_FOLDER:"assets/images",getProjectImagesDir:function(){return this.projectPath+"/"+this.IMAGES_FOLDER},addImageToAssets:function(e){var t=jQuery.Deferred();return e&&0!=e.indexOf(h.getAddonDir(h.theme.name))&&0!=e.indexOf(v.Bridge.base)&&0!=e.indexOf("web/")?v.Bridge.saveFileUnique(e,this.getProjectImagesDir(),t.resolve):t.resolve(e),t.promise()},addImageFromUrlToAssets:function(e){var t=this,n=jQuery.Deferred();function i(e){e?v.Bridge.saveFileUnique(e,t.getProjectImagesDir(),n.resolve):n.resolve(!1)}return v.Bridge.download2(e,function(e){var t,n;e?"jpg"==(t=v.Bridge.splitPath(e)).ext?i(e):(n=t.dir+t.name+".jpg",v.Bridge.moveLocal(e,n,function(e){return i(e&&n)})):i(!1)}),n.promise()},importProject:function(e,n){var i=this;function t(t){i.runSaveProject(function(e){e||console.error("Error: unable to save current project"),i.loadProject(t,0,{onError:function(e){h.showError("Error while import project: "+e),n&&n()},onSuccess:function(){i.fire("importedProject",t)},onDone:function(){i.showProjectsList(),n&&n()}})},!1)}i.fire("importProject"),e?t(e):v.Bridge.runFileDialog(m("Open Site"),"",v.Bridge.appName+" (project.mobirise)",function(e){e&&t(e.replace(/project\.mobirise$/,""))})},removeProject:function(t,n){var i=this;t=t.substring(0,t.lastIndexOf("/")),i.applyFilter("removeProject",f.Deferred().resolve(),t).then(function(){i.fire("removeProject",t),v.Bridge.rmRecent(t,function(e){e?(i.fire("removedProject",t),n&&n(!0)):n(!1)})})},changeProjectSettings:function(t,n){t=t.substring(0,t.lastIndexOf("/")),this.fire("changeProjectSettings",t,n),n=this.applyFilter("changeProjectSettings",n,t),this.projectSettings=f.extend({},this.projectSettings,n);var e={path:h.projectSettings.path,name:h.projectSettings.name};h.projectSettings.screenshot&&(e.screenshot=h.projectSettings.screenshot),h.projectSettings.mbrsite&&(e.mbrsite=h.projectSettings.mbrsite),v.Bridge.changeRecentSettings(t,e,function(e){h.fire("changedProjectSettings",t,n)})},saveProjectSettings:function(e,t,n){v.Bridge.changeRecentSettings(e,t)},showProjectsList:function(){var p;h.$body.hasClass("app-projects-list-open")||(p=this,v.Bridge.getRecentsList(function(e){p.fire("showProjectsList");for(var t=e.filter(function(e){return!e.mbrsite}),n=e.length-1;0<=n;n--)e[n].hasOwnProperty("mbrsite")&&t.unshift(e[n]);e=t;var i,o='<div class="col-xs-12">\n                            <div class="app-new-project project-element-panel">\n                                <div class="project-img">\n                                    <i class="mbr-icon-plus"></i>\n                                    <h3 class="project-name">'+m("Create New Site")+'</h3>\n                                </div>\n                                <div class="project-body"></div>\n                                \x3c!-- <div class="project-body app-import-project" data-tooltipster="bottom" title="'+m("Open Mobirise site (project.mobirise) not listed here.")+'">\n                                    <span class="app-import-project-or">'+m("or")+'</span>\n                                    <span class="app-import-project-label">'+m("Import Mobirise Site")+"</span>\n                                </div> --\x3e\n                            </div>\n                        </div>",o=h.applyFilter("showProjectsListStart",o);for(i in e){var r,a,s,l,c,d,u=e[i].path;u&&(r=u+"/project.mobirise",a=e[i].name||e[i].title||e[i].id,s=e[i].domains.filter(function(e){return"Deployed"===e.status.name}).pop(),l=e[i].screenshot?u+"/"+e[i].screenshot+"?nocache="+ +new Date:"",c=p.projectPath===u,d=h.hasThemeSettings(h.theme.params),o+=p.applyFilter("showProjectsListEach",'<div class="project-element col-xs-12" data-url="'+r+'" data-path="'+v.Bridge.url2sys(r)+'" data-id="'+e[i].id+'" data-name="'+g(a)+'">\n                                <div class="project-element-panel '+(c?"active":"")+'">\n                                    <div class="project-img">\n                                        <picture>\n                                            '+(l?'<source srcset="'+l+'"/>':"")+"\n                                            "+(h.getProjectFavicon()&&h.projectSettings.id===e[i].id?'<source srcset="'+h.getProjectFavicon()+'"/>':"")+'\n                                            <source srcset="'+e[i].resourcesUrl+'assets/images/logo.png" type="image/png" />\n                                            <img src="assets/mobi-image-icon.svg" />\n                                        </picture>\n                                    </div>\n                                    <div class="project-body">\n                                        <h3 class="project-label project-name text-primary">'+g(a)+'</h3>\n                                        <h3 class="project-label project-domain text-primary">https://'+s.name+'/</h3>\n                                    </div>\n                                    <div class="btn-group">\n                                        \x3c!-- <span class="app-project-clone btn btn-primary" data-tooltipster="bottom" title="'+m("Clone Site")+'">\n                                            <i class="mbr-icon-copy"></i>\n                                        </span> --\x3e\n                                        '+(c&&d?'<span class="app-project-styles btn btn-info" data-tooltipster="bottom" title="'+m("Edit Site Styles")+'">\n                                            <i class="mbr-icon-paint-brush"></i>\n                                        </span>':"")+"\n                                        "+(c?'<span class="app-project-settings btn btn-info" data-tooltipster="bottom" title="'+m("Site Settings")+'">\n                                            <i class="mbr-icon-cog"></i>\n                                        </span>':"")+'\n                                        <span class="app-project-remove btn btn-material-red" data-tooltipster="bottom" title=" '+m("Remove Site")+'">\n                                            <i class="mbr-icon-trash"></i>\n                                        </span>\n                                    </div>\n                                </div>\n                            </div>',u,e[i]))}o=h.applyFilter("showProjectsList",o),p.fire("showSideBarsSection"),h.showDialog({title:m("Sites"),className:"show-site-list-modal",body:'<div class="row form-group">\n                                <div class="col-xs-4">\n                                    <input class="search-site-input form-control" type="text" placeholder="'+m("Search")+'" value="">\n                                </div>\n                            </div>\n                            <div class="row">\n                                <div class="col-md-12">\n                                    <div class="site-list">\n                                        '+o+"\n                                    </div>\n                                </div>\n                            </div>",show:function(e){var t=null,n=e.find(".project-element"),i=f('<div class="create-site-counter"><span style="padding:10px;color:#fff"></span></div>');e.find(".app-new-project").append(i),e.find(".search-site-input").on("input",function(e){clearTimeout(t),t=setTimeout(function(){var o=e.target.value.toLowerCase();n.each(function(e,t){var t=f(t),n=t.find(".project-name").text().toLowerCase(),i=t.find(".project-domain").text().toLowerCase();n.includes(o)||i.includes(o)?t.removeClass("hidden"):t.addClass("hidden")})},100)}),e.find(".site-list").on("click",".project-domain",function(t){t.stopPropagation();var n=f(t.target).closest(".project-element").attr("data-id");h.Site.get("sites/"+n+"/files/").then(function(e){if(!e)throw new Error("Something went wrong");e.contents.includes("index.html")?(e=t.target.textContent,h.openUrl(e)):h.projectSettings.id.toString()===n.toString()?h.showDialog({id:"published-current-site-error",body:""+m("This site isn’t published yet. Publish now?"),success:function(){f(".app-publish a").click()},cancel:function(){var e=document.createElement("div");t.target.parentNode.append(e),e.append(t.target),f(e).css({backgroundColor:"#df555c",color:"#ffffff",borderRadius:"50px",width:"max-content",textAlign:"center",marginTop:"5px"}),t.target.innerText="Unpublished",t.target.style.color="#ffffff",t.target.style.margin="0",t.target.style.lineHeight="1",t.target.style.textAlign="center",t.target.style.boxSizing="border-box",t.target.style.padding="5px 10px",t.target.style.display="inline",t.target.style.textDecoration="none"}}):h.showDialog({id:"published-site-error",body:""+m("This site isn’t published yet. Open this project?"),success:function(){f(t.target).closest(".project-element-panel").click()},cancel:function(){t.target.innerHTML="Unpublished",t.target.style.color="#df555c"}})}).catch(function(e){h.showDialog({id:"published-site-error",body:""+m("This site isn’t published yet. Open this project?"),success:function(){f(t.target).closest(".project-element-panel").click()},cancel:function(){t.target.innerHTML="Unpublished",t.target.style.color="#df555c"}}),console.log(e)})}),e.find(".site-list").on("click",".project-element > .project-element-panel:not(.active)",function(e){var t,n;f(e.target).hasClass(".btn")||f(e.target).closest(".btn").length||(e.preventDefault(),e.stopPropagation(),e=f(this).parent().attr("data-url"),t=f(this).parent().attr("data-path")||e,n=f(this).find(".project-name").text(),p.openProjectFromList(e,t,n))}),e.on("click",".app-project-styles",function(e){p.closeSidebar(),p.openThemeSettings()}),e.on("click",".app-project-settings",function(e){e.preventDefault();e=f(this).parents("[data-url]:eq(0)").attr("data-url")||"";p.openProjectSettings(e)}),e.on("click",".app-project-remove",function(e){e.preventDefault(),e.stopPropagation();var t=f(this),n=t.parents("[data-url]:eq(0)").attr("data-url"),i=t.parents("[data-path]:eq(0)").attr("data-path")||n,i=t.parents("[data-name]:eq(0)").attr("data-name")||i;t.tooltip("destroy"),p.projectRemove(n,i,e)}),e.on("click",".app-new-project",function(e){e.target.classList.contains("disabled")||(e.preventDefault(),p.newProject())}),e.on("click",".modal-header .close",function(){h.hideProjectsList()}),e.on("hidden.bs.modal",function(){h.hideProjectsList()}),e.find("picture img").each(function(e,t){f(t).on("error",function(e){t.parentNode.querySelector("source").remove()})}),p.$body.addClass("app-sidebar-open app-projects-list-open"),p.fire("showedProjectsList",e)}})}))},hideProjectsList:function(){this.$body.hasClass("app-projects-list-open")&&(this.fire("hideProjectsList"),this.$body.removeClass("app-projects-list-open").find(".show-site-list-modal").modal("hide"),this.fire("hiddenProjectsList"))},makeScreenshot:function(t){var n=this,e=(n.fire("makeScreenshot"),n.appElements.iframe.width),i=n.appElements.iframe.height,o=(n.appElements.window.width-e)/2,r=n.appElements.window.height-i,a=Math.min(e,800),s=a*i/e,l=f("body > *:not(.app-navbar, .app-template, script, link)"),c=(l.addClass("hidden-interface"),h.Core.$body.is(".rounded-canvas")||h.Core.$body.css("padding","0"),h.Core.$template.find(".app-component > .app-component-menu").css("display","none"),new Date),c=v.Bridge.tempLocation+"/screen"+c.getFullYear()+c.getMonth()+c.getDay()+"_"+c.getHours()+c.getMinutes()+c.getSeconds()+".jpg";v.Bridge.getScreen(function(e){l.removeClass("hidden-interface"),h.Core.$body.css("padding",""),h.Core.$template.find(".app-component > .app-component-menu").css("display",""),t&&t(e),n.fire("makedScreenshot",e)},c,[a,s],[o,r,e,i])},showPresets:function(r,a){return new Promise(function(o,e){var t,i,n;(t=(t=r).map(function(e){if(e)return function(e){var t,n,i,o,r=e.presetsList,a=[],s=void 0;for(n in s=e.local?(t=h.getAddonDir(e.themeName),v.Bridge.path2app(t)):"https://my.mobirise.com/data/upload/thumbs/"+e.themeName,r)r.hasOwnProperty(n)&&a.push((o=r[i=n],'<div class="column column-preset col-sm-4 col-md-4 col-lg-3" data-local=\''+e.local+"' data-theme='"+e.themeName+"' data-theme-title='"+e.themeTitle+"' namepreset=\""+i+'" data-titlepreset="'+o.title+'">\n                                                <div class="column-content">\n                                                    <div class="wrapper-img">\n                                                        <div class="theme-type-tag">'+e.themeTitle+'</div>\n                                                        <img src="'+s+"/projects/"+i+'/cover.jpg">\n                                                    </div>\n                                                    <div class="wrapper-name">\n                                                        <span>'+o.title+"</span>\n                                                    </div>\n                                                </div>\n                                            </div>"));return a}(e).join("")})).unshift("\n                            <div class=\"column column-preset col-sm-4 col-md-4 col-lg-3\" data-local='true' data-theme='"+h.DEFAULT_THEME+"' data-theme-title='"+h.DEFAULT_THEME_TITLE+'\'>\n                                <div class="column-content">\n                                    <div class="wrapper-icon" style="width: 100%;height: 90%;display: flex;justify-content: center;align-items: center;">\n                                        <i class="mbr-icon-file" style="font-size: 10rem;"></i>\n                                    </div>\n                                    <div class="wrapper-name">\n                                        <span>Add Blank Page</span>\n                                    </div>\n                                </div>\n                            </div>\n                            <div class="column column-preset col-sm-4 col-md-4 col-lg-3">\n                                <div class="column-content ai-preset">\n                                    <div class="ai-counter" style="position:absolute;background-color:#40b0bf;right:5px;top:5px;border-radius:50px;">\n                                        <span style="padding:10px;color:#fff">$STATUS$</span>\n                                    </div>\n                                    <div class="wrapper-icon" style="width: 100%;height: 90%;display: flex;justify-content: center;align-items: center;">\n                                        <i class="mbr-icon-sparkles" style="font-size: 10rem;"></i>\n                                    </div>\n                                    <div class="wrapper-name">\n                                        <span>'+m("Create with Mobirise AI")+"</span>\n                                    </div>\n                                </div>\n                            </div>\n                        "),t='<div class="site-create-presets-list main-wrapper">\n                                        <div class="columns row">\n                                            <div class="columns-presets">\n                                                '+t.join("\n")+"\n                                            </div>\n                                        </div>\n                                </div>",t=h.getAiSitesCount(t),f("#presets").append(t),f(".column-preset").each(function(e,i){f(i).on("click",function(){var e,t,n;"false"===f(i).attr("data-local")?(e=f(i),e=e,t="",n=h.getUserInfo(),e.attr("data-theme"),e=e.attr("data-theme"),n&&n.email&&(t=n.email),h.confirmDlg({message:m("The $extension$ theme isn't available for your account").replace("$extension$",e?"<strong>"+e+"</strong>":"")+(t?" "+t+"<br>":".<br>"),buttons:{cancel:{label:m("Cancel"),className:"btn-default"},confirm:{label:m("Upgrade"),className:"btn-primary"}},callback:function(e){e&&(h.goToBuyPremium({alert:!1}),gtag("event","ai_upgrade_click",{event_category:"engagement",dom_source:"new_preset"}))}})):f(this).find(".ai-preset").length?h.checkAiLimits().then(function(e){e&&h.newAiProjectModal()}):((n={}).title=f(i).attr("data-theme-title"),n.name=f(i).attr("data-theme"),n.titlePreset=f(i).attr("data-titlepreset"),n.nameSelectPreset=f(i).attr("namepreset"),n.presetSourceTheme=f(i).attr("data-theme"),h.showPreloader(),o(n))})}),f(t).find(".column-options").on("click",".column-option",function(){f(this).hasClass("plus")?(presets.modal("hide"),o(void 0)):f(this).hasClass("features")&&(h.showAddonsList(),presets.modal("hide"),e())}),i=f(t).find(".columns-presets > .column-preset"),n=h.stopIfRepeatDecorator(function(e){var n=e.target.value.toLowerCase();i.each(function(e,t){t=f(t);t.attr("data-titlepreset").toLowerCase().includes(n)?t.removeClass("hidden"):t.addClass("hidden")})},100),f(t).find(".search-preset-input").on("input",function(e){n(e)}),a()})},newProject:function(){var l,c=this;d||(d=!0,l=h.showDialog({title:m("Create New Site"),className:"create-site-modal presets-site-project modal-fs",body:['<div class="row">','<div class="col-md-12">','<form class="project-create-form">','<div class="form-group row clearfix">','<label class="col-md-3 control-label" for="site-create-name">'+m("Site Name")+"</label>",'<div class="col-md-9">','<input id="site-create-name" name="name" type="text" placeholder="'+m("Type the name of your new site")+'" value="Site-'+v.Bridge.dateFormat(new Date,"MM-dd_hhmm")+'" class="form-control">',"</div>","</div>",'<div class="form-group row clearfix">','<div class="col-md-8">','<ul class="nav nav-tabs" style="margin-top:2px" role="tablist">','<li role="presentation" class="active"><a href="#presets" aria-controls="presets" role="tab" data-toggle="tab">'+m("Page Templates")+"</a></li>",'<li role="presentation"><a href="#theme" aria-controls="theme" role="tab" data-toggle="tab">'+m("Themes")+"</a></li>","</ul>","</div>",'<div class="col-md-4">','<input id="filter-themes" style="height:100%;" name="name" type="text" placeholder="'+m("Search")+'" value="" class="form-control">',"</div>","</div>",'<div class="form-group row clearfix">',"\x3c!-- Tab panes --\x3e",'<div class="col-md-12 tab-content">','<div role="tabpanel" class="tab-pane active" id="presets">','<div class="site-create__preloader-wrapper">',m("No templates matched your search"),"</div>","</div>",'<div role="tabpanel" class="tab-pane" id="theme">','<div class="site-create-themes-list">','<div class="site-create__preloader-wrapper">',m("No themes matched your search"),"</div>","</div>","</div>","</div>","</div>","</form>","</div>","</div>"].join("\n")}),f(l).on("shown.bs.modal",function(){f(".site-create__preloader-wrapper").hide(),h.showPreloader();var s="";c.getThemeAddonsEx(function(e){var t=e.reduce(function(e,t){return"archive"===t.status&&e.push(t.name),e},[]),n=e.filter(function(e){return!t.includes(e.name)}),e=e.filter(function(t){return!n.some(function(e){return e.name===t.name})&&"archive"!==t.status&&"teaser-48"!==t.name}),e=(n=(n=n.filter(function(e){return"teaser-48"!=e.name})).concat(e),Promise.all(n.map(function(i){return new Promise(function(n){var e;i.installed&&i.paid&&!i.expired||i.name===c.DEFAULT_THEME?(e=h.getAddonDir(i.name)+"/projects/list.json",v.Bridge.getLocalJSON(e,function(e){n(e?{themeName:i.name,themeTitle:i.title,presetsList:e,local:!0}:null)})):u[i.name]?n({themeName:i.name,themeTitle:i.title,presetsList:u[i.name],local:!1}):v.Bridge.http("https://my.mobirise.com/data/upload/thumbs/"+i.name+"/projects/list.json",{withCredentials:!1,success:function(e){try{var t=JSON.parse(e);u[i.name]=t,n({themeName:i.name,themeTitle:i.title,presetsList:t,local:!1})}catch(e){console.log("No presets in "+i.name+" theme."),n(null)}},error:function(e){console.log(e),n(null)}})})}))),o=f(".project-create-form #site-create-name").val(),e=(e.then(function(e){return h.hidePreloader(),h.showPresets(e.reduce(function(e,t){return t&&(t.themeName===h.DEFAULT_THEME||"startm5"===t.themeName?e.unshift(t):e.push(t)),e},[]),function(){f(l).data("bs.modal").handleUpdate(),f("#filter-themes").focus()})}).then(function(i){p.default.getSettings("dontShowCreateSiteModal").then(function(e){function t(){h.closeSidebar(),l.modal("hide"),c.runSaveProject(function(e){e||console.error("Error: unable to save current project"),c.createProject(o,0,i,function(e){e&&h.showError(m("Unexpected project create error ")+" ("+e+").",function(){c.showProjectsList()})})},!0)}var n;"true"!==e?n=h.showDialog({body:['<div class="form-group">',m("Do you want to create the $site name$ site based on the $theme name$ theme, $name preset$ Template?").replace("$site name$","<strong>"+o+"</strong>").replace(i.titlePreset?"$name preset$":", $name preset$ Template",i.titlePreset?"<strong>"+i.titlePreset+"</strong>":"").replace("$theme name$","<strong>"+i.title+"</strong>"),"</div>",'<div class="dont-show-more clearfix">','   <div class="togglebutton">','       <label style="width: 100%;">','           <input type="checkbox" id="dont-show-again">','           <span class="toggle" style="margin-top: -6px;"></span>',m("Don't show again"),"       </label>","   </div>","</div>"].join("\n"),buttons:{cancel:{label:m("Cancel"),className:"btn-default",callback:function(){l.modal("hide"),h.closeSidebar()}},success:{label:m("Ok"),className:"btn-primary",callback:function(){var e=n.find("#dont-show-again")[0].checked;p.default.setSettings("dontShowCreateSiteModal",e),t()}}}}).on("hidden.bs.modal",function(){h.hidePreloader()}):t()})}),n.find(function(e){return"startm5"===e.name})),i=n.find(function(e){return"mobirise5"===e.name});n.splice(n.indexOf(e),1),n.splice(n.indexOf(i),1),n.unshift(e),n.unshift(i);for(var r=0;r<n.length;r++){var a="",a=(a=(a+='<div class="col-xs-6 col-sm-6 col-md-4 col-lg-3" data-theme="'+n[r].name+'" data-installed="'+!!n[r].installed+'" data-theme-title="'+n[r].title+'"><div>')+('<div class="card-img"><img src="'+(n[r].largeCover||n[r].cover)+'"></div>'))+("<span>"+n[r].title+"</span>");s+=a+="</div></div>"}s=h.applyFilter("themes_list",s),f(l).find(".site-create-themes-list").append(s),l.on("hidden.bs.modal",function(){d=!1}).on("shown.bs.modal",function(e){f(e.target).find("#site-create-name").focus()}),f(".project-create-form .site-create-themes-list > :not(.ext-link) > div").click(function(){var e,t,o,n;"false"===f(this).parent().attr("data-installed")?(n=f(this).parent(),n=n,e="",t=h.getUserInfo(),n.attr("data-theme"),n=n.attr("data-theme-title"),t&&t.email&&(e=t.email),h.confirmDlg({message:m("The $extension$ theme isn't available for your account").replace("$extension$",n?"<strong>"+n+"</strong>":"")+(e?" "+e+"<br>":".<br>"),buttons:{cancel:{label:m("Cancel"),className:"btn-default"},confirm:{label:m("Upgrade"),className:"btn-primary"}},callback:function(e){e&&(h.goToBuyPremium({alert:!1,delay:!1}),gtag("event","ai_upgrade_click",{event_category:"engagement",dom_source:"new_project"}))}})):(t=f(this).parent(),o=f(".project-create-form #site-create-name").val(),n={name:t.attr("data-theme"),title:t.attr("data-theme-title")},h.applyFilter("promiseChosenTheme",Promise.resolve(n)).then(function(i){h.showPreloader(),setTimeout(function(){f(".preloader").css("opacity",1)},1),p.default.getSettings("dontShowCreateSiteModal").then(function(e){function t(){h.closeSidebar(),c.runSaveProject(function(e){h.showPreloader(),e||console.error("Error: unable to save current project"),c.createProject(o,0,i,function(e){e&&h.showError(m("Unexpected project create error ")+" ("+e+").",function(){c.showProjectsList()}),l.modal("hide")})},!0)}var n;"true"!==e?n=h.showDialog({body:['<div class="form-group">',m("Do you want to create the $site name$ site based on the $theme name$ theme, $name preset$ Template?").replace("$site name$","<strong>"+o+"</strong>").replace(i.titlePreset?"$name preset$":", $name preset$ Template",i.titlePreset?"<strong>"+i.titlePreset+"</strong>":"").replace("$theme name$","<strong>"+i.title+"</strong>"),"</div>",'<div class="dont-show-more clearfix">','   <div class="togglebutton">','       <label style="width: 100%;">','           <input type="checkbox" id="dont-show-again">','           <span class="toggle" style="margin-top: -6px;"></span>',m("Don't show again"),"       </label>","   </div>","</div>"].join("\n"),buttons:{cancel:{label:m("Cancel"),className:"btn-default"},success:{label:m("Ok"),className:"btn-primary",callback:function(){var e=n.find("#dont-show-again")[0].checked;p.default.setSettings("dontShowCreateSiteModal",e),t()}}}}).on("hidden.bs.modal",function(){h.hidePreloader()}):t()})}).catch(function(){h.closeSidebar(),h.hidePreloader(),l.modal("hide")}))})},{type:"theme"},{server:!0,serverOptions:{with_archive:1}})}))},openProjectSettings:function(t){var e,n;t&&(this.fire("showProjectSettings",t,this.projectSettings.name),n=this.theme&&this.theme.params?this.theme.params.title:"Mobirise",e=function(e){var t=f('<section id="app-project-sidebar" class="app-layer no-select">\n            <h4 class="app-layer-title">'+m("Site Settings")+'</h4>\n            <span class="app-layer-close mbr-icon-angle-left"></span>\n        </section>');f("body").append(t),f("body").is(".app-sidebar-open")?(h.closeSidebar(),f(".app-sidebar").one("transitionend",function(){i(t,e)})):i(t,e);return h.$body.on("keyup.escListenerSidebarProjectSettings",function(e){"Escape"!==e.key||f("body").hasClass("modal-open")||(t.find(".app-layer-close").trigger("click"),e.stopPropagation())}),t}(t),n=[{title:m("Common"),name:"common",html:'<div class="form-group col-md-12">\n                        <label class="control-label">'+m("Theme Name")+"</label>\n                        <p>"+n+'</p>\n                    </div>\n                    <div class="form-group col-md-12 site-name-setting-wrap">\n                        <label class="control-label" for="site-settings-name">'+m("Site Name")+'</label>\n                        <input id="site-settings-name" name="name" type="text" placeholder="'+m("Site Name")+'" value="'+h.projectSettings.name+'" class="form-control">\n                    </div>'}],n=h.applyFilter("sidebarProjectSettings",n),f(n).each(function(e,t){var n,i=f('<div class="hover-block tooltipstered" data-tab="'+t.name+'" data-tooltipster="right">\n            <span class="hover-block-arrow mbr-icon-angle-right"></span>\n            <h4>'+t.title+'</h4>\n            <span class="hover-block-sub" style="display:none;">Description</span>\n        </div>'),o=f('<section class="app-layer app-layer-item app-layer-'+t.name+' no-select">\n            <h4 class="app-layer-title">'+t.title+'</h4>\n            <span class="app-layer-close mbr-icon-angle-left"></span>\n            <div class="app-layer-cont">\n                '+t.html+"\n            </div>\n        </section>");f("body").find(".app-layer-"+t.name).length||f("body").append(o),"common"==t.name&&f("#app-project-sidebar").one("transitionend",function(e){i.addClass("open"),o.addClass("app-layer-item-opened")}),f("#app-project-sidebar").find('.hover-block[data-tab="'+t.name+'"]').length?(n=f(".app-layer-"+t.name).find(".app-layer-cont")).html(n.html()+t.html):f("#app-project-sidebar").find(".app-layer-title").before(i),i.click(function(e){f(".hover-block").removeClass("open"),i.addClass("open");e=f(e.currentTarget).attr("data-tab");f("section.app-layer-item").removeClass("app-layer-item-opened"),f("section.app-layer-"+e).toggleClass("app-layer-item-opened")}),o.find(".app-layer-close").click(function(){o.removeClass("app-layer-item-opened")})}),e.one("transitionend",function(e){h.fire("shownSidebarProjectSettings",e,t)}),this.fire("showedProjectSettings",t,name))},projectRemove:function(t,e,n){var i=this,e=m("Do you want to remove $site name$?").replace("$site name$","<strong>"+g(e)+"</strong>");h.confirmDlg(e,function(e){e&&i.removeProject(t,function(e){0===t.indexOf(i.projectPath)?i.loadRecentProject(function(){h.closeSidebar()}):h.$body.find('.show-site-list-modal .project-element[data-url="'+t+'"]').remove()})})},projectClone:function(n,o){h.showPreloader(),setTimeout(function(){f(".preloader").css("opacity",1)},1),v.Bridge.initProject(function(e,i){var t=i&&i.path;e?h.showError(m("Unable to init project")):h.runSaveProject(function(e){e||console.error("Error: unable to save current project"),v.Bridge.copyLocal(n,t,function(t){var n;t?v.Bridge.getLocalJSON(n=t+"/project.mobirise",function(e){e?(e.settings=f.extend({},e.settings,i),e.settings.name=o,v.Bridge.saveLocalFile(n,JSON.stringify(e),function(){h.importProject(t,function(){h.closeSidebar(),h.hidePreloader()})})):h.showError(m("Cloned project is wrong"))}):(h.showError(m("Unable to clone project")),h.hidePreloader())})},!0)})},openProjectFromList:function(i,o,r){i&&p.default.isExistsLocal(i.replace(/project\.mobirise$/,""),function(e){var t;e?(h.showPreloader(),setTimeout(function(){f(".preloader").css("opacity",1)},1),p.default.getSettings("dontShowOpenSiteModal").then(function(e){function t(){h.runSaveProject(function(e){e||(h.hidePreloader(),console.error("Error: unable to save current project")),h.loadProject(i,0,{noSave:!0,onError:function(){h.hidePreloader()},onDone:function(){h.closeSidebar(),h.hidePreloader()}})},!0)}var n;"true"!==e?n=h.showDialog({body:['<div class="form-group">',m("Do you want to close the current site and open $site name$?").replace("$site name$","<strong>"+g(r||o)+"</strong>"),"</div>",'<div class="dont-show-more clearfix">','   <div class="togglebutton">','       <label style="width: 100%;">','           <input type="checkbox" id="dont-show-again">','           <span class="toggle" style="margin-top: -6px;"></span>',m("Don't show again"),"       </label>","   </div>","</div>"].join("\n"),buttons:{cancel:{label:m("Cancel"),className:"btn-default"},success:{label:m("Ok"),className:"btn-primary",callback:function(){var e=n.find("#dont-show-again")[0].checked;p.default.setSettings("dontShowOpenSiteModal",e),t()}}}}).on("hidden.bs.modal",function(){h.hidePreloader()}):t()})):(t=h.confirmDlg('<a href="javascript:void(0)" data-tooltipster="bottom" title="'+o+'">'+m("%This site% is not available. Do you want to remove it from the list?").replace(/%(.+)%/,"<strong>"+(r||"$1")+"</strong></a>"),function(e){t.find("[data-tooltipster]").tooltipster("destroy"),e&&h.removeProject(i)})).find("[data-tooltipster]").tooltipster({delay:0,position:"bottom"})})},addProjectAsset:function(e,t,n){e=e.replace(/\.\.\//g,""),p.default.saveLocalFile(h.projectPath+"/assets/"+e,t,n)},readProjectAsset:function(e,t){e=e.replace(/\.\.\//g,""),p.default.loadLocalFile(h.projectPath+"/assets/"+e).then(function(e){t(e)})},getPages:function(){return h.Core.getResultProject().pages},getResultHTML:function(e){return h.Core.getResultHTML(e)},projectHasLicense:function(){return!!h.userLicenses.getPlansLicenses().filter(function(e){return e.items.some(function(e){return e.params&&e.params.site.id===h.projectSettings.id&&"site_plan"===e.type&&!e.expired})}).length},updateProjectName:t},events:{load:function(){var t;h.$projectsListToggle.on("click",function(e){e.preventDefault(),e.stopPropagation(),h.showProjectsList()}),h.on("clickBody",function(){h.hideProjectsList()}),h.on("sidebarClosed",function(){h.hideProjectsList()}),h.$body.on("submit",".project-create-form",function(e){e.stopPropagation(),e.preventDefault(),f(e.target).closest(".modal-content").find(".btn-primary").click()}),h.$body.on("click",".app-export-project",function(e){e.preventDefault(),e.stopPropagation(),v.Bridge.runFileDialog("Browse for folder","","dir",function(e){e&&h.exportProject(e)})}),h.$body.on("submit",".page-settings-form",function(e){e.preventDefault(),f(e.target).closest(".modal-dialog").find('[data-bb-handler="success"]').click()}),v.Bridge.regQuitTask(function(e){t=1,h.$template.find("[contenteditable]:focus").trigger("blur"),h.runSaveProject(e,!0)}),v.Bridge.bind("pause",function(){h.runSaveProject(function(e){e?console.log("Project saved on pause."):console.error("Error: unable to save current project")})}),h.on(["changedProjectSettings","saveMediaImageDialog","saveMediaVideoDialog","savedSiteCodeEditor"],function(){t||h.runSaveProject(!1,!0)}),h.Core.on("removedPage",function(){t||h.runSaveProject()}),h.Core.on(["addedComponent","removedComponent","changedComponentPosition","changedComponentParams","addedPage","changedPageSettings","convertedComponentToCustomHTML","renderedCodeEditorChanges","rivetsBlur","saveMediaIconFontDialog"],function(){t||h.runSaveProject(!1,!0)}),h.$body.on("keyup",".project-create-form #filter-themes",function(e){var t,n=Array.from(document.querySelector(".site-create-themes-list").children),i=Array.from(document.querySelector(".site-create-presets-list .columns-presets").children),o=e.target.value.toLowerCase();n.forEach=[].forEach,n.forEach(function(e){return e.classList.remove("hide")}),i.forEach=[].forEach,i.forEach(function(e){return e.classList.remove("hide")}),""!==o&&(o=o.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),e=n.filter(function(e){return e.dataset.themeTitle}),n=n.filter(function(e){return void 0!==e&&e.dataset&&e.dataset.themeTitle?-1===e.dataset.themeTitle.toLowerCase().indexOf(o):""}),t=i.filter(function(e){return void 0!==e&&e.dataset&&e.dataset.titlepreset?-1===e.dataset.titlepreset.toLowerCase().indexOf(o):""}),n.forEach=[].forEach,n.forEach(function(e){return e.classList.add("hide")}),e.length-n.length?f("#theme .site-create__preloader-wrapper").hide():f("#theme .site-create__preloader-wrapper").show(),t.forEach=[].forEach,t.forEach(function(e){return e.classList.add("hide")}),i.length-t.length?f("#presets .site-create__preloader-wrapper").hide():f("#presets .site-create__preloader-wrapper").show(),f(".create-site-modal").modal("handleUpdate"))}),h.$body.find(".navbar-project-info .app-project-name").on("click",function(e){e.preventDefault(),e.stopPropagation(),h.openProjectSettings(h.projectPath+"/project.mobirise"),setTimeout(function(){f('#app-project-sidebar > [data-tab="common"]').click(),(f(e.target).hasClass("navbar-domain")?f(".app-layer-common .mbrsite-domain-control"):f(".app-layer-common .site-name-setting-wrap")).addClass("selected")},100)})},loaded:function(){h.runSaveProject()},showSideBarsSection:function(){this.hideProjectsList()},incomingFile:function(e){/project.mobirise$/.test(e)&&h.importProject(e.replace(/\/project.mobirise$/,""))},loadedProject:function(){t()},savedProject:function(){t()},changedProjectSettings:function(){t()},domainManagerLoaded:function(){t()},publishedToMbrsite:function(){f(".app-publish").unbind("mouseenter mouseleave"),f(".app-publish").css({backgroundColor:f(".app-publish").attr("data-old-bg-color"),color:f(".app-publish").attr("data-old-color")}),f(".app-publish .mbr-icon-cloud-upload").css({color:f(".app-publish").attr("data-old-color")}),f(".navbar-url .unpublished").remove()}}})},["jQuery","mbrApp","TR()"])},function(e,t,n){"use strict";defineM("app-projects-hash",function(l,a,e,s,c){var r="",d={},u={};a.regExtension({name:"projects-hash",events:{load:function(){a.addFilter("uploadFilesStart",function(e,t){var o=l.Deferred();return e.then(function(n,i){t.preview?(r="",o.resolve(n,i)):(r=i,u={},d={},a.checkPublishDublicates(n,i,function(e,t){d=t,o.resolve(n,i)}))}),o})},uploadFilesUploaded:function(e){r&&(u[e]=d[e])},uploadFilesComplete:function(e){r&&(a.updateProjectHashes(u,r),r="")},createPublishModal:function(e){}},global:{HASH_LIST:"publish-hashes.json",calcFileHash:function(e,t){var n=jQuery.Deferred(),i=[];function o(e){n.resolve(e),t&&t(e)}for(var r=0;r<e.srcList.length;r++){if(e.srcList[r].filter)return o(),n;i.push(c.md5_base64(e.srcList[r].src))}return l.when.apply(l,i).then(function(){for(var e=Array.prototype.slice.call(arguments),t=0;t<e.length;t++)if(!e[t])return void o();o(e.join("-"))}),n},getProjectHashes:function(t,n){s.getLocalJSON(this.projectPath+"/"+this.HASH_LIST,function(e){e=(e=e||{})[t=a.applyFilter("projectHashesUrl",t)]||{};n&&n(e)})},updateProjectHashes:function(n,i,o){var r=this;s.getLocalJSON(r.projectPath+"/"+r.HASH_LIST,function(e){for(var t in(e=e||{})[i=a.applyFilter("projectHashesUrl",i)]=e[i]||{},n)n[t]?e[i][t]=n[t]:delete e[i][t];s.saveLocalFile(r.projectPath+"/"+r.HASH_LIST,JSON.stringify(e),o)})},checkPublishDublicates:function(e,t,a){var s=this;a=a||function(){},e?s.getProjectHashes(t,function(n){var i=[],o=[],r={};e.forEach(function(t){var e;t&&((e=s.calcFileHash(t)).then(function(e){(r[t.dest]=e)&&e==n[t.dest]||o.push(t)}),i.push(e,r))}),l.when.apply(l,i).then(function(){a(o,r)})}):a([],{})}}})},["jQuery","mbrApp","TR()","Bridge","$Bridge"])},function(e,t,n){"use strict";var p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=n(23);defineM("app-plugins",function(a,h,e){h.regExtension({name:"plugins",global:{_buildInPlugins:[{name:"jQuery",condition:!0,files:[{src:"web/assets/jquery/jquery.min.js",publishOnly:!0}],priority:1e3},{name:"mobirise-icons",condition:!1,priority:900,iconfont:{family:"MobiriseIcons",title:"LineWeb",prefix:"mbri-",names:["mobirise","mobile","mobile2","tablet","tablet-vertical","watch","devices","laptop","desktop","responsive","touch-swipe","touch","browse","shopping-bag","shopping-basket","shopping-cart","cart-add","cart-full","cash","delivery","credit-card","sale","left","right","up","down","arrow-next","arrow-prev","arrow-up","arrow-down","plus","close","menu","success","play","more-horizontal","more-vertical","home","star","hearth","idea","magic-stick","flag","target","speed","help","letter","info","question","features","briefcase","sun","sun2","smile-face","sad-face","alert","timer","clock","growing-chart","cursor-click","protect","camera","globe","globe-2","bookmark","rocket","paper-plane","hot-cup","calendar","search","zoom-out","android","apple","windows","bootstrap","github","like","wifi","gift","database","paperclip","print","align-left","align-center","align-right","align-justify","undo","redo","new-file","file","share","save","folder","opened-folder","edit","edit2","change-style","setting","setting2","setting3","refresh","trash","drag-n-drop","drag-n-drop2","up-down","left-right","layers","code","bold","italic","underline","add-submenu","bulleted-list","numbered-list","photo","photos","video-play","video","music","pin","map-pin","chat","image-gallery","image-slider","cust-feedback","contact-form","link","unlink","quote-left","quote-right","user","user2","users","key","lock","unlock","login","logout","cloud","download","upload","to-ftp","to-local-drive","preview","error","pages","sites","extension","website-theme","update"]},files:["web/assets/mobirise-icons/mobirise-icons.css","web/assets/mobirise-icons/mobirise-icons.eot","web/assets/mobirise-icons/mobirise-icons.svg","web/assets/mobirise-icons/mobirise-icons.ttf","web/assets/mobirise-icons/mobirise-icons.woff"]},{name:"mobirise-icons2",condition:!1,priority:900,iconfont:{family:"Mobirise2",title:"LineWeb 2",prefix:"mobi-mbri-",class:"mobi-mbri",names:["add-submenu","alert","align-center","align-justify","align-left","align-right","android","apple","arrow-down","arrow-next","arrow-prev","arrow-up","bold","bookmark","bootstrap","briefcase","browse","bulleted-list","calendar","camera","cart-add","cart-full","cash","change-style","chat","clock","close","cloud","code","contact-form","credit-card","cursor-click","cust-feedback","database","delivery","desktop","devices","down","download-2","download","drag-n-drop-2","drag-n-drop","edit-2","edit","error","extension","features","file","flag","folder","gift","github","globe-2","globe","growing-chart","hearth","help","home","hot-cup","idea","image-gallery","image-slider","info","italic","key","laptop","layers","left-right","left","letter","like","link","lock","login","logout","magic-stick","map-pin","menu","mobile-2","mobile-horizontal","mobile","mobirise","more-horizontal","more-vertical","music","new-file","numbered-list","opened-folder","pages","paper-plane","paperclip","phone","photo","photos","pin","play","plus","preview","print","protect","question","quote-left","quote-right","redo","refresh","responsive-2","responsive","right","rocket","sad-face","sale","save","search","setting-2","setting-3","setting","share","shopping-bag","shopping-basket","shopping-cart","sites","smile-face","speed","star","success","sun","sun2","tablet-vertical","tablet","target","timer","to-ftp","to-local-drive","touch-swipe","touch","trash","underline","undo","unlink","unlock","up-down","up","update","upload-2","upload","user-2","user","users","video-play","video","watch","website-theme-2","website-theme","wifi","windows","zoom-in","zoom-out"]},files:["web/assets/mobirise-icons2/mobirise2.css","web/assets/mobirise-icons2/mobirise2.eot","web/assets/mobirise-icons2/mobirise2.svg","web/assets/mobirise-icons2/mobirise2.ttf","web/assets/mobirise-icons2/mobirise2.woff"]},{name:"cookies-alert-plugin",condition:function(){if(h.projectSettings.cookiesAlert)return!0},priority:3e3,files:[{src:"web/assets/cookies-alert-plugin/cookies-alert-core.js",publishOnly:!0},{src:"web/assets/cookies-alert-plugin/cookies-alert-script.js",publishOnly:!0}]},{name:"gdpr-plugin",condition:function(){if(h.projectSettings.gdpr)return!0},priority:3e3,files:["web/assets/gdpr-plugin/gdpr-styles.css"]}],registeredPlugins:[],readPlugin:function(t){var n=this,i=a.Deferred();return o.Bridge.getLocalJSON(t+"/plugin.json",function(e){"object"==(void 0===e?"undefined":p(e))?(jQuery.isArray(e)?e.forEach(function(e){e.root=t,n.registerPlugin(e)}):(e.root=t,n.registerPlugin(e)),setTimeout(function(){i.resolve(!0)},0)):h.addAppResource(t+"/plugin.js").then(function(){i.resolve(!0)})}),i.promise()},registerPlugin:function(e,t){t||(t=e,e=void 0),t=this.applyFilter("registerPlugin",t),this.fire("registerPlugin",t),e&&(t.alias=e),t.addon_root=t.alias?this.getAddonDir(t.alias):"",this.registeredPlugins.push(t),this.fire("registeredPlugin",t),this.fire("pluginsLoaded")},eachPlugins:function(e,t){for(var n=0;n<e.length;n++){var i,o=e[n].root||e[n].addon_root||"",r=(o&&(o+="/"),e[n].conditional_comment),a=e[n].in_head;for(i in e[n].files){var s=e[n].files[i],l=(s="string"==typeof s?{src:s}:s).name||e[n].name,c=s.src,d=!1,u=s.type||(/.js$/g.test(c)?"js":/.css$/g.test(c)?"css":""),p=l+(i&&"0"!=i?i:"");/^\/\//g.test(c)||/^http/g.test(c)||(e[n].root||o&&(c=l+"/"+c),d="assets/"+c,c=o+c),t(c,u,p,d,r,a,s.publishOnly,e[n])}}},eachPlugins2:function(e,l){this.eachPlugins(e,function(e,t,n,i,o,r,a,s){/^\/\//.test(e)||/^http[s]?:/.test(e)||/^file:/.test(e)||/^web\//.test(e)||(e=h.getAddonDir(h.theme.name)+"/plugins/"+e),l(e,t,n,i,o,r,a,s)})},getPlugin:function(e){var t,n=this.registeredPlugins;for(t in n)if(n[t].name===e)return this.applyFilter("getPlugin",n[t]);return!1},getPluginsListForPage:function(e,t){var n,i,o=this.registeredPlugins;function r(e,t){if(e&&e.length){"string"==typeof e&&(e=e.split("&&"));for(var n=!0,i=0;n&&i<e.length;i++)n=n&&function(e,t){for(var n=(e=e.replace(/^\s+|\s+$/g,""))&&e.split("=")[0]||"",e=e&&e.split("=")[1],i=n&&n.split(".")||[],o=0;t&&o<i.length;o++)t="function"==typeof t?t(i[o]):t[i[o]];return void 0===e?t:String(t)==e}(e[i],t);return n}}for(n in e=e.split(","),o)0<=e.indexOf(o[n].name)||(!0===o[n].condition||"function"==typeof o[n].condition&&o[n].condition())&&e.push(o[n].name);for(i in this.Core.resultJSON[t].components){var a,s=h.Core.resultJSON[t].components[i];if(s._plugins){var l,c=s._plugins.split(",");for(l in c)-1==e.indexOf(c[l])&&e.push(c[l])}for(a in o){var d,u=o[a].name;0<=e.indexOf(u)||"object"!=p(o[a].condition)&&"string"!=typeof o[a].condition||(d={_theme:h.getThemeSettings,_project:h.projectSettings,_page:h.Core.resultJSON[t],_params:s._params},r(o[a].condition,d)&&e.push(u))}}return this.applyFilter("getPluginsListForPage",e.join(","),this.Core.resultJSON[t])},updatePlugins:function(e){var t=this.sortPlugins(this.registeredPlugins);this.eachPlugins2(t,function(e,t,n,i,o,r,a,s){o||a||(/^\/\//g.test(e)&&(e="https:"+e),"js"===t?h.addCoreResource(e,!0):"css"===t&&h.addCoreResource(e,!1))}),"function"==typeof e&&e()},getPluginsHTMLForPublish:function(e){for(var t=[],u="",p="",f="",n=this.getPluginsListForPage("",e),n=this.applyFilter("allUsedPluginsForPage",n.split(","),e),i=0;i<n.length;i++){var o=this.getPlugin(n[i]);o&&t.push(a.extend(!0,{},o))}return t=this.sortPlugins(t),t=this.applyFilter("svgFontFilter",t),this.eachPlugins(t,function(e,t,n,i,o,r){var a="",s="",l="",c="",d="",o=(o&&(a="\x3c!--[if "+o+"]>\n    ",s="<![endif]--\x3e\n  "),/^\/\//g.test(e)?i="https:"+e:/^http[s]?:/.test(e)&&!h.isAddonsDir(e)&&(i=e),"js"===t&&(o=a+'<script src="'+i+'"><\/script>\n  '+s,r?c+=o:l+=o),"css"===t&&(d+=a+'<link rel="stylesheet" href="'+i+'">\n  '+s),h.applyFilter("getPluginResource",{js:l,js_head:c,css:d},n,t,i,r,e));p+=o.js_head,u+=o.js,f+=o.css}),this.applyFilter("getPluginsHTMLForPublish",{css:f,js:u,js_head:p},e)},getPluginsFilesForPublish:function(){var e,o=this,t=(o.registeredPlugins,[]),r=[],n="";for(e in o.Core.resultJSON)n=o.getPluginsListForPage(n,e);for(e in n=this.applyFilter("allUsedPlugins",n.split(","))){var i=o.getPlugin(n[e]);i&&t.push(a.extend(!0,{},i))}return o.eachPlugins(t,function(e,t,n,i){/^(http[s]?:)?\/\//.test(e)&&!o.isAddonsDir(e)||(/^(file|https?):/g.test(e)||/^web\//g.test(e)||(e=o.theme.pathExport+"/plugins/"+e),r.push({src:e,dest:i}))}),o.applyFilter("getPluginsFilesForPublish",r)},sortPlugins:function(e){var t=a.extend(!0,[],e);return t.sort(function(e,t){return e.priority>t.priority?1:e.priority<t.priority?-1:0}),this.applyFilter("sortPlugins",t,e)}},events:{beforeAppLoad:function(){for(var e=0;e<this._buildInPlugins.length;e++)this.registerPlugin(this._buildInPlugins[e])}}})},["jQuery","mbrApp","TR()"])},function(e,t,n){"use strict";var u=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e)){var n=t,i=[],o=!0,t=!1,r=void 0;try{for(var a,s=e[Symbol.iterator]();!(o=(a=s.next()).done)&&(i.push(a.value),!n||i.length!==n);o=!0);}catch(e){t=!0,r=e}finally{try{!o&&s.return&&s.return()}finally{if(t)throw r}}return i}throw new TypeError("Invalid attempt to destructure non-iterable instance")},p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};defineM("app-components-list",function(v,b,y,f){function o(e){return'<li class="show-more-btn col-xs-12 col-sm-6 col-md-4 col-lg-3">\n            <a href="javascript:void(0)" class="show-more-btn__fake-link">\n                <img src="">\n            </a>\n            <div class="show-more-btn__content">\n                <i class="mbr-icon-horizontal-ellipsis"></i>\n                <span class="show-more-btn__text">'+y("More $groupName$ Blocks").replace("$groupName$",e)+"</span>\n            </div>\n        </li>"}var e=!0,l=void 0,w=!0,x=!1,_=[],k="",S=[];function n(){v(".app-template").removeClass("scaled"),b.Core.$body.removeClass("scaled"),b.Core.$template.removeClass("scaled");var e=b.Core.$body.closest("html").scrollTop();b.Core.$body.closest("html").stop().animate({scrollTop:e},0)}function C(n,i){i=i||function(){},b.getThemeAddonsEx(function(e){for(var t=0;t<e.length;t++)if(e[t].name===n)return void b.readAddon(b.getAddonDir(n),i);i()},{type:"theme"})}function r(){return new Promise(function(t){b.getAddonsEx(function(e){console.log(e),e=e.filter(function(e){return"theme"===e.type&&b.isAMP()===(e.name.endsWith("amp")||"amp-blocks-theme"===e.name)}),Promise.allSettled(e.map(function(i){return new Promise(function(t,n){i.installed&&i.premium===i.paid?f.getLocalJSON(b.getAddonDir(i.name)+"/params.json",function(e){e?t({themeName:i.name,blocks:e.components,local:!0}):n()}):fetch("https://my.mobirise.com/data/upload/thumbs/"+i.name+"/params.json?hash="+Math.random()).then(function(e){return e.json()}).then(function(e){t({themeName:i.name,blocks:e.components,local:!1})}).catch(function(){n()})})})).then(function(e){e=e.reduce(function(e,t){return"fulfilled"===t.status&&e.push(t.value),e},[]),t(e)})},{type:"theme"},{server:!0})})}function P(e){if(e)return e.replace(/(^.)|((m4$)|(m5$)|(amp$))/g,function(e){return e.toUpperCase()})}function a(d,u,p){b.getComponentsKeywords().then(function(e){var n,i,t,o=b.$componentsLayer.find(".search-block-input").val().toLowerCase(),r=void 0,a=b.$componentsLayer.find(".app-layer-cont");if((r=u?(n={people:["team","testimonial","client"],numbers:["progress","counter","countdown","table"],news:["timeline","content"],list:["accordion","toggle","tabs"]},o=u.toLowerCase().replace(/_/g," "),i=!1,d.filter(function(t){return((i=o in n?n[o].some(function(e){return("table"!==e||!t.searchTags.toLowerCase().startsWith("pricing"))&&t.searchTags.toLowerCase().includes(e)}):i)||t.searchTags.toLowerCase().includes(o))&&t.theme!==b.$componentsLayer.attr("data-theme")})):d.filter(function(e){return e.searchTags.toLowerCase().includes(o)})).length)return c();if(e){var s,l=[];for(s in e)!function(t){e[t].map(function(e){e.includes(o)&&l.push(t)})}(s);r=d.filter(function(t){return l.length&&l.some(function(e){return t.searchTags.toLowerCase().includes(e)})})}if(r.length)return c();function c(){var e,t,n="";r.forEach(function(e){n+='<li class="col-xs-12 col-sm-6 col-md-4 col-lg-3 '+(e.local?"":"not-available")+'" data-layer="add-component">\n                            <a href="javascript:void(0)" data-component="'+e.name+'" data-component-once="'+e.once+'" data-search-tags="'+e.searchTags+'" data-theme="'+e.theme+'">\n                                <img src="'+e.thumb+'" alt="'+e.name+'">\n                                <div class="block-info">\n                                    <div class="block-info__theme-name-tag '+(P(e.theme)?"":"hidden")+'">'+P(e.theme)+"</div>\n                                </div>\n                            </a>\n                        </li>"}),u?(u=u.replace(/\s/g,"_"),a.find('h5[data-group="'+u+'"]').next("ul").append(n)):(b.$componentsLayer.find(".app-layer-cont").find("h5:not(.search-group-name), .show-more-btn, .user-block-search, > ul > li").addClass("hidden"),e=a.find(".search-group-name"),t=a.find(".search-blocks-container"),e.length&&t.length?(e.removeClass("hidden").text("Search for "+o),t.removeClass("hidden").html(n)):a.append('\n                            <h5 class="search-group-name">Search for '+o+'</h5>\n                            <ul class="search-blocks-container">'+n+"</ul>\n                        ")),b.cleanOnceComponents(),p.remove()}0===r.length&&(t=function(){var n=[];return b.presetsList.map(function(e){if(e.presetsList)for(var t in e.presetsList)e.presetsList[t].title.toLowerCase().includes(o)&&n.push(e.themeName)}),0!==n.length&&(r=d.filter(function(e){return n.includes(e.theme)})),c()},0!==b.presetsList.length?t():b.getAddonsEx(function(e){e=e.filter(function(e){if(e.name.endsWith("m4")||e.name.endsWith("m5")||"mobirise5"===e.name)return e.name.endsWith("m4")||e.name.endsWith("m5")||"mobirise5"===e.name}),Promise.all(e.map(function(n){return new Promise(function(t){var e;n.installed&&n.paid&&!n.expired||f.isDev||"mobirise5"===n.name||"startm5"===n.name?(e=b.getAddonDir(n.name)+"/projects/list.json",f.getLocalJSON(e,function(e){e?t({themeName:n.name,presetsList:e,local:!0}):t()})):fetch("https://my.mobirise.com/data/upload/thumbs/"+n.name+"/projects/list.json").then(function(e){404===e.status?(console.log("No presets in "+n.name+" theme."),t()):e.json().then(function(e){t({themeName:n.name,presetsList:e,local:!1})}).catch(function(e){t()})}).catch(function(e){t()})})})).then(function(e){(e=e.filter(function(e){return void 0!==e})).length?(b.presetsList=e,t()):resolve(chosenTheme)})},{type:"theme"},{server:!0}))})}var i,s;function c(e){for(var t in e)this[t]=e[t]}b.regExtension({name:"components-list",global:{components:{},getComponentHTML:function(e){return b.Core.getComponent(e)._customHTML},setComponentHTML:function(e,t){var n,i=b.Core.getComponent(e),t=(i._customHTML=t,b.Core.getSecondaryComponent(i));t.isActualTemplate()||(n=b.$template.find("[data-app-component-id="+e+"] .app-component-content"),t=t.update().createElementFromTemplate(),b.Core.$window[0].rivets.unbind(n).bind(t,i),n.html(t),b.fire("loadedComponent",i,b.Core.currentPage,b.Core.$template,!1)),b.Core.$template.find("[data-app-component-id="+e+"] .app-component-content > *").trigger("add.cards"),b.runSaveProject(!1,!0),b.Core.fire("setComponentHTML",e)},$componentsLayer:v("#add-component"),$componentsToggleBtn:v(".app-components-toggle"),readComponent:function(n){var i=this,o=v.Deferred();return f.getLocalJSON(n+"/component.json",function(e){var t;"object"==(void 0===e?"undefined":p(e))?(t=[],e._path&&(t.push(e._path),delete e._path),t.push(e),i.loadComponents.apply(i,t),setTimeout(function(){o.resolve(!0)},0)):b.addAppResource(n+"/component.js").then(function(){o.resolve(!0)})}),o.promise()},readComponent2:function(e,t,n){if("string"==typeof e)return b.readComponent(t+"/"+e);if("object"==(void 0===e?"undefined":p(e))){var i=e.name||e.path.split("/").pop();if(i in b.components)return;var o="plugin"==n.type,r=e.path.replace(/\/.*$/,"");b.Core.components[i]=b.components[i]=new c(v.extend({name:i,alias:o&&n.name+(r?"/"+r:""),_tags:o&&["Extension"],scriptPath:t+"/"+e.path},e))}else console.warn("Wrong component "+e);return v.Deferred().resolve()},loadComponents:function(e,t,n){var i,o=this;for(i in t||(t=e,e=void 0),t=o.applyFilter("loadingComponents",t,e),o.fire("loadComponents",t,e),t){var r=t[i];if(e&&(r.alias=e),r._tags=r._tags||[],r._tags.length||(e&&o.theme&&o.theme.name&&e.split("/")[0].toLowerCase()!=o.theme.name.toLowerCase()?r._tags.push("Extension"):r._tags.push("Theme")),r._inherit){var a=v.extend(!0,{},o.components[r._inherit]);if(a)for(var s in a)if("_params"===s){r[s]||(r[s]={});var l,c={};for(l in a[s]){var d=a[s][l];null!==r[s][l]&&(d.default=void 0!==r[s][l]?r[s][l]:d.default,c[l]=d)}r[s]=c}else r[s]=(void 0!==r[s]?r:a)[s];else console.warn("Warning: not yet loaded parent block for component "+i+" _inherit "+r._inherit)}}o.components=o.applyFilter("loadComponents",v.extend(o.components,t)),n&&o.initComponentsPalette(),o.loadComponentTemplates(o.components),o.fire("loadedComponents",t)},addComponentToCore:function(e,t,n){var i=arguments;return"menu"===n.attr("data-component-once")&&"true"===n.attr("data-app-always-top")?((t=t||{}).item=b.Core.resultJSON[b.Core.currentPage].components[0]._id.toString(),t.where="before",i[1]=t):t&&"before"==t.where&&"menu"===b.Core.resultJSON[b.Core.currentPage].components[0]._once&&b.Core.resultJSON[b.Core.currentPage].components[0]._id==t.item&&!0===b.Core.resultJSON[b.Core.currentPage].components[0]._noDrag&&(t.where="after",i[1]=t),this.getRealComponent(e).then(function(){b.Core.addComponent.apply(b.Core,i)})},getRealComponent:(s={},b.on("loadedComponentTemplate",function(e){e in s&&s[e].resolve(b.components[e])}),function(t){var n,e,i;return((t="string"==typeof t?b.components[t]:t)instanceof c?(n=t.name,e=b.components,n in s&&(!x||t.alias)||(s[n]=v.Deferred(),i=function(){var e;b.isSecondaryComponent(t)?((e={})[n]={_group:t._group,_once:t._once,alias:t.alias,_isSecondary:t._isSecondary,typeCompatible:t.typeCompatible},t.alias?b.loadComponents(t.alias,e):b.loadComponents(e)):b.readComponent(t.scriptPath)},t._inherit?this.getRealComponent(e[t._inherit]).then(i):i()),s[n]):v.Deferred().resolve(t)).promise()}),cachedTemplates:{},loadComponentTemplates:function(s){var l=this;b.Core.components=s,v.when(function(){var e,t=v.Deferred(),a=[];for(e in s)s[e]instanceof c||e in l.cachedTemplates||!function(n,e){l.cachedTemplates[n]="";var i=s[n].alias,t=void 0,o=b.$componentsLayer.attr("data-theme"),t=i?b.getAddonDir(i)+"/"+(e||n)+"/template.html":o?b.getAddonDir(o)+"/components/"+(e||n)+"/template.html":l.theme.pathExport+"/components/"+(e||n)+"/template.html",r=v.Deferred();f.loadLocalFile(t,function(e){var t;e&&((s[n]._css||s[n]._js)&&b.Core.prepareComponentAssets(n),l.cachedTemplates[n]=e),b.isSecondaryComponent(s[n])?(t=void 0,t=i?b.getAddonDir(i)+"/"+n+"/style.less":o?b.getAddonDir(o)+"/components/"+n+"/style.less":l.theme.pathExport+"/components/"+n+"/style.less",f.loadLocalFile(t,function(e){s[n]._styles={},b.objectifyCSS(e).then(function(e){s[n]._styles=e},function(e){e.filename=t,console.error(e)}).always(r.resolve)})):r.resolve()}),r.then(function(){l.fire("loadedComponentTemplate",n)}),a.push(r)}(e,s[e]._inherit);return v.when.apply(v,a).then(function(){t.resolve()}).fail(function(){t.resolve()}),t.promise()}()).done(function(){l.fire("loadedComponentTemplates")})},initComponentsPalette:function(e){var t=this,n={};for(o in t.components){var i=t.components[o];n[i._group]||(n[i._group]={}),n[i._group][o]=i}var o,r="";for(o in n=t.applyFilter("loadComponentsSorted",n)){for(var a in r=r+("<h5 data-group="+o.replace(/\s/g,"_")+">"+y(o,"blocks")+"</h5>")+'<ul class="row">',n[o]){var s,l=n[o][a].alias,c=n[o][a].typeCompatible;!(c=null!=c?function(e){var t,n,i=b.theme.params.theme;if("string"==typeof e)return n=!!i[(t=function(e){return"!"===e.charAt(0)})(e)?e.split("!")[1]:e],t(e)?!n:n;if("object"==(void 0===e?"undefined":p(e))){var o,r=void 0;for(o in e)if(r=!!i["!"===e[o].charAt(0)?e[o].split("!")[1]:e[o]])break;return!r}}(c):c)&&null!=c||(c=b.$componentsLayer.attr("data-theme"),s=void 0,s=l?t.getAddonDir(l)+"/"+a+"/thumb.png":c?b.isBuildInAddon(c)?f.path2app(t.getAddonDir(c))+"/components/"+a+"/thumb.png":t.getAddonDir(c)+"/components/"+a+"/thumb.png":t.theme.path+"/components/"+a+"/thumb.png",l={"component-once":n[o][a]._once},r+=t.generateComponentPaletteItemHtml(a,s,null,l))}r+="</ul>"}r=t.applyFilter("loadComponentsHTML",r),t.insertComponentPaletteHTML(r),e&&e(),t.fire("initedComponentsPalette")},generateComponentPaletteItemHtml:function(e,t,n,i,o,r,a){var s="",l="",c="";if(o=o||"","object"==(void 0===i?"undefined":p(i)))for(var d in i)"filter"==d?c=" data-"+d+'="'+i[d]+'"':void 0!==i[d]&&(s+=" data-"+d+'="'+i[d]+'"');if("object"==(void 0===r?"undefined":p(r)))for(var d in r)void 0!==r[d]&&(l+=" data-"+d+'="'+r[d]+'"');n='<li class="col-xs-12 col-sm-6 col-md-4 col-lg-3 '+(n=n||"")+'" '+c+l+' data-layer="add-component"><a href="javascript:void(0)" data-component="'+e+'"'+s+">";return(n+='<img src="'+t+'" alt="'+e+'">')+('\n                    <div class="block-info">\n                        <div class="block-info__theme-name-tag '+(P(a)?"":"hidden")+'">'+P(a)+"</div>\n                    </div></a>\n                ")+(o+"</li>")},insertComponentPaletteItem:function(e,t,n,i,o,r,a){t=b.generateComponentPaletteItemHtml(t,n,o,r);b.insertComponentPaletteHTML(t,e,a)},insertComponentPaletteHTML:function(e,t,n,i){var o,r=b.$componentsLayer.find(".app-layer-cont");1===arguments.length?r.html(e):(n=n?' class="'+n+'"':"",i=i?'class="'+i+'"':"",o=t.replace(/\s/g,"_"),0==r.find('h5[data-group="'+o+'"]').length&&r.append('<h5 data-group="'+o+'" '+i+">"+t+"</h5><ul"+n+"></ul>"),(i=(i=r.find('h5[data-group="'+o+'"]').next()).is("ul")?i:i.next()).append(e))},cleanOnceComponents:function(){var e,t=this.$componentsLayer.find("[data-component-once]").removeClass("inactive"),n=(t.find("> span").remove(),this.Core.getPageComponents());for(e in n){var i=!0===n[e]._once,o=!i&&n[e]._once;(i||o)&&(o=i?'[data-component="'+n[e]._name+'"]':'[data-component-once="'+n[e]._once+'"]',t.filter(o).addClass("inactive").append("<span>"+y("Added")+"</span>"))}this.fire("cleanOnceComponents",t)},dragComponent:function(){var e,a=this,t=["click"];for(e in t)!function(i,o){var r=i.contentWindow["on"+o];i.contentWindow["on"+o]=function(e){r&&r(e);var t=document.createEvent("MouseEvents"),n=i.getBoundingClientRect();t.initMouseEvent(o,!0,!1,window,e.detail,e.screenX,e.screenY,e.clientX+n.left,e.clientY+n.top,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,e.button,null),i.dispatchEvent(t)}}(a.iframe,t[e]);function i(e){var t=a.appElements.window.width-a.appElements.componentsLayer.width;return t>a.appElements.iframe.width+0&&(t=a.appElements.iframe.width+0),0<e&&e<t}var s,c,d,o,r,u=v('<div class="app-dragger">').append("<img>").appendTo("body"),l=v('<div class="app-component-divider">'),p=a.$template.find(".template .app-component"),f={item:void 0,where:void 0},h=void 0,m=void 0,g=void 0;a.$componentsLayer.on("mousedown touchstart","a[data-component]:not(.inactive)",function(e){var t,l,n,i,o,r;w&&(e.stopPropagation(),e.preventDefault(),v(this).closest(".not-available").length?(t=this,n="",i=b.getUserInfo(),o=v(t).attr("data-theme"),t=o||b.$componentsLayer.attr("data-theme"),r=o||b.$componentsLayer.find(".blocks-theme-btn .blocks-theme-name").text(),i&&i.email&&(n=i.email),(i=b.AddonsRegistry.get(t)).get("downloadURL")&&!i.isExpired()?((l=v(b.preloaderHTML)).css({opacity:"0.8",transition:"0.2s"}),b.$componentsLayer.find(".add-component-content").append(l),b.downloadAddon(i.toJSON()).done(function(s){o?(S=[],b.$componentsLayer.find('[data-theme="'+o+'"]').parent().removeClass("not-available"),l.remove()):C(s.name,function(t){if(t.components){var e,n,i=b.getAddonDir(s.name),o=v.extend({},b.components);for(e in b.components=b.Core.components={},o)o.hasOwnProperty(e)&&!o[e].alias&&delete o[e];for(n in b.cachedTemplates)b.cachedTemplates.hasOwnProperty(n)&&!o[n]&&delete b.cachedTemplates[n];var r=o,a=[];t.components.forEach(function(e){a.push(b.readComponent2(e,i,t))}),k="",_.forEach(function(e){e.name===s.name&&(e.local=!0),k+='<div class="col-xs-6 col-sm-6 col-md-4 col-lg-3" data-name="'+e.name+'" data-local="'+e.local+'">\n                                            <div class="card-wrap">\n                                                <div class="card-img">\n                                                    <img src="'+e.cover+'">\n                                                </div>\n                                                <span class="card-title">'+e.title+"</span>\n                                            </div>\n                                        </div>"}),v.when.apply(null,a).then(function(){b.Core.components=b.components=v.extend(b.components,r),b.initComponentsPalette(function(){b.$componentsLayer.find(".add-component-filter").remove(),b.createComponentsFilter(),b.addComponentsFilterTab("Extension",y("Extensions"),y("Show Blocks From Extensions")),x=!0,l.remove()})})}})}).fail(function(){b.showError(y("Error add extension")+' "'+r+'"'),b.$componentsLayer.find(".add-component-content .preloader").remove()})):b.confirmDlg({message:y("The $extension$ theme isn't available for your account").replace("$extension$",r?"<strong>"+P(r)+"</strong>":"")+(n?" "+n+"<br>":".<br>"),buttons:{cancel:{label:y("Cancel"),className:"btn-default"},confirm:{label:y("Download $theme title$").replace("$theme title$",r),className:"btn-primary"}},callback:function(e){e&&b.openUrl("https://mobirise.com/extensions/kit/")}})):(m=1920<b.appElements.window.width?.5:.25,g=1/m,c=v(this).attr("data-component"),d=e.currentTarget,s=!0,u.find("img").attr("src",v(this).find("img").attr("src")),p=a.$template.find(".template .app-component"),h=a.appElements.iframe.height/2,a.$iframeOverlay.css({top:a.appElements.window.height-h}).show(),a.fire("dragComponentStart",c,e)))}),v(document).on("mousemove touchmove",function(e){var n,t;s&&(e.preventDefault(),e.stopPropagation(),t=(e.originalEvent.touches?e.originalEvent.touches[0]:e).pageX,e=(e.originalEvent.touches?e.originalEvent.touches[0]:e).pageY,u.css({display:"block",left:t,top:e,marginTop:-u.height()/2,marginLeft:-u.width()/2}),i(t)?(a.Core.dragComponent=!0,b.$template.find(".template > div").append(l),l.show()):l.hide(),h=a.appElements.iframe.height/g,n=e-(a.appElements.window.height-h),p.each(function(){var e=this.getBoundingClientRect(),t={};t.height=e.height/g,t.top=e.top/g,t.bottom=e.bottom/g,t.bottom<0||h<=t.top||n<t.top||n<=t.top+t.height&&(f.item=v(this),t.top+t.height/2<n?(v(this).after(l),f.where="after"):(v(this).before(l),f.where="before"))}),t=e-(a.appElements.window.height-h),e=a.appElements.window.height-e,t<80?r=-30*(80-Math.max(t,0))/80:e<80&&(r=30*(80-Math.max(e,0))/80),clearInterval(o),t<80||e<80)&&(a.iwindow.scrollBy(0,r),o=setInterval(function(){a.iwindow.scrollBy(0,r)},17))}),v(document).on("mouseup touchend",function(e){s&&(s=!1,u.css("display","none"),l.remove(),i((e.originalEvent.changedTouches?e.originalEvent.changedTouches[0]:e).pageX)&&(w=!1,f.item&&f.item.length&&(f.item=v(f.item).attr("data-app-component-id")),a.addComponentToCore(c,v.extend({},f),v(d)).then(function(){a.cleanOnceComponents()})),f.item=void 0,f.where=void 0,a.$iframeOverlay.hide(),clearInterval(o),a.fire("dragComponentEnd",c,e))})},hideComponentsList:function(e){this.fire("beforeHideComponents",e),this.$body.removeClass("app-add-component-open"),this.$componentsToggleBtn.tooltipster("content",y("Add Block to Page")),this.$themeToggleBtn.fadeIn(200),b.$body.off("keyup.escListenerComponentsList"),this.fire("hideComponents",e)},toggleComponentsList:function(){var t=this;this.cleanOnceComponents(),this.$body.toggleClass("app-add-component-open"),this.$body.hasClass("app-add-component-open")?(this.$componentsToggleBtn.tooltipster("content",y("Close")),this.$themeToggleBtn.fadeOut(200),v(".app-template").addClass("scaled"),b.Core.$body.addClass("scaled"),b.Core.$template.addClass("scaled"),v("#add-component .search-block-input").focus(),b.$body.on("keyup.escListenerComponentsList",function(e){"Escape"!==e.key||t.$body.hasClass("modal-open")||(t.$componentsToggleBtn.trigger("click"),e.stopPropagation())})):(v(".app-template").hasClass("scaled")&&n(),this.$componentsToggleBtn.tooltipster("content",y("Add Block to Page")),this.$themeToggleBtn.fadeIn(200),b.$body.off("keyup.escListenerComponentsList")),this.fire("toggleComponents")},addComponentsFilterTab:function(e,t,n){n=b.applyFilter("addComponentsFilterTab",v('<li data-tooltipster="bottom" title="'+n+'"data-filter="'+e+'">'+t+"</li>"));b.$componentsLayer.find(".add-component-filter ul").append(n)},createComponentsFilter:function(){var t=this,n=[],i=(t.$componentsLayer.find(".app-layer-cont >ul>li").not(".app-layer-cont-user-block").each(function(){var e=v(this).find("a").attr("data-component");v(this).attr("data-filter",t.components[e]._tags?t.components[e]._tags.join(","):"Theme"),v(this).attr("data-group",t.components[e]._group||"undefined"),v(this).attr("data-search-tags",t.components[e]._searchTags||t.components[e]._group),void 0===t.components[e]._group?-1===n.indexOf("undefined")&&n.push("undefined"):-1===n.indexOf(t.components[e]._group)&&n.push(t.components[e]._group)}),t.$componentsLayer.find(".add-component-groups"));i.find("ul").empty(),n.forEach(function(e){i.find("> ul").append('<li data-group-name="'+e.replace(/\s/g,"_")+'">'+e+"</li>")}),i.append('<div class="add-component-filter"><ul></ul></div>')},bindComponentsFilterEvents:function(){var i=this;i.$componentsLayer.on("click",".add-component-filter>ul>li:not(.active)",function(e){i.$componentsLayer.find(".add-component-groups > ul li").removeClass("active");var t=v(e.target).closest("#add-component").find(".app-layer-cont"),n=v(e.target).attr("data-filter");v(e.target).parent().find(">li").removeClass("active"),v(e.target).addClass("active"),b.$componentsLayer.find(".show-more-btn").addClass("hidden"),t.find(">ul>li").addClass("hidden"),t.find('>ul>li[data-filter*="'+n+'"]').removeClass("hidden"),t.find(">ul:not(.search-blocks-container)").each(function(){var e=v(this).prev();0==v(this).find('>li:not(".hidden")').length?(e.is("[data-group]")||(e.addClass("hidden"),e=e.prev()),e.addClass("hidden")):(e.is("[data-group]")||(e.removeClass("hidden"),e=e.prev()),e.removeClass("hidden"))}),t.scrollTop(0)})},render:function(e){b.Core.render(e)},getComponentsKeywords:(i=void 0,function(){var t=v.Deferred();return i?t.resolve(i):(f.getLocalJSON("web/app/interface/app-components-keywords.json",function(e){i=e,t.resolve(i)},function(e){t.resolve(void 0)}),t)})},events:{coreLoad:function(){b.Core.addFilter("addComponent",function(t,e,n){if("secondary"===b.theme.type){var i,o,r,a=b.$componentsLayer.attr("data-theme"),s=n.attr("data-theme");if(s)return i=v.Deferred(),o=void 0,r=n.attr("data-component"),t._sourceTheme=s,o=b.getAddonDir(s)+"/components/"+r+"/template.html",f.loadLocalFile(o,function(e){b.isBuildInAddon(s)||(e=e.replace(/="\.\.\//g,'="'+b.path2core(b.getAddonDir(s))+"/components/")),t._customHTML=e;e=b.getAddonDir(s)+"/components/"+r+"/style.less";f.loadLocalFile(e,function(e){t._styles={},b.objectifyCSS(e).then(function(e){t._styles=e,i.resolve(t)},function(e){})})}),i.promise();a&&!t._sourceTheme&&(t._sourceTheme=a)}return t})},load:function(){var o=this;o.cleanOnceComponents(),o.dragComponent(),o.$componentsToggleBtn.on("click",function(e){var t=v(this);e.stopPropagation(),t.attr("data-pallete-inited")||(o.initComponentsPalette(function(){o.createComponentsFilter(),o.addComponentsFilterTab("Extension",y("Extensions"),y("Show Blocks From Extensions")),o.bindComponentsFilterEvents(),b.$componentsLayer.find(".add-component-groups > ul").on("click",function(e){v(e.target).attr("data-group-name")&&(v(e.target).addClass("active").siblings().removeClass("active"),b.$componentsLayer.find(".add-component-filter li").removeClass("active"),b.$componentsLayer.find(".app-layer-cont").find("h5, .show-more-btn, .user-block-search, > ul > li").removeClass("hidden"),b.$componentsLayer.find(".app-layer-cont").find(".search-group-name, .search-blocks-container").addClass("hidden"),0!==(e=b.$componentsLayer.find('.app-layer-cont > h5[data-group="'+v(e.target).attr("data-group-name")+'"]')[0].offsetTop))&&b.$componentsLayer.find(".app-layer-cont").stop(!0,!0).animate({scrollTop:e-10},300)});var e=b.$componentsLayer.find(".app-layer-cont").find("> ul > li img"),i=[];e.each(function(e,n){var t=new Promise(function(e,t){v(n).on("load",function(){e()}),n.complete&&v(n).load()});i.push(t)}),Promise.all(i).then(function(){l=b.$componentsLayer.find(".app-layer-cont").outerHeight();var n,i=!1;function s(e){var t,n,i,o;e.length&&(e.addClass("active"),t=b.$componentsLayer.find(".add-component-groups"),e=(n=e.position().top)+e.outerHeight(!0),o=(i=t.scrollTop())+l,n<i?t.stop(!0,!0).animate({scrollTop:n-100},300):o<e&&t.stop(!0,!0).animate({scrollTop:i+e-o+100},300))}b.$componentsLayer.find(".app-layer-cont").on("scroll",function(e){n=i,i=v(this).is(":animated");var o,r,a=b.$componentsLayer.find(".add-component-groups"),t=b.$componentsLayer.find(".add-component-filter li").hasClass("active");i||n||t||!a.find("> ul li").length||(a.find("> ul li").removeClass("active"),t=v(this).scrollTop(),o=Math.ceil(t+l/2),t<=20?s(a.find("> ul li:first-child")):(r=0,a.find("> ul li").each(function(e){var t=v(this).attr("data-group-name"),n=r,i=n;if(b.$componentsLayer.find('.app-layer-cont > h5[data-group="'+t+'"]').each(function(){i+=v(this).outerHeight(!0)+v(this).next("ul").outerHeight(!0)}),r=i,n<=o&&o<=i)return s(a.find('> ul li[data-group-name="'+t+'"]')),!1})))})})}),t.attr("data-pallete-inited",!0)),o.toggleComponentsList()}),o.on("clickTemplate",function(e){o.hideComponentsList(e)}),o.$componentsLayer.on("click","a[data-component]:not(.inactive)",function(e){!w||v(this).closest(".not-available").length||(w=!1,o.addComponentToCore(v(this).attr("data-component"),null,v(e.currentTarget)).then(function(){o.cleanOnceComponents()}))}),o.Core.on("rendered",function(){w=!0}),o.Core.on("loadedComponent",function(e,t,n,i){b.fire("loadedComponent",e,t,n,i)}),o.Core.addFilter("loadComponentTemplate",function(e,t,n,i){return o.applyFilter("loadComponentTemplate",e,t,n,i)}),o.Core.on("summernoteBlur",function(e){b.fire("summernoteBlur",e)})},resizeInterface:function(){l=b.$componentsLayer.find(".app-layer-cont").outerHeight()},initedComponentsPalette:function(){b.$body.find("#add-component .app-layer-cont h5[data-group]").each(function(){v(this).next("ul").children("li").length||v(this).css("display","none")}),b.$componentsLayer.find(".app-layer-cont > ul:not(.app-layer-cont-user, :empty)").filter(function(){return!v(this).prev("h5").text().toLowerCase().includes("blockpack")}).each(function(){var e=v(this).prev("h5").text(),e=v(o(e)),t=v(this).children().last().find("img").attr("src");e.find("img").attr("src",t),v(this).append(e)})},loaded:function(){var t,n;"secondary"===b.theme.type&&(b.$componentsLayer.find(".add-component-content").before('<div class="search-block-input-wrap">\n                        <input class="search-block-input form-control" type="text" placeholder="'+y("Search")+'" value="">\n                        <button class="btn btn-primary search-blocks-btn">Search</button>\n                    </div>'),b.$componentsLayer.on("blur",".search-block-input",function(e){b.fire("inputBlur",e.target)}),b.$componentsLayer.find(".search-blocks-btn").on("click",function(){var t=v(b.preloaderHTML).css({opacity:"0.8",transition:"0.2s"});b.$componentsLayer.find(".add-component-content").append(t),S.length?a(S,null,t):r().then(function(e){e.forEach(function(e){var t=e.blocks,o=e.themeName,r=e.local;t.forEach(function(e){var t=e.path.slice(e.path.indexOf("/")+1),n=void 0,n=r?b.getAddonDir(o).replace("web/app/","app/")+"/components/"+t+"/thumb.png":"https://my.mobirise.com/data/upload/thumbs/"+o+"/components/"+t+"/thumb.png",i=e._group+(e._searchTags?e._searchTags.toString():"")+e.path.replace("components/",""),e=e._once;S.push({name:t,thumb:n,once:e,searchTags:i,theme:o,local:r})})}),a(S,null,t)})}),b.$componentsLayer.find(".search-block-input").keypress(function(e){13===(e.keyCode||e.which)&&(e.preventDefault(),b.$componentsLayer.find(".search-blocks-btn").click())}),b.$componentsLayer.on("click",".show-more-btn",function(e){var t,n=v(b.preloaderHTML).css({opacity:"0.8",transition:"0.2s"}),i=v(e.target).closest(".show-more-btn"),o=i.find(".show-more-btn__text").text();i.hasClass("components-shown")?(i.nextAll().remove(),i.find(".show-more-btn__text").text(o.replace("Hide","More"))):(i.find(".show-more-btn__text").text(o.replace("More","Hide")),b.$componentsLayer.find(".add-component-content").append(n),t=v(e.target).closest("ul").prev().attr("data-group"),S.length?a(S,t,n):r().then(function(e){e.forEach(function(e){var t=e.blocks,o=e.themeName,r=e.local;t.forEach(function(e){var t=e.path.slice(e.path.indexOf("/")+1),n=void 0,n=r?b.getAddonDir(o).replace("web/app/","app/")+"/components/"+t+"/thumb.png":"https://my.mobirise.com/data/upload/thumbs/"+o+"/components/"+t+"/thumb.png",i=e._group+(e._searchTags?e._searchTags.toString():""),e=e._once;S.push({name:t,thumb:n,once:e,searchTags:i,theme:o,local:r})})}),a(S,t,n)})),i.toggleClass("components-shown")}),b.$componentsLayer.attr("data-theme",b.theme.name),t=v.Deferred(),n=v.Deferred(),b.getThemeAddonsEx(function(e){e=(e=e.filter(function(e){return"theme"===e.type})).map(function(e){return{name:e.name,title:e.title,isAMP:e.name.includes("amp"),local:!!e.installed,cover:e.largeCover}});t.resolve(e)},{type:"theme"},{server:!0}),t.then(function(e){e=b.isAMP()?e.filter(function(e){return e.isAMP}):e.filter(function(e){return!e.isAMP}),n.resolve(e)}),n.promise().then(function(e){b.$componentsLayer.find(".add-component-content").before('<div class="blocks-theme-btn-wrap">\n                            <a class="blocks-theme-btn" href="javascript:void(0)" data-tooltipster="left" title="Choose Blocks Theme">\n                                <img class="blocks-theme-img" src="">\n                                <span class="blocks-theme-name"></span>\n                                <span class="blocks-theme-arrow mbr-icon-angle-down"></span>\n                            </a>\n                        </div>'),(_=e).forEach(function(e){k+='<div class="col-xs-6 col-sm-6 col-md-4 col-lg-3" data-name="'+e.name+'" data-local="'+e.local+'">\n                                <div class="card-wrap">\n                                    <div class="card-img">\n                                        <img src="'+e.cover+'">\n                                    </div>\n                                    <span class="card-title">'+e.title+"</span>\n                                </div>\n                            </div>"}),b.$componentsLayer.find(".blocks-theme-btn").find(".blocks-theme-img").attr("src",f.path2app(b.getAddonDir(b.theme.name)+"/cover.jpg")).end().find(".blocks-theme-name").text(b.theme.params.title),b.$componentsLayer.find(".blocks-theme-btn").on("click",function(){b.showDialog({title:y("Choose blocks' theme"),className:"blocks-theme-modal",body:'<div class="row">\n                                        <div class="col-md-4">\n                                            <input class="form-control blocks-theme-input" type="text" placeholder="'+y("Search")+'" value="">\n                                        </div>\n                                    </div>\n                                    <div class="row">\n                                        <div class="col-md-12">\n                                            <div class="blocks-theme-list">\n                                                '+k+"\n                                            </div>\n                                        </div>\n                                    </div>",show:function(i){var t=null;i.find(".blocks-theme-input").on("input",function(e){clearTimeout(t),t=setTimeout(function(){var n=e.target.value.toLowerCase();i.find(".blocks-theme-list > div").each(function(e,t){t=v(t);t.find(".card-title").text().toLowerCase().includes(n)?t.removeClass("hidden"):t.addClass("hidden")})},100)}),i.find(".blocks-theme-list > div > .card-wrap").on("click",function(){i.modal("hide");var l,s,t,c=v(this),d=c.closest("[data-name]").attr("data-name");d!==b.$componentsLayer.attr("data-theme")&&(l=b.$componentsLayer.attr("data-theme"),b.$componentsLayer.attr("data-theme",d),(s=v(b.preloaderHTML)).css({opacity:"0.8",transition:"0.2s"}),b.$componentsLayer.find(".add-component-content").append(s),t=v.Deferred(),"false"===c.closest("[data-name]").attr("data-local")?f.http("https://my.mobirise.com/data/upload/thumbs/"+d+"/params.json?hash="+Math.random(),{success:function(e){t.resolve([e,!1])},error:function(e){console.log(e),t.reject()}}):C(d,function(t){if(t.components){var e,n,i=b.getAddonDir(d),o=v.extend({},b.components);for(e in b.components=b.Core.components={},o)o.hasOwnProperty(e)&&!o[e].alias&&delete o[e];for(n in b.cachedTemplates)b.cachedTemplates.hasOwnProperty(n)&&!o[n]&&delete b.cachedTemplates[n];var r=o,a=[];t.components.forEach(function(e){a.push(b.readComponent2(e,i,t))}),v.when.apply(null,a).then(function(){b.Core.components=b.components=v.extend(b.components,r),b.initComponentsPalette(function(){b.$componentsLayer.find(".add-component-filter").remove(),b.createComponentsFilter(),b.addComponentsFilterTab("Extension",y("Extensions"),y("Show Blocks From Extensions"))}),x=!0,b.$componentsLayer.find(".blocks-theme-btn").find(".blocks-theme-img").attr("src",c.find(".card-img img").attr("src")).end().find(".blocks-theme-name").text(c.find(".card-title").text()),s.remove()})}}),t.then(function(e){var e=u(e,2),t=e[0],n=e[1];try{var i,o=JSON.parse(t),r={};for(i in o.components){var a=o.components[i].path.split("/"),s=/components/.test(o.components[i].path)?o.components[i].path:"components/"+o.components[i].path;r[o.components[i]._group]||(r[o.components[i]._group]=[]),r[o.components[i]._group].push({name:a[a.length-1],thumb:n?b.getAddonDir(d).replace("web/app/","app/")+"/"+s+"/thumb.png":"https://my.mobirise.com/data/upload/thumbs/"+d+"/"+s+"/thumb.png",_once:o.components[i]._once||!1,_searchTags:o.components[i]._searchTags||""})}return[r,n]}catch(e){throw b.alertDlg("Can't get "+d+" theme."),b.$componentsLayer.attr("data-theme",l),console.log(e),e}}).then(function(e){var t,e=u(e,2),n=e[0],i=(e[1],""),o=b.$componentsLayer.find(".add-component-groups");for(t in o.find("> ul").empty(),n){for(var r in i=i+("<h5 data-group="+t.replace(/\s/g,"_")+">"+y(t,"blocks")+"</h5>")+'<ul class="row">',o.find("> ul").append('<li data-group-name="'+t.replace(/\s/g,"_")+'">'+t+"</li>"),n[t]){var a=n[t][r].thumb,s={"search-tags":n[t][r]._searchTags},l={"component-once":n[t][r]._once};i+=b.generateComponentPaletteItemHtml(n[t][r].name,a,"not-available",l,"",s)}i+="</ul>"}b.insertComponentPaletteHTML(i),b.$componentsLayer.find(".blocks-theme-btn").find(".blocks-theme-img").attr("src",c.find(".card-img img").attr("src")).end().find(".blocks-theme-name").text(c.find(".card-title").text())},function(){b.$body.removeClass("app-add-component-open"),b.$componentsToggleBtn.trigger("click"),b.$body.off("keyup.escListenerComponentsList")}).always(function(){b.$componentsLayer.find(".show-more-btn").length||b.$componentsLayer.find(".app-layer-cont > ul:not(.app-layer-cont-user, :empty)").filter(function(){return!v(this).prev("h5").text().toLowerCase().includes("blockpack")}).each(function(){var e=v(this).prev("h5").text(),e=v(o(e)),t=v(this).children().last().find("img").attr("src");e.find("img").attr("src",t),v(this).append(e)}),b.cleanOnceComponents(),s.remove()}))})}})})}))},sidebarOpened:function(){this.hideComponentsList()},showProjectSettings:function(){this.hideComponentsList()},updatedUserBlocks:function(){e&&(e=!1,b.$componentsLayer.find(".ext-link").insertAfter(b.$componentsLayer.find(".app-layer-cont-user")))},hideComponents:function(e){!v(".app-template").hasClass("scaled")||e&&v(e.target).is("iframe")||n()},clickTemplate:function(e){v(".app-template").hasClass("scaled")&&(v(".app-template").removeClass("scaled"),b.Core.$body.removeClass("scaled"),b.Core.$template.removeClass("scaled"),(e=v(e.target).is("[data-app-component-id]")?v(e.target):v(e.target).closest("[data-app-component-id]")).length)&&(e=e.offset().top,b.Core.$body.closest("html").stop().animate({scrollTop:e},0))}}})},["jQuery","mbrApp","TR()","Bridge"])},function(e,t,n){"use strict";var f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};defineM("app-component-params",function(M,B,N,E){function A(e){e=e.match(/^data:([A-Za-z-+\/]+);base64,(.+)$/);return 3!==e.length?(console.error("Invalid base64 image string"),null):e[2]}function L(e){var t,n=/\-\d+x\d+$/,e=E.splitPath(e),i=e.name;return t=(t=i.match(n))&&t[0]||"",30<(i=(i=i.replace(n,"")).replace(/\-h_[a-z0-9]+$/,"")).length&&(i=i.substring(0,29)),e.dir+"/"+i+"-h_"+Date.now().toString(36)+t+"."+e.ext}function $(n){return new Promise(function(i,o){var e=document.createElement("canvas");e.width=n.naturalWidth,e.height=n.naturalHeight,document.getElementsByTagName("body")[0].appendChild(e);e.getContext("2d").drawImage(n,0,0);var t=e.toDataURL("image/jpeg"),e=(e.remove(),function(e,t){t=t||"";for(var n=window.atob(e.replace("data:image/jpeg;base64,","")),i=[],o=0;o<n.length;o+=512){for(var r=n.slice(o,o+512),a=new Array(r.length),s=0;s<r.length;s++)a[s]=r.charCodeAt(s);var l=new Uint8Array(a);i.push(l)}return new Blob(i,{type:t})}(t,"image/jpeg"));E.transformImage(e,{quality:60,width:800},function(n){E.loadLocalBlob(n,function(e){E.removeLocal(n);var t=new FileReader;t.readAsDataURL(e),t.onload=function(){i(t.result||"")},t.onerror=function(e){o(e)}})})})}B.regExtension({name:"component-params",global:{$componentsParams:M("#edit-component-params"),prepareComponentParams:function(e,t){var n=this.Core.getComponentParams(e),i=this.Core.getComponent(e),o=!n||!n.default||M.isEmptyObject(n.default);if(this.applyFilter("preventParamsShow",o,e))return!1;this.fire("prepareComponentParams",e),this.Core.focusComponentBlock(e);var r,a="";for(r in n.default){var s=n.default[r],l=n.current[r],c="",d="",u="",p="";switch(s.halfWidth&&(p+=" half-width"),s.inline&&(p+=" inline-param"),void 0!==s.condition&&(c='data-app-condition="'+JSON.stringify(s.condition).replace(/\"/g,"'")+'"'),void 0!==s.regexp&&(d='data-app-regexp="'+s.regexp+'"'),void 0!==s.regexpError&&(u='<small class="regexp-error text-warning" style="display: none;">'+s.regexpError+"</small>"),s.type){case"separator":a+=['<div class="separator '+p+'" '+c+">",N(s.title,B.theme.name)||"","</div>"].join("");break;case"label":a+=['<div class="'+p+'" '+c+">",N(s.title,B.theme.name)||"","</div>"].join("");break;case"text":a+=['<div class="form-group '+p+'" '+c+" "+d+">","<label>"+N(s.title,B.theme.name)+"</label>",'<input name="'+r+'" type="text" class="form-control" value="'+l+'">',u,"</div>"].join("");break;case"textarea":a+=['<div class="form-group '+p+'" '+c+" "+d+">","<label>"+N(s.title,B.theme.name)+"</label>",'<textarea name="'+r+'" class="form-control">'+l+"</textarea>",u,"</div>"].join("");break;case"switch-off":l=!l;case"switch":a+=['<div class="togglebutton '+p+'" '+c+">",'<label style="width: 100%;">','<input type="checkbox" name="'+r+'" '+(l?"checked":"")+">",'<span class="toggle pull-right" style="margin-top: 3px;"></span>',N(s.title,B.theme.name),"</label>","</div>"].join("");break;case"radio":a+=['<div class="radio radio-primary '+p+'" '+c+"><label>",'<input name="'+(s.name||r)+'" data-name="'+r+'" type="radio" '+(l?"checked":"")+' value="'+r+'">','<span class="circle"></span>','<span class="check"></span>',N(s.title,B.theme.name),"</label></div>"].join("");break;case"check":for(var f in a=(a+='<div class="check '+p+'" '+c+">")+('<span class="label">'+N(s.title,B.theme.name)+"</span><br>"),s.values){var h=0;for(_ in l)l[_]==f&&(h=1);a+=['<input type="checkbox" id="'+r+f+'" value="'+f+'" name="'+r+'" '+(h?"checked":"")+">",'<label for="'+r+f+'">'+s.values[f]+"</label><br>"].join("")}a+="</div>";break;case"select":for(var m in a=(a=(a+='<div class="select '+p+'" '+c+">")+("<label>"+N(s.title,B.theme.name)+"</label>"))+('<select class="form-control" name="'+r+'"'+(s.multiple?" multiple":"")+">"),s.values)if(s.multiple){var g=!1;if(l&&l.length)for(var v=0;v<l.length;v++)if(l[v]===m){g=!0;break}a+='<option value="'+m+'"'+(g?" selected":"")+">"+s.values[m]+"</option>"}else a+='<option value="'+m+'" '+(l==m?"selected":"")+">"+s.values[m]+"</option>";a=a+"</select>"+"</div>";break;case"fonts":var a=(a+='<div class="fonts '+p+'" '+c+">")+("<label>"+N(s.title,B.theme.name)+"</label>"),l=l||{},b=B.getAccesibleFonts();for(f in a+='<select class="form-control" name="'+r+'">',b){var y=b[f];a+='<option value="'+y.name+'" '+((l||{}).name==y.name?"selected":"")+'><span style="font-family:'+y.css+'">'+y.name+"</span></option>"}a=a+"</select>"+"</div>";break;case"color":a+=['<div class="color '+p+'" '+c+">","<label>"+N(s.title,B.theme.name)+"</label>",'<input type="text" class="spectrum" name="'+r+'" value="'+l+'">',"</div>"].join("");break;case"range":a+=['<div class="range form-group'+(p?" "+p:"")+'"'+(c?" "+c:"")+">","<label>"+N(s.title,B.theme.name)+"</label>",'<div class="slider" data-min="'+(s.min||0)+'" data-max="'+(s.max||50)+'" data-step="'+(s.step||1)+'" name="'+r+'" data-value="'+(l||0)+'"></div>','<input type="text" name="'+r+'" style="display: none;" value="'+(l||0)+'">',"</div>"].join("");break;case"image-tabs":var w="",x="";for(f in l)if("function"!=typeof l[f]){var _,k=l[f].active;for(_ in w+='<li class="'+(k?"active":"")+'" style="background-image: url(\''+l[f].image+'\')"><span class="sort-handle mbr-icon-exchange"></span></li>',x+='<div class="tab-params'+(k?" active":"")+'">',s._params){var S=s._params[_].type,C=s._params[_].title,P=s._params[_].values,T=l[f][_],j="";switch(void 0!==s._params[_].condition&&(j='data-app-condition="'+JSON.stringify(s._params[_].condition).replace(/\"/g,"'")+'"'),S){case"switch-off":T=!T;case"switch":x+=['<div class="togglebutton" '+j+">",'<label style="width: 100%;">','<input type="checkbox" data-type="switch" data-name="'+_+'" name="'+r+'" '+(T?"checked":"")+">",'<span class="toggle pull-right" style="margin-top: 3px;"></span>',C,"</label>","</div>"].join("");break;case"text":x+=['<div class="form-group" '+j+">","<label>"+C+"</label>",'<input data-name="'+_+'" name="'+r+'" type="text" data-type="text" class="form-control" value="'+T+'">',"</div>"].join("");break;case"range":x+=['<div class="range form-group" '+j+">","<label>"+C+"</label>",'<div class="slider" data-min="'+(s._params[_].min||0)+'" data-max="'+(s._params[_].max||1)+'" data-step="'+(s._params[_].step||.1)+'" name="'+r+'" data-value="'+(T||s._params[_].default||.5)+'"></div>','<input type="text"  data-type="range" data-name="'+_+'" name="'+r+'" style="display: none;" value="'+(T||0)+'">',"</div>"].join("");break;case"color":x+=['<div class="color" '+j+">","<label>"+C+"</label>",'<input type="text" data-type="color" class="spectrum" data-name="'+_+'" name="'+r+'" value="'+(T||s._params[_].default)+'">',"</div>"].join("");break;case"select":var E,A="";for(E in P)A+='<option value="'+E+'" '+(T==E?"selected":"")+">"+P[E]+"</option>";x+=['<div class="select" '+j+">","<label>"+C+"</label>",'<select class="form-control" data-type="select" data-name="'+_+'" name="'+r+'">',A,"</select>","</div>"].join("");break;case"image":var L=l[f].thumb||T;x+=['<div class="image" '+j+">","<label>"+C+"</label>",O=(O='<img data-type="image" data-name="'+_+'" name="'+r+'" '+(l[f].thumb?'data-thumb-img="thumb"':"")+' style="width: 50%; margin-bottom: 5px; cursor: pointer; float: right;" src="$SRC$" alt="">').replace(/\$SRC\$/g,L),"</div>"].join("")}}x+="</div>"}a+=['<div class="image-tabs '+p+'" data-name="'+r+'" '+c+">","<label>"+N(s.title,B.theme.name)+"</label>",'<div class="images">','<div class="add-item btn btn-primary"><i class="mbr-icon-plus"></i></div>',"<ul>",w,'<li class="add-item btn btn-primary"><i class="mbr-icon-plus"></i></li>',"</ul></div>",'<div class="cont">'+x+"</div>",'<div class="foot"><div class="remove-item btn btn-material-red"><i class="mbr-icon-trash"></i> '+N("Remove")+"</div></div>","</div>"].join("");break;case"image":var $,O='<img class="background-thumb" data-type="image" data-name="'+_+'" name="'+r+'" src="$SRC$" alt="">';l&&($=l),$=this.applyFilter("getExternalThumb",$,l),O=O.replace(/\$SRC\$/g,$),a+=['<div class="image" '+c+">",'<span class="label">'+N(s.title,B.theme.name)+"</span>",O,"</div>"].join("");break;case"video":var I=(void 0!==l.url?l:s.default).url,D=((void 0!==l.aspectratio?l:s.default).aspectratio,(void 0!==l.autoplay?l:s.default).autoplay),F=(void 0!==l.loop?l:s.default).loop;a=(a+='<div class="video" '+c+">")+['<div class="form-group">',"<label>"+N(s.title,B.theme.name)+"</label>",'<input name="'+r+'" data-name="url" type="text" class="form-control" value="'+I+'">',"</div>"].join(""),void 0!==D&&(a+=['<div class="togglebutton">','<label style="width: 100%;">','<input type="checkbox" data-name="autoplay" name="'+r+'" '+(D?"checked":"")+">",'<span class="toggle pull-right" style="margin-top: 3px;"></span>',"Autoplay","</label>","</div>"].join("")),void 0!==F&&(a+=['<div class="togglebutton">','<label style="width: 100%;">','<input type="checkbox" data-name="loop" name="'+r+'" '+(F?"checked":"")+">",'<span class="toggle pull-right" style="margin-top: 3px;"></span>',"Loop","</label>","</div>"].join("")),a+="</div>";break;case"map":a+=['<div class="form-group '+p+'" '+c+">","<label>"+N(s.title,B.theme.name)+"</label>",'<textarea name="'+r+'" class="form-control">'+B.escapeHtml(l.address)+"</textarea>",'<div class="map-update-wrapper" style="text-align: right"><span style="font-size: 14px; display: block; text-align: right; padding-top: 7px">'+N("Type address or insert")+' <a href="https://mobirise.com/help/how-to-add-google-map-to-website-781.html" target="_blank">'+N("google map iframe")+'</a></span><button class="btn btn-primary map-update" disabled>'+N("Update")+"</button></div>","</div>"].join("")}}a=this.applyFilter("prepareComponentParams",a,e),this.destroyDragParams(),this.$componentsParams.attr("data-component-id",e),this.$componentsParams.find("> .cont").html(a),this.$componentsParams.find(".fonts select").dropdown({absolutePos:!0,align:"right"}),this.$componentsParams.find(".fonts .dropdownjs").each(function(){var e=M(this).data("select"),e=M(e.data("dropdownjs-ul"));e.find("li").each(function(){var e=B.getFont(M(this).attr("value"));M(this).css("font-family",e.css)}),e.addClass("fonts-dropdownjs")}),this.$componentsParams.find("select").dropdown({absolutePos:!0,align:"right"});o=this.Core.$template.find("[data-app-component-id="+e+"] .app-component-content > *");return this.fire("preparedComponentParams",e,i,o),this.initDragParams(e),this.checkConditionsComponentParams(e),"function"==typeof i._onParamsShow&&t&&i._onParamsShow(t,this.$componentsParams.find("> .cont"),this.Core.$template.find("[data-app-component-id="+e+"] .app-component-content > *")),!0},calulateComponentParams:function(){var e,t,n,i,o,r,a,s=this.$componentsParams.data("app-params-btn");s&&(e=[150,550],t=this.$componentsParams.find("> .cont").scrollTop(),this.$componentsParams.find("> .cont").css({maxHeight:""}),r=this.$componentsParams.height(),a=!1,n=(this.appElements.window.height-this.appElements.iframe.height)/2-30,s=s.getBoundingClientRect(),i=this.appElements.window.height-this.appElements.iframe.height+s.top+s.height-parseInt(n),o=(this.appElements.window.width-this.appElements.iframe.width)/2+this.appElements.iframe.width-s.right,this.$componentsParams.removeClass("top"),i+60+r>=this.appElements.window.height&&((r=i-r-s.height)<this.appElements.window.height-this.appElements.iframe.height-parseInt(n)?(s=this.appElements.window.height-i-30,a=Math.min(e[1],Math.max(e[0],s))):(i=r,this.$componentsParams.addClass("top"))),this.$componentsParams.css({top:i,right:o}),this.$componentsParams.find("> .cont").css({maxHeight:a||""}).scrollTop(t),this.$componentsParams.find("select").each(function(){M(this).data("dropdownjs-ul")&&!M(this).is("[multiple]")&&M(M(this).removeClass("focus").data("dropdownjs-ul")).removeClass("focus")}))},showComponentParams:function(e,t){this.$componentsParams.data("app-params-btn",e),this.calulateComponentParams();var n=B.Core.getComponent(t),i=B.Core.$body.find("[data-app-component-id="+t+"]");setTimeout(function(){B.$body.addClass("app-component-params-open"),this.fire("showedComponentParams",n,i)}.apply(this),0)},hideComponentParams:function(){this.fire("hideComponentParams"),this.$componentsParams.removeData("app-params-btn"),this.$body.removeClass("app-component-params-open"),this.fire("hiddenComponentParams"),this.$componentsParams.find("select").each(function(){M(this).data("dropdownjs-ul")&&M(M(this).removeClass("focus").data("dropdownjs-ul")).remove()})},changeComponentParams:function(o){this.fire("changeComponentParams");var e,t,r=M(o).parents("[data-component-id]:eq(0)").attr("data-component-id"),n=this.Core.getComponentParams(r),a=M(o).attr("name"),i=(a&&n.default[a]||(a=M(o).attr("data-name")),n.default[a].type),s=this,l=!!(t=M(o).parents("[data-app-regexp]").attr("data-app-regexp"))&&(e=t.replace(/.*\/([gimy]*)$/,"$1"),t=t.replace(new RegExp("^/(.*?)/"+e+"$"),"$1"),new RegExp(t,e)),c=M(o).parent().children(".regexp-error");switch(i){case"text":case"textarea":u=o.value,l&&(u.match(l)?c.hide():(u="",c.show()));break;case"switch-off":u=!o.checked;break;case"switch":u=o.checked;break;case"radio":M(o).parents("#edit-component-params:eq(0)").find("[name="+M(o).attr("name")+"][data-name!="+a+"]").each(function(){s.Core.changeComponentParams(r,M(this).attr("data-name"),this.checked)}),u=o.checked;break;case"check":var d=M(o).parent().find("[name="+a+"]:checked"),u=[];d.each(function(){u.push(this.value)});break;case"select":u=M(o).val();break;case"fonts":d=M(o).val();d?(u=B.getFont(d)).name||console.log("Error: unknown font selected:"+d):u={};break;case"image":var p={image:{width:2e3,quality:70,src:n.current[a]}};return void B.showMediaImageDialog(p,function(){s.Core.changeComponentParams(r,a,p.image.src),s.checkConditionsComponentParams(r)},!1,!0);case"color":case"range":u=M(o).val();break;case"video":var d=M(o).parents(".video:eq(0)"),f=d.find("[data-name=url]").val(),h=d.find("[data-name=aspectratio]").val(),m=f,g=(g=d.find("[data-name=loop]")).length?g.is(":checked"):void 0,d=(d=d.find("[data-name=autoplay]")).length?d.is(":checked"):void 0,v=f.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*).*/),b=v?11==v["embed/"==v[2]?3:2].length:0,y=f.match(/https?:\/\/(?:www\.)?vimeo.com\/(?:channels\/(?:\w+\/)?|groups\/([^\/]*)\/videos\/|album\/(\d+)\/video\/|)(\d+)(?:$|\/|\?)/);v&&b?f="https://www.youtube.com/embed/"+v[2]+"?rel=0&amp;"+(d?"mute=1":"")+"&showinfo=0&autoplay="+(d?1:0)+"&loop="+(g?"1&playlist="+v[2]:0):y&&y[3]&&(f="https://player.vimeo.com/video/"+y[3]+"?autoplay="+(d?1:0)+"&loop="+(g?1:0)),(u={}).url=f,u.loop=g,u.rawUrl=m,u.autoplay=d,u.aspectratio=h,u.width="4:3"==h?800:1280,u.height="4:3"==h?600:720;break;case"map":return void this.fire("map.changeComponentParams",r,a,o.value,M(o).closest(".form-group"));case"image-tabs":u=[];var w=M(o).closest(".tab-params").index(),x=M(o).attr("data-name");switch(u[w]={},M(o).attr("data-type")){case"switch":u[w][x]=o.checked;break;case"select":case"text":case"range":case"color":u[w][x]=o.value;break;case"image":var _=M(o).attr("data-thumb-img"),k={image:{width:2e3,quality:70,src:n.current[a][w][x]}},S="carousel"===n.default[a].subtype&&!!n.default[a].fullscreen,C="carousel"===n.default[a].subtype,P=n.default[a].fullscreen,T=B.Core.getComponentBlock(r),j=void 0,j=C?P?M(T).find(".carousel-item").eq(w):M(T).find(".carousel-item").eq(w).find("img:visible"):M(T).find(".mbr-gallery-item").eq(w).find("img:visible");return S||(k.image.alt=n.current[a][w].alt,k.image.title=n.current[a][w].title),void B.showMediaImageDialog(k,function(){function i(e){M(o).parent().find("> img").attr("src",e),M(o).parents(".image-tabs:eq(0)").find(".images li.active").css("background-image",'url("'+e+'")'),s.Core.changeComponentParams(r,a,u),s.checkConditionsComponentParams(r),s.calulateComponentParams(),j.siblings(".m-img-preloader").remove()}var e,t=j.width(),n=j.height();j.before('<div class="m-img-preloader" style="width:'+t+"px; height:"+n+'px;">\n                                            '+B.preloaderHTML+"\n                                        <div>"),u[w][x]=k.image.src,S||(u[w].alt=k.image.alt,u[w].title=k.image.title),_?/(gif|svg|ico|tif|webp)$/i.test(k.image.src)||(e=M("<img/>")).attr("src",k.image.src).attr("crossorigin","anonymous").on("load",function(){$(e[0]).then(function(e){var t=k.image.src.match(/[^\/?=&]+\.(?:jpg|jpeg|png)/)[0],n=L(B.projectPath+"/assets/images/"+t.replace(/\.jpeg$/,".jpg"));E.saveLocalBase64(n,A(e),function(e){e?(console.log("saveLocalBase64"),u[w][_]=E.path2app(n),i(E.path2app(n))):(console.warn("Unable to get thumb"),i(k.image.src))})})}):i(k.image.src)},S,!0,!1,r,!1,j)}}this.Core.changeComponentParams(r,a,u),this.checkConditionsComponentParams(r),this.calulateComponentParams(),this.fire("changedComponentParams")},checkConditionsComponentParams:function(e){var d=this.Core.getComponentParams(e),u=this.Core.getComponent(e);this.$componentsParams.find("[data-app-condition]").each(function(){var e=JSON.parse(M(this).attr("data-app-condition").replace(/\'/g,'"')),t=!0;if("string"==typeof e&&"function"==typeof u[e])t=u[e]();else if("object"==(void 0===e?"undefined":f(e))&&e.length)for(var n in e){for(var i=e[n].match(/^!/i),o=e[n].replace(/^!(.*?)/i,"$1").split("."),r=d.current,a=d.default,s=0;s<o.length&&void 0!==r;s++)if(r=r[o[s]],M.isArray(r)){for(var l=-1,c=0;c<r.length;c++)if(r[c].active){l=c;break}r=r[l],a=a[o[s]]&&a[o[s]]._params}else a=a[o[s]]&&a[o[s]].default;if(void 0!==(r=void 0===r?a:r)){n=!r;if(n=i?!n:n){t=!1;break}}}t?M(this).show():M(this).hide()})},initDragParams:function(s){var l=this;l.$componentsParams.find(".image-tabs .images > ul").each(function(){var a;M(this).sortable({axis:"x",items:"> li:not(:last-child)",handle:".sort-handle",containment:"#edit-component-params",placeholder:"ui-sortable-placeholder"}).on("sortstart",function(e,t){a=t.item.index()}).on("sortstop",function(e,t){var n=t.item.index();if(n!=a){var i=n<a?"insertBefore":"insertAfter",i=(l.$componentsParams.find(".image-tabs .cont > div:eq("+a+")")[i](l.$componentsParams.find(".image-tabs .cont > div:eq("+n+")")),t.item.parents("[data-name]:eq(0)").attr("data-name")),o=l.Core.getComponentParams(s,!0).current[i];if(n>=o.length)for(var r=n-o.length;1+r--;)o.push(void 0);o.splice(n,0,o.splice(a,1)[0]),B.Core.$document.trigger("change.cards"),B.Core.changeComponentParams(s)}})})},destroyDragParams:function(){this.$componentsParams.find(".image-tabs .images > ul").each(function(){M(this).sortable("destroy")})},selectComponentParamsTab:function(e,t){var n=e.index(),i=e.parents(".image-tabs:eq(0)").find(".cont > div:eq("+n+")"),o=e.parent().find("> .active"),r=e.parents("[data-component-id]:eq(0)").attr("data-component-id"),a=e.parents(".image-tabs:eq(0)").attr("data-name"),a=this.Core.getComponentParams(r,!0).current[a];o.length&&(a[o.index()].active=!1),a[n].active=!0,e.addClass("active").siblings().removeClass("active"),i.addClass("active").siblings().removeClass("active"),this.checkConditionsComponentParams(r)},addComponentParamsTab:function(e,t){var n=e.parent(),i=e.parents("[data-component-id]:eq(0)").attr("data-component-id"),e=e.parents(".image-tabs:eq(0)").attr("data-name"),d=this.Core.getComponentParams(i,!0).current[e],o=M(t.target).closest(".image-tabs").find("> div > ul").children().length-1,r=[],u=n.find("> .active").index(),p=void 0!==d[u].thumb,a=0<=B.Core.getComponent(i)._name.toLowerCase().indexOf("slider"),e={image:{width:2e3,quality:70,src:d[u].image}};a||(e.image.alt="",e.image.title=""),B.showMediaImageDialog(e,function(s){var l=0;function c(){B.Core.changeComponentParams(i),B.Core.fire("addComponentParamsTab",i)}function t(a,n){return new Promise(function(i,e){function o(){var e=M.extend(!0,{},d[u],a);e.active=!1,d.push(e),void 0!==n&&n+1!==s.length||c(),1<s.length?(l++,B.progressBar("show",N("Loading images"),"  ",!0),B.progressBar(l+" / "+s.length,!0),B.progressBar({progress:100/s.length*l},"","",!0),l===s.length&&(B.progressBar("hide"),B.hidePreloader())):B.hidePreloader()}if(!p)return o(),i();var t,r=s[n]||s.image.src;/(gif|svg|ico|tif|webp)$/i.test(r)?(a.thumb=r,o(),i()):(t=M("<img/>")).attr("src",r).attr("crossorigin","anonymous").on("load",function(){$(t[0]).then(function(e){var t=r.match(/[^\/?=&]+\.(?:jpg|jpeg|png)/)[0],n=L(B.projectPath+"/assets/images/"+t.replace(/\.jpeg$/,".jpg"));E.saveLocalBase64(n,A(e),function(e){e?(a.thumb=E.path2app(n),o()):console.warn("Unable to get thumb"),i()})})})})}var n=Promise.resolve();if("object"!==(void 0===s?"undefined":f(s))||Array.isArray(s))for(var e=0;e<s.length;e++)!function(e){r[o+e]={},r[o+e].image=s[e],a||(r[o+e].alt="",r[o+e].title=""),n=n.then(function(){return t(r[o+e],e)})}(e);else r[o]={},r[o].image=s.image.src,a||(r[o].alt="",r[o].title=""),[].push(t(r[o]))},a,!0,!0)},removeComponentParamsTab:function(e,t){var n,i,o,r=e.parents(".image-tabs:eq(0)").find(".images > ul"),a=e.parents(".image-tabs:eq(0)").find(".cont");r.find("> li:not(.add-item)").length<=1||(n=e.parents("[data-component-id]:eq(0)").attr("data-component-id"),e=e.parents(".image-tabs:eq(0)").attr("data-name"),i=r.find("> .active").index(),e=this.Core.getComponentParams(n,!0).current[e],o=r.find("> li:eq("+(0<=i-1?i-1:i+1)+"):not(.add-item)"),e.splice(i,1),r.find("> li:eq("+i+")").remove(),a.find("> div:eq("+i+")").remove(),this.Core.changeComponentParams(n),o.click())}},events:{load:function(){var n,o=this;o.$template.on("click",".app-component .component-params",function(e){e.preventDefault();var t=M(this).parents("[data-app-component-id]:eq(0)").attr("data-app-component-id");o.$componentsParams.attr("data-component-id")==t&&o.$body.hasClass("app-component-params-open")?(o.Core.focusComponentBlock("x"),o.hideComponentParams()):o.prepareComponentParams(t,e)&&o.showComponentParams(e.target,t)}),o.$template.on("click",".app-component .component-remove",function(){var i=M(this).parents("[data-app-component-id]:eq(0)").attr("data-app-component-id");o.fire("removeComponent",i),E.getSettings("dontShowRemoveBlockModal",function(e){function t(){o.Core.getComponent(i)._global&&1<Object.keys(o.Core.resultJSON).length?o.confirmDlg(N("This block is global. Do you want to remove it from all pages?"),function(e){e?o.Core.removeComponent(i,B.Core.currentPage,!0):o.Core.removeComponent(i)}):o.Core.removeComponent(i),o.fire("removedComponent",i)}if("true"!==e){if(M("#modal-exist").length)return;var n=B.showDialog({id:"modal-exist",body:['<div class="form-group">',N("Do you want to remove the $ID$ block?").replace("$ID$","<b>#"+o.$template.find('div[data-app-component-id="'+i+'"] .app-component-content > *').attr("id")+"</b>")+"</div>",'<div class="dont-show-more clearfix">','   <div class="togglebutton">','       <label style="width: 100%;">','           <input type="checkbox" id="dont-show-again">','           <span class="toggle" style="margin-top: -6px;"></span>',N("Don't show again"),"       </label>","   </div>","</div>"].join("\n"),buttons:{cancel:{label:N("Cancel"),className:"btn-default"},success:{label:N("Ok"),className:"btn-primary",callback:function(){var e=n.find("#dont-show-again")[0].checked;E.setSettings("dontShowRemoveBlockModal",e),t()}}}})}else t()})}),o.$template.on("click",".app-component .component-clone",function(e){e.preventDefault();e=M(this).parents("[data-app-component-id]:eq(0)").attr("data-app-component-id");o.Core.cloneAndInsertComponent(e)}),o.$template.on("mousedown touchstart",".app-component .app-component-content",function(e){n=M(this).parents("[data-app-component-id]:eq(0)").find("[contenteditable]:focus").length}),o.$template.on("click",".app-component .app-component-content",function(e){e.preventDefault();var t=M(this).parents("[data-app-component-id]:eq(0)");n?n=void 0:(t=t.attr("data-app-component-id"),o.$body.hasClass("app-component-params-open")?(o.Core.focusComponentBlock("x"),o.hideComponentParams()):(o.Core.focusComponentBlock(t),M(e.target).is("img[data-app-edit], .mbr-nav-toggle, [data-app-prevent-settings]")||M(e.target).parents(".mbr-google-map:eq(0)").length||M(e.target).parents("[data-app-prevent-settings]:eq(0)").length||o.fire("componentClicked",t,e)))}),o.$template.on("scroll",function(){o.calulateComponentParams()}),o.$componentsParams.on("change input","input, textarea, select",function(){o.changeComponentParams(this)}),o.$componentsParams.on("click",".image .btn, .image img",function(){o.changeComponentParams(this)}),o.$componentsParams.on("click",".image-tabs .images > ul > li:not(.add-item, .active)",function(e){o.selectComponentParamsTab(M(this),e)}),o.$componentsParams.on("click",".image-tabs .images > ul > li.add-item",function(e){o.addComponentParamsTab(M(this),e)}),o.$componentsParams.on("click",".image-tabs .images >div.add-item",function(e){o.addComponentParamsTab(M(this).parent().find("li.add-item"),e)}),o.$componentsParams.on("click",".image-tabs .foot .remove-item",function(e){o.removeComponentParamsTab(M(this),e)}),o.$template.on("mousedown touchstart",".app-component .sortable",function(){o.hideComponentParams()}),o.Core.on(["showedPopover"],function(){o.hideComponentParams()}),B.on(["showedPopup"],function(){o.hideComponentParams()}),o.Core.addFilter("prepareComponent",function(e){return N(e)}),o.Core.addFilter("changeComponentParams",function(e,t,n,i){return B.applyFilter("changeComponentParams",e,t,n,i)})},resizeTemplate:function(){this.calulateComponentParams(),this.hideComponentParams()},toggleComponents:function(){this.Core.focusComponentBlock("x"),this.hideComponentParams()},removeComponent:function(){this.hideComponentParams()},sidebarOpened:function(){this.Core.focusComponentBlock("x"),this.hideComponentParams()},openThemeSettings:function(){this.Core.focusComponentBlock("x"),this.hideComponentParams()},showPublishModal:function(){this.Core.focusComponentBlock("x"),this.hideComponentParams()}}})},["jQuery","mbrApp","TR()","Bridge"])},function(e,t,n){"use strict";var I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};defineM("app-theme-settings",function(u,c,d,n){var e="app-theme-settings-open",t="app-theme-settings-toggle-visible",i="#theme-settings",o=".app-theme-settings-toggle",s={};function r(e,t){var n,i;function o(){(n=!!i)&&(e.apply(i.this,i.args),i=null,setTimeout(o,t))}return function(){i={this:this,args:arguments},n||o()}}l="."+(a="settings.toggle"),p=!1,f=[],m.prototype.setTarget=function(e){return this.target=e,this},m.prototype.open=function(){return this.target&&(this.$elm.tooltipster("hide").tooltipster("content",d("Close")),this.target.open()),this},m.prototype.close=function(){return this.target&&(this.$elm.tooltipster("hide").tooltipster("content",this.$elm.data("tooltipster-initialTitle")),this.target.close(),"true"!==c.appSettings.showSiteStylesBtn)&&c.$themeToggleBtn.css("visibility","hidden"),this},m.prototype.onClick=function(){this.target&&(this.target.isOpen()?this.close():this.open())},m.prototype.show=function(){return this.$elm.addClass(t),this},m.prototype.hide=function(){return this.$elm.removeClass(t),this},m.closeAll=function(){f.forEach(function(e){e.close()})};var a,l,p,f,h=m;function m(e){if(p||(p=!0,u(c.iframe).on("click"+l,m.closeAll),c.on("sidebarOpened",m.closeAll),c.on("toggleComponents",m.closeAll),c.on("clickBody",function(e){if(!u(e.target).closest(".dropdownjs-ul").length){for(var t=u(e.target).parents().add(e.target),n=0;n<f.length;n++){var i=f[n],o=i.target&&i.target.getElm();if(i.$elm.filter(t).length)return;if(o&&(o.filter?o:u(o)).filter(t).length)return}m.closeAll()}})),!(e=e||{}).selector)throw new Error("Unknown selector! For example: new Toggle({selector: '.btn-toggle'}).");this.$elm=u(e.selector),e.target&&(this.target=e.target),e.visible&&this.show();var e=this.$elm.data(a);e?(e=f.indexOf(e),f[0<=e?e:f.length]=this):f.push(this),this.$elm.data(a,this),this.$elm.off("click"+l).on("click"+l,u.proxy(this.onClick,this))}b="."+(v="settings.sidebar"),c.on("sidebarOpened",function(){g&&u(g).spectrum("hide")}),_.prototype.isOpen=function(){return c.$body.hasClass(this.classNameOpen)},_.prototype.open=function(){var n=this;return this.callbacks.open&&this.callbacks.open(),c.$body.addClass(this.classNameOpen),w.call(this),c.$body.on("keyup.escListenerThemeSettings",function(e){var t=c.$body;"Escape"===e.key&&t.hasClass("app-theme-settings-open")&&!t.hasClass("app-site-code-editor-open")&&(n.close(),e.stopPropagation())}),this},_.prototype.close=function(){return c.$body.removeClass(this.classNameOpen),c.$body.off("keyup.escListenerThemeSettings"),this},_.prototype.getElm=function(){return this.$elm};var g,v,b,y=_;function w(){function n(e,t){return-1==(t=t.map(function(e){return e.toUpperCase()})).indexOf(e.toUpperCase())}this.$elm.find('[data-setting-type^="color"] input').spectrum("destroy").spectrum({showButtons:!1,preferredFormat:"hex",showInput:!0,showPaletteOnly:!0,togglePaletteOnly:!0,togglePaletteMoreText:d("More")+" >",togglePaletteLessText:d("Less")+" <",maxSelectionSize:1,palette:c.getThemeColorsSet(7),show:function(){g=this},move:function(e){u(this).val(e.toHexString()).trigger("change"+b)},hide:function(e){var t;e&&((t=c.projectSettings.theme.additionalSetColors)?n(e.toHexString(),t)&&n(e.toHexString(),c.getThemeColorsSet(7)[0])&&(t.length<7?t.push(e.toHexString()):(t.unshift(e.toHexString()),t.pop())):n(e.toHexString(),c.getThemeColorsSet(7)[0])?c.projectSettings.theme.additionalSetColors=[e.toHexString()]:c.projectSettings.theme.additionalSetColors=[])}})}function x(){var t="",l=this.settings;this.$elm.find('[data-setting-type^="color"] input').spectrum("destroy"),l.getSource().forEach(function(e){t+=function e(t){var n="";t.title=t.title&&d(t.title);switch(t.type){case"title":n+='<h4 class="app-layer-title">'+F(t.title)+"</h4>";break;case"subtitle":n+='<h5 class="app-layer-subtitle">'+F(t.title)+"</h5>";break;case"color":n+='<div class="app-layer-color" data-setting-name="'+t.var+'" data-setting-type="color"><label>'+F(t.title)+'</label><input class="mbr-color" type="text" value="'+F(l.get(t.var))+'"></div>';break;case"group":for(var i in n+='<div class="app-layer-group'+(t.class?" app-layer-group-"+t.class:"")+'" data-group-name="'+(t.name||"")+'">',t.title&&(n+="<label>"+F(t.title)+"</label>"),t.set)n+=e(t.set[i]);n+="</div>";break;case"colors":for(var i in n+='<div class="app-layer-color" data-setting-type="colors"><label>'+F(t.title)+'</label><div class="app-layer-color-set">',t.set){var o=t.set[i].var;n+='<input type="text" class="mbr-color" name="'+o+'" value="'+F(l.get(o))+'"> '}n+="</div></div>";break;case"font":var r=c.getAccesibleFonts(),a=l.get(t.var);for(i in n+='<div class="app-layer-font fonts dropdownjs-add" data-setting-name="'+t.var+'" data-setting-type="font">',t.title&&(n+="<label>"+F(t.title)+"</label>"),n+='<select class="form-control">',r){var s=r[i];n+='<option value="'+s.name+'"'+(s.name==a?" selected":"")+">"+s.name+"</option>"}n+="</select></div>";break;case"range":a=l.get(t.var);n+='<div class="app-layer-range" data-setting-type="range" data-setting-name="'+t.var+'">'+(t.title?"<label>"+F(t.title)+"</label>":"")+'<input type="text" class="form-control" name="'+t.var+'"  data-min="'+(t.min||0)+'" data-max="'+(t.max||100)+'" data-step="'+(t.step||1)+'" value="'+(a||0)+'"></div>';break;case"select":a=l.get(t.var);for(i in n+='<div class="app-layer-select dropdownjs-add" data-setting-name="'+t.var+'" data-setting-type="select">',t.title&&(n+="<label>"+F(t.title)+"</label>"),n+='<select class="form-control">',t.values)n+='<option value="'+t.values[i]+'"'+(t.values[i]==a?" selected":"")+">"+F(t.values[i])+"</option>";n+="</select></div>";break;case"switch":n+='<div class="app-layer-checkbox togglebutton" data-setting-name="'+t.var+'" data-setting-type="switch"><label><input type="checkbox"'+(l.get(t.var)?" checked":"")+'><span class="toggle pull-right"></span>'+F(t.title)+"</label></div>"}n&&t.groupName&&(n='<div data-group-name="'+F(t.groupName)+'">'+n+"</div>");return n}(e)}),this.$elm.find(".app-layer-cont").html(t),this.$elm.off("change"+b).on("change"+b,"input, select",function(e){var t=u(this),n=t.closest("[data-setting-type]"),i=n.attr("data-setting-name"),o=t.is('[type="checkbox"]')?t.prop("checked"):t.val();"colors"==n.attr("data-setting-type")&&(i=t.attr("name")||""),l.set(i,o)&&c.Core.destroySummernote()}),w.call(this),this.$elm.find(".app-layer-select select, .app-layer-font select").each(function(){var t=u(this),n=(t.dropdown({absolutePos:!0,align:"right"}),t.next(".dropdownjs"));t.off("change").on("change",function(e){var e=u(e.target);e.val()&&e.val().length&&(t.attr("multiple")?t.dropdown("_select",n,t.find(":selected")):(e=t.find(":selected").length?t.find(":selected").last():t.find("option, li").first(),t.dropdown("select",n,e.val())))})}),this.$elm.find(".app-layer-font .dropdownjs").each(function(e){var t=u(this).data("select"),t=u(t.data("dropdownjs-ul"));t.find("li").each(function(){var e=c.getFont(u(this).attr("value"));u(this).css("font-family",e.css)}),t.addClass("fonts-dropdownjs")}),this.$elm.find(".app-layer-range input").each(function(){c.initPopoverRange(this)})}function _(e){if(!(e=e||{}).selector)throw new Error("Unknown selector! For example: new Sidebar({selector: '.my-sidebar', ...}).");if(!e.settings)throw new Error("Settings not found! For example: new Sidebar({settings: new Settings({}), ...}).");if(!e.classNameOpen)throw new Error("Unknown class name for open/close sidebar! For example: new Sidebar({classNameOpen: 'sidebar-opened', ...}).");this.$elm=u(e.selector),this.$elm.data(v,this),this.settings=e.settings,this.callbacks={open:e.open},this.classNameOpen=e.classNameOpen,x.call(this)}S.prototype.onChange=function(e){return this._onChange=e,this},S.prototype.set=function(e,t){return e in this._variables&&this._variables[e]!=t&&(this._variables[e]=t,this._onChange&&this._onChange(e,t),!0)},S.prototype.get=function(e){return e in this._variables?this._variables[e]:null},S.prototype.merge=function(e){for(name in e=e||{},this._variables)name in e&&(this._variables[name]=e[name]);return this},S.prototype.getSource=function(){return this._source},S.prototype.getVariables=function(){var e=[];for(name in this._variables)e.push({name:name,type:this._types[name],value:this._variables[name]});return e},S.prototype.getRawVariables=function(){return this._variables},S.prototype.isEmpty=function(){return 0==this._source.length};var k=S;function S(e){var n=this._types={},t=this._source=[],i=this._variables={};if(u.isArray(e))for(var o=0;o<e.length;o++){var r=e[o];switch(r.type){case"title":case"subtitle":t.push(r);break;case"group":var a=r.set;if(u.isArray(a)&&r.set.length){r.set=[];for(var s=0;s<a.length;s++){var l=a[s];l&&l.var&&(d(l),r.set.push(l))}t.push(r)}break;case"colors":a=r.set;if(u.isArray(a)&&r.set.length){r.set=[];for(s=0;s<a.length;s++){var c=a[s];c&&c.var&&(d(c,"color"),r.set.push(c))}t.push(r)}break;default:r.var&&(d(r),t.push(r))}}function d(e,t){switch(e.type||t){case"color":e.default=e.default||"#000000";break;case"switch":e.default=!!e.default;break;case"range":e.default=e.default||0;break;default:e.default=e.default||""}i[e.var]=e.default,n[e.var]=e.type||t}}A.isValid=function(e){return"string"==typeof e&&/^@[-a-zA-Z0-9_]+$/.test(e)},A.prototype.getName=function(){return this._name},A.prototype.isValid=function(){return this._isValid},A.prototype.eval=function(){return this._isValid&&s.get?s.get(this._name):null};var C,P,T,j,E=A;function A(e){this._isValid=A.isValid(e),this._isValid&&(this._name=e.substr(1))}function L(e){var t=u.Deferred();return n.loadLocalFile(e,function(e){t.resolve(e)}),t}function $(){c.Core.renderComponentsStyles()}function O(e){if(!s.get)return e;var t,n=u.isArray(e)?[]:{};for(t in e){var i=e[t];0==i.indexOf("@")?n[t]=new E(i).eval()||"":n[t]=i}return n}function D(){c.fire("initThemeSettings"),c.projectSettings.theme=c.projectSettings.theme||{},void 0!==c.projectSettings.theme.settings&&(c.theme.params.theme.settings=c.projectSettings.theme.settings),c.projectSettings.theme.name==c.theme.name&&(s=new k(c.theme.params.theme.settings).merge(c.projectSettings.theme.styling).onChange(function(e,t){c.fire("changeThemeSettings",e,t)}),c.projectSettings.theme.styling=s.getRawVariables(),!s.isEmpty()||c.projectSettings.theme.settings)&&(c.ToogleThemeSettings=new h({selector:o,visible:!0,target:new y({selector:i,settings:s,classNameOpen:e,open:function(){c.fire("openThemeSettings")}})}))}function F(e){return c.escapeHtml(e)}P="",T=[null],c.on("changeThemeSettings",r($,100)),c.on("addonLoaded",function(e,t){!e.theme&&e.themeParams&&e.themeParams.customLESS&&T.push(L(c.getAddonDir(t.name)+"/"+e.themeParams.customLESS).then(function(e){return"\n\n// addon: "+t.name+"\n"+e}))}),c.on("loadedProject",function(){var e=c.theme.params.theme.customLESS;C=!1,T[0]=e?L(c.theme.pathExport+"/"+e):"",u.when.apply(u,T).done(function(){P=[].join.call(arguments,""),C&&$()})}),c.on("coreLoad",function(){var o,r,n=c.iwindow.less;function a(e,n){var t="",i="",o=[],r="",a="*"===e;return s.getVariables&&s.getVariables().forEach(function(e){var t;r+="@"+e.name+": ","font"==e.type?(t=c.getFont(e.value),r+=t.css,t.url&&(c.isAMP()?i+="@import url("+t.url+"&display=swap);":n&&o.push(t.url))):r+=e.value,r+=";\n"}),e=e||"",(a||0<=e.indexOf("imports"))&&(t+=i),(a||0<=e.indexOf("variables"))&&(t+=r),(a||0<=e.indexOf("rules"))&&(a=c.applyFilter("getCustomLessText",P),t+=(a=void 0!==c.projectSettings.theme.dynamicStyles?c.projectSettings.theme.dynamicStyles:a).replace(/^\s+/,"")),!c.isAMP()&&n&&c.fire("getPublishFonts",o),t}function e(n){return function(e,t){switch(e=e.toCSS(),t=t.toCSS(),n){case"==":return c.iwindow.less.tree.Keyword[e==t];case"<":return c.iwindow.less.tree.Keyword[e<t];case"<=":return c.iwindow.less.tree.Keyword[e<=t];case">":return c.iwindow.less.tree.Keyword[t<e];case">=":return c.iwindow.less.tree.Keyword[t<=e]}}}r=c.isAMP(),c.on("runPublish",function(){o=!0}),c.Core.addFilter("beforeRenderStyles",function(e,t,n){var i;return C=!0,n?(i=a(o?"*":"variables",n),o=!!r):i=a("variables, rules"),i+e}),c.Core.addFilter("afterRenderStyles",function(e,t,n){return n||void 0===c.projectSettings.theme.staticStyles?e:c.projectSettings.theme.staticStyles+e}),c.Core.addFilter("beforeRenderStylesForComponent",function(e,t){return a("variables")+e}),u.map({if:function(e,t,n){return"true"==e.value?t:n},eq:e("=="),lt:e("<"),lte:e("<="),gt:e(">"),gte:e(">="),includes:function(e,t){return n.tree.Keyword[0<=e.value.map(function(e){return e.value}).indexOf(t.value)?"True":"False"]}},function(e,t){n.functions.functionRegistry.add(t,e)})}),c.addFilter("getThemeButtonColors",O),c.addFilter("getThemeLinkColors",O),c.addFilter("getThemeColorsSet",O),c.on("bridgeInit",function(){function n(e,t,n){var i=[e];if("object"==I(i[0]))for(;e=i.pop();)for(var o in e)!1!==t.call(n,e[o],o,e)&&"object"==I(e[o])&&i.push(e[o])}var r=function(e){n([e],function(e,t,n){if("_styles"==t)return!1;function i(){return r.eval()}var o,r;E.isValid(e)&&(n[t]=(r=new E(o=e),i._variableName=r.getName(),(i.toString=i).toLESS=i.toJSON=function(){return o},i))})};c.addFilter("loadingComponents",function(e,t){return r(e),e}),c.on("load",function(){c.Core.cleanJSONPlease=(i=c.Core.cleanJSONPlease,function(e,t){if(!t&&"object"==(void 0===e?"undefined":I(e)))for(var n in e)"function"==typeof e[n]&&e[n]._variableName&&(e[n]=e[n].toJSON());return i.apply(this,arguments)}),c.Core.on("render",function(e){void 0===e&&r(c.Core.resultJSON[c.Core.currentPage].components)});var i,e,t,o={};e=c.iwindow.rivets._.Binding.prototype,t=e.set,e.set=function(e){return n("object"==(void 0===e?"undefined":I(e))?e:[e],function(e,t,n){"function"==typeof e&&e._variableName&&(e=e._variableName,o[e]||(o[e]=[]),o[e].indexOf(this)<0)&&o[e].push(this)},this),t.call(this,e)},c.on("changeThemeSettings",function(e,t){o[e]&&o[e].forEach(function(e){e.sync()}),c.runSaveProject(!1,!0)}),c.Core.on("removeComponent",function(t,e){for(name in o)o[name]=o[name].filter(function(e){return t!=e.view.models._id})}),c.on("switchedPage",function(){o={}})})}),j=[],c.on("addonLoaded",function(e){!e.theme&&e.themeParams&&e.themeParams.settings&&(u.isArray(e.themeParams.settings)?j=j.concat(e.themeParams.settings):j.push(e.themeParams.settings))}),c.on("addonsLoaded",function(){c.theme.params.theme=c.theme.params.theme||{},c.theme.params.theme.settings=(c.theme.params.theme.settings||[]).concat(j)}),c.regExtension({name:"theme-settings",global:{throttle:r,ToogleThemeSettings:0,$themeToggleBtn:u(".app-theme-settings-toggle"),getThemeSettings:function(e){return s.get?s.get(e):null},hasThemeSettings:function(e){return!!(e.theme&&e.theme.settings&&e.theme.settings.length)},openThemeSettings:function(){c.ToogleThemeSettings.open()},closeThemeSettings:function(){c.ToogleThemeSettings.close()},redrawStyleChanger:function(){D(),c.fire("redrawStyleChanger")}},events:{loadedProject:function(){D(),c.fire("initSettingsSidebar")}}})},["jQuery","mbrApp","TR()","Bridge"])},function(e,t,n){"use strict";defineM("add-builder-ext",function(a,s,l){var c={"iconFont.iconFont":l("Insert icon"),"mbrStyle.mbrStyle":l("Font"),"mbrBtn.mbrBtnColor":l("Color"),"mbrBtn.mbrBtnExtendedColor":l("Color"),"mbrBtn.mbrBtnAdd":l("Add"),"mbrBtn.mbrBtnMove":l("Move Left"),"mbrBtn.mbrBtnRemove":l("Remove"),"mbrAlign.mbrAlign":l("Align"),"mbrLink.mbrLink":l("Link"),"mbrColor.mbrColor":l("Color")};function d(e,t){t=t.split(".");for(var n=0;e&&n<t.length;n++)e=e[t[n]];return e}s.regExtension({name:"builder-ext",global:{},events:{load:function(){var e=d(s,"iwindow.$.summernote.lang.en-US");if(e)for(var t in c)if(d(e,t)){n=void 0;i=void 0;o=void 0;r=void 0;var n=e;var i=t;var o=c[t];i=i.split(".");for(var r=0;r<i.length;r++)r<i.length-1?(n[i[r]]=n[i[r]]||{},n=n[i[r]]):n[i[r]]=o}s.Core.addFilter("buttonFontSiteStyleIcon",function(){return'<i class="mbr-icon-paint-brush" title="'+l("Edit Site Styles")+'"></i> '}),s.addFilter("buttonColorSiteStyleIcon",function(){return'<a data-event="mbrShowSiteColors" href="javascript:void(0);" title="'+l("Edit Site Styles")+'"><i class="mbr-icon-paint-brush"></i></a>'}),s.Core.addFilter("getComponentsAnchorList",function(e,t){var e=a("<div>").html(e),n=(e.find('[value="#top"]').html(l("Top of Page")),e.find('[value="#bottom"]').html(l("Bottom of Page")),e[0].innerHTML);return e.remove(),n})},removeLastButton:function(){s.alertDlg(l('To remove all buttons from the block use %"Block Parameters" -> "Show Buttons"%').replace(/%(.+)%/,'<span class="btn btn-component-params mbr-icon-cog"></span> $1'))}}})},["jQuery","mbrApp","TR()"])},function(e,t,n){"use strict";var h=n(23);defineM("app-publish",function(p,f,s){var r="";function e(e){f.progressBar("isCanceled")?(f.progressBar("show"),f.progressBar(1),f.progressBar(s("Initialization, please wait...")),f.$progressModal.one("shown.bs.modal",function(){e&&e()})):e&&e()}function a(e){var t,n=f.Core.resultJSON,i=[],o=0;for(t in n)i.push(f.Core.loadPage(t)),o++;p.when.apply(p,i).then(function(){e&&e(o)})}function l(e){return e=e.replace(/^&quot;|&quot;$/g,""),(new DOMParser).parseFromString("<!doctype html><body>"+e,"text/html").body.textContent}f.regExtension({name:"publish",global:{publishPages:{},publishImagesList:[],$publishBtn:p(".publish-block"),clickPublish:function(t){this.publish(!t||!t.nopreview,null,function(){var e=f.projectSettings.domains.filter(function(e){return"Deployed"===e.status.name}).pop().name;f.projectSettings.mbrsite!==(e="https://"+e)&&(f.projectSettings.mbrsite=e,f.runSaveProject(null,!0)),t&&t.nocongrats||(bootbox.alert({message:'<div class="congrats-modal">\n                                        <br>\n                                        <div>'+s("Your site is published and is live online:")+'</div>\n                                        <div><a class="congrats-site-link" href="'+f.getPublicDomain()+'" target="_blank">'+f.getPublicDomain()+"</a></div>\n                                    </div>",className:"congrats-modal-wrapper"}),f.fire("publishedToMbrsite"))})},forEachObjKeys:function(n,i,o){var r=0,a=Object.keys(n),s=a.length;!function e(){var t;r<s?(setTimeout((t=r,function(){i(n[a[t]],a[t],n,e)}),0),++r):o()}()},publishPage:function(t,n,i,o){var r=this,a=p.Deferred();return setTimeout(function(){var e;try{r.progressBar(s("Preparing $page name$").replace("$page name$",t)+"..."),e=r.processingPage(t,i.pages[t].settings)}catch(e){throw a.reject(),f.showError(s("Internal error while processing page $page name$").replace("$page name$",t)),f.progressBar("hide"),e}e&&e.promise?e.then(function(e){r.publishPages[n]=r.applyFilter("publishHTML",e,i.pages[t],i),r.publishPages[n]=r.preparePublishImages(r.publishPages[n]),o.push({dest:n,srcList:[{src:n,filter:"template"}]}),a.resolve()}):a.resolve()},1),a},filesPublish:function(i,o,r,a,s,l,c){var d=this;h.Bridge.isExistsLocal(f.getProjectImagesDir()+"/hashes.json",function(e){for(var t in e&&s.push({dest:f.IMAGES_FOLDER+"/hashes.json",srcList:[{src:f.getProjectImagesDir()+"/hashes.json"}]}),d.additionalStyles=d.preparePublishImages(d.additionalStyles,"../../../"),d.publishImagesList)s.push(d.publishImagesList[t]);if(s.push({dest:"assets/css/mbr-additional.css",srcList:[{src:"assets/css/mbr-additional.css",filter:"template"}]}),!l)for(var n in d.Core.publishAssets)for(var t in s)s[t].dest===d.Core.publishAssets[n].dest&&s[t].srcList.push({src:d.Core.publishAssets[n].src});s.push({dest:"project.mobirise",srcList:[{src:"project.mobirise",filter:"template"}]}),s=d.applyFilter("publishFiles",s,a);e=d.applyFilter("publishIndex",r,o);d.uploadFiles(s,o,{index:e,preview:i,close:function(e){d.publishImagesList=[],e&&(d.fire("published",o,e),c)&&c()}})})},publish:function(t,n,c){var d=this,u=f.isAMP();function i(e,t){function n(e){return e+(-1<e.indexOf(".")?"":".html")}d.fire("runPublish",t);var i,o=d.Core.getResultProject(),r=(d.additionalStyles="",f.projectSettings.theme.staticStyles&&(d.additionalStyles+=f.projectSettings.theme.staticStyles),d.publishPages={},[]),a=(d.publishImagesList=[],n(o.settings.currentPage)),s=p.Deferred().resolve();for(i in o.pages)!function(e){s=s.then(function(){return d.publishPage(e,n(e),o,r)})}(i);function l(e,t){var t=(1<arguments.length&&void 0!==t?t:{}).attempts,r=void 0===t?10:t;return new Promise(function(i,o){(function n(){fetch(e.url,{credentials:"include"}).then(function(e){if(e.status<200||299<e.status)throw new Error(""+e.statusText);return e.json()}).then(function(e){var t;return"COMPLETE"===e.state?i():"CANCELLED"===e.state?o(new Error(e.reason.message),{code:"JobError"}):--r<=0?o("Timeout error"):(t=2e3,void new Promise(function(e){return setTimeout(e,t)}).then(function(){n()}))}).catch(function(e){return o(e)})})()})}(s=s.then(function(){d.progressBar("assets/js");var e=d.getPluginsFilesForPublish().map(function(e){return/^web/gi.test(e.src)&&(e.src=e.src.replace("web/",h.Bridge.onlineUrl)),e});return fetch(mbrApp.getAddonsDir()+"/api/publish",{method:"POST",mode:"cors",credentials:"include",body:JSON.stringify({siteId:f.projectSettings.id,files:e})}).then(function(e){if(e.status<200||299<e.status)throw new Error(""+e.statusText);return e.json()}).then(function(e){return l(e.job)}).catch(function(e){throw console.log(e),f.showError("Asset loading error"),e})})).then(function(){d.filesPublish(e,t,a,o,r,u,c)})}e(function(){a(function(e){f.progressBar(4*e),i(t,n)})})},exportProject:function(i){var o=this;e(function(){a(function(e){var n;f.progressBar(4*e),n=o.projectSettings.name,o.fire("exportProject",n,i),o.makeScreenshot(function(e){var t=[],e=(t.push({dest:"screenshot.png",srcList:[{src:e}]}),o.Core.getResultProject());o.publishImagesList=[],f.forEachObjKeys(e.pages,function(e,t,n,i){f.projectSettings.theme.staticStyles&&(f.additionalStyles+=f.projectSettings.theme.staticStyles),o.additionalStyles+=o.Core.renderComponentsStyles(!0,t),o.Core.getResultHTML(t).then(function(e){o.preparePublishImages(e),o.preparePublishImages(o.additionalStyles),i()})},function(){for(var e in o.publishImagesList)t.push(o.publishImagesList[e]);h.Bridge.isExistsLocal(o.getProjectImagesDir()+"/hashes.json",function(e){e&&t.push({dest:f.IMAGES_FOLDER+"/hashes.json",srcList:[{src:o.getProjectImagesDir()+"/hashes.json"}]}),(t=o.applyFilter("exportProjectFiles",t,i)).push({dest:"project.mobirise",srcList:[{src:"project.mobirise",filter:"template"}]}),o.uploadFiles(t,i,{close:function(){o.publishImagesList=[],f.alertDlg(s("Your site was successfully exported to the folder $folder name$").replace("$folder name$","<strong>"+h.Bridge.url2sys(i)+"</strong>")),o.fire("exportedProject",n,i)},isExport:!0})})})})})})},uploadFiles:function(e,t,n){var i=this;if(!e)return"";function o(e){i.progressBar("hide"),n.close&&n.close(e)}(n=n||{}).preview&&(t=h.Bridge.registerPreviewPath(f.projectPath)),t=h.Bridge.registerPreviewPath(f.projectPath),i.applyFilter("uploadFilesStart",p.Deferred().resolve(e,t),n).then(function(e,t){e=new h.Bridge.FileManager(e,t,{start:function(e){i.progressBar(e),n.start&&n.start(e)},file:function(e){i.progressBar(e),n.file&&n.file(e)},uploaded:function(e){i.fire("uploadFilesUploaded",e)},error:function(e){e=(e=(e=e.replace("\n","<br>").replace("ENOENT:","")).replace(h.Bridge.url2sys(h.Bridge.base),"[Resources]:")).replace(h.Bridge.url2sys(mbrApp.getAddonsDir()),"[Extensions]:"),i.progressBar("error",e||s("Unknown error while publish")),n.error&&n.error(e)},close:function(e){n.preview&&(t=f.getPublicDomain(),"index.html"!=n.index&&(t+=n.index),window.open(t,"_blank")),i.fire("uploadFilesComplete",e),setTimeout(function(){o(e)},1)}},n);i.progressBar(e)}).fail(function(e){o(e)})},preparePublishVideos:function(e){var a=/youtu.*be.*/,s=/vimeo/;return e=(e=e.replace(/(<img[^>]+>)/g,function(e,t,n){var i=e.match(/data-video-src="(.*?)"/),o=e.match(/data-video-width="(.*?)"/),r=e.match(/data-video-height="(.*?)"/);return i&&i[1]?(i[1]=i[1].replace("shorts","embed"),-1!==i[1].search(a)||-1!==i[1].search(s)?(o=o&&o[1]?'width="'+o[1]+'"':"",r=r&&r[1]?'height="'+r[1]+'"':"",'<iframe class="mbr-embedded-video" src="'+i[1].replace(/^http:/g,"https:")+'" '+o+" "+r+' frameborder="0" allowfullscreen></iframe>'):'<video style="width:100%" controls'+(-1!==i[1].search("autoplay")?" autoplay muted":"")+(-1!==i[1].search("loop")?" loop":"")+' playsinline><source src="'+i[1]+'"/></video>'):e})).replace(/data-video-src/g,"data-bg-video"),this.applyFilter("preparePublishVideos",e)},addImage2PublishList:function(e){var t,n,i=this;if(h.Bridge.supportedImgExts.indexOf(e.split(".").pop())<0)return e;if(""==e.replace(/\t|\s|\n/g,""))return e;if(/(http(s?))\:\/\//gi.test(e)&&!this.isAssetsDir(e))return e;for(n in t="assets/images/"+(t=(t=h.Bridge.cleanURI(e.split("/").pop())||"")&&!/^\./.test(t)?t:"0"+t),e=(e=(e=/^[\w]+\:/.test(e)?e:"web/app/builder/"+e).replace(/^qrc\:\/web/,"web/")).replace(/^\:\/web/,"web/"),i.publishImagesList)if(i.publishImagesList[n].srcList[0].src===e)return i.publishImagesList[n].publicUrl||i.publishImagesList[n].dest;for(n in i.publishImagesList)if(i.publishImagesList[n].dest===t){for(;i.publishImagesList[n].dest===t;)t=t.replace(/(.[\w]+)$/g,i.uniqNum()+"$1");break}var o={dest:t,srcList:[{src:e}]};return i.publishImagesList.push(o),t=i.isAssetsDir(e)?o.publicUrl=i.projectSettings.resourcesUrl+t+"?rnd="+Date.now():t},preparePublishImages:function(e,r){var a=this;return r=r||"",e=(e=(e=e.replace(/(<img.*?src=")([^">]*\/[^">]*?)(".*?>)/g,function(e,t,n,i){return t+r+a.addImage2PublishList(l(n))+i})).replace(/(url\(['"]?)(.*?)(['"]?\);)+/g,function(e,t,n,i){var o,n=l(n);return"string"==typeof(o=n)&&/^https?:\/\//i.test(o)||(t+=r),t+a.addImage2PublishList(n)+i})).replace(/(href=")(.*?)(")+/g,function(e,t,n,i){return t+r+a.addImage2PublishList(l(n))+i}),a.applyFilter("preparePublishImages",e,a.publishImagesList,r)},prepareProjectText:function(e,t){var n,i,o=f.Core.getResultProject();if(h.Bridge.version&&(o.settings.versionPublish=h.Bridge.version),void 0!==f.projectSettings&&(o.settings=p.extend({},f.projectSettings,o.settings)),o.settings=this.applyFilter("publishProjectSettings",o.settings||{},t),o.pages=this.applyFilter("publishProjectPages",o.pages||{}),o=JSON.stringify(o,null,2),e)for(var r in e)1==e[r].srcList.length&&(n=e[r].srcList[0].src,r="@PROJECT_PATH@/"+e[r].dest,/^file\:/.test(n))&&(o=o.split(n).join(r).split((n=n,i=void 0,(i=document.createElement("div")).setAttribute("path",n),(i=/\"([^"]*)\"/.exec(i.outerHTML))&&i[1]||n)).join(r));return f.projectPath&&0==f.projectPath.indexOf("file:")&&(o=o.split(f.projectPath).join("@PROJECT_PATH@")),f.theme.name&&(o=(o=o.split('"'+f.path2core(f.getAddonDir(f.theme.name))).join('"@THEME_PATH@')).split("("+f.path2core(f.getAddonDir(f.theme.name))).join("(@THEME_PATH@")),o=f.getAddonsDir()&&0==f.getAddonsDir().indexOf("file:")?o.split(f.getAddonsDir()).join("@ADDONS_PATH@"):o},$transformImage:function(t,e){var n=p.Deferred();return h.Bridge.transformImage(t.srcList[0].src,e,function(e){e?(t.srcList[0].src=e,n.resolve()):n.reject()}),n},$transformWebp:function(n){var i=p.Deferred();return h.Bridge.transformWebp(n.srcList[0].src,function(e,t){t?i.resolve(t):e?(n.dest=n.dest.replace(/\.(jpe?g|png)$/i,".webp"),n.srcList[0].src=e,i.resolve(n)):i.reject()}),i},loadLocalFile:function(e){var t=p.Deferred();return h.Bridge.loadLocalFile(e,function(e){e?t.resolve(e):t.reject()}),t},saveLocalFile:function(e,t){var n=p.Deferred();return h.Bridge.saveLocalFile(e,t,function(e){e?n.resolve():n.reject()}),n},getPublishHTML:function(){for(var e=p.Deferred(),t=Object.keys(f.Core.getPages()),n="",i=p.Deferred().resolve(),o=0;o<t.length;o++)i=i.then(r.bind(i,t[o]));function r(e){var t=p.Deferred();return f.Core.getResultHTML(e).then(function(e){n+=e,t.resolve()}),t.promise()}return i.done(function(){e.resolve(n)}),e}},events:{bridgeInit:function(){var o=this;h.Bridge.templating=function(e){var i,t,n="";return/\.html$|\.htm$|\.xht$|\.xhta$|\.xhtml$|\.shtml$|\.shtm$|\.php$|\.php3$|\.php4$|\.php5$|\.phps$|\.phpt$|\.phtml$|\.asp$|\.aspx$|\.jsp$|\.cgi$|\.pl$|\.py$/i.test(e)?n=f.publishPages[e]||"":/.json$|.mobirise$/g.test(e)?n=o.prepareProjectText(o.publishImagesList,!0):/.css/g.test(e)?(t=f.additionalStyles,i="",t=t.replace(/(@import url\(.*?\);)/g,function(e,t,n){return-1==i.indexOf(e)&&(i+=e+"\n"),""}),n=(i||"")+(t||"")):0<=e.indexOf("kw.template.js")&&(n=r),o.applyFilter("publishTemplating",n,e,this)}},load:function(){var t=this,n=(p(".app-publish").on("click",function(e){t.runPublishDlg(function(e){e&&f.clickPublish({nopreview:!0})})}),f.Core.$body.find(".browser-chrome .link-wrapper").on("click",function(e){e.stopPropagation(),f.openProjectSettings(f.projectPath+"/project.mobirise"),f.fire("selectBasicDomain")}),h.Bridge&&h.Bridge.version?h.Bridge.version:"");h.Bridge.loadLocalFile("web/app/interface/kw.template.js",function(e){r=e.replace(/\$VERSION\$/g,n)}),h.Bridge.loadLocalFile("web/app/interface/kw.txt",function(e){e.split("\n")}),f.addFilter("publishFiles",function(e,t){return"mbrsite"===f.projectSettings.publishType&&e.push({dest:"edit/index.html",srcList:[{src:"edit/index.html",filter:"template"}]}),e}),f.addFilter("publishTemplating",function(e,t){return"mbrsite"===f.projectSettings.publishType&&"edit/index.html"==t?'<!DOCTYPE html>\n                                <html lang="en">\n                                    <head>\n                                        <meta charset="UTF-8">\n                                        <meta name="viewport" content="width=device-width, initial-scale=1.0">\n                                        <title>CMS</title>\n                                    </head>\n                                    <body>\n                                        <script src="https://c.ybnz.com/creator.js"><\/script>\n                                    </body>\n                                </html>':e})}}});var t=DOMParser,n=t.prototype,i=n.parseFromString;try{if((new t).parseFromString("","text/html"))return}catch(e){}n.parseFromString=function(e,t){return/^\s*text\/html\s*(?:;|$)/i.test(t)?(t=document.implementation.createHTMLDocument(""),-1<e.toLowerCase().indexOf("<!doctype")?t.documentElement.innerHTML=e:t.body.innerHTML=e,t):i.apply(this,arguments)}},["jQuery","mbrApp","TR()"])},function(e,t,n){"use strict";var o=n(23);defineM("app-publish-dlg",function(r,a,e){var t='<div class="publishMethod mbrsite-publish-settings">\n        <div class="radio radio-primary publishRadio">\n            <label>\n                <input type="radio" name="publishType" value="mbrsite" checked>\n                <span class="circle"></span>\n                <span class="check"></span>\n                '+(a.domainManager?a.domainManager.getCustomDomainInfo()?a.domainManager.getCustomDomainInfo().name:"*.mobirisesite.com":"Subdomain on")+'\n            </label>\n        </div>\n        <div class="publishBody">\n            <div class="row">\n                <div class="col-md-4">\n                    <input type="text" class="mbrsite-domain form-control" placeholder="name" name="mbrsiteDomain">\n                </div>\n                <div class="col-md-2 gp-domain">.mobirisesite.com</div>\n                <div class="col-md-4"></div>\n            </div>\n            <span class="mbrsite-input-status">IMPORTANT! Use this option for testing only</span>\n        </div>\n    </div>\n    <div class="publishMethod">\n        <div class="radio radio-primary publishRadio">\n            <label>\n                <input type="radio" name="publishType" value="local"><span class="circle"></span><span class="check"></span>\n                '+e("Download in .zip")+"\n            </label>\n        </div>\n    </div>";a.regExtension({name:"publish-dlg",global:{PUBLISH_MODAL_HTML:t,runPublishDlg:function(t){function n(){var e=r(this).closest(".publishMethod"),t=e.find(".publishBody"),n=r(this).parents(".modal-body"),i=n.find("input[name=uploadDiff]");n.find(".publishBody").not(t).hide(),n.find(".publishMethod").not(e).removeClass("selected"),t.show(),e.addClass("selected"),"local"===r(this).attr("value")?i.closest(".togglebutton").css("display","none"):"none"===i.closest(".togglebutton").css("display")&&i.closest(".togglebutton").css("display","block")}a.fire("showPublishModal");var i=a.projectSettings||{},o=a.showDialog({title:e("Publish"),className:"publish-dialog",body:a.PUBLISH_MODAL_HTML,buttons:{btClose:{label:e("Cancel"),callback:function(){}},btSave:{label:e("Publish"),default:!0,callback:function(e){return"local"===o.find(".publishMethod.selected input").val()?(a.projectSettings.publishType="local",a.createZipProject(),o.remove()):a.getPublishUrl(o).then(function(e){t&&t(e)}).catch(function(e){return console.log(e)}),!1}}},create:function(e){a.fire("createPublishModal",r(e))},show:function(e){var t=r(e).find("[name=publishType][value="+(i.publishType||"mbrsite")+"]");e.find('input[name="mbrsiteDomain"]').val(a.projectSettings.domains?a.projectSettings.domains[0].name.split(".")[0]:a.getUID(10).toLowerCase()),t.prop("checked",!0),n.call(t)}});o&&(a.fire("showedPublishModal",o),o.on("change","[name=publishType]",n))},getPublishUrl:function(e){var t=e.find("[name=publishType]:checked").val(),i="",n=this.projectSettings||{};return"local"===(n.publishType=t)&&(i=o.Bridge.sys2url(e.find("[name=publishLocal]").val(),o.Bridge.docLocation),n.publishPath=i,o.Bridge.getSettingsArray("RecentPublish",function(e){var t,n=[i];for(t in e)0<=n.indexOf(e[t])||n.push(e[t]);o.Bridge.setSettingsArray("RecentPublish",n)})),i=this.applyFilter("getPublishUrl",i,t,e,n),this.projectSettings=n,i}},events:{load:function(){a.addFilter("publishProjectSettings",function(e,t){return t&&(delete e.publishType,delete e.publishPath),e})}}})},["jQuery","mbrApp","TR()"])},function(e,t,n){"use strict";var m=n(23);defineM("app-preview",function(e,h,t){h.regExtension({name:"preview",global:{$previewBtn:e(".preview-block"),additionalStyles:"",templateHTML:["$global_before_html$$SETTINGS.html_before$<!DOCTYPE html>","<html $LANG_ATTR$>","<head>","  \x3c!-- Site made with Mobirise Online Website Builder v$VERSION$, https://a.mobirise.com --\x3e",'  <meta charset="UTF-8">','  <meta http-equiv="X-UA-Compatible" content="IE=edge">','  <meta name="generator" content="Mobirise v$VERSION$, a.mobirise.com">','  <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1">','  <meta name="description" content="$SETTINGS.meta_descr$">',"  $SETTINGS.title$","  $STYLES$","  $SCRIPTS_HEAD$","  $global_header_custom$","  $SETTINGS.header_custom$","</head>","<body>","  $global_after_body$","  $CONTENT$","  $SCRIPTS$","  $global_footer_custom$","  $SETTINGS.footer_custom$","</body>","</html>"].join("\n"),processingPage:function(s,l){var c,d=this,u=e.Deferred(),p=e.Deferred(),f=h.isAMP();return d.Core.getResultHTML(s).then(function(e){e=d.preparePublishVideos(e),f&&(d.additionalStyles=""),d.additionalStyles+=d.Core.renderComponentsStyles(!0,s);var t=h.getPluginsHTMLForPublish(s),n=(t=d.applyFilter("publishAssets",t,s)).js,o=t.js_head,r=t.css,a=(r+='<link rel="stylesheet" href="assets/css/mbr-additional.css" type="text/css">\n  ',f?"amp":"");function i(){var i=jQuery.extend({},l);c=(c=d.templateHTML.replace(/\$SETTINGS\.(.*)\$/g,function(e,t){var n=i[t]||"";return(n="title"===t?n?"<title>"+n+"</title>":"":n)||""}).replace(/\$VERSION\$/g,function(){return m.Bridge&&m.Bridge.version?m.Bridge.version:""}).replace(/\$CONTENT\$/g,e).replace(/\$SCRIPTS\$/g,n).replace(/\$SCRIPTS_HEAD\$/g,o).replace(/\$STYLES\$/g,r).replace(/\$AMP_TITLE\$/g,a).replace(/\$global_before_html\$/g,h.projectSettings.global_before_html||"").replace(/\$global_header_custom\$/g,h.projectSettings.global_header_custom||"").replace(/\$global_after_body\$/g,h.projectSettings.global_after_body||"").replace(/\$global_footer_custom\$/g,h.projectSettings.global_footer_custom||"")).replace(/\$LANG_ATTR\$/g,function(){return h.projectSettings.site_lang?'lang="'+h.projectSettings.site_lang+'"':""})}f?(n="",mbrApp.applyFilter("prepareAmpStyles",r,s).then(function(e){r=e,u.resolve()}).fail(function(e){console.error(e.message),r+="<style amp-custom>"+d.additionalStyles+"</style>\n ",u.resolve()}),u.then(function(){i(),p.resolve(c)})):(i(),p.resolve(c))}),p}},events:{load:function(){}}})},["jQuery","mbrApp","TR()"])},function(e,t,n){"use strict";var w=n(23),a=n(71);defineM("app-addons",function(m,g){var f="https://mobirise.com/",t=/\.mbrext$/,o='<div class="modal">  <div class="modal-dialog">    <div class="modal-content">      <div class="modal-header">        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>        <h4 class="modal-title"></h4>      </div>      <div class="modal-body">        <div class="placeholder hide">'+y("No extensions matched your search. Try again.")+"</div>      </div>    </div>  </div></div>";function v(i,t,e,u,p){g.getAddons(function(n){Object.keys(n).map(function(t){var e=i.filter(function(e){return t===e.name});e.length&&"archive"===e[0].status&&delete n[t]}),i=i.filter(function(e){return!("archive"===e.status)});var e=0;for(d in n)n[d].id_local=e,e++;i.sort(function(e,t){return e.hasOwnProperty("id")&&!t.hasOwnProperty("id")?-1:!e.hasOwnProperty("id")&&t.hasOwnProperty("id")?1:e.hasOwnProperty("id")||t.hasOwnProperty("id")?0:n[e.name].id_local>n[t.name].id_local?-1:n[e.name].id_local<n[t.name].id_local?1:0});for(var l=m("<div>"),c=(t.html(l),l),d=0;d<i.length;d++)!function(t){0===d&&(c=m('<div class="row">').appendTo(l));var e,n,i=m('<div class="panel panel-default">').appendTo(c),o=m('<div class="panel-body"></div>').appendTo(i),r=m("<img>").attr("src",t.largeCover||t.cover),a="",a=t.new?m("<div>").html("<p>"+t.description+'</p> <div><h3 class="text-primary">'+(t.title||t.name)+"</h3><h4>NEW!</h4></div>"):m("<div>").html("<p>"+t.description+'</p> <h3 class="text-primary">'+(t.title||t.name)+"</h3>"),s=m("<div class='btn-group'>");t.demoUrl||a.find("p a").attr("href")?(e=m('<a href="'+(t.demoUrl||a.find("p a").eq(-1).attr("href")||a.find("p a").eq(0).attr("href"))+'">').appendTo(c),m('<div class="col-sm-6 col-md-6 col-lg-3">').append(function(){return e.append(i)}).appendTo(c),m(a).find("p a").remove(),e.click(function(e){m(e.target).parents(".btn-group").length||m(e.target).attr("href")||(g.openUrl(m(this).attr("href")),e.preventDefault(),e.stopPropagation())})):(m("a[href^=http]",a).each(function(){m(this).data("link",m(this).attr("href"))}).attr("href","javascript:void(0)").click(function(){var e=m(this).data("link");g.openUrl(e)}),m('<div class="col-sm-6 col-md-6 col-lg-3">').append(i).appendTo(c)),i.parents(".col-sm-6.col-md-6.col-lg-3").attr({"data-extensions-title":t.title||t.name,"data-extensions-text":m(a).find("p")[0].innerHTML,"data-extensions-type":t.new?t.type:""}),o.html(['<div class="media">','<div class="media-img"></div>','<div class="media-body"></div>',"</div>"].join("\n")),"theme"===t.type?!t.installed&&!t.downloadURL||t.expired?o.find(".media-img").append(r).append('<button class="btn btn-primary media-preview">'+y("View Demo")+"</button>"):o.find(".media-img").append(r).append('<button class="btn btn-primary media-create-site">'+y("Create Site")+"</button>").click(function(e){e.preventDefault(),e.stopPropagation(),t.installed?h(t):u(t,function(e){e?h(t):g.hidePreloader()})}):o.find(".media-img").append(r),o.find(".media-body").append(s).prepend(a),t.installed?(t.installed<t.version||t.expired&&t.expiredDate<t.modified)&&(n=!t.downloadURL&&t.buyURL||t.installed>=t.version,m('<span class="btn btn-primary" data-tooltipster="bottom" title="'+y("Update")+'"><i class="mbr-icon-sync"></i>'+(n?"<span>&nbsp;"+t.price+"</span>":"")+"</span>").click(function(){(n?p:u)(t)}).appendTo(s)):"future"==t.status?m('<button type="button" class="btn btn-default disable" data-tooltipster="bottom" title="'+y("Coming soon...")+'"><span>'+y("Soon...")+"</span></button>").css({width:"auto"}).click(function(){g.openUrl(f)}).appendTo(s):t.buyURL&&m('<span class="btn btn-primary" data-tooltipster="bottom" title="'+y("Buy")+'">'+(t.price?"<span>"+t.price+"</span>":y("Buy"))+"</span>").click(function(e){e.preventDefault(),e.stopPropagation(),p(t)}).appendTo(s),t.minAppVersion&&w.Bridge.versionCmp(w.Bridge.version,t.minAppVersion)<0||t.maxAppVersion&&0<w.Bridge.versionCmp(w.Bridge.version,t.maxAppVersion)||t.minVersion&&t.version<t.minVersion&&!t.expired||t.disabled?(o.addClass("uncompatible").attr("data-tooltipster","top").attr("title",y("Not available for your Mobirise version")),console.log("Uncompatible version of addon "+t.name)):(t.installed&&t.installed<t.minVersion&&o.addClass("disabled").attr("data-tooltipster","top").attr("title",y("Not compatible with your version of Mobirise")),a.find(t.new?"div":"h3").css("max-width","calc( 100% - "+(s.width()+11)+"px)"))}(i[d])})}function h(e){var o="Site-"+w.Bridge.dateFormat(new Date,"MM-dd_hhmm"),e={name:e.name,title:e.title};g.showPreloader(),g.applyFilter("promiseChosenTheme",Promise.resolve(e)).then(function(i){setTimeout(function(){m(".preloader").css("opacity",1)},1),w.Bridge.getSettings("dontShowCreateSiteModal",function(e){function t(){g.closeSidebar(),g.runSaveProject(function(e){e||console.error("Error: unable to save current project"),g.createProject(o,0,i,function(e){e&&g.showError(y("Unexpected project create error ")+" ("+e+").",function(){g.showProjectsList()})}),m("#addonsModal").hide()},!0)}var n;"true"!==e?n=g.showDialog({body:['<div class="form-group">',y("Do you want to create the $site name$ site based on the $theme name$ theme, $name preset$ Template?").replace("$site name$","<strong>"+o+"</strong>").replace(i.titlePreset?"$name preset$":", $name preset$ Template",i.titlePreset?"<strong>"+i.titlePreset+"</strong>":"").replace("$theme name$","<strong>"+i.title+"</strong>"),"</div>",'<div class="dont-show-more clearfix">','   <div class="togglebutton">','       <label style="width: 100%;">','           <input type="checkbox" id="dont-show-again">','           <span class="toggle" style="margin-top: -6px;"></span>',y("Don't show again"),"       </label>","   </div>","</div>"].join("\n"),buttons:{cancel:{label:y("Cancel"),className:"btn-default"},success:{label:y("Ok"),className:"btn-primary",callback:function(){var e=n.find("#dont-show-again")[0].checked;w.Bridge.setSettings("dontShowCreateSiteModal",e),t()}}}}).on("hidden.bs.modal",function(){g.hidePreloader()}):t()})}).catch(function(){g.closeSidebar(),g.hidePreloader()})}function b(e){var t=(e=e||{}).body;if("string"==typeof t)for(var n in e)t=t.replace("@"+n+"@",e[n]);var i=m(o).attr("id",e.id).insertBefore("#insertBefore");return"large"==e.size&&(i.addClass("bs-example-modal-lg"),i.find(".modal-dialog").addClass("modal-lg")),i.find(".modal-body").append(t),i.find(".modal-title").append(e.title),i.on("hidden.bs.modal",function(){m(this).data("modal",null),e.onhide&&e.onhide(),m(this).remove()}),e.onbeforeshow&&e.onbeforeshow(i),i.modal("show"),i}function r(t){var o=b({id:"redeemModal",title:y("Redeem code"),body:'<div class="input-group"><input type="text" class="form-control" placeholder="'+y("Enter code...")+'"><span class="input-group-btn"><button class="btn btn-primary" type="button">'+y("Redeem")+"</button></span></div>"});o.find("button.btn-primary").click(function(){var i,e=o.find("input").val();e&&(i=m(g.preloaderHTML),m("#addonsModal").append(i),o.find("input,button").prop("disabled",!0),a.mbrServer.activate(e).then(function(e){g.fire("redeemActivated"),g.alertDlg(y("Code is successfully redeemed!")).on("hidden.bs.modal",function(){o.find("input,button").prop("disabled",!1),o.modal("hide"),t&&t()})},function(e,t,n){i.remove(),1211==t&&(e=y("Incorrect code")),1212==t&&(e=y("Activation error")),n&&(e="<a class='ex-info-link' href='javascript:void(0)'>"+e+"</a> ("+t+")",e+="<div style='display:none;-webkit-user-select:all'>"+n+"</div>"),g.alertDlg(e).find("a.ex-info-link").click(function(){m(this).parent().find("div").show()}),o.find("input,button").prop("disabled",!1),g.handleServerError(e,t)}))})}function y(e){return g.TR?g.TR(e,"app-addons"):e}g.regExtension({name:"addons",global:{addonPackageExt:"mbrext",$addonsBlock:0,showAddonsList:function(e,a){g.fire("clearAutoUpdateTimeout");var s=m(g.preloaderHTML),t=y("Extensions"),l=b({id:"addonsModal",title:t,body:s,onhide:function(){a?(console.log("rebooting..."),w.Bridge.reload()):(w.Bridge.isDev||(g.off("updateAllStop",enableExtWindow),g.off("updateAllStart",disableExtWindow)),e&&e())},onbeforeshow:function(e){e.find(".modal-header>*").wrapAll('<div class="modal-header-wrapper">')}});function c(){var e=g.getUserInfo();l.find(".modal-title").replaceWith('<h3 class="modal-title">'+t+(e&&e.email?" ("+e.email+")":"")+"</h3>")}function d(){var e,t=l.find("#filter-extensions > input").val().toLowerCase(),n=m(".list-view .row").children();n.forEach=[].forEach,n.forEach(function(e){return e.classList.remove("hide")}),""!==t&&(t=t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),(e=m(n).filter(function(e){return void 0!==this&&"plugin"!==this.dataset.extensionsType?this.dataset.extensionsTitle||this.dataset.extensionsText?!(~this.dataset.extensionsTitle.toLowerCase().search(t)||~this.dataset.extensionsText.toLowerCase().search(t)):"":1})).forEach=[].forEach,e.forEach(function(e){return e.classList.add("hide")}),n.length===e.length)?m("#addonsModal .placeholder").removeClass("hide"):m("#addonsModal .placeholder").addClass("hide")}function u(){var r=1;function e(i,e,o){g.getAddonsEx(0,e?{type:e}:0,{server:o,serverOptions:{with_archive:1},restricted:!0}).then(function(e,t,n){n&&(o=n),--r<=0&&(m(".preloader-spinner").remove(),g.isUpdatingNow)&&g.updateAllAppendLoader(f),v(e=e.filter(function(e){return!("mobirise5"==e.name||"startm5"==e.name||"mobirise-amp"==e.name)}),i,0,function(n,o){var i=n.downloadURL||"",e=g.getUserInfo();e&&e.email?(p.append(s),setTimeout(function(){g.downloadAddon(n).done(function(e){var n,i;e?(u(),e.name!==g.theme.name&&"theme"===e.type&&"code-editor"!==e.name||(a=!0),n=e,i=jQuery.Deferred(),w.Bridge.loadLocalFile(g.getAddonDir(n.name)+"/splash.html",function(e){var t="theme"===n.type?y("theme"):y("extension");b({body:y("$extension$ is successfuly added").replace("$extension$",'"'+n.title+'" '+t+" ")+".\n"+(e||"").replace('src="','src="'+g.getAddonDir(n.name)+"/"),title:y("About"),size:"large",onhide:function(){i.resolve()}})}),i.always(function(){o&&o(!0)})):s.remove()}).fail(function(e,t){g.alertDlg(e+'"'+n.title+'".'+(i?"":y("Try to log out and log back in"))).on("hidden.bs.modal",function(){o&&o(!1)}),s.remove()})},100)):g.checkSign(function(e){e&&(c(),u())})},function(e,t){g.openUrl(e.buyURL)}),g.fire("showedAddonsList",e),d(),m("#filter-extensions .form-control").focus(),g.$body.on("keyup.escListenerAddonsList",function(e){"Escape"===e.key&&(l.modal("hide"),e.stopPropagation())}),l.on("hidden.bs.modal",function(){g.$body.off("keyup.escListenerAddonsList")})})}o.find("input").val(""),o.find("input").trigger("keyup"),e(h,0,!0),g.off("signedin",u)}c();var p=l.find(".modal-body"),n=l.find(".modal-header-wrapper"),i=m('<a href="javascript:void(0)" class="redeem-ext">'+y("Redeem")+"</a>"),o=m('<div class="col-md-4" id="filter-extensions"><input name="name" type="text" placeholder="'+y("Search")+'" value="" class="form-control"></div>'),f=(i.click(function(){g.checkSign(function(e){e&&(c(),r(w.Bridge.reload))})}).appendTo(n),o.on("keyup","input",d).appendTo(n),l.find(".modal-header .close").replaceWith('<div class="app-layer"><span class="app-layer-close mbr-icon-angle-left" data-dismiss="modal"></span></div>'),m('<div class="list-view">').appendTo(p)),h=m('<div id="themes-list"></div>').appendTo(f);u(),g.on("signedin",u),g.fire("shownAddonsDialog",l)},downloadAddon:function(t,n,i){var e=t.downloadURL,o=(console.log("Start download "+e),g.fire("downloadAddon",t),jQuery.Deferred());return e?(g.on("cancelDownloadAddon",r),a.mbrServer.download(e,function(e){if(n)i({msg:t.title,currentAddon:e});else switch(e){case 0:return void(g.progressBar("isCanceled")&&(g.progressBar("show",y("Downloading..."),t.title),g.$progressModal.removeClass("passive")));case 1:return void g.progressBar("hide");default:g.progressBar({progress:Math.floor(100*e)}),console.log("Download progress "+e)}}).fail(function(e,t){g.off("cancelDownloadAddon",r),o.reject(e,t),g.handleServerError(e,t)}).done(function(e){g.off("cancelDownloadAddon",r),g.extractAddon(e,function(e){e?(e=g.pkgParams2addon(e),console.log("Loaded new addon "+e.name),g.fire("downloadedAddon",e),o.resolve(e)):o.reject("extract error",1301)},n)}),o):o.reject(y("Unable to download $extension$. Try to re-login.").replace("$extension$",t.name||"extension"),1302);function r(){o.reject(y("Download cancelled: "),1303),w.Bridge.stopDownload(e),g.off("cancelDownloadAddon",r)}},extractAddon:function(o,r){var a=2<arguments.length&&void 0!==arguments[2]&&arguments[2],s=w.Bridge.tempLocation+"/addon"+w.Bridge.dateFormat(new Date,"yyyyMMdd_hhmmss"),r=r||function(){};w.Bridge.unzip(o,s,function(e){e?w.Bridge.getLocalJSON(s+"/params.json",function(t){var n,i=g.pkgParams2addon(t||{}),e=i.name;e?(n=g.getAddonsDir()+"/"+e,!a||"plugin"!==i.type&&i.name!==g.theme.name||(n+="-new",i.newVersion=!0),w.Bridge.isExistsLocal(n.replace(/\-new$/,""),function(e){e||!a||"plugin"!==i.type&&i.name!==g.theme.name||(w.Bridge.removeLocal(n),n=n.replace(/\-new$/,"")),w.Bridge.copyLocal(s,n,function(e){e?g.enableAddon(i,function(e){g.fire("extractedAddon"),r(t)}):(console.log("Error: component '"+i.name+"' is not registered"),r()),w.Bridge.removeLocal(s)})})):(console.log("Error: wrong params.json file of addon "+o),r())}):(console.log("Extraction error ",o,"to",s),r())})},showRedeem:r},events:{load:function(){this.$addonsBlock=g.addSidebarItem({title:y("Extensions"),tooltip:y("Add Themes and Extensions"),onclick:function(){g.showAddonsList()}}),g.on(["accountInited","signedin"],function(e){!1!==e&&g.isPremiumUser().then(function(e){e||(g.$body.find(".nav.navbar-nav.navbar-right").append('<li class="app-upgrade" data-tooltipster="bottom" title="'+y("Buy Premium Plan")+'">\n                                    <a href="javascript:void(0)" style="font-size:20px">\n                                        Upgrade\n                                    </a>\n                                </li>'),g.$body.find(".nav.navbar-nav.navbar-right .app-upgrade").click(function(){g.goToBuyPremium({alert:!1,delay:!1}),gtag("event","ai_upgrade_click",{event_category:"engagement",dom_source:"navbar"})}))})})},addonsOff:function(){var e=this;m(".preloader").hide(),g.showDialog({title:y("Warning"),body:y("During the last run the program failed to load all extensions."),buttons:{ok:{label:y("Ok"),className:"btn-primary"}},onhide:function(){e.showAddonsList()}})},addonsLoaded:function(e,t){m(".preloader").delay(600).fadeOut(1e3,function(){m(this).hide()})},incomingFile:function(e){t.test(e)&&g.extractAddon(e,function(e){console.log(e)})}}})},["jQuery","mbrApp"])},function(e,t,n){"use strict";var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u=(n(23),n(71),function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}}(n(438)));defineM("addons-core",function(v,b,i,s){function c(e){return{name:e.alias||e.name,title:e.title||e.name,version:e.version,minAppVersion:e.minAppVersion,maxAppVersion:e.maxAppVersion,type:e.theme?"theme":"plugin"}}var n="web/app/themes",r={},a="list.json";function l(){var e=v.Deferred();return b.restrictedAddonsList?e.resolve(b.restrictedAddonsList):u?(b.restrictedAddonsList=u,e.resolve(b.restrictedAddonsList)):e.resolve({})}function y(i){var e,t=r,o={};for(e in t)!function(e,t){if(i)for(var n in i)if(t[n]!=i[n])return;o[e]=t}(e,t[e]);return o}function t(){var e=s._getAuthToken().then(function(e){return fetch(b.getAddonsDir()+"/auth",{method:"POST",headers:{Authorization:"Bearer "+e},mode:"cors",credentials:"include"})}).then(function(e){if(200!==e.status)throw new Error("Authorization error")}).catch(function(e){throw b.showError("Extensions are not available, please try again later"),e});return t=function(){return e},e}function o(e){e.name in r&&(e.version>(r[e.name].version||1)?r[e.name].status="":r[e.name].status="system")}b.regExtension({name:"addons-core",global:{registeredAddons:{},restrictedAddons:{},isBuildInAddon:function(e){return!!Object.keys(r).includes(e.toLowerCase())},pkgParams2addon:c,getAddonsDir:function(){return s.getAddonsDir()},isAddonsDir:function(e){return 0===e.indexOf(this.getAddonsDir().replace(/\/$/,"")+"/")},isCurrentThemeDir:function(e){return 0===e.indexOf(this.path2core(this.getAddonDir(this.theme.name)+"/"))},isAssetsDir:function(e){return this.isAddonsDir(e)||this.isCurrentThemeDir(e)},getBuildinAddons:y,getAddons:function(o){var e=b.getUserInfo();e&&e.email?t().then(function(){s.getLocalJSON(b.getAddonsDir()+"/"+a,function(i){i?l().then(function(t){var n={};Object.keys(i).forEach(function(e){if(!(e in t))return n[e]=i[e]}),o(n)}):s.dataLocation?s.getLocalJSON(s.dataLocation+"/addons/"+a,function(t){t?s.copyLocal(s.dataLocation+"/addons",b.getAddonsDir(),function(e){e?(o(t),s.removeLocal(s.dataLocation+"/addons")):o({})}):o({})}):(console.error("Error: addons request before Bridge.dataLocation initialization."),o({}))})},console.error):(console.warn("Addons request before account entering."),o({}))},getAddonsListAsText:function(i){b.getAddons(function(e){var t,n=[];for(t in e=e||{})n.push(t+e[t].version);i&&i(n.join(","))})},getAddonsEx:function(u,p,f){var a,n,t,h=jQuery.Deferred(),m=(f=v.extend({restricted:!1,system:!0,server:!1},f),[]),g=[],e=[];return e.push(l()),e.push((a=p,n=v.Deferred(),b.getAddons(function(e){var t,o={},r=[];for(t in e=e||{})!function(e,n){if(a)for(var t in a)if(n[t]!=a[t])return;o[e]=n;var i=v.Deferred();s.getLocalJSON(b.getAddonDir(e)+"/params.json",function(e){for(var t in e=e||{})t in n||(n[t]=e[t]);setTimeout(function(){i.resolve()},1)}),r.push(i.promise())}(t,e[t]);v.when.apply(v,r).then(function(){n.resolve(o)})}),n.promise())),f.server&&!v.isArray(f.server)&&e.push((t=v.Deferred(),i.addons().then(function(e){t.resolve(e)},function(e){t.reject(e)}),t.promise())),v.when.apply(v,e).then(function(e,t,n){e=e||{},t=t||{},n=n&&n.data||v.isArray(f.server)&&f.server;var i,o,r=y(p);if(f.system)for(var a in r)(!(a in t)||t[a].version<(r[a].version||1))&&(t[a]=r[a]);if(n){b.fire("serverAddonsLoaded",function(e,t){for(var n=0;n<e.length;n++)t[e[n].name]=e[n];return t}(n,{}),t);for(var s=0;s<n.length;s++)(a=(c=n[s]).name)in t&&(c.installed=t[a].version||1,c.status=t[a].status,t[a]=c)}for(a in t)o=t[i=a],g.push(o),o.cover||(o.cover=o.logo||"",o.cover.indexOf(":")<0&&(o.cover=b.getAddonDir(i)+"/"+o.cover)),o.largeCover&&o.largeCover.indexOf(":")<0&&"system"!==o.status&&(o.largeCover=b.getAddonDir(i)+"/"+o.largeCover),o.installed||(o.installed=o.version);if(n)for(s=0;s<n.length;s++)if((a=(c=n[s]).name)in t)for(var l in c)l in t[a]||(t[a][l]=c[l]);else c.installed=0,g.push(c);for(var c,d,s=0;s<g.length;)(a=(c=g[s]).name)in e&&(c.minVersion=e[a].minVersion,c.hiddenIfRestricted=e[a].hiddenIfRestricted,c.disabled=e[a].disabled,!f.restricted)&&(c.version<c.minVersion||c.disabled)?(b.restrictedAddons[a]=e[a],e[a].hiddenIfRestricted||m.push(c),g.splice(s,1)):s++;n&&(d={},n.forEach(function(e,t){d[e.name]=t}),g.sort(function(e,t){return e.name in d?t.name in d?d[e.name]-d[t.name]:-1:t.name in d?1:e.name.localeCompare(t.name)})),u&&u(g,m,n),h.resolve(g,m,n)}),h.promise()},enableAddon:function(t,n){b.getAddons(function(e){e[t.name]=t,s.saveLocalFile(b.getAddonsDir()+"/"+a,JSON.stringify(e,null,s.isDev?"    ":""),n),o(t)})},disableAddon:function(n,i){b.getAddons(function(e){n=n.split(",");for(var t=0;t<n.length;t++)delete e[n[t]],n[t]in r&&(r[n[t]].status="system");s.saveLocalFile(b.getAddonsDir()+"/"+a,JSON.stringify(e,null,s.isDev?"    ":""),i)})},disableAllAddons:function(e){s.saveLocalFile(b.getAddonsDir()+"/"+a,"",e)},getAddonDir:function(e){return e in r&&"system"==r[e].status?n+"/"+e:b.getAddonsDir()+"/"+e},readAddon:function(e,t){var n=this;s.getLocalJSON(e+"/params.json",function(e){t(n.checkAddon(e))})},checkAddon:function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){return void console.log(e)}if(!(e&&e.themeCompatibility&&e.themeCompatibility.indexOf(b.theme.name)<0||e.name in u))return e},loadEachAddon:function(i,t,e,n){var o,r,a,s=this;function l(){s.fire("addonLoadFinish",o,t),n&&n(o)}(t=s.checkAddon(t))?(o=c(t)).name in s.registeredAddons?(console.warn("Addons already loaded",o.name),n&&n(o)):(s.registeredAddons[o.name]=o,s.fire("addonLoaded",t,o),r=v.Deferred().resolve(),t.includes&&(r=r.then(function(e){return v.when.apply(v,t.includes.map(function(e){var t;if(!/[.~:]/.test(e))return t="web/app/includes/"+e+".js",0==e.split("/").pop().indexOf("core-")?b.addCoreResource(t,!0):b.addAppResource(t);console.error("Error: wrong include name '"+e+"' in "+i)})).then(0,function(e){return console.error(e)},v.Deferred().resolve())})),t.dependencies&&(r=r.then(function(e){return v.when.apply(v,t.dependencies.map(function(e){var t=i+"/"+("object"===(void 0===e?"undefined":d(e))?e.src:e),e="object"===(void 0===e?"undefined":d(e))&&e.type?e.type:/.js$/g.test(t)?"js":/.css$/g.test(t)?"css":"";if(e)return b.addAppResource(t,"js"==e)})).then(0,function(e){return console.error(e)},v.Deferred().resolve())})),t.appScript&&(r=r.then(function(){return b.addAppResource(i+"/app.js")})),(a="code-editor"===t.name)&&(r=r.then(function(){return b.addAppResource("web/app/code-editor/app.js")})),a&&(r=r.then(function(){return b.addAppResource("web/app/code-editor/html-clean.js")})),t.coreDependencies&&(r=r.then(function(e){return v.when.apply(v,t.coreDependencies.map(function(t){try{var e=i+"/"+("object"===(void 0===t?"undefined":d(t))?t.src:t),n="object"===(void 0===t?"undefined":d(t))&&t.type?t.type:/.js$/.test(e)?"js":/.css$/.test(e)?"css":"";if(n)return b.addCoreResource(e,"js"==n)}catch(e){console.error(e,t)}})).then(0,function(e){return console.error(e)},v.Deferred().resolve())})),t.coreScript&&(r=r.then(function(e){return b.addCoreResource(i+"/core.js",!0)})),a&&(r=r.then(function(e){return b.addCoreResource("web/app/code-editor/core.js",!0)})),t.plugins&&(r=r.then(function(e){return v.when.apply(v,t.plugins.map(function(e){return b.readPlugin(i+"/"+e)})).then(0,function(e){return console.error(e)},v.Deferred().resolve())})),t.components&&t.components.forEach(function(e){r=r.then(function(){return b.readComponent2(e,i,o)})}),r=r.then(function(){!e&&t.plugins?b.updatePlugins(l):l()})):n&&n(!1)},loadAllAddons:function(e){b.loadAddons(e)},loadAddons:function(n,t){var i=this;n=n||function(){},s.getSettings("loading",function(e){i._runLoadAddons(function(e,t){i.fire("addonsLoaded",e,t),n()},t)})},_runLoadAddons:function(t,e){var a=this;t=t||function(){},b.getAddonsEx(function(r,e){r?v.when.apply(v,a.applyFilter("promisesBeforeAddonsLoaded",[],r)).then(function(){for(var e=v.Deferred(),i=[],o=0;o<r.length;o++)!function(e){var t,n;"theme"!==r[o].type&&(t=v.Deferred(),n=b.getAddonDir(e),s.loadLocalFile(n+"/params.json",function(e){e?a.loadEachAddon(n,e,!0,function(e){e||console.warn("Error while load addon "+n),setTimeout(function(){t.resolve()},1)}):t.reject()}),i.push(t.promise()))}(r[o].name);return v.when.apply(v,i).then(function(){e.resolve()}).fail(function(){e.resolve()}),e.promise()}).done(function(){b.updatePlugins(function(){t(r,e)})}):t()},e)}},events:{accountInited:function(){var t=this;s.getLocalJSON(n+"/list.json",function(e){r=e||r,e||console.warn("no buildin addon"),t.getAddons(function(e){for(var t in r)t in e&&o(e[t]);b.fireOnce("addonsReady")})})},signedin:function(){this.loadAllAddons()},load:function(){var t;b.getThemeAddonsEx=(t=b.createCachingWrapper(b.getAddonsEx.bind(null,void 0,{type:"theme"},{server:!0}),{ttl:9e5}),function(e){return t().then(e)})}}})},["jQuery","mbrApp","mbrServer","Bridge"])},function(e){e.exports=JSON.parse('{"iconfont":{"minVersion":6},"dropdown-menu":{"minVersion":2},"instagram-feed":{"disabled":true},"social-feed":{"disabled":true},"amp-blocks":{"disabled":true},"translator":{"disabled":true},"lazyload":{"disabled":true},"pwa-builder":{"disabled":true},"password-protect":{"disabled":true},"facebook-feed":{"disabled":true}}')},function(e,t,n){"use strict";var c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}defineM("app-addons-messenger",function(i,e,t,o){var r={},n=(d(a,[{key:"addSubscriber",value:function(e){if("function"!=typeof e)throw new Error("Invalid subscriber type");this._subscribers.push(e)}},{key:"removeSubscriber",value:function(e){if("function"!=typeof e)throw new Error("Invalid subscriber type");this._subscribers=this._subscribers.filter(function(e){return e!==funk})}},{key:"sendEventToSubs",value:function(t){var n=this;this._subscribers.map(function(e){return e.call(n,t)})}}]),a);function a(e){u(this,a),this.params=e||{},this._subscribers=[],this.addSubscriber=this.addSubscriber.bind(this),this.removeSubscriber=this.removeSubscriber.bind(this),this.sendEventToSubs=this.sendEventToSubs.bind(this)}function s(){u(this,s),this._buses={},this.addBus=this.addBus.bind(this),this.removeBus=this.removeBus.bind(this),this.isExistBus=this.isExistBus.bind(this),this.subscribe=this.subscribe.bind(this),this.unsubscribe=this.unsubscribe.bind(this),this.postMessageToEventBus=this.postMessageToEventBus.bind(this),this.postMessageToHandler=this.postMessageToHandler.bind(this),this.eventListener=this.eventListener.bind(this)}d(s,[{key:"addBus",value:function(e){e=new n(e);if(!e.params.name||"string"!=typeof e.params.name)throw new Error("invalid eventBus name");if(!(e.params.name in this._buses))return this._buses[e.params.name]=e}},{key:"removeBus",value:function(t){if(!t||!this._buses.find(function(e){return e.name===t}))throw new Error("eventBus "+t+" not found");this._buses=this._buses.filter(function(e){return e.name!==t})}},{key:"isExistBus",value:function(e){return!(!e||"string"!=typeof e)&&e in this._buses}},{key:"subscribe",value:function(e,t){e&&"string"==typeof e&&this.isExistBus(e)&&"function"==typeof t&&this._buses[e].addSubscriber(t)}},{key:"unsubscribe",value:function(e,t){e&&"string"==typeof e&&this.isExistBus(e)&&"function"==typeof t&&(this._subscribers=this._subscribers.filter(function(e){return e!==t}))}},{key:"postMessageToEventBus",value:function(e){if(!e||"object"!==!(void 0===e||c(e)))throw new Error("event must be an object");if(!(e.name in this._buses))throw new Error("Unknown eventBus name:"+e.name);this._buses[e.name].sendEventToSubs(e)}},{key:"postMessageToHandler",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:function(){};if(!e||"object"!==(void 0===e?"undefined":c(e)))return t(new Error("event must be an object"));if(!(e.name in this._buses))return t(new Error("Unknown eventBus name:"+e.name));if(!(e.method in this._buses[e.name].params)||"function"!=typeof this._buses[e.name].params[e.method])return t(new Error("Unknown eventBus method:"+e.method));try{this._buses[e.name].params[e.method].call(this,e.data).then(function(e){t(null,e)}).catch(function(e){throw e})}catch(e){t(e)}}},{key:"eventListener",value:function(){var n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};"message"===n.type&&n.data.name in this._buses&&this.postMessageToHandler(n.data,function(e,t){if(e)throw e;t&&n.source.postMessage({name:n.data.name,method:n.data.method,data:t},n.origin)})}}]);var l=new s;e.regExtension({name:"addons-messenger",global:{createEventBus:l.addBus,getEventBusToken:function(t){var n;return function(e){return e||!r[t]||Date.now()>=n?o.post("auth",{target:t}).then(function(e){return n=Date.now()+1e3*(e.expires_in-30),r[t]=e.access_token}).catch(function(e,t){return console.log(e,t),i.Deferred().reject(new Error(e)).promise()}):jQuery.when(r[t])}},postMessageToEventBus:l.postMessageToEventBus},events:{loaded:function(){window.addEventListener("message",l.eventListener,!1),e.createEventBus({name:"electric-blaze-app",getToken:e.getEventBusToken("https://electricblaze.com")})}}})},["jQuery","mbrApp","TR()","mbrServer"])},function(e,t,n){"use strict";var f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};defineM("app-plugin-progress",function(a,s,l){var c=!1,d=0,u=0,p=!1,e='<div class="modal fade no-select plugin-progress-modal" id="appProgressModal" tabindex="-1" role="dialog" aria-hidden="true" data-backdrop="static">  <div class="modal-dialog">\t<div class="modal-content">\t  <div class="modal-header">\t\t<button type="button" class="close" aria-label="Close"><span aria-hidden="true">&times;</span></button>\t\t<h4 class="modal-title">'+l("Progress")+'</h4>\t  </div>\t  <div class="modal-body">       <div class="progressText">'+l("Publishing...")+'</div>\t\t<br>\t\t<div class="exportingText"></div>\t\t<br>\t\t<div class="progress" style="margin-bottom: 0;">\t\t  <div class="progress-bar progress-bar-striped progress-bar-success active" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width: 0%"></div>\t\t</div>\t  </div>\t  <div class="modal-footer">\t\t<button type="button" class="btn btn-default">'+l("Cancel")+"</button>\t  </div>\t</div>  </div></div>";s.regExtension({name:"plugin-progress",global:{$progressModal:a(e).insertBefore("#insertBefore"),progressBar:function(e,t,n,i){var o=this;if("object"===(void 0===e?"undefined":f(e)))void 0!==e.progress?o.$progressModal.find(".progress-bar").css("width",e.progress+"%"):p=e,i?o.$progressModal.addClass("passive"):o.$progressModal.removeClass("passive");else if("number"==typeof e&&isFinite(e))d=e,u=0;else switch(e){case"show":i?o.$progressModal.addClass("passive"):o.$progressModal.removeClass("passive"),o.progressBar(0),o.progressBar(""),o.$progressModal.appendTo(o.$body).modal({keyboard:!1}),t&&o.$progressModal.find(".modal-title").html(t),n&&(" "===n?o.$progressModal.find(".progressText").remove():o.$progressModal.find(".progressText").html(n));break;case"hide":u=d=0,o.$progressModal.modal("hide"),p=!1;break;case"isCanceled":return!o.$progressModal.is(":visible");case"stop":p&&p.pause&&p.pause(),a(".plugin-progress-modal-stop, .plugin-progress-modal-error").length||bootbox.dialog({message:t||l("Do you want to stop?"),className:"plugin-progress-modal-stop",closeButton:!1,buttons:{cancel:{label:l("Stop"),className:"btn-default",callback:function(){p&&(p.exit&&p.exit(),p=!1),o.progressBar("hide"),s.fire("cancelDownloadAddon")}},confirm:{label:l("Continue"),className:"btn-primary",callback:function(){p&&p.resume&&p.resume()}}}});break;case"error":p&&(c?(p.pause(),setTimeout(function(){p.resume()},0)):(a(".plugin-progress-modal-stop").remove(),p.pause(),bootbox.dialog({message:t||l("Unknown error"),className:"plugin-progress-modal-error",closeButton:!1,buttons:{cancel:{label:l("Cancel"),className:"btn-default",callback:function(){p&&(p.exit&&p.exit(),p=!1),o.progressBar("hide")}},all:{label:l("Ignore Errors"),className:"btn-default",callback:function(){c=!0,p&&p.resume&&p.resume()}},confirm:{label:l("Continue"),className:"btn-primary",callback:function(){p&&p.resume&&p.resume()}}}})));break;default:var r=0;0===u&&(c=!1),0!==d&&(u++,r=Math.min(100,100*u/d)),o.$progressModal.find(".exportingText").html(e),o.$progressModal.find(".progress-bar").css("width",r+"%").attr("aria-valuenow",r)}}},events:{load:function(){function t(){n.progressBar("stop",l("Do you want to stop?"))}var n=this;n.$progressModal.on("click",".modal-footer button, .modal-header button",t).closest("body").on("keydown",function(e){27==e.which&&n.$progressModal.is(":not(.passive):visible")&&t()})}}})},["jQuery","mbrApp","TR()"])},function(e,t,n){"use strict";defineM("app-plugin-favicon",function(n,o,r,a){o.regExtension({name:"favicon",global:{findMenuComponent:function(){var e,t=null,n=o.Core.getPages();for(e in n){var i=n[e];if(i.settings&&(t=i.components.find(function(e){return"Menu"===e._group||-1<e._name.toLowerCase().indexOf("menu")})))break}return t},findMenuLogo:function(){var e=o.findMenuComponent();if(e)if(o.isSecondaryComponent(e)){for(var t in e)if(e[t].hasOwnProperty("image"))return e[t].image.src}else if(e.logo&&e.logo.image.active)return e.logo.image.src},getProjectFavicon:function(){return o.Core.replaceSystemVariables(o.projectSettings.favicon||o.findMenuLogo()||"https://a.mobirise.com/app/builder/images/logo5.png")}},events:{load:function(){o.Core.on("loadedComponent",function(e,t,n,i){!o.projectSettings.favicon&&("Menu"===e._group||-1<e._name.toLowerCase().indexOf("menu"))&&o.$body.find(".navbar-project-info .navbar-favicon").attr("src",o.getProjectFavicon())});var i=this;function e(t){a.openImage(r("Select Image"),i.projectPath?i.projectPath+"/assets/images":"","",o.projectSettings.imageResize?{width:"128",format:"png"}:"",function(e){e&&(e=a.path2app(e),n("input[name=favicon]").val(e),n(".faviconImage").one("load",function(){o.runSaveProject()}),n(".faviconImage").attr("src",e),o.projectSettings.favicon=e,o.$body.find(".navbar-project-info .navbar-favicon").attr("src",e)),t(e)})}i.addFilter("publishHTML",function(e){var t=o.getProjectFavicon();return t?e.replace('<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1">','<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1">\n  <link rel="shortcut icon" href="'+t+'" type="image/x-icon">'):e}),o.addFilter("sidebarProjectSettings",function(e){var t=i.projectSettings.favicon||"",n=o.findMenuLogo(),n={title:"Common",name:"common",html:'<div class="form-group col-md-12 favicon-setting-wrap">\n                            <label class="control-label">'+r("Favicon")+'</label>\n                            <div class="row">\n                                <img id="faviconButton" class="faviconImage col-md-3" width="60" src="'+o.getProjectFavicon()+'">\n                            </div>\n                            <input type="hidden" name="favicon" value="'+t+'">\n                            '+(n?'<div class="row">\n                                <label for="faviconUseMenuLogo" class="control-label col">'+r("Use menu logo")+'</label>\n                                <div class="togglebutton col-auto">\n                                    <label>\n                                        <input type="checkbox" id="faviconUseMenuLogo"'+(t?"":" checked")+'>\n                                        <span class="toggle" style="margin: 0px;"></span>\n                                    </label>\n                                </div>\n                            </div>\n                        </div>':"")};return e.push(n),e}),i.$body.on("click","#faviconButton",function(){e(function(e){e&&n("#faviconUseMenuLogo").prop("checked",!1)})}),i.$body.on("change","#faviconUseMenuLogo",function(){n("#faviconUseMenuLogo").prop("checked")?(n("input[name=favicon]").val(""),o.projectSettings.favicon="",n(".faviconImage").one("load",function(){o.runSaveProject()}),n(".faviconImage").attr("src",o.getProjectFavicon()),o.$body.find(".navbar-project-info .navbar-favicon").attr("src",o.getProjectFavicon())):e(function(e){e||n("#faviconUseMenuLogo").prop("checked",!0)})}),o.Core.on("savedMediaIconFontDialog",function(e){var t,e=n(e);if(e.closest('section[id*="menu" i]'.length)){if("secondary"===o.theme.type)t=e;else{if("logo"!==e.attr("mbr-media"))return;t=e.find("a").length?e.find("a"):e.find("span")}e=o.getProjectImagesDir()+"/mbr-favicon.png";o.saveIcon(t,e)}}),o.Core.on("removeComponent",function(e,t){n(t).find("section").length&&-1<n(t).find("section").attr("id").toLowerCase().indexOf("menu")&&a.removeLocal(o.getProjectImagesDir()+"/mbr-favicon.png",function(e){e&&(o.$body.find(".navbar-project-info .navbar-favicon").attr("src",o.getProjectFavicon()),o.addFilter("publishFiles",function(e){for(var t=0;t<e.length;t++)e[t].dest===o.IMAGES_FOLDER+"/mbr-favicon.png"&&e.splice(t,1);return e}),o.addFilter("exportProjectFiles",function(e){for(var t=0;t<e.length;t++)e[t].dest===o.IMAGES_FOLDER+"/mbr-favicon.png"&&e.splice(t,1);return e}))})}),o.$body.find(".navbar-project-info .navbar-favicon").on("click",function(e){e.preventDefault(),e.stopPropagation(),o.openProjectSettings(o.projectPath+"/project.mobirise"),setTimeout(function(){n('#app-project-sidebar > [data-tab="common"]').click(),n(".app-layer-common .favicon-setting-wrap").addClass("selected")},100)})},saveMediaImageDialog:function(e,t,n){o.projectSettings.favicon||void 0===n||(n=o.Core.getComponent(n))&&("Menu"===n._group||-1<n._name.toLowerCase().indexOf("menu"))&&(n=t.image.src)&&o.$body.find(".navbar-project-info .navbar-favicon").attr("src",n)},loadedProject:function(){o.$body.find(".navbar-project-info .navbar-favicon").attr("src",o.getProjectFavicon())}}})},["jQuery","mbrApp","TR()","Bridge"])},function(e,t,n){"use strict";defineM("app-plugin-tooltip",function(e,t,n){var i;function o(){clearTimeout(i),i=setTimeout(function(){t.initTooltips()},100)}t.regExtension({name:"plugin-tooltip",global:{initTooltips:function(){e('[data-tooltipster]:not(.tooltipstered), [data-toggle="tooltip"]:not(.tooltipstered)').each(function(){e(this).tooltipster({delay:0,speed:100,contentAsHTML:!!e(this).attr("data-tooltip-src"),content:e(this).attr("data-tooltip-src")?e("<img class="+e(this).attr("data-tooltip-class")+" src="+e(this).attr("data-tooltip-src")+">"):null,position:e(this).attr("data-tooltipster")||e(this).attr("data-placement")||"bottom"})})}},events:{load:o,signedin:o,loadedProject:o,addedPage:o,showedProjectsList:o,showedProjectSettings:o,showedAddonsList:o,showedCodeEditor:o,showedSiteCodeEditor:o,foundOnlineLibraryImages:o,initedComponentsPalette:o}})},["jQuery","mbrApp","TR()"])},function(e,t,n){"use strict";defineM("app-plugin-spectrum",function(i,o,e){o.regExtension({name:"plugin-spectrum",global:{initSpectrum:function(){function n(e,t){return-1==(t=t.map(function(e){return e.toUpperCase()})).indexOf(e.toUpperCase())}var t=this;i(".spectrum").each(function(){i(this).spectrum("destroy").spectrum({showButtons:!1,preferredFormat:"hex",showInput:!0,showPaletteOnly:!0,togglePaletteOnly:!0,togglePaletteMoreText:e("More")+" >",togglePaletteLessText:e("Less")+" <",maxSelectionSize:1,palette:t.getThemeColorsSet(7),move:function(e){i(this).val(e.toHexString()),t.changeComponentParams(this)},hide:function(e){var t;e&&((t=o.projectSettings.theme.additionalSetColors)?n(e.toHexString(),t)&&n(e.toHexString(),o.getThemeColorsSet(7)[0])&&(t.length<7?t.push(e.toHexString()):(t.unshift(e.toHexString()),t.pop())):n(e.toHexString(),o.getThemeColorsSet(7)[0])?o.projectSettings.theme.additionalSetColors=[e.toHexString()]:o.projectSettings.theme.additionalSetColors=[])}})})}},events:{preparedComponentParams:function(){this.initSpectrum()},hideComponentParams:function(){i(".spectrum").spectrum("hide")},loadedProject:function(){o.Core.$body.children('input[type="text"]').val("")}}})},["jQuery","mbrApp","TR()"])},function(e,t,n){"use strict";defineM("app-plugin-map",function(l,c,e,s){var t,d=null,u=[],p="loading",f="ok",h="data-state",m="data-state-details";t={};function g(e){return"https://www.google.com/maps/embed/v1/place?key="+u.pubKeyHub[t=u.pubKeyHub,Math.floor(Math.random()*t.length)]+"&amp;q="+e;var t}function v(e){return RegExp("<iframe(.+)</iframe>","g").test(e)}function b(e){return'<iframe frameborder="0" style="border:0" src="'+e+'" allowfullscreen></iframe>'}c.regExtension({name:"plugin-map",events:{coreLoad:function(){var e=c.Core.$window[0],a=e.jQuery;e.rivets.binders.map={routine:function(t,n){var i,e,o,r;n&&(n.state=n.state||f,n.state==f||v(n.address)?v(n.address)?a(t).removeAttr(h).html(b((e=n.address,l(e).attr("src")))):(null===d&&(d=a.Deferred(),i=4e3,r=l.Deferred(),s.get("storage/google-maps").then(function(e){e?r.resolve(e):(console.error("mbrServer: Invalid google keys."),r.reject())},function(){console.warn("Error while trying to get remote keys."),r.reject()}),e=r,o=new Promise(function(e,t){var n=setTimeout(function(){clearTimeout(n),e({private_keys:["AIzaSyDUGx-K5p_F4g1KzbL5oJ4WZRg00GsRy-4"],public_keys:["AIzaSyCt1265A4qvZy9HKUeA8J15AOC4SrCyZe4"]})},i)}),Promise.race([e,o]).then(function(e){u.pubKeyHub=e.public_keys,u.prvKeyHub=e.private_keys,d.resolve(u)},function(e){console.error(e.message)})),"resolved"===d.state()?a(t).removeAttr(h).html(b(g(n.address))):"pending"===d.state()&&d.then(function(e){a(t).removeAttr(h).html(b(g(n.address)))},function(e){console.error(e.message),a(t).removeAttr(h).html(b(g(n.address)))})):a(t).attr(h,n.state).html("<div "+m+">"+c.escapeHtml(n.stateDetails||"")+"</div>"))}}},loaded:function(){c.$body.on("click",".map-update",function(){var e,t,n,i,o=l(this).data(),r=o.componentID,a=o.paramName,o=o.address,s=c.Core.getComponent(r)._params;s[a].address!==o&&(s[a]={address:o,state:p},v(o)?(s[a].state=f,s[a].address=o,c.Core.changeComponentParams(r,a,s[a]),c.checkConditionsComponentParams(r),c.calulateComponentParams()):(e=r,t=s,n=a,i=o,Promise.resolve().then(function(){t[n]={address:i,state:f,stateDetails:""},c.Core.changeComponentParams(e,n,t[n]),c.checkConditionsComponentParams(e),c.calulateComponentParams()})),l(this).attr("disabled","true"))})},"map.changeComponentParams":function(e,t,n,i){i.find(".map-update").data({componentID:e,paramName:t,address:n}).removeAttr("disabled")}}})},["jQuery","mbrApp","TR()","mbrServer"])},function(e,t,n){"use strict";defineM("app-plugin-range-slider",function(s,e,t){e.regExtension({name:"plugin-range-slider",global:{initRangeSlider:function(){this.$componentsParams.find(".slider").each(function(){var n=this,e=+s(n).attr("data-value"),i=+s(n).attr("data-min"),o=+s(n).attr("data-max"),t=+s(n).attr("data-step"),r=(noUiSlider.create(n,{start:e,step:t,range:{min:i,max:o}}),s("<span></span>").appendTo(s(n).find(".noUi-handle"))),a=0;n.noUiSlider.on("update",function(e,t){a?(e=parseFloat(e[t]),s(n).removeClass("noUi-first noUi-last"),e==i?s(n).addClass("noUi-first"):e==o&&s(n).addClass("noUi-last"),r.html("<span>"+e+"</span>"),s(n).next().val(e).trigger("change")):a=1}),s(n).find(".noUi-handle").on("mousedown",function(e){var t=s(".app-template")[0];s(t).append('<div class="iframeWrapper"></div>'),s(".iframeWrapper").css({position:"absolute","z-index":"8000",top:"0",bottom:"0",width:"100%"}).on("mouseup",function(e){s(".iframeWrapper").remove()})})})}},events:{preparedComponentParams:function(){this.initRangeSlider()}}})},["jQuery","mbrApp","TR()"])},function(e,t,n){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};defineM("app-plugin-iconfont",function(_,k,S,C){var P='<div class="form-group clearfix"><div class="row"><iframe class="col-md-3 iconfont-preview" frameborder="no"src="about:blank"></iframe><div class="col-md-3 icons-params"><div class="row"><div class="form-group col-md-12"><label>'+S("Icon Color")+'</label><input class="mbr-color iconfont-color pull-right" name="color" type="text" value=""/></div></div><div class="row"><div class="col-md-12 iconfont-size"><label class="" >'+S("Icon Size")+'</label><div class="togglebutton pull-right"><label><input type="checkbox" name="sizeAuto" checked/><span class="toggle"></span>'+S("Auto")+'</label></div></div></div><div class="col-md-8 pull-right"><input class="iconfont-size form-control" name="fontSize" type="text" value=""/></div></div><div class="iconfont-link-group col-sm-9"><div class="row"><div class="col-md-7"><label class="control-label link-label" for="iconfont-link">'+S("Link Icon to")+'</label><input id="iconfont-link" class="form-control" name="link" type="text" readonly></div><div class="col-md-3"><button class="btn btn-primary iconfont-link-btn">'+S("Edit Link")+'</button></div></div></div></div></div><div class="form-group clearfix "><div class="row"><div class="col"><input type="text" placeholder="'+S("Search...")+'" class="form-control iconfont-search" style="width:200px;margin-right:30px;margin-top:0px;display:inline-block;" /><button class="btn btn-primary collapse-btn">'+S("Collapse All")+'</button><button class="btn btn-primary expand-btn" style="margin-left:10px;">'+S("Expand All")+'</button></div></div></div><iframe class="form-group iconfont-list" frameborder="no" style="width:100%; -webkit-flex-grow:1;" src="about:blank"></iframe>';function T(){for(var e in k.iconFonts)if("object"==i(k.iconFonts[e]))return k.iconFonts[e];return{}}k.regExtension({name:"iconfont",global:{iconFonts:{},parseIconFontNames:function(e,r){var a,s,l=e.iconfont;function o(e){for(var t,n=/\.([^\s\:\{]+)\s*(?:\:[^\{]+)?{[^\}]*content\s*\:\s*([^};\s]+)\s*[;}]/gi;null!==(t=n.exec(e));){var i,o=t[1];if(l.prefix){if(0!==o.indexOf(l.prefix))continue;o=o.replace(l.prefix,"")}0<=a.indexOf(o)||(r&&((i=/(?:\'\\([A-F0-9]+)\')|(?:\"\\([A-F0-9]+)\")/i.exec(t[2]))?s.push(i[1]||i[2]):s.push(t[2])),a.push(o))}l.default||(l.default=l.names[0])}l?(a=l.names=[],s=l.codes=r&&[],k.eachPlugins2([e],function(e,t,n,i){"css"==t&&C.loadLocalFile(e,o)})):console.log("Error: plugin.iconfont undefined for plugin "+e.name)},createIconFont:function(e){var t,n;return T().family?e&&e.name&&(t=e.family&&k.iconFonts[e.family]||T())&&t.names?(e.link?(n=_("<a>").attr("href",e.link),e.newWindow&&n.attr("target","_blank")):n=_("<span/>"),t.class&&n.addClass(t.class),t.prefix?n.addClass(t.prefix+e.name):(n.html("&#x"+t.codes[t.names.indexOf(e.name)]),n.attr("data-name",e.name)),e.class&&n.addClass(e.class),e.size&&n.css("fontSize",parseInt(e.size,10)+"px"),e.color&&n.css("color",e.color),n.get(0)):"":(console.log("Warning: no iconfonts found"),"")},extractIconFont:function(e){var t,n,i,o,r={};if(T().family){if(e&&k.iconFonts){for(n in k.iconFonts){var a,s,l=k.iconFonts[n];if(l.class&&(a="."+l.class.replace(/\s+/g,"."),a=_(e).is(a)),l.prefix&&(s=new RegExp("^(.*\\s)?"+l.prefix).test(e.className)),(l.class||l.prefix)&&(!l.class||a)&&(!l.prefix||s)){t=l;break}}t?(r.family=t.family,i=e.className,(o=t.prefix)?i&&0<=i.indexOf(o)&&(r.name=i.substr(i.indexOf(o)+o.length).split(" ")[0],r.classPrefix=o):t.class&&0<=i.split(" ").indexOf(t.class)&&(r.name=_(e).attr("data-name")),e.tagName&&(r.size=parseInt(e.style.fontSize,10),r.color=e.style.color,"A"==e.tagName.toUpperCase())&&(r.link=e.href,r.newWindow="_blank"==e.target)):console.log("no font found for .",e)}}else console.log("Warning: no iconfonts found");return r},runIconFontDialog:function(i,e,t){e=e||{};var n,o=!!(i=i||{}).name,r=k.iconFonts[i.family]||k.iconFonts[e.family]||T(),a=(e=_.extend({name:r.default},e),i=_.extend({name:e.name,family:r.family},i),k.showDialog({title:S("Select icons"),className:"note-air-layout note-font-dialog",size:"large",flex:!0,body:P,id:"innerFontDialog",buttons:{success:{label:S("Insert Icon"),default:!0,className:"iconfont-ok"},delete:{label:S("Remove Icon"),className:"iconfont-delete"}},create:function(e){_(e).find("input.iconfont-color.mbr-color").val(i.color).on("change",function(){i.color=_(this).val(),g()})},show:function(e){var n=e.find("#iconfont-link");n.val(i.link),e.on("click.media-click","#iconfont-link, .iconfont-link-btn",function(e){var t={url:n.val(),isNewWindow:i.newWindow};k.showMbrLinkDialog(t,function(e){n.val(e.url),i.link=e.url,i.newWindow=e.isNewWindow})}),e.on("click.media-click",".collapse-btn",function(e){f.collapse()}),e.on("click.media-click",".expand-btn",function(e){f.expand()})}})),s=(k.fire("runIconFontDialog",a),["app/interface/app-plugin-iconfont.css"]),l="";for(n in k.iconFonts){var c=k.iconFonts[n];c.plugin&&k.eachPlugins2([k.getPlugin(c.plugin)],function(e,t,n,i){"css"==t&&s.push(C.path2app(e))}),l+=function(e){var t,n=_('<div class="font-block"/>'),i=(n.append('<p class="font-title">'+(e.author?'<a href="'+e.author+'">':"")+(e.title||e.family)+(e.author?"</a>":"")+"</p>"),_("<div/>").addClass("font-table").attr("data-family",e.family)),o=(n.append(i),e.names);for(t in o){var r=_(k.createIconFont({name:o[t],family:e.family}));r.attr("title",o[t]),i.append(r)}return n}(c)[0].outerHTML}var d,u,p,f,r=k.createIconFont({name:e.name,family:e.family,color:e.color}).outerHTML;function h(e,t){d.find("span").removeClass("char-active"),e=(e=e||i.name).replace("'","\\'"),t=t||i.family;t=d.find(".font-table[data-family="+t+"]");t.find("[title="+e+"]").addClass("char-active"),t.length&&t.get(0).focus()}function m(e,t){i.name=e||i.name,i.family=t||i.family,g(e,t),h(i.name,i.family)}function g(e,t){var n;u&&((n=k.extractIconFont(u.find("span").get(0))).name=e||n.name,n.color=i.color,n.family=t||n.family,u.html(k.createIconFont(n).outerHTML))}k.runIframe(a.find("iframe.iconfont-preview").get(0),r,{base:"",onload:function(e){(u=_(e).find("body")).addClass("iconfont-selected"),g(i.name,i.family)},links:s,noScroll:!0}),k.runIframe(a.find("iframe.iconfont-list").get(0),l,{base:"",onload:function(e){d=_(e).find("body"),_(e).find("body .font-table span").click(function(){m((p=_(this)).attr("title"),p.parents(".font-table").attr("data-family"))}),p=d.find(".font-table[data-family="+i.family+"] span[title="+i.name.replace("'","\\'")+"]"),m(),(f=new k.Accordion(d.find(".font-title").get(),d.find(".font-table").get(),{autoCollapse:!1})).collapse(),f.open(d.find(".font-table:first").get())},links:s}),a.find("iframe.iconfont-list").contents().find("body").css("margin","0"),k.redirectLinks(a);var v=a.find(".iconfont-search"),b=a.find("input[name=fontSize]"),r=a.find("input[name=sizeAuto]"),y=b.parent(".bootstrap-touchspin"),w=a.find(".iconfont-size"),w=(y.length||(b.TouchSpin({min:1,max:1e3,verticalbuttons:!0,initval:i.size||""}).on("change",function(){i.size=_(this).val()}),y=b.parent(".bootstrap-touchspin")),"size"in i?(w.show(),b.val(i.size)):w.hide(),r.on("change",function(){_(this).prop("checked")?(e.size=i.size,i.size="",b.val(i.size),y.hide()):(i.size=e.size||0,b.val(i.size),y.show())}),r.prop("checked",!i.size),i.size?y.show():y.hide(),a.find(".iconfont-link-group"));function x(){var e=v.val().toLowerCase().replace("'","\\'"),t=_(d).find(".font-table span");(""!=e?(f.expand(),t.hide(),t.filter("[title*="+e+"]")):t).show()}return"link"in i?w.show():w.hide(),a.on("click",".close",function(){t(),a.modal("hide")}),a.on("click",".iconfont-ok",function(){t(i),a.modal("hide")}),a.on("click",".iconfont-cancel",function(){t(),a.modal("hide")}),o?(a.on("click",".iconfont-delete",function(){t(void 0),a.modal("hide")}),a.find(".iconfont-delete").show()):a.find(".iconfont-delete").hide(),a.on("hidden.bs.modal",function(){a.off("click mouseenter mouseleave"),_(d).off("keydown")}),v.keyup(x),v.val(""),x(),a.modal("show"),a},saveIcon:function(e,t,n){var i=_("<canvas></canvas>"),o=(i.insertAfter(e).css("display","none").attr({width:e.outerWidth(),height:e.outerHeight()}),i[0].getContext("2d")),r=window.getComputedStyle(e[0],":before").getPropertyValue("font-family"),a=window.getComputedStyle(e[0]).getPropertyValue("font-size"),s=window.getComputedStyle(e[0]).getPropertyValue("color"),l=window.getComputedStyle(e[0],":before").getPropertyValue("content").replace(/"/g,""),a=(o.font=a+" "+r,o.fillStyle=s,o.fillText(l,0,e.outerHeight()),i[0].toDataURL().replace("data:image/png;base64,",""));i.remove(),t=t||C.tempLocation+"/open"+C.dateFormat(new Date,"yyyyMMdd_hhmmss")+"/mbr-favicon.png",C.saveLocalBase64(t,a,function(e){e?n(t):console.error("Error while saving image to:",t)})}},events:{registeredPlugin:function(e){var t;e.iconfont&&((t=e.iconfont).family in this.iconFonts&&(!this.iconFonts[t.family].names||!t.names||this.iconFonts[t.family].names.length>=t.names.length)?console.log("Warning: font is dublicated: ",t.family," in ",e.name,e):(t.plugin=e.name,(this.iconFonts[t.family]=t).names?t.default||(t.default=t.names[0]):(console.log("Warning: font "+t.family+" has no icons, now will be parsed..."),this.parseIconFontNames(e))))},load:function(){var c={},d=[];k.Core.addFilter("getResultComponent",function(e){return e.then(function(e,t,n){var i,o=k.iconFonts,r=c[n]||[];for(i in o){var a=o[i],s=(void 0,l="",(s=a).class&&(l="."+s.class.split(/\s+/).join(".")),l=s.prefix?l+'[class*=" '+s.prefix+'"],'+l+'[class^="'+s.prefix+'"]':l),l=_(e).find(s);l.length&&r.indexOf(i)<0&&r.push(a.plugin),l.length&&d.indexOf(a.plugin)<0&&d.push(a.plugin)}return c[n]=r,_.Deferred().resolve(e,t,n)})}),k.addFilter("allUsedPluginsForPage",function(e,t){var n=c[t];if(n){for(var i=0;i<n.length;i++)e.indexOf(n[i])<0&&e.push(n[i]);c[t]=0}return e}),k.addFilter("allUsedPlugins",function(e){for(var t=0;t<d.length;t++){var n=d[t];e.indexOf(n)<0&&e.push(n)}return d=[],e})}}})},["jQuery","mbrApp","TR()","Bridge"])},function(e,t,n){"use strict";defineM("app-plugin-smart-page-adding",function(a,s,e){s.regExtension({name:"plugin-smart-page-adding",events:{addedPage:function(e,t){if(!(t.length<5||t[4]&&void 0!==t[4])){var n,i,o=s.Core.resultJSON[e],r=s.Core.resultJSON[s.Core.currentPage];for(n in r.components)r.components[n]._global&&(delete(i=a.extend({},r.components[n]))._anchor,i._id=s.Core.uniqNum(),o.components.push(i))}}}})},["jQuery","mbrApp","TR()"])},function(e,t,n){"use strict";defineM("app-plugin-device-preview",function(n,i,e){i.regExtension({name:"plugin-device-preview",global:{$navbarDevices:n(".navbar-devices"),checkPreviewHeight:function(){var e=n(".app-template iframe");parseInt(e.height()+i.$body.find(".app-navbar").outerHeight())>=parseInt(n(".app-template").css("height"))?this.$iframe.addClass("maximumHeight"):this.$iframe.removeClass(".maximumHeight")}},events:{load:function(){var t=this;t.$iframe.attr("class",t.$navbarDevices.find(".active").attr("data-device")),t.$navbarDevices.on("click","> li",function(e){e.preventDefault(),n(this).hasClass("active")||(e=n(this).attr("data-device"),"true"===i.appSettings.showAllViews?n(this).addClass("active").siblings().removeClass("active"):(n(this).addClass("active").hide(),("phone"===e?n(this).siblings('[data-device="desktop"]'):n(this).siblings('[data-device="phone"]')).removeClass("active").css("display","inline-block")),t.$iframe.attr("class",e),i.Core.$body.toggleClass("desktop","desktop"===e),i.Core.$body.toggleClass("phone","phone"===e)),t.checkPreviewHeight()})}}})},["jQuery","mbrApp","TR()"])},function(e,t,n){"use strict";defineM("app-mobile-interface",function(a,d,s,o){var r,e=a("nav.app-navbar").innerHeight(),u=window.innerHeight-e,l=window.innerWidth,c=d.$body.find("#mobile-blocks-manager");d.regExtension({name:"mobile-interface",global:{$navbar:a(".app-navbar"),calcBlocksCoords:function(n){var i=[];if(0!==n.lenght)return n.each(function(e){var t=(e=a(n[e])).offset().top,e=t+e.innerHeight();i.push([t,e])}),i},checkActiveBlock:function(e){var t,n,i,o=d.Core.$document.scrollTop(),r=Math.ceil(o+u/3),a=d.$body.find(".app-mobile-focus-block a h4"),s=d.Core.$template;if(e.length)if(0===o)n=(t=s.find(".app-component").eq(0)).attr("data-app-component-id"),(i=t.find("section").attr("id"))&&a.attr("data-current-component",n).text(i.charAt(0).toUpperCase()+i.slice(1).replace(/\d/," $&"));else for(var l=0,c=e.length;l<c;l++)n=(t=s.find(".app-component").eq(l)).attr("data-app-component-id"),i=t.find("section").attr("id"),e[l][0]<=r&&e[l][1]>=r&&i&&a.attr("data-current-component",n).text(i.charAt(0).toUpperCase()+i.slice(1).replace(/\d/," $&"));else a.removeAttr("data-current-component").text("Blocks")},setAdditionalPadding:function(e){var t=this.Core.$template.find("[data-app-component-id]"),n=2/3*u-e.height()+1;t.each(function(e){a(this).removeAttr("style")}),0<n&&e.attr("style","margin-bottom: "+n+"px")},scrollToComponent:function(e){var t=this,n=c.find(".preloader");e?(e=t.Core.$template.find('[data-app-component-id="'+parseInt(e)+'"]'),t.Core.$body.stop().animate({scrollTop:e.offset().top},0,function(){t.$componentsParams.removeData("app-params-btn"),t.$body.removeClass("app-blocks-manager-open"),n.remove()})):(t.$componentsParams.removeData("app-params-btn"),t.$body.removeClass("app-blocks-manager-open"),n.remove())},showBlocksManager:function(e){this.fire("showBlocksManager");var t=this;setTimeout(function(){t.$body.addClass("app-blocks-manager-open"),c.append(t.preloaderHTML),c.find(".preloader").hide(),r=!1,t.renderBlocksManager(),t.fire("showedBlocksManager")},0)},hideBlocksManager:function(e){this.fire("hideBlocksManager");var n,t=this,i=this.$body.find("#sortable-blocks-manager").children(),o=c.find(".preloader");r?(this.Core.resultJSON[this.Core.currentPage].components,n=[],o.fadeIn(50),i.each(function(e){var t=a(this).attr("data-block-id");n.push(d.Core.getComponent(parseInt(t)))}),t.Core.resultJSON[t.Core.currentPage].components=n,t.Core.render(void 0,t.scrollToComponent.bind(t,e))):t.scrollToComponent(e),this.fire("hiddenBlocksManager")},renderBlocksManager:function(){this.fire("renderBlocksManager");var o=this;c.find(".cont").empty(),this.Core.$template.find(".app-component").each(function(e){var t=o.Core.getComponent(a(this).attr("data-app-component-id")),n=o.Core.$template.find('[data-app-component-id="'+t._id+'"]').find("section").attr("id"),i=!0===t._alwaysTop,t='<div class="m-component'+(i?" is-top-block":"")+'" data-block-id="'+t._id+'"><div class="m-component__thumb"><img src="'+o.theme.path+"/components/"+t._name+'/thumb.png"></div><div class="m-component__name">'+n.charAt(0).toUpperCase()+n.slice(1).replace(/\d/," $&")+"</div>"+(i?"":'<div class="m-component__replace"><span class="mbr-icon-arrows-vertical"></span></div>')+"</div>";c.find(".cont").append(t)}),c.find(".m-component").on("click",function(e){e=a(e.target).closest(".m-component").attr("data-block-id");o.hideBlocksManager(e)}),c.find("#sortable-blocks-manager").sortable({axis:"y",handle:".m-component__replace",items:"> div:not(.is-top-block)",stop:function(e,t){r=!0}}),this.fire("renderedBlocksManager")}},events:{beforeAppLoad:function(){600<l||d.addFilter("addPage",function(e){return e.hasClass("main-page")||e.find("> a").append('<div class="m-page-sort"><span class="mbr-icon-arrows-vertical"></span></div>'),e})},load:function(){var t,r=this;if(!(600<l)){var e,n=["click"];for(e in n)!function(i,o){var r=i.contentWindow["on"+o];i.contentWindow["on"+o]=function(e){r&&r(e);var t=document.createEvent("MouseEvents"),n=i.getBoundingClientRect();t.initMouseEvent(o,!0,!1,window,e.detail,e.screenX,e.screenY,e.clientX+n.left,e.clientY+n.top,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,e.button,null),i.dispatchEvent(t)}}(d.iframe,n[e]);r.Core.on(["rendered","summernoteBlur","removedComponent","changedComponentPosition","changedComponentParams"],function(){d.Core.$template.find("[data-app-component-id]").each(function(e){a(this).removeAttr("style")}),d.setAdditionalPadding(d.Core.$template.find(".app-component").last()),t=r.calcBlocksCoords(r.Core.$template.find("[data-app-component-id]")),r.checkActiveBlock(t)});var i='[data-app-edit="content"], [data-app-edit="full"], [data-app-btn]',o=(d.Core.$window.on("click scroll",function(e){t=d.calcBlocksCoords(d.Core.$template.find("[data-app-component-id]")),r.checkActiveBlock(t),d.$body.find(".app-navbar").is(":visible")||("scroll"===e.type&&d.Core.$body.find(".sp-container").addClass("sp-hidden"),a(e.target).is(i))||a(e.target).closest(i).length||a(e.target).closest(".popover").length||a(e.target).hasClass("popover")||(d.Core.$body.find(".popover").hide(),d.Core.$body.find(".dummyTopbar").hide(),d.$iframe.css("height",""),d.Core.$template.css("padding-top",""),d.Core.$template.find(".app-component:first .app-component-content .navbar-fixed-top").css("top",""),d.$body.find(".app-navbar").show(),setTimeout(function(){d.Core.$template.find("[data-app-always-top] .app-component-content .navbar-fixed-top").css("transition","")},0),d.Core.$template.find("[data-app-component-id]").each(function(e){a(this).removeAttr("style")}),d.setAdditionalPadding(d.Core.$template.find(".app-component").last()),t=d.calcBlocksCoords(d.Core.$template.find("[data-app-component-id]")),d.checkActiveBlock(t),d.$template.find("[contenteditable]:focus").trigger("blur"))}),r.Core.on("removedComponent",function(){var e=r.Core.$template.find(".app-component").eq(0).attr("data-app-component-id");r.scrollToComponent(e)}),r.$body.find("#edit-component-params").prepend('<div class="descr"><span class="app-layer-close mbr-icon-angle-left"></span><h4 class="app-layer-title"></h4></div>'),r.$componentsLayer.prepend('<div class="descr"><span class="app-layer-close mbr-icon-angle-left"></span><h4 class="app-layer-title">Add Block</h4></div>'),r.on("prepareComponentParams",function(e){e=r.Core.$template.find('[data-app-component-id="'+e+'"]').find("section").attr("id");r.$body.find("#edit-component-params .descr .app-layer-title").html(e.charAt(0).toUpperCase()+e.slice(1).replace(/\d/," $&"))}),r.$navbar.find(".sidebar-toggle").after('<ul class="nav navbar-nav navbar-blockname"><li class="app-mobile-focus-block"><a href="javascript:void(0)"><h4>Blocks</h4></a></li><li class="app-mobile-focus-block-icon"><a href="javascript:void(0)"><i class="mbr-icon-shapes"></i></a></li></ul>'),r.$body.find(".nav.navbar-nav.navbar-right").append('<li class="app-mobile-params"><a href="javascript:void(0)"><i class="mbr-icon-cog"></i></a></li>'),r.$body.find(".app-mobile-params").on("click",function(e){r.Core.$template.find(".app-component").length&&(r.prepareComponentParams(r.$body.find(".app-mobile-focus-block a h4").attr("data-current-component")),setTimeout(function(){r.showComponentParams(null)},0))}),r.on("showedComponentParams",function(){r.$body.find("#edit-component-params > .cont").append('<button type="button" id="removeComponent" class="btn pull-right btn-danger">'+s("Remove")+"</button>"),r.$body.find("#edit-component-params > .cont").css("max-height","70vh"),r.$body.find("#removeComponent").on("click",function(){r.confirmDlg(s("Remove Block?"),function(e){e&&(r.Core.removeComponent(r.$body.find(".app-mobile-focus-block h4").attr("data-current-component")),r.hideComponentParams())})})}),r.$navbar.find(".navbar-blockname").on("click",function(){r.showBlocksManager()}),r.on("renderedBlocksManager",function(){var e=r.$body.find(".app-mobile-focus-block a h4").attr("data-current-component"),t=c.find('.m-component[data-block-id="'+e+'"]');e&&(t.addClass("m-component__active"),t.offset().top-67!=0)&&a("#sortable-blocks-manager").animate({scrollTop:t.offset().top-67},500)}),c.on("click",".app-layer-close",function(e){r.hideBlocksManager()}),r.$body.find("#edit-component-params").on("click",".app-layer-close",function(e){r.hideComponentParams()}),r.$body.find("#theme-settings").append('<div class="descr"><span class="app-layer-close mbr-icon-angle-right"></span></div>'),r.$body.find("#theme-settings .app-layer-close").on("click",function(e){r.closeThemeSettings()}),r.$componentsLayer.find(".app-layer-close").on("click",function(e){r.hideComponentsList()}),r.$sidebar.find(".top-sidebar-block"));o.addClass("navbar").append('<span class="sidebar-mobile-close"><i class="i1"></i><i class="i2"></i></span>'),o.find(".sidebar-mobile-close").on("click",function(){r.closeSidebar()}),r.$sidebar.find(".app-preview").on("click",function(){r.publish(!0)}),r.$sidebar.find(".app-publish").on("click",function(){r.runPublishDlg(function(e){e&&r.publish(!1,e)})}),r.$pagesList.on("click",".mobile-app-project-clone",function(e){var t,n,i=r.$pagesList.find(".list li > a.active").closest("[data-page]").attr("data-page"),o=r.$pagesList.find(".list li > a.active > .page-thumb").clone();i&&((i=r.addPage(i)).find("> a").prepend(o),r.$pagesList.find(".list .sortable-container").sortable("disable"),o=i.find("span:eq(0)"),i.children("a").addClass("editing"),o.attr("contenteditable",""),t=document.createRange(),n=window.getSelection(),t.selectNodeContents(o[0]),n.removeAllRanges(),n.addRange(t),i.children("a").click())}),r.$pagesList.on("click",".mobile-app-page-project-settings",function(e){e.preventDefault(),e.stopPropagation();e=r.$pagesList.find(".list li > a.active").closest("[data-page]");r.showPageSettings(e)}),r.$pageSettings.find(".app-layer-cont").append('<div class="form-group"><a class="m-remove-page btn btn-danger pull-right">'+s("Remove Page")+"</a></div>"),r.on("showedPageSettings",function(){r.$pageSettings.find(".app-layer-cont .m-remove-page").show(),r.$pagesList.find('.list [data-page="'+r.currentPageSettings+'"]').closest("li").hasClass("main-page")&&r.$pageSettings.find(".app-layer-cont .m-remove-page").hide()}),r.$pageSettings.on("click",".m-remove-page",function(e){e.preventDefault(),e.stopPropagation();var t=r.$pagesList.find('.list [data-page="'+r.currentPageSettings+'"]').closest("li")[0],e=a(t).find("> a").attr("data-page")||"";r.confirmDlg(s("Remove page $page name$?").replace("$page name$"," <strong>"+e+"</strong>"),function(e){e&&(r.removePage(t),r.$pageSettings.find(".app-layer-close").click())})}),r.$projectsList.on("click",".mobile-app-project-clone",function(e){e.preventDefault(),e.stopPropagation();var e=r.$projectsList.find(".list > li > div.active").closest("[data-url]"),t=e.attr("data-url").replace("/project.mobirise",""),e=e.attr("data-name")+"-clone";r.projectClone(t,e)}),r.$projectsList.on("click",".mobile-app-page-project-settings",function(e){e.preventDefault();e=r.$projectsList.find(".list > li > div.active").closest("[data-url]").attr("data-url")||"";r.openProjectSettings(e)}),r.addFilter("additionalSiteSettings",function(e){return e+'<div class="form-group row clearfix"><div class="col-md-9 col-md-offset-3"><a class="m-remove-site btn btn-danger pull-right">'+s("Remove Site")+"</a></div></div>"}),r.$body.on("click",".site-settings-modal .m-remove-site",function(e){e.preventDefault(),e.stopPropagation();var e=r.$projectsList.find(".list > li > div.active").closest("[data-url]"),t=e.attr("data-url"),n=e.attr("data-path")||t,e=e.attr("data-name")||n;r.projectRemove(t,e)}),r.addFilter("additionalSiteSettings",function(e){return(d.hasThemeSettings(d.theme.params)?'<div class="form-group row clearfix"><div class="col-md-9 col-md-offset-3"><a class="m-project-styles btn btn-info pull-right">'+s("Edit Site Styles")+"</a></div></div>":"")+e}),r.$body.on("click",".site-settings-modal .m-project-styles",function(e){r.$body.find(".site-settings-modal").modal("hide"),r.closeSidebar(),r.openThemeSettings()}),r.$projectsList.append('<div class="app-import-project btn btn-fab btn-material-teal btn-raised no-select"><i class="mbr-icon-to-local-drive"></i></div>')}},loadedProject:function(){600<l||d.$projectsList.find("> .app-layer-title").html(d.escapeHtml(d.projectSettings.name))},changedProjectSettings:function(){600<l||d.$projectsList.find("> .app-layer-title").html(d.escapeHtml(d.projectSettings.name))},switchedPage:function(e){600<l||d.$pagesList.find("> .app-layer-title").html(d.escapeHtml(d.$navbarPageName.html()))},changedPageSettings:function(e){600<l||d.$pagesList.find("> .app-layer-title").html(d.escapeHtml(d.$navbarPageName.html()))},showedPagesList:function(){if(!(600<l)){var n,e,t=d.Core.getPages();for(n in t)t.hasOwnProperty(n)&&(e=t[n],a(e.components).each(function(e,t){return!0===t._alwaysTop||(t=d.theme.path+"/components/"+t._name+"/thumb.png",d.$pagesList.find('.list li > [data-page="'+n+'"]').prepend('<div class="page-thumb"><img src='+t+" width=60></div>"),!1)}))}},showedProjectsList:function(){600<l||o.getRecentsList(function(e){for(var t=0;t<e.length;t++){var i=e[t].path+"/project.mobirise";o.getLocalJSON(i,function(n){for(var e in n.pages){n.pages.hasOwnProperty(e)&&(e=n.pages[e],a(e.components).each(function(e,t){return!0===t._alwaysTop||0<=t._name.indexOf("menu")||(t=o.path2app(d.getAddonDir(n.settings.theme.name))+"/components/"+t._name+"/thumb.png",d.$projectsList.find('.list > li[data-url="'+i+'"] .project-img').prepend("<img src="+t+" width=60>"),!1)}));break}})}})},hiddenPagesList:function(){600<l||d.$pagesList.find(".list li > a > .page-thumb").remove()},toggleComponents:function(){600<l||(d.Core.$window.scroll(),d.$body.hasClass("app-blocks-manager-open")||(r=!1),d.hideBlocksManager())},openThemeSettings:function(){600<l||d.Core.$window.scroll()},modalDialogShow:function(e){var t;600<l||(d.Core.$window.scroll(),t=e.find(".modal-footer"),(e.hasClass("create-site-modal")||e.hasClass("crop-image-dialog")||e.hasClass("note-font-dialog")||e.hasClass("note-mbr-link-dialog"))&&t.is(":visible")&&(t.find("> *:visible").length?e.find(".modal-body").addClass("mobile-padding"):t.addClass("hidden")),e.hasClass("create-site-modal"))||e.find(".modal-header .modal-mobile-close").click(function(){t.find('[data-bb-handler="success"]').click(),t.find('[data-bb-handler="insert"]').click()})}}})},["jQuery","mbrApp","TR()","Bridge"])},function(e,t,n){"use strict";var y=n(23);defineM(function(g,v,s){function b(e){e=e.match(/^data:([A-Za-z-+\/]+);base64,(.+)$/);return 3!==e.length?(console.error("Invalid base64 image string"),null):e[2]}v.regExtension({name:"aws-app-plugin-media-editor",global:{showMediaImageDialog:function(c,d,e,t,u,p,n,f){var h,m=[],e='<div class="row mb-0">\n                    <div class="col-xs-12">\n                        <form class="media-image-form">\n                            <div class="form-group clearfix">\n                                <div class="row">\n                                    <div class="col-xs-12" id="media-tabs">\n                                        <ul class="nav nav-tabs mb-0">\n                                            <li class="browse-img">\n                                            '+(y.Bridge.isMobile?'<button class="btn btn-md w-100 btn-primary browser-image-src-btn">'+s("From Phone")+"</button>":'<a href="#browseComputer" data-toggle="tab">'+s("Browse Computer")+"</a>")+'\n                                            </li>\n                                            <li class="active">\n                                                <a href="#onlineLibrary" data-toggle="tab">'+(y.Bridge.isMobile?s("Library"):s("Free Online Library"))+'</a>\n                                            </li>\n                                            <li>\n                                                <a href="#siteLibrary" data-toggle="tab">'+s("Site Library")+'</a>\n                                            </li>\n                                        </ul>\n                                        <div class="tab-content">\n                                            <div class="tab-pane" id="browseComputer">\n                                                <div class="browse-computer-section unspl-section align-center form-row">\n                                                    <div>\n                                                        <p>'+s("Drop images here")+"</p>\n                                                        <p>"+s("or")+'</p>\n                                                        <a class="btn btn-lg btn-primary browser-image-src-btn">'+(y.Bridge.isMobile?s("From Phone"):s("Browse Computer"))+'</a>\n                                                    </div>\n                                                </div>\n                                            </div>\n                                            <div class="tab-pane active" id="onlineLibrary"></div>\n                                            <div class="tab-pane" id="siteLibrary"></div>\n                                            <input id="selected-photo" type="file" '+(u?"multiple":"")+' style="display: none;" accept=".gif,.jpg,.jpeg,.png,.svg">\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                            <div class="row '+(u?" hidden":"")+'">\n                                <div class="col-xs-12 col-sm-3">\n                                    <div class="form-group sel-image">\n                                        <label class="control-label image-label">'+s("Selected Image")+'</label>\n                                        <div class="selected-image">\n                                            <img class="w-100 h-a" src="'+(c.image.src||"")+'" data-name="'+function(e){e=e.match(/[^/\\&\?]+\.\w{3,4}(?=([\?&].*$|$))/);return e?e[0]:""}(c.image.src)+'" id="media-image">\n                                            <div class="btn-group">\n                                                <span class="btn btn-material-light-blue btn-crop">\n                                                    <i class="mbr-icon-pencil"></i>\n                                                </span>\n                                            </div>\n                                            <input id="media-image-src" name="src" type="hidden" value="'+(c.image.src||"")+'">\n                                        </div>\n                                    </div>\n                                </div>\n                                '+(e?"":'<div class="col-xs-12 col-sm-9 col-md-9">\n                                    '+(t?"":'<div class="form-group row">\n                                        <div class="col-md-6">\n                                            <label class="control-label link-label col-xs-12" for="media-image-link">'+s("Link Image to")+'</label>\n                                            <input id="media-image-link" style="margin-top:10px" class="form-control" name="link" type="text" readonly value="'+(c.image.link||"")+'">\n                                        </div>\n                                        <div class="col-md-3">\n                                            <button class="btn btn-primary media-image-link-btn w-100" style="'+(v.isAMP()&&n?"margin-top:75px;":"margin-top:50px")+'">'+s("Edit Link")+"</button>\n                                        </div>\n                                    </div>")+'\n                                    <div class="row">\n                                        <div class="form-group col-xs-12 col-md-6">\n                                            <label class="control-label link-label" for="media-image-alt">'+s("Alt")+'</label>\n                                            <input id="media-image-alt" class="form-control" name="alt" type="text" value="'+(c.image.alt||"")+'">\n                                        </div>\n                                    </div>\n                                </div>')+"\n                            </div>\n                        </form>\n                    </div>\n                </div>";v.fire("showMediaImageDialog"),v.showDialog({title:s("Media Image"),className:"note-air-layout media-image",body:v.applyFilter("showMediaImageDialog",[e].join("\n"),c),cancel:function(e){e.off(".media-click"),v.fire("cancelMediaImageDialog",this)},success:function(r){var e,t,n,i,o,a=this,s=r.find("#browseComputer").hasClass("active");function l(e){if(!u||!s){var t,n=g("form.media-image-form",r).serializeArray();if(n&&n.length){for(var i=0;i<n.length;i++)c.image[n[i].name]=n[i].value;c.image.linkInNewWindow=h}for(t in c)c[t].active=void 0;c.image.active=!0,e&&(c.image.src=e),f&&(v.isAMP()?0==f.parents(".lightbox").length?c=v.applyFilter("saveMediaImageDialog",c):f.siblings(".amp-img-preloader").remove():f.siblings(".m-img-preloader").remove())}var o=[];m.forEach(function(e){o.push(e.src)}),v.fire("saveMediaImageDialog",a,c,p),d(u&&s?o:c),r.off(".media-click"),v.Core.fire("savedMediaImageDialog")}s&&u?s&&u&&l():(e=g("#media-image",r).attr("src"),i=(i=g("#media-image",r).attr("data-name")).replace(/[^A-Za-z0-9.\-_]/g,function(e){return e.charCodeAt()}),e!==c.image.src&&(v.isAMP()?g(f).closest("amp-img").prepend('<div class="amp-img-preloader">\n                                            '+v.preloaderHTML+"\n                                        <div>"):(t=g(f).width(),n=g(f).height(),g(f).before('<div class="m-img-preloader" style="width:'+t+"px; height:"+n+'px;">\n                                            '+v.preloaderHTML+"\n                                        <div>"))),!e||0!==e.indexOf("data:image/")||g("#media-image",r).hasClass("site-library-image")?l(e):(o=function(e){var t=/\-\d+x\d+$/,e=y.Bridge.splitPath(e),n=e.name,i="";i=(i=n.match(t))&&i[0]||"",30<(n=(n=n.replace(t,"")).replace(/\-h_[a-z0-9]+$/,"")).length&&(n=n.substring(0,29));return e.dir+"/"+n+"-h_"+Date.now().toString(36)+i+"."+e.ext}(o=v.projectPath+"/assets/images/"+i.replace(/\.jpeg$/,".jpg")),y.Bridge.saveLocalBase64(o,b(e),function(e){e?l(y.Bridge.path2app(o)):(console.warn("Unable to save image"),d(c))})))},show:function(r){var t=r.find("#media-image-link"),a=r.find("#unspl-section .preloader"),n=g(v.preloaderHTML),e=(r.find(".modal-body").before(n),n.hide(),r.on("click.media-click","#media-image-link, .media-image-link-btn",function(e){e.preventDefault(),e.stopPropagation();e={url:t.val(),isNewWindow:c.image.linkInNewWindow};v.showMbrLinkDialog(e,function(e){t.val(e.url),h=e.isNewWindow})}),r.find(".browse-computer-section")[0]);function i(){var t=(new g.Deferred).resolve();m.forEach(function(e){t=t.then(function(t){var n=new g.Deferred,e=t.src,i=(i=t.name).replace(/[^A-Za-z0-9.\-_]/g,function(e){return e.charCodeAt()}),o=v.projectPath+"/images/"+i.replace(/\.jpeg$/,".jpg");return y.Bridge.saveLocalBase64(o,b(e),function(e){e?(t.src=y.Bridge.path2app(o),n.resolve()):(console.warn('Unable to save image = "'+t.name+'"'),n.reject())}),n.promise()}.bind(t,e))}),t.done(function(){a.hide(),n.hide(),r.find(".modal-content").removeClass("no-events"),r.find('.modal-footer [data-bb-handler="success"]').click()})}function o(e){var t=new g.Deferred;if((e=Array.from(e))&&e[0]){var n=0;if(n<e.length)return/\.(gif|jpg|jpeg|svg|png)$/i.test(e[n].name)||(v.alertDlg('Invalid file type in"'+e[n].name+'"'),t.reject()),3e6<e[n].size&&(v.alertDlg("Error : "+e[n].name+" is larger than 3Mb."),t.reject()),e.reduce(function(e,t){return e.then(function(){return i=t,o=new g.Deferred,y.Bridge.transformImage(i,{quality:60,maxWidth:2e3},function(n){y.Bridge.loadLocalBlob(n,function(e){y.Bridge.removeLocal(n);var t=new FileReader;t.readAsDataURL(e),t.onload=function(e){var t;u?(t={name:i.name,src:e.target.result},m.push(t)):(g("#media-image").attr("src",e.target.result),r.find(".modal-content").removeClass("no-events"),a.hide()),o.resolve(e.target.result)},t.onerror=function(e){console.error('Invalid base64 image string on "'+i.name+'"'),v.alertDlg("Error while loading image."),r.find(".modal-content").removeClass("no-events"),a.hide(),o.reject(e)}})}),o.promise();var i,o})},t.resolve(e))}return t.promise()}e.ondragover=function(){return!1},e.ondragleave=function(){return!1},e.ondragend=function(){return!1},e.ondrop=function(e){a.show(),n.show(),r.find(".modal-content").addClass("no-events"),e.preventDefault(),o({files:e.dataTransfer.files}.files).then(function(){i()},function(e){n.hide(),r.find(".modal-content").removeClass("no-events"),console.log("Load is fail ",e)})},r.on("click.media-click",".browser-image-src-btn",function(e){e.preventDefault(),g("#selected-photo").click()}),r.on("change","#selected-photo",function(e){n.show(),r.find(".modal-content").addClass("no-events"),g("#media-image",r).removeClass("site-library-image"),o(e.currentTarget.files).then(function(){i()},function(e){n.hide(),r.find(".modal-content").removeClass("no-events"),console.log("Load is fail ",e)})}),r.on("click.media-click",".btn-crop, #media-image",function(e){e.preventDefault();var e=v.showDialog({title:s("Crop Image"),className:"crop-image-dialog",body:'<div class="row form-group"><div class="col-md-12"><img src="'+r.find("#media-image").attr("src")+'" id="crop-image"></div></div><div class="row"><div class="col-sm-12 crop-options"><div class="crop-image-transform"><button class="btn btn-material-light-blue crop-zoom-in mbr-icon-search-plus" title="'+s("Zoom In")+'"></button><button class="btn btn-material-light-blue crop-zoom-out mbr-icon-search-minus" title="'+s("Zoom Out")+'"></button><button class="btn btn-material-light-blue crop-scale-x mbr-icon-exchange" title="'+s("Flip Horizontal")+'"></button><button class="btn btn-material-light-blue crop-scale-y mbr-icon-arrows-vertical" title="'+s("Flip Vertical")+'"></button><button class="btn btn-material-light-blue rotate-counter-clockwise mbr-icon-alternate-undo" title="'+s("Counter Clockwise")+'"></button><button class="btn btn-material-light-blue rotate-clockwise mbr-icon-alternate-redo" title="'+s("Clockwise")+'"></button></div><div class="crop-aspect-ratio"><button class="btn btn-material-light-blue crop-ratio-16-9" title="'+s("Aspect Ratio")+': 16:9">16:9</button><button class="btn btn-material-light-blue crop-ratio-4-3" title="'+s("Aspect Ratio")+': 4:3">4:3</button><button class="btn btn-material-light-blue crop-ratio-1-1" title="'+s("Aspect Ratio")+': 1:1">1:1</button><button class="btn btn-material-light-blue crop-ratio-2-3" title="'+s("Aspect Ratio")+': 2:3">2:3</button><button class="btn btn-material-light-blue crop-ratio-free active" title="'+s("Aspect Ratio: Free")+'">'+s("Free")+"</button></div></div></div>",show:function(e){e.find(".crop-options .btn").tooltipster({delay:0,speed:100,position:"bottom"})},cancel:function(){},success:function(){var e=void 0;var t=n.attr("src");t&&"string"==typeof t&&(e=!t.includes("data:image/jpeg")&&((t=(t=t).split(".")).length<=1||!t[t.length-1].includes("jpg")&&!t[t.length-1].includes("jpeg"))?n.cropper("getCroppedCanvas").toDataURL("image/png"):n.cropper("getCroppedCanvas").toDataURL("image/jpeg"),r.find("#media-image").attr("src",e))}}),n=e.find("#crop-image");e.on("shown.bs.modal",function(){n.cropper({viewMode:3,guides:!1,toggleDragModeOnDblclick:!1})}),e.on("click.media-click",".crop-zoom-in",function(e){n.cropper("zoom",.1)}),e.on("click.media-click",".crop-zoom-out",function(e){n.cropper("zoom",-.1)}),e.on("click.media-click",".crop-scale-x",function(e){var t=n.cropper("getData");n.cropper("scale",-t.scaleX,t.scaleY)}),e.on("click.media-click",".crop-scale-y",function(e){var t=n.cropper("getData");n.cropper("scale",t.scaleX,-t.scaleY)}),g(".rotate-counter-clockwise").click(function(e){n.cropper("rotate",-45)}),g(".rotate-clockwise").click(function(e){n.cropper("rotate",45)}),e.on("click.media-click",".crop-ratio-16-9",function(e){n.cropper("setAspectRatio",16/9),g(this).addClass("active").siblings().removeClass("active")}),e.on("click.media-click",".crop-ratio-4-3",function(e){n.cropper("setAspectRatio",4/3),g(this).addClass("active").siblings().removeClass("active")}),e.on("click.media-click",".crop-ratio-1-1",function(e){n.cropper("setAspectRatio",1),g(this).addClass("active").siblings().removeClass("active")}),e.on("click.media-click",".crop-ratio-2-3",function(e){n.cropper("setAspectRatio",2/3),g(this).addClass("active").siblings().removeClass("active")}),e.on("click.media-click",".crop-ratio-free",function(e){n.cropper("setAspectRatio",NaN),g(this).addClass("active").siblings().removeClass("active")})}),v.fire("showedMediaImageDialog",r,c,u),v.fire("showedPopup",r),v.initTooltips()}})},showMediaVideoDialog:function(o,r){v.fire("showMediaVideoDialog");var e=v.showDialog({title:s("Media Video"),className:"note-air-layout media-video-dialog",body:v.applyFilter("showMediaVideoDialog",['<div class="row"><div class="col-md-12">','<form class="media-video-form">','<div class="form-group row clearfix">','<label class="col-md-3 control-label" for="media-video-src">'+s("Video URL")+"</label>",'<div class="col-md-9">','<input id="media-video-src" class="form-control" name="src" type="text" value="'+(o.video.src||"")+'">','<small class="help-block">'+s("YouTube, Vimeo, or custom e.g. https://site.com/video.mp4")+"</small>","</div>","</div>",'<div class="form-group row clearfix">','<label class="col-md-3 control-label">'+s("Aspect Ratio")+"</label>",'<div class="col-md-9">','<select id="media-video-aspectratio" class="form-control" name="aspectratio">',"<option>16:9</option>","<option "+("4:3"==o.video.aspectratio?"selected":"")+">4:3</option>","</select>","</div>","</div>",'<div class="form-group row clearfix">','<label class="col-md-3 control-label" for="media-video-autoplay">'+s("Autoplay")+"</label>",'<div class="togglebutton col-md-9">',"<label>",'<input id="media-video-autoplay" type="checkbox" name="autoplay" '+(o.video.autoplay?"checked":"")+">",'<span class="toggle"></span>',"</label>","</div>","</div>",'<div class="form-group row clearfix">','<label class="col-md-3 control-label" for="media-video-loop">'+s("Loop")+"</label>",'<div class="togglebutton col-md-9">',"<label>",'<input id="media-video-loop" type="checkbox" name="loop" '+(o.video.loop?"checked":"")+">",'<span class="toggle"></span>',"</label>","</div>","</div>","</form>","</div></div>"].join("\n"),o),cancel:function(){v.fire("cancelMediaVideoDialog",this)},show:function(e){var n=/youtu.*be.*/,i=/vimeo/;e.find("#media-video-src").on("change",function(e){var t=e.target.value;e.target.value&&-1===t.search(n)&&-1===t.search(i)&&-1===t.search(/(?:((?:https|http):\/\/)|(?:\/)).+(?:.mp4)/)&&v.showError(s("Unsupported video format. MP4 only."))})},success:function(){var e=g(this).find("form.media-video-form").serializeArray();if(e&&e.length){for(var t=!1,n=!1,i=0;i<e.length;i++)"autoplay"==e[i].name?t=e[i].value:"loop"==e[i].name?n=e[i].value:o.video[e[i].name]=e[i].value;o.video.autoplay=t,o.video.loop=n,!1===o.video.autoplay&&(o.video.src=o.video.src.replace(/[&?]autoplay=1/,"")),!1===o.video.loop&&(o.video.src=o.video.src.replace(/[&?]loop=1/,""))}for(i in o)o[i].active=void 0;o.video.active=!0,o=v.applyFilter("saveMediaVideoDialog",o),v.fire("saveMediaVideoDialog",this),r(o)}});v.fire("showedMediaVideoDialog",e),v.fire("showedPopup",e)}},events:{load:function(){v.addFilter("getExternalThumb",function(e,t){return 0!=t.indexOf("http://")&&0!=t.indexOf("https://")&&e?e:(e=t.split("/").pop(),/(jpg|jpeg|png)/i.test(e.split(".").pop())&&-1!==t.indexOf("cndmbr")?t.replace("/images/","/thumbnails/"):t)})}}})},["jQuery","mbrApp","TR()"])},function(e,t,n){"use strict";var r=n(23);defineM("aws-app-plugin-image-editor-pixabay",function(g,v,b){function y(n){return new Promise(function(i,o){var e=document.createElement("canvas");e.width=n.naturalWidth,e.height=n.naturalHeight,document.getElementsByTagName("body")[0].appendChild(e);e.getContext("2d").drawImage(n,0,0);var t=e.toDataURL("image/jpeg"),e=(e.remove(),function(e,t){t=t||"";for(var n=window.atob(e.replace("data:image/jpeg;base64,","")),i=[],o=0;o<n.length;o+=512){for(var r=n.slice(o,o+512),a=new Array(r.length),s=0;s<r.length;s++)a[s]=r.charCodeAt(s);var l=new Uint8Array(a);i.push(l)}return new Blob(i,{type:t})}(t,"image/jpeg"));r.Bridge.transformImage(e,{quality:60,maxWidth:2e3},function(n){r.Bridge.loadLocalBlob(n,function(e){r.Bridge.removeLocal(n);var t=new FileReader;t.readAsDataURL(e),t.onload=function(){i(t.result||"")},t.onerror=function(e){o(e)}})})})}v.regExtension({name:"aws-plugin-image-editor-pixabay",events:{showedMediaImageDialog:function(o,e,i){var t='<div id="unspl-section" class="unspl-section">\n                        <input class="form-control search-input pull-left" value="" type="text" placeholder="'+b("Search by keyword")+'"/>\n                        <button class="btn btn-primary search-btn">'+b("Search")+'</button>\n                        <p class="pb-text">'+b("Images from")+' <a class="pb-link" href="https://pixabay.com/" target="_blank">Pixabay</a></p>\n                        <div class="keywords">'+b("e.g.")+',&nbsp;\n                            <a href="javascript:void(0)">computer</a>\n                            <a href="javascript:void(0)">work</a>\n                            <a href="javascript:void(0)">business</a>\n                            <a href="javascript:void(0)">man</a>\n                            <a href="javascript:void(0)">woman</a>\n                            <a href="javascript:void(0)">city</a>\n                            <a href="javascript:void(0)">nature</a>\n                            <a href="javascript:void(0)">animals</a>\n                            <a href="javascript:void(0)">pattern</a>\n                            <a href="javascript:void(0)">abstract</a>\n                            <a href="javascript:void(0)">art</a>\n                            <a href="javascript:void(0)">food</a>\n                        </div>\n                        <div class="images-list"></div>\n                    </div>',r=g('<div class="image-wrapper col-xs-6 col-sm-4 col-md-3 col-lg-2"><img class="w-100 h-a"></div>'),a=g('<div class="error-alert"><p></p></div>'),s=(o.find(".media-image-form #media-tabs .tab-content .tab-pane#onlineLibrary").append(t),v.projectSettings.ai&&v.projectSettings.ai.imageSearchQuery&&o.find(".keywords a").first().before('<a href="javascript:void(0)">'+v.projectSettings.ai.imageSearchQuery+"</a>"),g(v.preloaderHTML)),n=o.find(".search-input"),l=o.find(".search-btn"),c=o.find("#unspl-section .images-list"),d=!1,u=!1,t=["computer","work","business","phone","mobile","pc"],p=t[Math.floor(Math.random()*t.length)];function f(e,t){var n,i;o.find("#unspl-section").addClass("no-events"),d=!0,g.when((t=t,s.fadeIn(100),n=g.Deferred(),i=[],t=t||1,sessionStorage.setItem("lastImageLibrarySearch",p),t="https://pixabay.com/api/?key=10565071-2fab8a0cb075d46840c40e655&page="+t+"&per_page=200&q="+encodeURIComponent(p),fetch(t).then(function(e){if(e.ok)return e.json();throw new Error(e.status+", "+e.statusText)}).then(function(e){0<parseInt(e.totalHits)?(o.find(".pb-text").show(),g.each(e.hits,function(e,t){i.push(function(e){{var t;e&&(t=r.clone(),c.append(t),t.find("img").attr({src:e.previewURL,"data-url":e.fullHDURL}))}}(t))}),g.when.apply(g,i).then(function(){n.resolve()})):n.reject()}).catch(function(e){console.error("error:",e.message),c.find(".error-alert p").text(b("Online image library is not available")),n.reject()}),n.promise())).done(function(){u&&(u=!1,c.append(a),c.find(".error-alert p").text(b("Online image library is not available"))),s.hide(),d=!1,o.find("#unspl-section").removeClass("no-events")}).fail(function(){s.hide(),d=!1,o.find("#unspl-section").removeClass("no-events"),1===h&&(c.append(a),c.find(".error-alert p").html(b("No images found!")+"<br>"+b("Please try another keyword")))})}v.projectSettings.ai&&v.projectSettings.ai.imageSearchQuery&&(p=sessionStorage.getItem("lastImageLibrarySearch")||v.projectSettings.ai.imageSearchQuery),c.before(s),o.on("click.media-click",".search-btn, .keywords a",function(e){e.preventDefault(),!1===d&&("A"===e.target.nodeName&&n.val(e.target.text),""!==g.trim(n.val()))&&(p=g.trim(n.val()),c.off("scroll"),a.remove(),c.empty(),f(0,h=1),setTimeout(function(){c.on("scroll",m)},1e3))}),n.keypress(function(e){13===(e.keyCode||e.which)&&(e.preventDefault(),l.trigger("click.media-click"))}),o.on("click.media-click","#unspl-section .image-wrapper img",function(e){e.preventDefault(),o.find(".modal-content").addClass("no-events"),s.fadeIn(100);var t=g(this).attr("data-url"),n=!1;g("#media-image",o).removeClass("site-library-image"),g("#media-image").attr("crossorigin","anonymous").attr("src",t).attr("data-name",t.match(/[^\/?=&]+\.(?:jpg|jpeg|png)/)[0]).on("load",function(){/firefox/i.test(navigator.userAgent)&&this.currentSrc!==this.src?(n=!0,g(e.target).click()):n||y(g("#media-image")[0]).then(function(e){g("#media-image").attr("src",e),n=!0,o.find(".modal-content").removeClass("no-events"),s.hide()},function(e){console.error(e),v.alertDlg("Error while loading image."),g("#media-image").removeAttr("src"),o.find(".modal-content").removeClass("no-events"),s.hide()}).then(function(){i&&o.find('.modal-footer [data-bb-handler="success"]').click()})})});var h=1;function m(e){e.preventDefault(),c.scrollTop()+c.innerHeight()>=c[0].scrollHeight&&f(0,++h)}c.on("scroll",m),f(0,h)}}})},["jQuery","mbrApp","TR()"])},function(e,t,n){"use strict";var c=n(23);defineM(function(s,l,e){l.regExtension({name:"aws-plugin-image-editor-site-library",events:{showedMediaImageDialog:function(r,e,t){var a=s('<div class="image-wrapper col-xs-6 col-sm-4 col-md-3 col-lg-2 local"><img class="h-a w-100"><span class="img-name"></span><div class="btn-group"><span class="btn btn-material-red btn-delete"><i class="mbr-icon-trash"></i></span></div></div>'),n=!0,o=void 0;r.find(".media-image-form #media-tabs .tab-content .tab-pane#siteLibrary").append('<div class="unspl-section row mb-0"><div class="col-xs-12"><div class="site-library images-list form-row mb-0"></div></div></div>'),r.on("shown.bs.tab",'a[data-toggle="tab"][href="#siteLibrary"]',function(e){var i;n&&(n=!1,i=s(l.preloaderHTML),r.find(".site-library.images-list").before(i),i.show(),new Promise(function(t,e){c.Bridge.dirList(mbrApp.projectPath+"/assets/images/",function(e){t(e)})}).then(function(t){t=t.filter(function(e){return-1===e.indexOf("apple-launch-")});function n(o,e){s.each(t,function(e,t){var n=a.clone(),i=o+((i=t)?"assets/images/"+i:(console.warn("getThumbPath: error input"),i));r.find(".site-library.images-list").append(n),n.find(".img-name").html(t),n.find("img").attr("src",i)}),e()}c.Bridge.getRecentSettings(mbrApp.projectPath+"/assets/images/",function(e){n((o=e).resourcesUrl,function(){i.hide()})})}))}),r.on("click.media-click",".unspl-section .image-wrapper.local",function(e){s("#media-image",r).addClass("site-library-image");e=s(e.currentTarget).find("img").attr("src");s("#media-image",r).removeAttr("crossorigin").attr("src",e),t&&r.find('.modal-footer [data-bb-handler="success"]').click()}),r.on("click",".btn-delete",function(e){e.stopPropagation();var t=s(e.target).closest(".image-wrapper").find("img").attr("src").split("/").pop(),n=s(e.target).closest(".image-wrapper");c.Bridge.removeLocal(c.Bridge.projectsLocation+"/"+o.id+"/assets/images/"+t,function(e){n.remove()})})}}})},["jQuery","mbrApp","TR()"])},function(e,t,n){"use strict";defineM("app-plugin-link-editor",function(T,j,E,A){function f(e,o,t,n,i,r){var a,s,l,c,d,u,p=o.url,f=o.isNewWindow,h=o.range,t=((t=t||r.makeLayoutInfo(e).editor().data("options")).onCreateLink&&(p=t.onCreateLink(p)),[]),t=(e.hasClass("btn")||e.is("[data-app-btn]")?t.push(e[0]):(e={nodeName:"A",expandClosestSibling:!0,onlyPartialContains:!0},a=i,s=r,r=(r=h).splitText(),u=e&&e.nodeName||"SPAN",h=!(!e||!e.expandClosestSibling),e=!(!e||!e.onlyPartialContains),t=r.isCollapsed()?[r.insertNode(s.create(u))]:(d=s.makePredByNodeName(u),l=T.map(r.nodes(s.isText,{fullyContains:!0}),function(e){return s.singleChildAncestor(e,d)||s.wrap(e,u)}),h?(e&&(c=r.nodes(),d=g(d,function(e){return a.contains(c,e)})),T.map(l,function(e){var e=s.withClosestSiblings(e,d),n=a.head(e),t=a.tail(e);return T.each(t,function(e,t){s.appendChildNodes(n,t.childNodes),s.remove(t)}),a.head(e)})):l)),j.applyFilter("textLinkAnchors",T.each(t,function(e,t){var n,i;j.isAMP()&&o.ampCart?(-1!==o.url.search("data:application/json")?(i=JSON.parse(decodeURIComponent(o.url.replace(/^data:application\/json,/,""))),i="tap:shopItemLightbox,AMP.setState({shopItemInfo: "+JSON.stringify(i).replace(/"/gm,"'")+"})",T(t).attr("on",i)):(i=o.url.match(/\?(.*$)/)[1],n={},i=i.split("&"),T(i).each(function(e,t){t=t.split("=");n[t[0]]=t[1].replace(/\+/g," ")}),i='tap:cartanim.start,AMP.setState({cart: {items:cart.items.concat([{item_name: "'+decodeURIComponent(n.item_name)+'", amount: "'+n.amount+'", currency_code: "'+n.currency_code+'" , cmd: "_ampcart", id: cart.id}]),total: cart.total+'+n.amount+",id: cart.id+1}})",T(t).attr("on",i)),T(t).removeAttr("href")):(p?T(t).attr("href",p):T(t).removeAttr("href"),T(t).is("img, .btn")||T(t).addClass("text-primary")),f?T(t).attr("target","_blank"):T(t).removeAttr("target")}),o)),h=n.createFromNodeBefore(i.head(t)).getStartPoint(),e=n.createFromNodeAfter(i.last(t)).getEndPoint();n.create(h.node,h.offset,e.node,e.offset).select()}function L(e,t){e.toggleClass("disabled",!t),e.attr("disabled",!t)}function $(e,t){e.toggleClass("error-input",!t)}function O(e,t){var n="";j.Core?n=j.Core.getComponentsAnchorList("",t):(n='<option value="" disabled="disabled" selected="selected">Anchors</option>',T("[id]:not(.note-air-layout, .note-editable, .tooltip, style)").each(function(){var e=T(this).attr("id");n+='<option value="#'+e+'">#'+e+"</option>"})),e.html(n),3===e[0].options.length&&(n="<option disabled='disabled' selected='selected'></option><option>Nothing to choose</option>",e.html(n)),j.getCurrentPageName()!==t&&(e.find("[value*='#top']").remove(),e.find("[value*='#bottom']").remove()),j.initTooltips()}function h(t,c,s,n){var e,i=c.find(".nav-tabs"),r=c.find(".note-mbr-anchors"),a=c.find(".note-mbr-pages"),o=c.find(".note-mbr-url"),l=c.find(".note-mbr-email"),d=c.find(".note-mbr-phone"),u=c.find(".note-mbr-custom-url"),p=c.find(".note-mbr-link-btn"),f=c.find(".note-mbr-delete-link-btn"),h=c.find("input[type=checkbox]"),m=c.find("#phone .phone-link-label"),g=c.find("#phone .phone-link-example");if(j.addFilter("shoppingCartInNewWindow",function(){return s.isNewWindow||!1}),s.url){var v,b,y=!1,w=j.Core.getPages();for(b in w)if(w.hasOwnProperty(b)&&(s.url===b||0===s.url.indexOf(b+"#"))){y=!0;break}switch(!0){case y||"#top"===s.url||"#bottom"===s.url:e=i.find('a[href="#page"]');break;case 0===s.url.indexOf("tel:"):e=i.find('a[href="#phone"]'),v=s.url.replace("tel:",""),m.text(E("Call Phone Number")),g.text(E("e.g.")+", +1-234-5678910"),d.val(v),c.find('#phone .phone-messengers [value="tel"]').prop("checked",!0);break;case 0===s.url.indexOf("sms:"):e=i.find('a[href="#phone"]'),v=s.url.replace("sms:",""),m.text(E("Send SMS Text to Number")),g.text(E("e.g.")+", +1-234-5678910"),d.val(v),c.find('#phone .phone-messengers [value="sms"]').prop("checked",!0);break;case 0===s.url.indexOf("https://wa.me/"):e=i.find('a[href="#phone"]'),v=s.url.replace("https://wa.me/",""),m.text(E("Chat with WhatsApp")),g.text(E("e.g.")+", +1-234-5678910"),d.val(v),c.find('#phone .phone-messengers [value="whatsapp"]').prop("checked",!0);break;case 0===s.url.indexOf("viber://chat?number="):e=i.find('a[href="#phone"]'),v=s.url.replace("viber://chat?number=",""),m.text(E("Chat with Viber")),g.text(E("e.g.")+", +1-234-5678910"),d.val(v),c.find('#phone .phone-messengers [value="viber"]').prop("checked",!0);break;case 0===s.url.indexOf("skype:"):e=i.find('a[href="#phone"]'),v=s.url.replace(/skype:|\?call/g,""),m.text(E("Call with Skype by Number or Name")),g.text(E("e.g.")+", +1-234-5678910 or echo123"),d.val(v),c.find('#phone .phone-messengers [value="skype"]').prop("checked",!0);break;case 0===s.url.indexOf("tg://resolve?domain="):e=i.find('a[href="#phone"]'),v=s.url.replace("tg://resolve?domain=",""),m.text(E("Chat with Telegram")),g.text(E("e.g.")+", mobirisebuilder"),d.val(v),c.find('#phone .phone-messengers [value="telegram"]').prop("checked",!0);break;case 0===s.url.indexOf("https://signal"):e=i.find('a[href="#phone"]'),v=s.url,m.text(E("Chat with Signal")),g.text(E("e.g.")+", https://signal.group/#CjQ2"),d.val(v),c.find('#phone .phone-messengers [value="signal"]').prop("checked",!0);break;case 0===s.url.indexOf("https://discord"):e=i.find('a[href="#phone"]'),v=s.url,m.text(E("Chat with Discord")),g.text(E("e.g.")+", https://discord.gg/8MzmKjFnpJ"),d.val(v),c.find('#phone .phone-messengers [value="discord"]').prop("checked",!0);break;case 0===s.url.indexOf("assets/files/"):e=i.find('a[href="#file"]');break;case 0===s.url.indexOf("http://")||0===s.url.indexOf("https://"):e=i.find('a[href="#webAddress"]'),o.val(s.url);break;case 0===s.url.indexOf("mailto:"):e=i.find('a[href="#email"]'),v=s.url.replace("mailto:",""),l.val(v);break;case""!==s.url:e=i.find('a[href="#custom"]'),u.val(s.url);break;default:e=i.find("a:first")}}else e=i.find("a:first");$(o,D.test(punycode.toASCII(o.val().replace(/(^\w+:|^)\/\//,"")))),$(l,F.test(l.val())),$(d,I.test(d.val())),c.on("shown.bs.tab",'a[data-toggle="tab"][href="#page"]',function(e){L(p,a.val()||r.val())}),c.on("shown.bs.tab",'a[data-toggle="tab"][href="#webAddress"]',function(e){o.focus(),L(p,D.test(o.val()))}),c.on("shown.bs.tab",'a[data-toggle="tab"][href="#email"]',function(e){l.focus(),L(p,F.test(l.val()))}),c.on("shown.bs.tab",'a[data-toggle="tab"][href="#phone"]',function(e){d.focus();var t=c.find("#phone .phone-messengers [name=phoneLinkType]:checked").val();"skype"!==t&&"telegram"!==t||(I=new RegExp(/^.+$/)),"discord"===t&&(I=new RegExp(/(https:\/\/)?(www\.)?((discordapp\.com\/invite)|(discord\.gg))\/(\w+)/)),"signal"===t&&(I=new RegExp(/((https:\/\/)(signal\.group\/))\S*/)),L(p,I.test(d.val())),$(d,I.test(d.val()))}),c.find("#phone .phone-messengers [name=phoneLinkType]").change(function(){switch(T(this).val()){case"tel":m.text(E("Call Phone Number")),g.text(E("e.g.")+", +1-234-5678910"),I=new RegExp(/^[^a-zA-Z]+$/);break;case"sms":m.text(E("Send SMS Text to Number")),g.text(E("e.g.")+", +1-234-5678910"),I=new RegExp(/^[^a-zA-Z]+$/);break;case"whatsapp":m.text(E("Chat with WhatsApp")),g.text(E("e.g.")+", +1-234-5678910"),I=new RegExp(/^[^a-zA-Z]+$/);break;case"viber":m.text(E("Chat with Viber")),g.text(E("e.g.")+", +1-234-5678910"),I=new RegExp(/^[^a-zA-Z]+$/);break;case"skype":m.text(E("Call with Skype by Number or Name")),g.text(E("e.g.")+", +1-234-5678910 or echo123"),I=new RegExp(/^.+$/);break;case"telegram":m.text(E("Chat with Telegram")),g.text(E("e.g.")+", mobirisebuilder"),I=new RegExp(/^.+$/);break;case"signal":m.text(E("Chat with Signal")),g.text(E("e.g.")+", https://signal.group/#CjQ2"),I=new RegExp(/((https?:\/\/)(signal\.group\/))\S*/);break;case"discord":m.text(E("Chat with Discord")),g.text(E("e.g.")+", https://discord.gg/8MzmKjFnpJ"),I=new RegExp(/(https?:\/\/)?(www\.)?((discordapp\.com\/invite)|(discord\.gg))\/(\w+)/);break;default:m.text(E("Call Phone Number")),g.text(E("e.g.")+", +1-234-5678910")}L(p,I.test(d.val())),$(d,I.test(d.val()))});var x=!0,_=(c.on("shown.bs.tab",'a[data-toggle="tab"][href="#file"]',function(e){var l,a;x&&(x=!1,l=T('<div class="link-file"><div class="btn-group"><span class="btn btn-material-red btn-delete"><i class="mbr-icon-trash"></i></span></div><span class="file-ext"></span><span class="file-name"></span></div>'),a=T(j.preloaderHTML),c.find(".tab-pane#file .links-wrap").before(a),A.dirList(j.projectPath+"/assets/files/",function(e){for(var t=e.length,n=0;n<t;n++){var i=l.clone(),o=s.url.replace("assets/files/",""),o=(e[n]===o&&i.addClass("active"),A.splitPath(e[n])),r=o.ext.toUpperCase(),o=o.fullname;i.find(".file-ext").html(r),i.find(".file-name").html(o),c.find(".tab-pane#file .links-wrap").append(i)}L(p,c.find(".tab-pane#file .link-file.active").length),a.hide()},{filter:1,recursive:!1}),c.on("click",".btn-delete",function(t){t.stopPropagation();var n=j.projectPath+"/assets/files/"+T(t.target).closest(".link-file").find(".file-name").html();A.removeLocal(n,function(e){e?(T(t.target).closest(".link-file").remove(),L(p,c.find(".tab-pane#file .link-file.active").length)):console.log("Failed to remove file:",n)})}),c.on("click","#link-add-file-btn",function(e){e.preventDefault(),A.runFileDialog(E("Add File"),"","Documents (*.pdf *.doc *.docx *.ppt *.pptx *.xls *.xlsx *.odp *.odt)",function(s){s&&A.dirList(j.projectPath+"/assets/files/",function(e){for(var t,n=e.length,i=A.splitPath(s),o=decodeURI(i.fullname).replace(/\s/,"-").replace(/[^-0-9a-zA-Z_\.]/g,""),r=!1,a=0;a<n;a++)o===e[a]&&(r=!0);r?j.alertDlg(E("This document is already added.")):(t=i.ext.toUpperCase(),A.copyLocal(s,j.projectPath+"/assets/files/"+o,function(e){e&&((e=l.clone()).addClass("active").find(".file-name").html(o),e.find(".file-ext").html(t),c.find(".tab-pane#file .links-wrap .link-file").removeClass("active"),c.find(".tab-pane#file .links-wrap").append(e),L(p,c.find(".tab-pane#file .link-file.active").length))}))},{filter:1,recursive:!1})})}),c.on("click",".link-file",function(e){T(e.target).closest(".link-file").addClass("active").siblings().removeClass("active"),L(p,!0)})),L(p,c.find(".tab-pane#file .link-file.active").length)}),c.on("shown.bs.tab",'a[data-toggle="tab"][href="#custom"]',function(e){u.focus(),L(p,u.val())}),e.tab("show"),c.find(".dropdownjs").each(function(){var e;T(this).children().hasClass("note-mbr-pages")?T(this).children().removeAttr("readonly"):T(this).children().hasClass("note-mbr-anchors")&&(e=T(this).data("select"),T(e.data("dropdownjs-ul")).addClass("anchors-dropdownjs"))}),!!t&&t.parent().is('[data-app-edit="buttons"]')),k=!!t&&t.closest("[mbr-menu]").length;function S(e){var t=0<e.indexOf("#")?e.slice(0,e.indexOf("#")):e,n=a.find('option[value="'+j.escapeHtml(t||e)+'"]'),i=r.find('option[value="'+j.escapeHtml(e)+'"]'),n=0!==n.length?n.html():"",i=0!==i.length?i.html():"";a.val(t),T(a[1]).val(n),r.val(e),T(r[1]).val(i)}f[s.url&&!k?"show":"hide"](),o.on("input",function(){var e=T(this).val().replace(/(^\w+:|^)\/\//,"");L(p,D.test(punycode.toASCII(e))),$(T(this),D.test(punycode.toASCII(e)))}),l.on("input",function(){L(p,F.test(T(this).val())),$(T(this),F.test(T(this).val()))}),d.on("input",function(){L(p,I.test(T(this).val())),$(T(this),I.test(T(this).val()))}),u.on("input",function(){L(p,T(this).val()),$(T(this),T(this).val())}),s.url||(s.url="http://");var C,P=s.url,k=(k=a,j.Core&&(C=j.Core.getPagesList(),k.html(C)),a.on("change",function(){j.$body.find(".anchors-dropdownjs").empty();var e=c.find(".dropdownjs .note-mbr-pages").closest(".dropdownjs").data("select"),e=T(e.data("dropdownjs-ul")),t=a.find("option").filter(function(e,t){return T(t).attr("data-text")===T(a[1]).val()?(T(t).attr("selected","selected"),!0):(T(t).removeAttr("selected"),!1)});t.length?T(this).val(T(t[0]).attr("value")):(e.find('li[disabled="disabled"]').attr("selected","selected"),T(this).val("")),O(r,T(this).val()),T(a[1]).val(T(this).find('option[value="'+T(this).val()+'"]').attr("data-text")),r.val(""),c.find(".anchors-label").html(E("Block on $page title$ Page").replace("$page title$","'"+(T(a[1]).val()||a.find('option[value="'+j.Core.currentPage+'"]').html())+"'")),L(p,!0)}),S(s.url),a.find("option").filter(function(){return T(this).attr("data-text")===T(a[1]).val()}));return O(r,k.val()),a.val()!==j.Core.currentPage&&a.val()&&j.$body.find(".anchors-dropdownjs").find('li[value="#top"], li[value="#bottom"]').remove(),S(s.url),c.find(".anchors-label").html(E("Block on $page title$ Page").replace("$page title$","'"+T(a[1]).val()+"'")),a.val()||c.find(".anchors-label").html(E("Block on $current page$ Page").replace("$current page$","'"+a.find('option[value="'+j.Core.currentPage+'"]').html()+"'")),r.on("change",function(){a.val()!==j.Core.currentPage&&a.val()&&j.$body.find(".anchors-dropdownjs").find('li[value="#top"], li[value="#bottom"]').remove(),j.initTooltips(),L(p,!0)}),j.fire("showedLinkDialog",c),T.Deferred(function(o){p.click(function(){var e,t,n=c.find(".tab-pane.active"),i="";switch(n.attr("id")){case"page":P=r.val()||a.val(),e=n.find("input[type=checkbox]").is(":checked");break;case"webAddress":i=n.find(".note-mbr-url").val(),P=0===i.indexOf("http:")||0===i.indexOf("https:")?i:"http://"+i,e=n.find("input[type=checkbox]").is(":checked");break;case"email":i=n.find(".note-mbr-email").val(),P=0===i.indexOf("mailto:")?i:"mailto:"+i;break;case"phone":switch(c.find("#phone .phone-messengers [name=phoneLinkType]:checked").val()){case"tel":i=n.find(".note-mbr-phone").val(),P="tel:"+i;break;case"sms":i=n.find(".note-mbr-phone").val(),P="sms:"+i;break;case"whatsapp":i=n.find(".note-mbr-phone").val(),P=("https://wa.me/"+i).replace(/[+\-()]/g,"");break;case"viber":i=n.find(".note-mbr-phone").val(),P="viber://chat?number="+i;break;case"skype":i=n.find(".note-mbr-phone").val(),P="skype:"+i+"?call";break;case"telegram":i=n.find(".note-mbr-phone").val(),P="tg://resolve?domain="+i;break;case"signal":case"discord":i=n.find(".note-mbr-phone").val(),P=i;break;default:i=n.find(".note-mbr-phone").val(),P="tel:"+i}break;case"file":P="assets/files/"+n.find(".link-file.active .file-name").html(),e=n.find("input[type=checkbox]").is(":checked");break;case"shoppingCart":P=j.applyFilter("shoppingCartUrl"),e=n.find("input[type=checkbox]").is(":checked"),t=n.find('[value="_ampcart"]').prop("checked")||n.find('[name="in-popup"]').prop("checked");break;case"popup":P=j.applyFilter("popupUrl");break;default:P=u.val(),e=n.find("input[type=checkbox]").is(":checked")}setTimeout(function(){o.resolve({range:s.range,url:P,isNewWindow:e,ampCart:t})},1)}),f.click(function(e){!n||_?setTimeout(function(){o.resolve({url:""})},1):(n.unlink(t),o.reject())}),c.one("hidden.bs.modal",function(){r.off("change"),a.off("change"),h.off("change"),"pending"===o.state()&&o.reject()})})}var m,t,g=function(t,n){return function(e){return t(e)&&n(e)}},v=(T(window.document).on("focusout",function(e){t&&(t=!1,e.preventDefault())}),function(){t=!0}),D=new RegExp(/^(http:\/\/www\.|https:\/\/www\.|http:\/\/|https:\/\/)?[a-z0-9]+([-.]{1,2}[a-z0-9]+)*\.(([a-z]+)([-.]{1,2}[a-z0-9]+)?){2,}(:[0-9]{1,5})?(\/.*)?$/),F=new RegExp(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/),I=new RegExp(/^[^a-zA-Z]+$/);j.regExtension({name:"plugin-link-editor",global:{showMbrLinkDialog:function(e,n){var t,i,o,r,a,s,l=e.editor,c=e.layoutInfo,d=e.range,u=e.list,p=e.dom;m||(c?(t=c.editor(),i=c.editable(),o=l.getLinkInfo(i),r=t.data("options"),t.is("[href]")&&(o.url=t.attr("href")),t.is("[on]")&&-1!==t.attr("on").search("cart")&&-1===t.attr("on").search("shopItem")?(o.ampCart=!0,c=t.attr("on").match(/{.+{(.+)}.+}/),a="",c=c[1].split(/\s?,\s?/),T(c).each(function(e,t){-1!==(t=t.split(/\s?:\s?/))[1].search(/^\s*"([^"]*)"\s*$/)&&(t[1]=t[1].replace(/^\s*"([^"]*)"\s*$/,"$1")),"id"!==t[0]&&(t=t[0]+"="+t[1],a+="&"+t)}),o.url="https://www.paypal.com/cgi-bin/webscr?cmd=_ampcart"+a):t.find("[on*=cart]").length?(o.ampCart=!0,c=t.find("[on*=cart]").attr("on").match(/{.+{(.+)}.+}/),s="",c=c[1].split(/\s?,\s?/),T(c).each(function(e,t){-1!==(t=t.split(/\s?:\s?/))[1].search(/^\s*"([^"]*)"\s*$/)&&(t[1]=t[1].replace(/^\s*"([^"]*)"\s*$/,"$1")),"id"!==t[0]&&(t=t[0]+"="+t[1],s+="&"+t)}),o.url="https://www.paypal.com/cgi-bin/webscr?cmd=_ampcart"+s):(t.find('[href*="data:application,json"]').length||t.is('[href*="data:application,json"]')||t.find('[on*="shopItem"]').length||t.is('[on*="shopItem"]'))&&(o.ampCart=!0,c="data:application/json,"+encodeURIComponent(t.attr("on").match(/{.+?({.+?})/)[1]),o.url=c),i.focus(),l.saveRange(i)):o={url:e.url,isNewWindow:e.isNewWindow},v(),m=!0,j.showDialog({title:E("Link to"),className:"note-mbr-link-dialog",body:'<div class="row form-group link-tabs">\n                            <div class="col-md-12">\n                                <ul class="nav nav-tabs">\n                                    <li class="active">\n                                        <a href="#page" data-toggle="tab">'+E("Page")+'</a>\n                                    </li>\n                                    <li>\n                                        <a href="#webAddress" data-toggle="tab">'+E("Web Address")+'</a>\n                                    </li>\n                                    <li>\n                                        <a href="#email" data-toggle="tab">'+E("Email")+'</a>\n                                    </li>\n                                    <li>\n                                        <a href="#phone" data-toggle="tab">'+E("Phone/chat")+'</a>\n                                    </li>\n                                    <li>\n                                        <a href="#file" data-toggle="tab">'+E("File")+'</a>\n                                    </li>\n                                    <li>\n                                        <a href="#custom" data-toggle="tab">...</a>\n                                    </li>\n                                </ul>\n                                <div class="tab-content">\n                                    <div class="tab-pane active" id="page">\n                                        <div class="row form-group">\n                                            <div class="col-sm-6">\n                                                <label>'+E("Site Pages")+'</label>\n                                                <select class="note-mbr-pages form-control"><option disabled="disabled">Nothing Selected</option></select>\n                                            </div>\n                                            <div class="col-sm-6">\n                                                <label class="anchors-label">'+E("Block on Page")+'</label>\n                                                <select class="note-mbr-anchors form-control"><option disabled="disabled">Nothing Selected</option></select>\n                                            </div>\n                                        </div>\n                                        <div class="row form-group">\n                                            <div class="togglebutton col-sm-6">\n                                                <label>\n                                                    <input type="checkbox"'+(o.isNewWindow?' checked="checked"':"")+'><span style="margin-top:-3px;" class="toggle"></span>'+E("Open in new window")+'\n                                                </label>\n                                            </div>\n                                        </div>\n                                    </div>\n                                    <div class="tab-pane" id="webAddress">\n                                        <div class="row form-group">\n                                            <div class="col-sm-6">\n                                                <label class="font-weight-normal">'+E("e.g.")+', https://mobirise.com</label>\n                                                <input class="note-mbr-url form-control" type="text" />\n                                            </div>\n                                        </div>\n                                        <div class="row form-group">\n                                            <div class="togglebutton col-sm-6">\n                                                <label>\n                                                    <input type="checkbox"'+(o.isNewWindow?' checked="checked"':"")+'><span style="margin-top:-3px;" class="toggle"></span>'+E("Open in new window")+'\n                                                </label>\n                                            </div>\n                                        </div>\n                                    </div>\n                                    <div class="tab-pane" id="email">\n                                        <div class="row form-group">\n                                            <div class="col-sm-6">\n                                                <label class="font-weight-normal">'+E("e.g.")+', support@mobirise.com</label>\n                                                <input class="note-mbr-email form-control" type="text" />\n                                            </div>\n                                        </div>\n                                    </div>\n                                    <div class="tab-pane" id="phone">\n                                        <div class="row form-group">\n                                            <div class="col-sm-6">\n                                                <label class="font-weight-normal phone-link-label">Call Phone Number</label>\n                                                <label class="font-weight-normal phone-link-example">'+E("e.g.")+', +1-234-5678910</label>\n                                                <input class="note-mbr-phone form-control" type="text" />\n                                            </div>\n                                            <div class="col-sm-6 phone-messengers">\n                                                <div class="row">\n                                                    <div class="col-sm-6">\n                                                        <div class="radio radio-primary">\n                                                            <label>\n                                                                <input type="radio" name="phoneLinkType" value="tel" checked>\n                                                                <span class="circle"></span>\n                                                                <span class="check"></span>\n                                                                Phone\n                                                            </label>\n                                                        </div>\n                                                        <div class="radio radio-primary">\n                                                            <label>\n                                                                <input type="radio" name="phoneLinkType" value="whatsapp">\n                                                                <span class="circle"></span>\n                                                                <span class="check"></span>\n                                                                WhatsApp\n                                                            </label>\n                                                        </div>\n                                                        <div class="radio radio-primary">\n                                                            <label>\n                                                                <input type="radio" name="phoneLinkType" value="telegram">\n                                                                <span class="circle"></span>\n                                                                <span class="check"></span>\n                                                                Telegram\n                                                            </label>\n                                                        </div>\n                                                        <div class="radio radio-primary">\n                                                        <label>\n                                                            <input type="radio" name="phoneLinkType" value="signal">\n                                                            <span class="circle"></span>\n                                                            <span class="check"></span>\n                                                            Signal\n                                                        </label>\n                                                        </div>\n                                                    </div>\n                                                    <div class="col-sm-6">\n                                                        <div class="radio radio-primary">\n                                                            <label>\n                                                                <input type="radio" name="phoneLinkType" value="sms">\n                                                                <span class="circle"></span>\n                                                                <span class="check"></span>\n                                                                SMS\n                                                            </label>\n                                                        </div>\n                                                        <div class="radio radio-primary">\n                                                            <label>\n                                                                <input type="radio" name="phoneLinkType" value="viber">\n                                                                <span class="circle"></span>\n                                                                <span class="check"></span>\n                                                                Viber\n                                                            </label>\n                                                        </div>\n                                                        <div class="radio radio-primary">\n                                                            <label>\n                                                                <input type="radio" name="phoneLinkType" value="skype">\n                                                                <span class="circle"></span>\n                                                                <span class="check"></span>\n                                                                Skype\n                                                            </label>\n                                                        </div>\n                                                        <div class="radio radio-primary">\n                                                        <label>\n                                                            <input type="radio" name="phoneLinkType" value="discord">\n                                                            <span class="circle"></span>\n                                                            <span class="check"></span>\n                                                            Discord\n                                                        </label>\n                                                        </div>\n                                                    </div>\n                                                </div>\n                                            </div>\n                                        </div>\n                                    </div>\n                                    <div class="tab-pane file-library" id="file">\n                                        <button class="btn btn-primary" id="link-add-file-btn">'+E("Browse Computer")+'</button>\n                                        <span class="formats">'+E("Choose pdf, doc, docx, ppt, pptx, xls, xlsx, odp or odt file")+'</span>\n                                        <div class="form-group links-wrap"></div>\n                                        <div class="row form-group">\n                                            <div class="togglebutton col-sm-6">\n                                                <label>\n                                                    <input type="checkbox"'+(o.isNewWindow?' checked="checked"':"")+'><span style="margin-top:-3px;" class="toggle"></span>'+E("Open in new window")+'\n                                                </label>\n                                            </div>\n                                        </div>\n                                    </div>\n                                    <div class="tab-pane" id="custom">\n                                        <div class="row form-group">\n                                            <div class="col-sm-6">\n                                                <label class="font-weight-normal">'+E("Custom URL")+", "+E("e.g.")+', /dir123/page123.php</label>\n                                                <input class="form-control note-mbr-custom-url" type="text" />\n                                            </div>\n                                        </div>\n                                        <div class="row form-group">\n                                            <div class="togglebutton col-sm-6">\n                                                <label>\n                                                    <input type="checkbox"'+(o.isNewWindow?' checked="checked"':"")+'><span style="margin-top:-3px;" class="toggle"></span>'+E("Open in new window")+"\n                                                </label>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>",buttons:{insert:{label:E("Insert Link"),className:"note-mbr-link-btn",default:!0},delete:{label:E("Remove Link"),className:"note-mbr-delete-link-btn"}},show:function(e){h(i,e,o,l).then(function(e){var t;i?(i.trigger("blur"),f(i,e,r,d,u,p),t=i.closest("[data-app-component-id]").attr("data-app-component-id"),j.fire("successTextLinkDialog",e,t)):n&&n(e)}).fail(function(){i&&i.trigger("blur")})},hide:function(){m=!1}}))}},events:{loadedProject:function(){j.addFilter("uploadFilesStart",function(e,t){var r=T.Deferred();return e.then(function(i,o){A.dirList(j.projectPath+"/assets/files/",function(e){for(var t=(e=e.filter(function(e){return["pdf","doc","docx","ppt","pptx","xls","xlsx","odp","odt"].includes(e.split(".").pop())})).length,n=0;n<t;n++)i.push({dest:"assets/files/"+e[n],srcList:[{src:j.projectPath+"/assets/files/"+e[n]}]});r.resolve(i,o)},{filter:1,recursive:!1})}),r})}}})},["jQuery","mbrApp","TR()","Bridge"])},function(e,t,n){"use strict";defineM("advertising",function(e,t,i){var o="firstrun",r=void 0;function n(e){return btoa(a(e,1<arguments.length&&void 0!==arguments[1]?arguments[1]:14)).replace(/[=]+$/,"")}function a(e,t){for(var n="",i=0;i<e.length;i++)n+=String.fromCharCode(e.charCodeAt(i)^t);return n}t.regExtension({name:"advertising",global:{getUserID:function(){var e=t.getUserInfo();return n(e&&e.email||"",14)},encodeText:n,decodeText:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:14;return a(atob(e),t)}},events:{bridgeInit:function(){i.getSettings(o,function(e){(r=e)||i.getSettings("account",function(e){r=e?"no":"yes",i.setSettings(o,r)})});var n=this;t.addFilter("openUrl",function(e){var t=i.parseUrl(e);return t&&t.domain&&t.domain.endsWith("mobirise.com")&&(t.query=(t.query?t.query+"&":"")+"mbrui="+n.getUserID(),e=i.joinUrl(t)),e})},signedin:function(){"yes"==r&&(r="no",i.setSettings(o,r),i.openUrl(t.applyFilter("openUrl","https://mobirise.com/register.html")))}}})},["jQuery","mbrApp","Bridge"])},function(e,t,n){"use strict";var C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d=n(23);defineM("app-amp",function(k,S){S.regExtension({name:"app-amp",global:{registeredAmpPlugins:[],registerAmpPlugin:function(e){function t(e){e&&-1===S.registeredAmpPlugins.indexOf(e)&&S.registeredAmpPlugins.push(e)}Array.isArray(e)&&0!==e.length?e.forEach(function(e){t(e)}):t(e)},isAMP:function(){var t;try{t=!!S.theme.params.theme.isAMP}catch(e){t=!1,console.error("APP.isAmp: failed to determine theme type.")}return t}},events:{coreLoad:function(){if(S.theme.params.theme.isAMP){for(var e in console.log("AMP theme loaded"),S.Core.$body.find("#scrollToTop").remove(),S.addFilter("previewTemplating",function(e){var t,n,i;return e&&(t=k(e)).find("section.menu").length&&(n=t.find("amp-sidebar"),0!=(i=t.find(".navbar-collapse")).length)&&(n.find(".builder-sidebar").append(i.html()),t.find("section.horizontal-menu .navbar-toggler").remove(),t.find("section.horizontal-menu a.dropdown-toggle").removeAttr("href")),e}),S.addFilter("publishTemplating",function(e,t){var n,i,o,r,a,s,l,c;return-1!==t.indexOf(".html")&&(t=e.match(/<body>[^]*(.*)<\/body>/),(t=k('<div class="sandbox">').html(t)).find("section.menu").length&&(i=(n=t.find("amp-sidebar")).attr("side"),o=n.attr("id"),r=n.closest("section").attr("class").match(/cid-\w+/)||"",a=n.attr("layout"),0!=(c=t.find(".navbar-collapse")).length&&(n.find(".builder-sidebar").append(c.html()),t.find("section.horizontal-menu .navbar-toggler").remove(),t.find("section.horizontal-menu a.dropdown-toggle").removeAttr("href")),t.prepend('<amp-sidebar id="'+o+'"                                             class="'+(r?r[0]:"")+'"                                            layout="'+a+'" side="'+i+'">'+n.html()+"</amp-sidebar>"),n.remove()),t.find("section.map").length&&t.find("section.map").each(function(){var e=k(this).find(".google-map"),t=k(this).find("iframe"),n=t.attr("src"),i=k(this).find(".map-placeholder"),n='<amp-iframe src="'+n+'" height="400"                                 layout="fill" sandbox="allow-scripts allow-same-origin                                 allow-popups" frameborder="0" class="placeholder-loader">'+i.html()+"</amp-iframe>";e.prepend(n),t.remove(),i.remove()}),t.find("section.slider").length&&t.find("section.slider").each(function(){var e,t;k(this).find(".super-hide").each(function(){k(this).remove()}),"slides"==k(this).find("amp-carousel").attr("type")&&(e=k(this).find(".slider-box").attr("data-autoplay"),t=k(this).find(".slider-box").attr("data-delay"),e)&&(k(this).find("amp-carousel")[0].setAttribute("autoplay",""),k(this).find("amp-carousel").attr("delay",t))}),t.find(".amp-accordion").length&&t.find(".amp-accordion").each(function(){for(var e=k(this).find(".accordion-item:not(.super-hide)"),t=0;t<e.length;t++){for(var n="tap:",i=0;i<e.length;i++)n=n+k(e[i]).find(".accordion-item-body").attr("id")+(t==i?".toggleVisibility,":".hide,"),k(e[i]).find(".accordion-title .fa-plus").length&&(n=(n=n+k(e[i]).find(".fa-plus").attr("id")+(t==i?".toggleVisibility,":".show,"))+k(e[i]).find(".fa-minus").attr("id")+(t==i?".show,":".hide,"));n=n.substring(0,n.length-1),k(e[t]).find(".accordion-title").attr("on",n)}}),t.find(".builder-overlay").length&&t.find(".builder-overlay").each(function(){k(this).removeClass("builder-overlay")}),t.find("form.mbr-form").length&&t.find("form.mbr-form").each(function(){var e=k(this).find('*[name^="form[data]"]'),t=0;k(this).find("div[submit-error] > template").html("Failed! {{error}}");for(var n,i,o=0;o<e.length;o++)"hidden"!=k(e[o]).attr("type")&&(n="form[data]["+t+"][0]",i="form[data]["+t+"][1]",k(e[o-1]).attr("name",n),k(e[o]).attr("name",i),t++),"hidden"==k(e[o]).attr("type")&&"hidden"==k(e[o-1]).attr("type")&&k(e[o-1]).remove(),o+1==e.length&&"hidden"==k(e[o]).attr("type")&&k(e[o]).remove()}),t.find("section.slider-with-bullets").length&&t.find("section.slider-with-bullets").each(function(){var o="carousel"+k(this).attr("id").replace(/[-]/g,""),r="selected"+k(this).attr("id").replace(/[-]/g,""),e="slideChange:AMP.setState({"+r+": {slide :event.index}})",a=0;k(this).prepend('<amp-state id= "'+r+'"><script type="application/json">{"slide": 0}<\/script></amp-state>'),k(this).find("amp-carousel").attr({on:e,id:o}),k(this).find(".dots-wrapper .dots").each(function(){var e="tap:"+o+".goToSlide(index="+a+")",t=r+".slide == '"+a+"' ? 'current' : ''",n=k(this).find("span"),i=n.text(),e='<span role="button" tabindex="'+a+'" on="'+e+'" [class]="'+t+'"';0==a&&(e+=' class="current"'),e+=">"+i+"</span>",k(this).prepend(e),n.remove(),a++})}),t.find("section.carousel-with-preview").length&&(s=0,t.find("section.carousel-with-preview").find("amp-carousel").each(function(){var e=[],t=0;k(this).attr("id","carousel-with-preview"+s),l=k(this).attr("id"),k(this).find(".carousel-img").each(function(){e.push(k(this).attr("src"))}),k(this).parent().parent().find(".preview .btn-img").each(function(){k(this).attr("on","tap:"+l+".goToSlide(index="+t+")"),t++}),k(this).parent().parent().find(".preview .preview-img").each(function(){k(this).attr("src",e.shift()),t++}),s++})),t.find("section.video-with-button-image").length&&t.find("section.video-with-button-image").each(function(){var e="img"+k(this).attr("id").replace(/[-]/g,""),t="video"+k(this).attr("id").replace(/[-]/g,"");k(this).find(".img-block").attr("id",e),k(this).find(".video-block").attr("id",t),k(this).find(".video-wrap .iconbox").attr("on","tap:"+e+".hide,"+t+".show")}),t.find("section.video-with-lightbox").length&&t.find("section.video-with-lightbox").each(function(){var e="my-lightbox"+k(this).attr("id").replace(/[-]/g,"");k(this).find("amp-lightbox").attr("id",e),k(this).find(".iconbox").length&&k(this).find(".iconbox").attr("on","tap:"+e),k(this).find("amp-lightbox .lightbox").attr("on","tap:"+e+".close")}),c="<body>"+k(t).html()+"</body>",e=e.replace(/<body>[^]*(.*)<\/body>/,c)),e}),S.Core.on("changeComponentParams",function(e,t,n){var i,o,r=S.Core.getComponent(e),a=S.$template.find("[data-app-component-id="+e+"] > .app-component-content");if("videoUrl"===t){var s=n;if((a.find("amp-youtube").length||a.find("amp-vimeo").length)&&(-1!==s.indexOf("youtu")||-1!==s.indexOf("vimeo"))){var l,c=a.find("amp-youtube").length?a.find("amp-youtube"):a.find("amp-vimeo"),d=a.find(".video-block"),u="",p=c.attr("layout"),f=c.attr("class"),h=k(c).attr("autoplay");if(-1!==s.indexOf("youtu"))""!=(l=(l=-1!==(l=-1!==s.indexOf("v=")?s.split("v=")[1]:"").indexOf("&")?l.split("&")[0]:l).split("&")[0])&&(u='<amp-youtube width="16" height="9" layout="'+p+'" data-videoid="'+l+'"',"undefined"!==(void 0===h?"undefined":C(h))&&!1!==h&&(u+=" autoplay",console.log("onLoadYoutubeAutoplay")),"undefined"!==(void 0===f?"undefined":C(f))&&!1!==f&&(u+=' class="'+f+'"'),u+="></amp-youtube>");else if(-1!==s.indexOf("vimeo")){try{l=s.match(/(videos|video|channels|\.com)\/([\d]+)/)[2]}catch(e){l=""}""!=l&&(u='<amp-vimeo width="16" height="9" layout="'+p+'" data-videoid="'+l+'"',"undefined"!==(void 0===h?"undefined":C(h))&&!1!==h&&(u+=" autoplay",console.log("onLoadVimeoAutoplay")),"undefined"!==(void 0===f?"undefined":C(f))&&!1!==f&&(u+=' class="'+f+'"'),u+="></amp-vimeo>")}d.prepend(u),c.remove()}}if("date"!==t&&"time"!==t&&"lang"!==t&&"zone"!==t||(s=a.find(".amp-countdown-wrap"),a.find(".amp-countdown").length&&(h=(l=(p=a.find(".amp-countdown")).clone()).attr("end-date"),"date"===t?(h=n+"T"+h.split("T")[1],l=l.attr("end-date",h)):"time"===t&&(h=h.split(".0")[0].split("T")[0]+"T"+n+".0"+h.split(".0")[1],l=l.attr("end-date",h)),"lang"===t&&(l=l.attr("locale",n)),"zone"===t&&(h=h.split(".0")[0]+".0"+n,l=l.attr("end-date",h)),s.prepend(l),p.remove())),"trackId"!==t&&"playlistId"!==t&&"scHeight"!==t&&"scColor"!==t&&"audioLink"!==t||(f=a.find(".sound-block"),"trackId"!==t&&"playlistId"!==t||a.find("amp-soundcloud").length&&(d=n,g=(i=a.find("amp-soundcloud")).clone(),"trackId"===t?g.attr("data-trackid",d):"playlistId"===t&&g.attr("data-playlistid",d),f.prepend(g),i.remove()),"scHeight"===t&&a.find("amp-soundcloud").length&&(o=(i=a.find("amp-soundcloud")).attr("height"),i.css("height",o+"px")),"scColor"===t&&a.find("amp-soundcloud").length&&(g=(i=a.find("amp-soundcloud")).clone(),u=-1!==n.indexOf("#")?n.split("#")[1]:"",g.attr("data-color",u),f.prepend(g),i.remove()),"audioLink"===t&&a.find("amp-audio").length&&(c=n,(s=(h=a.find("amp-audio")).clone()).attr("src",c),f.prepend(s),h.remove())),"fbLink"===t&&(l=a.find(".facebook-wrap"),p="",a.find("amp-facebook").length?p="amp-facebook":a.find("amp-facebook-page").length?p="amp-facebook-page":a.find("amp-facebook-like").length&&(p="amp-facebook-like"),(u=(d=a.find(p)).clone().empty()).attr("data-href",n),l.prepend(u),d.remove()),"carouselHeight"===t&&(i=(g=a.find("amp-carousel")).find("amp-fit-text"),o=g.attr("height"),g.css("height",o+"px"),i.css("height",o+"px")),"animatedText"===t&&a.find(".animated-text").length&&(c=a.find(".animated-text"),f=r._params.animatedText,c.text(f)),"linkPostFacebook"!==t&&"numpostsFacebook"!==t||(s=a.find(".mbr-facebook-comments"),h=a.find("amp-facebook-comments"),p=r._params.numpostsFacebook,l=r._params.linkPostFacebook,u='<amp-facebook-comments height="9"                                                         layout="fixed-height" class="container"                                                        data-numposts="'+(p="numpostsFacebook"===t?n:p)+'"                                                         data-href="'+(l="linkPostFacebook"===t?n:l)+'">',s.append(u),h.remove()),"dateFormat"!==t&&"datepickerLocale"!==t&&"minDate"!==t&&"maxDate"!==t||a.find(".date-picker-wrap").length&&("dateFormat"===t?k(a).find("amp-date-picker").attr("format",n):"datepickerLocale"===t?k(a).find("amp-date-picker").attr("locale",n):"minDate"===t?k(a).find("amp-date-picker").attr("min",n):"maxDate"===t&&k(a).find("amp-date-picker").attr("max",n)),"containersCount"!==t&&"firstCount"!==t&&"secondCount"!==t&&"thirdCount"!==t&&"fourthCount"!==t||a.find("section.gallery").length&&((m=k("<div>")).html(r._customHTML),x=S.Core.$template.find("[data-app-component-id="+e+"] .app-component-content"),_=S.Core.getSecondaryComponent(r),r._customHTML=m.html(),S.isSecondaryComponent(r))&&!_.isActualTemplate()&&(w=_.update().createElementFromTemplate(),S.Core.$window[0].rivets.unbind(x).bind(w,r),x.html(w),S.Core.fire("loadedComponent",r,S.Core.currentPage,S.Core.$template,!1)),"imagesAmount"===t&&a.find(".slider").length){(m=k("<div>")).html(r._customHTML);for(var m,d=m.find(".slider-box"),g=m.find("amp-carousel"),v=k(g).clone().empty(),b=m.find("amp-carousel > *"),y=n;b.length<y;)b.push(k(b[b.length-1]).clone().get(0));for(;b.length>y;)b.splice(-1,1);b.each(function(){v.append(k(this).clone())}),k(g).remove(),k(d).prepend(v),m.find(".dots span").length&&(m.find(".dots span").each(function(){k(this).removeClass("current")}),m.find(".dots span").eq(0).addClass("current"));var w,x=S.Core.$template.find("[data-app-component-id="+e+"] .app-component-content"),_=S.Core.getSecondaryComponent(r);r._customHTML=m.html(),S.isSecondaryComponent(r)&&!_.isActualTemplate()&&(w=_.update().createElementFromTemplate(),S.Core.$window[0].rivets.unbind(x).bind(w,r),x.html(w),S.Core.fire("loadedComponent",r,S.Core.currentPage,S.Core.$template,!1))}}),S.Core.on("loadedComponent",function(e,t,n,i){var o,r,a,s,l=k(n).find("[data-app-component-id="+e._id+"]"),c=S.Core.$template.find("[data-app-component-id="+e._id+"] .app-component-content");if(i?(l.find("*[once]").each(function(){k(this).removeAttr("once")}),n.find("amp-sidebar").length&&c.length&&-1!==e._plugins.indexOf("amp-sidebar")&&(k(c.find("section").attr("class").split(" ")).each(function(e){0===this.indexOf("cid-")&&(a=this)}),n.find("amp-sidebar").addClass(a)),k(n).find("img.mbr-temp").each(function(e,t){var n=k(this).attr("src");k(this).closest("amp-img").attr("src",S.addImage2PublishList(n)),k(this).remove()}),k(n).find("form").each(function(){k(this).removeAttr("action").removeAttr("novalidate").attr("action-xhr","https://f.8b.com/api/sites/"+S.projectSettings.id+"/forms/data/")}),k(n).find("amp-img[lightbox]").each(function(){var e=k(this).closest("section").attr("id");k(this).attr("lightbox",e)})):(l.find("i-amphtml-sizer").each(function(){k(this).addClass("temp-amp-sizer"),"AMP-CAROUSEL"===this.parentNode.tagName&&k(this).css("position","static")}),o=c.find("amp-sidebar"),r=c.find("section"),o.length&&(c.find('button[on="tap:sidebar.toggle"]').on("click",function(){r.toggleClass("sidebar-open"),o.toggleClass("open"),o.css({display:"block",transform:"translateX(0%)!important"})}),c.find('button[on="tap:sidebar.close"]').on("click",function(){r.toggleClass("sidebar-open"),o.toggleClass("open"),o.css({display:"none",transform:"translateX(100%)!important"})})),c.find("img.mbr-temp").each(function(e,t){var n=k(this).attr("src"),h=k(this).parents("amp-carousel"),m=h.height?h.attr("height"):null,i=k(this).attr("alt");k(this).closest("amp-img").attr("src",n),k(this).closest("amp-img").attr("alt",i),k(this).on("load",function(e){var t,n,i,o,r,a,s=k('<div id="amp-sandbox">'),l=S.Core.getComponent(k(this).closest(".app-component").attr("data-app-component-id")),c=S.Core.$template.find("[data-app-component-id="+l._id+"] .app-component-content"),d=k(this).height(),u=this.naturalWidth/this.naturalHeight*d,p=k(this).attr("src"),f=k(this).attr("alt");l&&(s.html(l._customHTML),h&&m&&(u=this.naturalWidth/this.naturalHeight*(d=m)),t=c.find("amp-img"),c.find("amp-carousel"),n=k(this).closest("amp-img"),r=s.find("img.mbr-temp")[t.index(n)],i=S.Core.getSecondaryComponent(l),o=k(t[t.index(n)]).parents("amp-carousel"),u)&&d&&p&&(k(r).attr("src",p).closest("amp-img").attr("width",u).attr("height",d).attr("src",p).attr("alt",f||""),l._customHTML=s.html(),0===k(this).closest("amp-img").parents(".lightbox").length&&S.isSecondaryComponent(l)&&!i.isActualTemplate()&&(r=i.update().createElementFromTemplate(),S.Core.$window[0].rivets.unbind(c).bind(r,l),c.html(r),c.find(".preview .preview-img").length&&c.find("section.carousel-with-preview").length&&o.length&&p!=k(t[t.index(n)]).attr("src")&&(a=0,k.each(h,function(){for(var e=0;t[t.index(n)]!==k(this).find("amp-img")[e]&&k(this).find("amp-img")[e];)e++;if(k(this).find("amp-img")[e]&&c.find(".preview .preview-img")[a+e])return k(c.find(".preview .preview-img img")[a+e]).attr("src",p),!1;a+=k(this).find("amp-img").length})),S.Core.fire("loadedComponent",l,S.Core.currentPage,S.Core.$template,!1)),k("#amp-sandbox").remove())}),k(this).addClass("nodisplay")})),l.find("amp-youtube").length||l.find("amp-vimeo").length){var i=e._params.videoUrl;if(!i||-1==i.indexOf("youtu")&&-1==i.indexOf("vimeo"))return void(l.find("amp-vimeo").length?e._params.videoUrl="https://vimeo.com/"+l.find("amp-vimeo").attr("data-videoid"):e._params.videoUrl="https://www.youtube.com/watch?v="+l.find("amp-youtube").attr("data-videoid"));var d,n=l.find("amp-youtube").length?l.find("amp-youtube"):l.find("amp-vimeo"),u=l.find(".video-block"),p="",f=n.attr("layout"),h=n.attr("class"),m=k(n).attr("autoplay");if(-1!==i.indexOf("youtu"))""!=(d=(d=-1!==(d=-1!==i.indexOf("v=")?i.split("v=")[1]:"").indexOf("&")?d.split("&")[0]:d).split("&")[0])&&(p='<amp-youtube width="16" height="9" layout="'+f+'" data-videoid="'+d+'"',"undefined"!==(void 0===m?"undefined":C(m))&&!1!==m&&(p+=" autoplay",console.log("onLoadYoutubeAutoplay")),"undefined"!==(void 0===h?"undefined":C(h))&&!1!==h&&(p+=' class="'+h+'"'),p+="></amp-youtube>");else if(-1!==i.indexOf("vimeo")){try{d=i.match(/(videos|video|channels|\.com)\/([\d]+)/)[2]}catch(e){d=""}""!=d&&(p='<amp-vimeo width="16" height="9" layout="'+f+'" data-videoid="'+d+'"',"undefined"!==(void 0===m?"undefined":C(m))&&!1!==m&&(p+=" autoplay",console.log("onLoadVimeoAutoplay")),"undefined"!==(void 0===h?"undefined":C(h))&&!1!==h&&(p+=' class="'+h+'"'),p+="></amp-vimeo>")}u.prepend(p),n.remove()}if(l.find(".animated-text").length&&(i=l.find(".animated-text"),f=e._params.animatedText,i.text(f)),l.find(".amp-accordion").length){l.find(".accordion-item").each(function(){var e=k(this);k(this).find(".accordion-title").on("click",function(){l.find(".accordion-item-body").each(function(){k(this).attr("hidden",!0)}),e.find(".accordion-item-body").removeAttr("hidden"),l.find(".accordion-title .fa-plus").length&&(l.find(".fa-plus").each(function(){k(this).removeAttr("hidden")}),e.find(".fa-minus").removeAttr("hidden"),e.find(".fa-plus").attr("hidden",!0))})});for(var g=l.find(".accordion-item"),v=0;v<g.length;v++)k(g[v]).find(".accordion-item-body").attr("id","amp-accordion-item"+(v+1)+e._id),l.find(".accordion-title .fa-plus").length&&(k(g[v]).find(".fa-minus").attr("id","fa-minus"+(v+1)+e._id),k(g[v]).find(".fa-plus").attr("id","fa-plus"+(v+1)+e._id))}if(l.find(".img-with-overlay").length&&l.find(".img-with-overlay").each(function(){k(this).addClass("builder-overlay")}),l.find("amp-date-picker").length&&(m=(d=l.find("amp-date-picker")).find("input"),h="input-date"+e._id,d.attr("input-selector","."+h),m.removeClass("input-date").addClass(h)),l.find("amp-soundcloud").length&&l.find("amp-soundcloud").each(function(){var e;-1!==k(this).attr("data-color").indexOf("#")&&(e=k(this).attr("data-color").indexOf("#"),e=k(this).attr("data-color").substring(e+1),k(this).attr("data-color",e))}),l.find("div.placeholder").length&&l.find("div.placeholder").each(function(){var e=!1;k(this).parents().each(function(){"none"==k(this).css("display")&&(e=!0)}),k(this).parents().is(".is-builder")&&e&&k(this).css("display","none")}),c.find("section.slider-with-bullets").length){for(var u=k("<div>"),p=(u.html(e._customHTML),u.find(".slider-box")),n=u.find("amp-carousel"),b=k(n).clone().empty(),y=u.find("amp-carousel > *"),w=e._params.imagesAmount;y.length<w;)y.push(k(y[y.length-1]).clone().get(0));for(;y.length>w;)y.splice(-1,1);y.each(function(){b.append(k(this).clone())}),k(n).remove(),k(p).prepend(b),u.find(".dots span").each(function(){k(this).removeClass("current")}),u.find(".dots span").eq(0).addClass("current");for(var i=S.Core.getSecondaryComponent(e),x=(e._customHTML=u.html(),S.isSecondaryComponent(e)&&!i.isActualTemplate()&&(f=i.update().createElementFromTemplate(),S.Core.$window[0].rivets.unbind(c).bind(f,e),c.html(f),S.Core.fire("loadedComponent",e,S.Core.currentPage,S.Core.$template,!1)),l.find(".dots-wrapper span")),v=0;v<x.length;v++)k(x[v]).on("click",function(e){var t=l.find("amp-carousel .i-amphtml-slides-container > div"),e=(t.each(function(){k(this).addClass("hidden-slide").removeClass("visible-slide")}),x.index(e.target));k(t[e]).addClass("visible-slide").removeClass("hidden-slide"),x.each(function(){k(this).removeClass("current")}),k(this).addClass("current")})}c.find("section.carousel-with-preview").length&&(s=0,k.each(c.find("amp-carousel"),function(){for(var e=0;e<k(this).find("amp-img").length;e++,s++)k(k(this).find("amp-img")[e]).attr("src")!==k(c.find(".preview .preview-img img")[s]).attr("src")&&k(c.find(".preview .preview-img img")[s]).attr("src",k(k(this).find("amp-img")[e]).attr("src"))}))}),S.iconFonts)(S.iconFonts[e].root||S.iconFonts[e].addon_root)&&delete S.iconFonts[e];S.registerPlugin({name:"fontawesome",condition:!1,priority:900,iconfont:{family:"FontAwesome",title:"FontAwesome",prefix:"fa-",class:"fa",names:["glass","music","search","envelope-o","heart","star","star-o","user","film","th-large","th","th-list","check","remove","search-plus","search-minus","power-off","signal","gear","trash-o","home","file-o","clock-o","road","download","arrow-circle-o-down","arrow-circle-o-up","inbox","play-circle-o","rotate-right","refresh","list-alt","lock","flag","headphones","volume-off","volume-down","volume-up","qrcode","barcode","tag","tags","book","bookmark","print","camera","font","bold","italic","text-height","text-width","align-left","align-center","align-right","align-justify","list","dedent","indent","video-camera","photo","pencil","map-marker","adjust","tint","edit","share-square-o","check-square-o","arrows","step-backward","fast-backward","backward","play","pause","stop","forward","fast-forward","step-forward","eject","chevron-left","chevron-right","plus-circle","minus-circle","times-circle","check-circle","question-circle","info-circle","crosshairs","times-circle-o","check-circle-o","ban","arrow-left","arrow-right","arrow-up","arrow-down","mail-forward","expand","compress","plus","minus","asterisk","exclamation-circle","gift","leaf","fire","eye","eye-slash","warning","plane","calendar","random","comment","magnet","chevron-up","chevron-down","retweet","shopping-cart","folder","folder-open","arrows-v","arrows-h","bar-chart-o","twitter-square","facebook-square","camera-retro","key","gears","comments","thumbs-o-up","thumbs-o-down","star-half","heart-o","sign-out","linkedin-square","thumb-tack","external-link","sign-in","trophy","github-square","upload","lemon-o","phone","square-o","bookmark-o","phone-square","twitter","facebook-f","github","unlock","credit-card","feed","hdd-o","bullhorn","bell","certificate","hand-o-right","hand-o-left","hand-o-up","hand-o-down","arrow-circle-left","arrow-circle-right","arrow-circle-up","arrow-circle-down","globe","wrench","tasks","filter","briefcase","arrows-alt","group","chain","cloud","flask","cut","copy","paperclip","save","square","navicon","list-ul","list-ol","strikethrough","underline","table","magic","truck","pinterest","pinterest-square","google-plus-square","google-plus","money","caret-down","caret-up","caret-left","caret-right","columns","unsorted","sort-down","sort-up","envelope","linkedin","rotate-left","legal","dashboard","comment-o","comments-o","flash","sitemap","umbrella","paste","lightbulb-o","exchange","cloud-download","cloud-upload","user-md","stethoscope","suitcase","bell-o","coffee","cutlery","file-text-o","building-o","hospital-o","ambulance","medkit","fighter-jet","beer","h-square","plus-square","angle-double-left","angle-double-right","angle-double-up","angle-double-down","angle-left","angle-right","angle-up","angle-down","desktop","laptop","tablet","mobile-phone","circle-o","quote-left","quote-right","spinner","circle","mail-reply","github-alt","folder-o","folder-open-o","smile-o","frown-o","meh-o","gamepad","keyboard-o","flag-o","flag-checkered","terminal","code","mail-reply-all","star-half-empty","location-arrow","crop","code-fork","unlink","question","info","exclamation","superscript","subscript","eraser","puzzle-piece","microphone","microphone-slash","shield","calendar-o","fire-extinguisher","rocket","maxcdn","chevron-circle-left","chevron-circle-right","chevron-circle-up","chevron-circle-down","html5","css3","anchor","unlock-alt","bullseye","ellipsis-h","ellipsis-v","rss-square","play-circle","ticket","minus-square","minus-square-o","level-up","level-down","check-square","pencil-square","external-link-square","share-square","compass","toggle-down","toggle-up","toggle-right","euro","gbp","dollar","rupee","cny","ruble","won","bitcoin","file","file-text","sort-alpha-asc","sort-alpha-desc","sort-amount-asc","sort-amount-desc","sort-numeric-asc","sort-numeric-desc","thumbs-up","thumbs-down","youtube-square","youtube","xing","xing-square","youtube-play","dropbox","stack-overflow","instagram","flickr","adn","bitbucket","bitbucket-square","tumblr","tumblr-square","long-arrow-down","long-arrow-up","long-arrow-left","long-arrow-right","apple","windows","android","linux","dribbble","skype","foursquare","trello","female","male","gittip","sun-o","moon-o","archive","bug","vk","weibo","renren","pagelines","stack-exchange","arrow-circle-o-right","arrow-circle-o-left","toggle-left","dot-circle-o","wheelchair","vimeo-square","turkish-lira","plus-square-o","space-shuttle","slack","envelope-square","wordpress","openid","institution","mortar-board","yahoo","google","reddit","reddit-square","stumbleupon-circle","stumbleupon","delicious","digg","pied-piper-pp","pied-piper-alt","drupal","joomla","language","fax","building","child","paw","spoon","cube","cubes","behance","behance-square","steam","steam-square","recycle","automobile","cab","tree","spotify","deviantart","soundcloud","database","file-pdf-o","file-word-o","file-excel-o","file-powerpoint-o","file-photo-o","file-zip-o","file-sound-o","file-movie-o","file-code-o","vine","codepen","jsfiddle","life-bouy","circle-o-notch","ra","ge","git-square","git","y-combinator-square","tencent-weibo","qq","wechat","send","send-o","history","circle-thin","header","paragraph","sliders","share-alt","share-alt-square","bomb","soccer-ball-o","tty","binoculars","plug","slideshare","twitch","yelp","newspaper-o","wifi","calculator","paypal","google-wallet","cc-visa","cc-mastercard","cc-discover","cc-amex","cc-paypal","cc-stripe","bell-slash","bell-slash-o","trash","copyright","at","eyedropper","paint-brush","birthday-cake","area-chart","pie-chart","line-chart","lastfm","lastfm-square","toggle-off","toggle-on","bicycle","bus","ioxhost","angellist","cc","shekel","meanpath","buysellads","connectdevelop","dashcube","forumbee","leanpub","sellsy","shirtsinbulk","simplybuilt","skyatlas","cart-plus","cart-arrow-down","diamond","ship","user-secret","motorcycle","street-view","heartbeat","venus","mars","mercury","intersex","transgender-alt","venus-double","mars-double","venus-mars","mars-stroke","mars-stroke-v","mars-stroke-h","neuter","genderless","facebook-official","pinterest-p","whatsapp","server","user-plus","user-times","hotel","viacoin","train","subway","medium","pied-piper"]},files:["web/assets/fontawesome/css/font-awesome.css","web/assets/fontawesome/fonts/fontawesome-webfont.eot","web/assets/fontawesome/fonts/fontawesome-webfont.svg","web/assets/fontawesome/fonts/fontawesome-webfont.ttf","web/assets/fontawesome/fonts/fontawesome-webfont.woff"]}),S.on("runIconFontDialog",function(e){e.addClass("amp-icons-dialog")}),S.addFilter("allUsedPluginsForPage",function(e,t){return S.getPlugin("amp-bind")&&-1==e.indexOf("amp-bind")&&S.Core.resultJSON[t].components.some(function(e){return/<form.+?class=".*?mbr-form/.test(e._customHTML)})&&e.push("amp-bind"),S.getThemeSettings("isScrollToTopButton")||(!S.Core.resultJSON[t].components.some(function(e){return/<amp-animation/.test(e._customHTML)})&&e.includes("amp-animation")&&e.splice(e.indexOf("amp-animation"),1),!S.Core.resultJSON[t].components.some(function(e){return/<amp-position-observer/.test(e._customHTML)})&&e.includes("amp-position-observer")&&e.splice(e.indexOf("amp-position-observer"),1)),e}),S.addFilter("getPluginResource",function(e,t,n,i,o){return 0===t.indexOf("amp-")&&"js"===n&&o&&(e.js_head="<script async "+("amp-main"===t?"":"amp-mustache"===t?'custom-template="'+t+'"':'custom-element="'+t+'"')+' src="'+i+'"><\/script>\n  '),"amp-animation"!==t&&"amp-date-countdown"!==t||(!S.Core.$body.find("amp-animation").length&&"amp-animation"===t||!S.Core.$body.find("amp-date-countdown").length&&"amp-date-countdown"===t)&&(e.js_head=""),e}),S.addFilter("filterUserBlocks",function(e){return e.filter(function(e){return e.isAMP})}),S.addFilter("prepareAmpStyles",function(r,e){function t(e){return e.replace(/\/\*(?:(?!\*\/)[\s\S])*\*\/|[\r\n\t]+/g,"").replace(/ {2,}/g," ").replace(/ ([{:}]) /g,"$1").replace(/([;,]) /g,"$1").replace(/ !/g,"!")}var i=this,n=k.Deferred(),o=mbrApp.getPluginsFilesForPublish(),a=function(e){if(e){for(var t={},n=0;n<e.length;n++)t[e[n]]=!0;return Object.keys(t)}return[]},s=r.match(/<[^>]*>/g),l=(s&&s.length&&(s=s.filter(function(e){return-1===e.indexOf("app.8b.io")&&(-1!==e.indexOf("https")||-1!==e.indexOf("http"))}),r=s.join("")+"\n"),r=(r=(r+='<link rel="canonical" href="'+(S.projectSettings.publicUrl+("index.html"===e?"":e))+'">\n ')+"<style amp-boilerplate>body{-webkit-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-moz-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-ms-animation:-amp-start 8s steps(1,end) 0s 1 normal both;animation:-amp-start 8s steps(1,end) 0s 1 normal both}@-webkit-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-moz-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-ms-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-o-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}</style>\n"+"<noscript><style amp-boilerplate>body{-webkit-animation:none;-moz-animation:none;-ms-animation:none;animation:none}</style></noscript>\n").replace(/!important/g,""),[]),c="";return o.forEach(function(t){var n=k.Deferred();t.dest&&-1!==t.dest.indexOf("theme/css/style.css")?d.Bridge.loadLocalFile(t.src,function(e){e&&(c+=e),n.resolve()}):i.registeredAmpPlugins.length?i.registeredAmpPlugins.forEach(function(e){t&&t.src&&-1!==t.src.indexOf(".css")&&-1!==t.src.indexOf(e)?d.Bridge.loadLocalFile(t.src,function(e){e||n.resolve(),c+=e,n.resolve()}):n.resolve()}):n.resolve(),l.push(n.promise())}),k.when.apply(this,l).then(function(){5e4<(c=t(c)).length&&n.reject(new Error("Author stylesheet is larger than 50,000 bytes.")),i.additionalStyles=function(e){for(var t=e.match(/https.*?(?=[\)|\s])/g)||"",n=a(e.match(/https.*?(?=[\)|\s])/g)),i=0,o=t.length;i<o;i++)e=e.replace("@import url("+t[i]+");","");return n.forEach(function(e){r+='<link href="'+e+'" rel="stylesheet">\n '}),e}(i.additionalStyles),i.additionalStyles=t(i.additionalStyles),r=(r+="\n <style amp-custom> \n"+c+"\n"+i.additionalStyles+'\n[class*="-iconfont"]{display: inline-flex;}</style>\n ').replace(/!important/g,""),n.resolve(r)}),n.promise()}),S.addFilter("publishFiles",function(e){for(var t=0;t<e.length;){var n=e[t].dest;n.endsWith(".css")||n.endsWith(".js")&&!n.endsWith("sw.js")&&!n.endsWith("sw-toolbox.js")?e.splice(t,1):t++}return e}),S.addFilter("publishHTML",function(e){return e=S.isAMP()?e.replace("<html","<html amp"):e})}else mbrApp.addFilter("filterUserBlocks",function(e){return e.filter(function(e){return!e.isAMP})})}}})},["jQuery","mbrApp"])},function(e,t,n){"use strict";var p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f=n(23);defineM("app-component-presets",function(c,d,e){function t(){var t=d.$body.find("#edit-component-params .preset-slider .block-presets .preset").length,n=d.$body.find("#edit-component-params .preset-slider"),i=d.$body.find("#edit-component-params .presets-wrapper"),e=250*t,o=0;i.find(".active-number").html(o+1+"/"+t),n.css({width:250,height:150}),n.find(".block-presets").css({width:e,height:150,marginLeft:-250}),n.find(".block-presets .preset:last-child").prependTo("#edit-component-params .preset-slider .block-presets"),n.find(".active-number").html(o+1+"/"+t),c(".preset-slider .sl-prev").click(function(e){e=e.target.closest("section[data-component-id]").getAttribute("data-component-id");/slider/gi.test(d.Core.getComponent(e)._name)&&d.Core.render(e),n.find(".block-presets .preset:last-child").prependTo("#edit-component-params .preset-slider .block-presets"),n.find(".block-presets").css("left",""),o=o-1<0?t-1:o-1,i.find(".active-number").html(o+1+"/"+t),n.find(".preset[data-id="+o+"]").click()}),c(".preset-slider .sl-next").click(function(e){e=e.target.closest("section[data-component-id]").getAttribute("data-component-id");/slider/gi.test(d.Core.getComponent(e)._name)&&d.Core.render(e),n.find(".block-presets .preset:first-child").appendTo("#edit-component-params .preset-slider .block-presets"),n.find(".block-presets").css("left",""),o=t-1<o+1?0:o+1,i.find(".active-number").html(o+1+"/"+t),n.find(".preset[data-id="+o+"]").click()})}function u(e){e=d.Core.getComponent(e);return{name:"default",params:function(e){if(e){for(var t in e){if("bg"===t)for(var n in e[t])"type"!==n&&"value"!==n&&delete e.bg[n];0===t.indexOf("uname__")&&delete e[t]}return e}}(c.extend(!0,{},e._params)),styles:c.extend(!0,{},e._styles)}}d.regExtension({name:"component-presets",global:{exBlockPreset:{},presetsLoading:!1,renderComponentPresets:function(r,a,s){var n=void 0,l=void 0,n=(l=!isNaN(parseFloat(r))&&isFinite(r)?(d.Core.getComponentParams(r),d.Core.getComponent(r)._name):a,d.getAddonDir(d.theme.name)+"/components/"+l+"/presets/list.json");return new Promise(function(t,o){d.components[l]&&!0!=!d.components[l].presets?f.Bridge.isExistsLocal(n,function(e){e&&f.Bridge.getLocalJSON(n,function(e){var n,i;e&&e.presets&&Array.isArray(e.presets)?(e.presets.forEach(function(e){e.params&&e.params.bg&&"image"===e.params.bg.type&&(e.params.bg.value=d.theme.pathCore+"/components/"+l+e.params.bg.value)}),d.exBlockPreset[l]?e.presets.forEach(function(t){d.exBlockPreset[l].presets.some(function(e){return t.name===e.name})||d.exBlockPreset[l].presets.push(t)}):d.exBlockPreset[l]=e,t({id:r,name:a,count:e.presets.length,template:'<div class="block-presets">\n\t\t\t\t\t\t\t\t\t\t\t\t\t'+(e=d.exBlockPreset[l].presets,n=l,i="","default"!==e[0].name?e.unshift(u(r)):e[0]=u(r),e.map(function(e,t){0===t&&s||(0!==t||s?e.type&&"fromProject"===e.type?i+='<div class="preset" data-id="'+t+'">\n\t\t\t\t\t\t\t\t\t\t\t<img src="'+e.skin+'">\n\t\t\t\t\t\t\t\t\t\t</div>':i+='<div class="preset" data-id="'+t+'">\n\t\t\t\t\t\t\t\t\t\t<img src="'+f.Bridge.path2app(d.getAddonDir(d.DEFAULT_THEME))+"/components/"+n+"/presets/"+e.skin+'">\n\t\t\t\t\t\t\t\t\t</div>':i+='<div class="preset default" data-id="0">\n\t\t\t\t\t\t\t\t\t\t\t<div style="padding: 5px;">Current Layout</div>\n\t\t\t\t\t\t\t\t\t\t\t<img src="'+f.Bridge.path2app(d.getAddonDir(d.DEFAULT_THEME))+"/components/"+l+'/thumb.png">\n\t\t\t\t\t\t\t\t\t\t</div>')}),i)+"\n\t\t\t\t\t\t\t\t\t\t\t\t  </div>"})):o()},function(e){t("")})}):t(!1)})}},events:{load:function(){var l=this;l.$body.on("click",".block-presets > .preset",function(a){a.preventDefault();var s=c('<div class="preloader no-select" style="background-color: rgba(255,255,255,.8)"></div>').html('<div class="preloader-wrapper">\n                                    \t\t<div style="transform: scale(0.35);">\n\t\t\t                                    <svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 300 300" width="200" height="200">\n\t\t\t    \t\t\t\t\t\t\t\t\t<circle fill="none" stroke="#008B8B" stroke-width="3" stroke-dasharray="230" stroke-dashoffset="230" cx="150" cy="150" r="145">\n\t\t\t        \t\t\t\t\t\t\t\t\t<animate attributeType="CSS" attributeName="stroke-dashoffset" from="900" to="0" dur="3s" repeatCount="indefinite"></animate>\n\t\t\t    \t\t\t\t\t\t\t\t\t</circle>\n\t\t\t    \t\t\t\t\t\t\t\t\t<circle fill="none" stroke="#008B8B" stroke-width="3" stroke-dasharray="212" cx="150" cy="150" r="135">\n\t\t\t        \t\t\t\t\t\t\t\t\t<animate attributeType="CSS" attributeName="stroke-dashoffset" from="850" to="0" dur="1.5s" repeatCount="indefinite"></animate>\n\t\t\t    \t\t\t\t\t\t\t\t\t</circle>\n\t\t\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>');c(s).addClass("comp-preloading"),c(a.target).closest(".preset-slider").prepend(s),setTimeout(function(){var e=c(a.target).closest("section").attr("data-component-id"),t=d.Core.getComponent(e),n=c(a.target).closest(".preset").attr("data-id"),i=c(a.target).closest(".preset").hasClass("default"),o=void 0,r=void 0;l.presetsLoading=!0,r=i?(o=c.extend(!0,{},d.exBlockPreset[t._name].presets[0].params),c.extend({},d.exBlockPreset[t._name].presets[0].styles)):(o=c.extend(!0,{},d.exBlockPreset[t._name].presets[+n].params),c.extend({},d.exBlockPreset[t._name].presets[+n].styles)),o=function(e,t){var n,i=d.Core.getComponent(e),o=d.Core.getComponentParams(e).default,r=d.Core.getComponentParams(e).current;for(n in t.bg&&"object"===p(t.bg)&&o.bg&&(e=o.bg.default[t.bg.type].sourceProp,i.usersParams)&&i.usersParams[e]&&(t.bg.value=i.usersParams[e]),c.extend(!0,t,i.usersParams),t)t[n]===r[n]&&delete t[n];return t}(e,o),d.Core.changeComponentParamsObj(e,o),s.remove(),t._styles=c.extend({},t._defaultStyles,r),d.Core.renderComponentsStyles(),d.fire("presetSwitched",e),l.presetsLoading=!1},50)}),d.on("presetsReady",function(){t()}),d.Core.on("changedComponentParams",function(e,t,n){l.presetsLoading||(e=d.Core.getComponent(e))&&(e.usersParams=e.usersParams||{},e.usersParams[t]=n)})}}})},["jQuery","mbrApp","TR()"])},function(e,t,n){"use strict";defineM("app-logging",function(n,e,t){e.regExtension({name:"logging",global:{stagingElement:n("<div class='staging'>").appendTo(".preloader .logo.top"),stagingStartTime:new Date,stagingMessage:["..."],stagingTime:[new Date],stagingDuration:[],staging:function(e,t){this.stagingMessage.push(e),this.stagingTime.push(new Date);var n=(new Date-(this.stagingTime[this.stagingTime.length-2]||this.stagingStartTime))/1e3;this.stagingDuration.push(n),this.stagingElement.html(e),console.log("logging:",e,(new Date-this.stagingStartTime)/1e3),t&&t()}},events:{bridgeInit:function(){n(".preloader .painter").css({width:"45%",transition:"width 2.4s"}),this.addFilter("loadComponentsHTML",function(e){return this.staging("prepare Components Palette"),e})},addonLoaded:function(e,t){n(".preloader .painter").css({width:"70%",transition:"width 1.1s"}),this.staging("loading ...",function(){})},addonLoadFinish:function(e){n(".preloader .painter").css({width:"100%",transition:"width 1.5s"})},beforeCoreLoad:function(){},coreLoad:function(){e.on("loadedComponentTemplates",function(){this.staging("init Components Palette")}),this.addFilter("loadComponents",function(e){return this.staging("loadComponents"),e})},load:function(){},loaded:function(){this.staging("loaded",function(){n(".preloader .painter").css({width:"100%",transition:"width 0s"})})}}})},["jQuery","mbrApp","TR()"])},function(e,t,n){"use strict";defineM("app-plugin-form-editor",function(p,f,h,a){function m(e){return""==e||n(e)||v(e)}function r(t,e,n,i){var o,r,a,s,l=n[t.attr("mbr-form")]||{},c="true"===n._params.usedRecaptcha;t.find('a[type="submit"]').each(function(){p(this).replaceWith(this.outerHTML.replace(/(<\/?)a(\W)/gi,"$1button$2"))}),v(l.action)?(d=u=!0,o=n.title?n.title.replace(/(<([^>]+)>)/gi,""):l.title||"UNTITLED FORM",r=t.attr("data-rcpha_secretKey"),s=t.attr("data-rcpha_siteKey"),a=t.attr("data-rcpha_label"),t.attr("data-rcpha")&&"true"===a&&(b=!1),t.find("[data-form-email]").length||(t.prepend('<input type="hidden" name="email" data-form-email="true">'),f.isAMP()||(t.attr("data-rcpha")&&t.attr("data-rcpha_siteKey")&&r?(t.prepend('<input type="hidden" name="g-recaptcha-response" data-form-captcha="true" value="'+t.attr("data-rcpha_siteKey")+'">'),f.registerPlugin("recaptcha-input-"+s,{name:"recaptcha-input-"+s,priority:3500,condition:"_params.usedRecaptcha=true",files:["https://www.google.com/recaptcha/api.js?render="+s]})):(f.getPlugin("recaptcha-input-"+s)||{}).condition=!1),f.isAMP()&&(t.attr("data-rcpha")&&t.attr("data-rcpha_siteKey")&&r?(t.prepend('<amp-recaptcha-input layout="nodisplay" name="recaptcha_token" data-sitekey="'+t.attr("data-rcpha_siteKey")+'" data-action="recaptcha_example"></amp-recaptcha-input>'),n._plugins=n._plugins+",amp-recaptcha-input"):n._plugins&&(n._plugins=n._plugins.replace(",amp-recaptcha-input",""))),t.removeAttr("data-rcpha data-rcpha_secretKey data-rcpha_siteKey data-rcpha_label data-verified")),a={email:l.action},r&&c&&(a.captcha=r),i&&(a.licenseKey=i),t.find("[data-form-email]").val(g(JSON.stringify(a))),t.attr("data-form-title",o).parent().attr("data-form-type","formoid"),p.each(l.fields,function(e){t.find("[name='"+e+'\']:not([data-form-email="true"])').attr("data-form-field",this.title)})):(l.action&&t.attr("action",l.action),(s=e.find("form")).removeAttr("data-rcpha_sitekey"),s.removeAttr("data-rcpha_secretkey"),s.removeAttr("data-rcpha"),e.find("[data-form-email], [data-form-alert]").remove())}(t=new JSEncrypt).setPublicKey(FORMOID_PUBLIC_KEY);var t,d,u,g=function(e){return e.match(/(^$|[\s\S]{64}|[\s\S]{1,63}$)/g).map(function(e){return t.encrypt(e)}).join(".")},v=function(e){return/^((([a-z]|\d|[!#$%&\'*+\-\/=?\^_`{|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#$%&\'*+\-\/=?\^_`{|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i.test(e)},n=function(e){return/^(?:http(s)?:\/\/)?[\w.-]+(?:\.[\w\.-]+)+[\w\-\._~:/?#[\]@!\$&'\(\)\*\+,;=.]+$/gm.test(e)},b=!0;f.regExtension({name:"plugin-form-editor",global:{formbuilderBuyer:{}},events:{coreLoad:function(){f.Core.$window[0].rivets.binders.form={routine:function(e,t){}}},load:function(){f.Core.$body.on("click","[mbr-form] input, [mbr-form] textarea, [mbr-form] select",function(e){e.preventDefault(),e.stopPropagation(),p(this).keyup(function(e){this.value=""});var n,i,t,o,r,a,s,l=p(this).parents("[mbr-form]"),c=l.parents("[data-app-component-id]:eq(0)").attr("data-app-component-id"),d=f.Core.getComponent(c),u=l.attr("mbr-form");void 0!==d[u]&&(n=d[u],i=c,o="",o+="<h4>"+h("Form Fields")+"</h4><hr>",p.each(n.fields,function(e){var t,n;"hidden"!==this.type&&(t=(e=p('<div>   <div class="row">       <div class="togglebutton col-md-4">           <label class="checkbox-inline">               <input type="checkbox" name="visible" checked onchange="               jQuery(this).parents(\'.row\').find(\'[type=\\\'text\\\']\').prop(\'disabled\', !this.checked);               "><span class="toggle"></span> <b></b>           </label>       </div>       <div class="col-md-8">           <input type="text" name="title" class="form-control" placeholder="">       </div>   </div></div>').find(".row").attr("field",e).end().find("b").text(this.title).end()).find('[type="checkbox"]'),n=e.find('[type="text"]').attr("value",this.customTitle),"visible"in this?this.visible||(n.prop("disabled",!0),t.removeAttr("checked")):(t.remove(),e.find(".toggle").remove()),"type"in this&&(/text|tel|password|number|url|textarea|email/.test(this.type)||n.prop("disabled",!0)),o+=e.html())}),o+="<h4>"+h("Form Options")+"</h4><hr>",e=n.verify&&n.verify.status,o=(o+=p('<div>\n               <div class="row">\n                   <div class="col-md-3">\n                       <b>'+h("Notification Email or Action URL")+'</b>\n                   </div>\n                   <div class="col-md-9 wrapper">\n                       <div style="display:flex;align-items:center;">\n                           <input type="text" name="action" class="form-control" placeholder="">\n                           <button id="verifyBtn" class="btn btn-primary" '+(!v(n.action)||e?"disabled":"")+">"+h(e?"Verified":"Verify")+'</button>\n                       </div>\n                       <span class="help-block" style="display:none">'+h("Please enter a valid email address or URL")+"</span>\n                   </div>\n               </div>\n            </div>").find('[name="action"]').attr("value",n.action).end().html())+p('<div>   <div class="row" alert="success"'+(v(n.action)?"":' style="display:none"')+'>       <div class="col-md-3">           <b>'+h("Success Message")+'</b>       </div>       <div class="col-md-9">           <textarea name="message" class="form-control" style="height:55px;" placeholder=""></textarea>       </div>   </div></div>').find('[name="message"]').text(n.alerts.success).end().html(),r=p.Deferred(),e=f.showDialog({title:"",className:"note-air-layout form-settings-dialog",body:"<form>"+o+"</form>",cancel:function(){},successLabel:"Save",success:function(){var e=p(this).find('[name="action"]'),n={action:e.val(),alerts:{},fields:{}};if(!m(n.action))return e.keyup(),!1;p(this).find("[alert]").each(function(){n.alerts[p(this).attr("alert")]=p(this).find('[name="message"]').val()}),p(this).find("[field]").each(function(){var e=p(this).attr("field"),t=p(this).find('[name="visible"]').prop("checked");n.fields[e]={customTitle:p(this).find('[name="title"]').val()},void 0!==t&&(n.fields[e].visible=t)}),r.resolve(n)},id:"form-editor"}),a=e.find("#verifyBtn"),t=a,s=function(e){e?(t.attr("disabled",!1),t.text(""+h("Verify"))):(t.attr("disabled",!0),t.text(""+h("Verified")))},e.find('[name="action"]').keyup(function(){m(this.value)?(p(this).closest(".wrapper").removeClass("has-error").find(".help-block").hide(),p(this).parents("form:eq(0)").find("[alert]")[v(this.value)?"show":"hide"]()):p(this).closest(".wrapper").addClass("has-error").find(".help-block").show(),v(this.value)&&this.value!==n.verify.action?s(!0):s(!1)}),a.click(function(){var e=p(this).parent().find('[name="action"]')[0].value;e&&v(e)&&(f.showPreloader(),Bridge.http("https://formoid.net/api/register",{method:"POST",data:e?JSON.stringify({email:e}):"",success:function(t){try{t=JSON.parse(t)}catch(e){return console.error(e,t),void f.hidePreloader()}t.error?f.alertDlg(t.error):(t=f.Core.getComponent(i),i&&t._customHTML&&(t._customHTML=t._customHTML.replace("<form action",'<form data-verified="'+e+'" action'),f.fire("formoidSucces")),s(!1),f.alertDlg(h("Email verified")),p.extend(!0,n,{verify:{action:e,status:!0}})),f.hidePreloader()},error:function(e){console.log(e),f.hidePreloader()}}))}),f.fire("formeditorOpen",e,i),r.done(function(e){d[u].verify&&d[u].verify.action!==e.action&&(d[u].verify.action=e.action,d[u].verify.status=!1),p.extend(!0,d[u],e),f.Core.updateGlobalComponents(c),f.fire("formoidSucces",c,u,d[u],l)}),f.fire("showedPopup"))}),f.Core.addFilter("getResultComponent",function(e){return e.then(function(t,n,i){var e=t.find("[mbr-form]").attr("mbr-form"),o=n[e]||null,r=p.Deferred();return o&&o.action&&v(o.action)?f.formbuilderBuyer[o.action]?r.resolve(t,n,i,f.formbuilderBuyer[o.action]):(a.get("storage/formbuilder?email="+o.action).then(function(e){f.formbuilderBuyer[o.action]=e.key,r.resolve(t,n,i,e.key)},function(e){r.resolve(t,n,i)}),r):r.resolve(t,n,i)}).then(function(e,t,n,i){var o=e.find("[mbr-form]");return o.length&&r(o,e,t,i),p.Deferred().resolve(e,t,n)})}),f.Core.addFilter("resultHTMLforEditor",function(e,t){var n=e.find("[mbr-form]");return n.length&&r(n,e,t),e}),f.on("runPublish",function(){d=!1}),f.on("formoidSucces",function(){f.runSaveProject(!1,!0)}),f.addFilter("allUsedPlugins",function(e){return d&&this.getPlugin("Formoid")&&-1==e.indexOf("Formoid")?e.push("Formoid"):d&&this.getPlugin("formoid")&&-1==e.indexOf("formoid")&&e.push("formoid"),d&&b&&this.getPlugin("formoid-css")&&-1==e.indexOf("formoid-css")&&e.push("formoid-css"),e}),f.addFilter("allUsedPluginsForPage",function(e){return u&&this.getPlugin("Formoid")&&-1==e.indexOf("Formoid")?e.push("Formoid"):u&&this.getPlugin("formoid")&&-1==e.indexOf("formoid")&&e.push("formoid"),u&&b&&this.getPlugin("formoid-css")&&-1==e.indexOf("formoid-css")&&e.push("formoid-css"),u=!(b=!0),e})}}})},["jQuery","mbrApp","TR()","mbrServer"])},function(e,t,n){"use strict";defineM("app-plugin-help-info",function(e,t,n){var i=e('\n        <p class="app-help-info">\n            '+n("This is the site editor. Click any text or image to edit it. Select a text to insert a link. Click the 'gear' $gearIcon$ to change the section's layout and settings. Click the 'plus' $plusIcon$ to add a new section. Use the 'menu' $menuIcon$ to publish site, change the site style and settings, create new pages and sites.").replace("$gearIcon$",'<span class="app-btn mbr-icon-setting"></span>').replace("$plusIcon$",'<span class="app-btn mbr-icon-plus"></span>').replace("$menuIcon$",'<span class="app-btn mbr-icon-menu"></span>')+"\n        </p>\n    "),o=void 0;function r(){t.Core.$document.scrollTop()>o+30&&(i.remove(),t.Core.$window.off("scroll",r))}t.regExtension({name:"plugin-help-info",events:{createdProject:function(){t.Core.$body.find(".browser-template-wrap").before(i),o=i.outerHeight(),t.Core.$window.on("scroll",r)}}})},["jQuery","mbrApp","TR()"])},function(e,t,n){"use strict";var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};defineM(function(r,a,e){function s(e,t){if(!(this instanceof s))throw new TypeError("Cannot call a class as a function");this.type="custom",this.name=t,this.customThumb=a.theme.path+"/projects/"+a.projectSettings.sourceProject+"/"+r(e._customHTML).attr("custom-thumb"),this._group=r(e._customHTML).attr("group"),this.styles=e._styles,this.html=e._customHTML,this._once=e._once,this._global=e._global}var l={};a.regExtension({name:"aws-app-project-components",events:{load:function(){a.on("loadProjectCore",function(t,e){if(a.projectSettings.developerProject){if(l={},t&&"object"===o(t.pages)){var n,i=function(e){var i=0,o=[];t.pages[e].components&&t.pages[e].components.map(function(e){var t,n;!(n=e)._customHTML||-1===n._customHTML.indexOf("custom-thumb")||a.components[e._name]||(t=r(e._customHTML).attr("custom-thumb").split("/").pop(),o.some(function(e){return e===t}))||(o.push(t),n=void 0,n=-1!==e._name.indexOf("-custom-")?e._name.slice(0,e._name.length-1)+i:e._name+"-custom-"+i,l[n]=new s(e,n),i++)})};for(n in t.pages)i(n)}a.projectComponents=l}}),a.addFilter("addProjectsComponents",function(e){return r.extend(!0,e,l)}),a.addFilter("customThumb",function(e,t){return"custom"===t.type?t.customThumb:e})},loadedProject:function(){for(var e in a.$componentsLayer.removeAttr("data-pallete-inited"),a.components)"ProjectsComponent"===a.components[e].constructor.name&&delete a.components[e]}}})},["jQuery","mbrApp","TR()"])},function(e,t,n){"use strict";defineM(function(i,o,e){o.regExtension({name:"aws-app-project-components-presets",events:{load:function(){o.addFilter("publishProjectSettings",function(e){return e.developerProject&&delete e.developerProject,e}),o.Core.addFilter("cleanHTMLplease",function(e,t){return e.find("[custom-thumb]").removeAttr("custom-thumb"),e})},loadedProject:function(){o.$componentsLayer.removeAttr("data-pallete-inited"),o.exBlockPreset={},o.projectSettings.developerProject&&o.on("beforeRenderComponentPresets",function(e){if(o.Core.resultJSON)for(var t in o.Core.resultJSON)o.Core.resultJSON[t].components&&o.Core.resultJSON[t].components.map(function(e){var t,n;(n=e)._customHTML&&-1!==n._customHTML.indexOf("custom-thumb")&&(t=i(e._customHTML).attr("custom-thumb").split("/").pop(),o.exBlockPreset[e._name]||(o.exBlockPreset[e._name]={presets:[]}),o.exBlockPreset[e._name].presets.some(function(e){return e.name===t})||o.exBlockPreset[e._name].presets.push({type:"fromProject",name:t,skin:o.theme.path+"/projects/"+o.projectSettings.sourceProject.toLowerCase()+"/"+i(e._customHTML).attr("custom-thumb"),params:i.extend(!0,{},e._params),styles:i.extend(!0,{},e._styles)}))})})}}})},["jQuery","mbrApp","TR()"])},function(e,t,n){"use strict";var c=n(23);defineM("app-plugin-iconfont-svg",function(s,l,e){l.regExtension({name:"iconfont-svg",events:{registeredPlugin:function(e){e.iconfont&&(e.iconfont.addon_root=e.addon_root||null,e.iconfont.root=e.root||null)},loaded:function(){"secondary"!=!l.Core.theme.type&&l.isAMP()&&(l.addFilter("svgFontFilter",function(e){return e=e&&Array.isArray(e)?e.filter(function(e){return!e.iconfont}):e}),l.Core.addFilter("getResultComponent",function(e){return e.then(function(e,t,n){var i=s.Deferred(),r=[],a=l.iconFonts;return e.find("[class*=-iconfont]").each(function(e,t){var i=s.Deferred(),n=l.extractIconFont(t),o=void 0;r.push(i.promise()),a[n.family]&&n&&(s(t).hasClass("mbr-iconfont")||s(t).hasClass("amp-iconfont"))?(o=a[n.family].addon_root&&!a[n.family].root?a[n.family].addon_root+"/"+a[n.family].plugin+"/svg/"+n.name+".svg":a[n.family].root?a[n.family].root+"/"+n.family+"/svg/"+n.name+".svg":"web/assets/"+a[n.family].plugin+"/svg/"+(n.classPrefix+n.name)+".svg",l.isAMP()&&s(t).removeAttr("style"),c.Bridge.loadLocalFile(o,function(e){var n=void 0;s(e).each(function(e,t){t.nodeName&&"svg"===t.nodeName&&(s(t).find("title").remove(),n=t)}),n&&(s(n).attr("fill","currentColor"),s(n).attr("width","100%"),s(n).attr("height","100%"),s(t).html(n.outerHTML)),i.resolve()})):i.resolve()}),s.when.apply(this,r).then(function(){i.resolve(e,t,n)}),i.promise()})}))}}})},["jQuery","mbrApp","TR()"])},function(e,t,n){"use strict";var x=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,i=arguments[t];for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},S=n(23);defineM("app-plugin-whois",function(s,l,c,r){var t="https://api.whois.vu/?q=",n="mobirisesite.com",d=["mx","txt"],o=null,a="",i=function(e,t){var n=((t=t||{}).method||"GET").toUpperCase();function i(){return console.log("Token updating..."),r.getAuthToken().then(function(e){return a=e.access_token})}function o(){return fetch(e,{method:n,headers:k(t.headers||{},{Authorization:"bearer "+a,"Content-type":t.contentType,"Access-Control-Allow-Origin":"*"}),body:t.data})}return"POST"!=n&&"PUT"!=n||(t.contentType="application/json","data"in t&&(t.data=JSON.stringify(t.data))),Promise.resolve().then(function(){if(!a)return i()}).then(o).catch(function(e){if("TokenExpired"==e.type)return i().then(o);throw e}).then(function(e){if(e.status<200||299<e.status)throw new Error(""+e.statusText);return e.json()})},u=!1;function p(e){var t=l.$body.find(".app-layer-common");u=e,t&&(t.find(".domains-wrapper").html(m()),t.find(".domains-template__input").each(function(e,t){s(t).off().on("focus",v)}))}function f(e){return i(t+e)}function h(e,i){return f(e).then(function(e){try{var t=JSON.parse(e).whois.match(/Name Server: .*/g);return t?t.map(n).reduce(o,[]):""}catch(e){return console.error(e.message),""}},function(e){console.error(e.message)}).then(function(e){var n="";return e?(e.forEach(function(e,t){n+='<div class="col-md-12">\n                                        <div class="col-md-6">\n                                            <input name="name" type="text" value="'+e.toLowerCase()+'" class="form-control" readonly>\n                                        </div>\n                                        <div class="col-md-6">\n                                            <input name="name" type="text" value="'+(i?i[t]:"ns"+((t+1)%2==0?2:1)+".mobirisesite.com")+'" class="form-control domain-readonly" readonly>\n                                            '+(t<2?'<span class="domain-copy">'+c("Copy")+"</span>":"")+"\n                                            "+(1<t?'<span class="domain-remove">'+c("Remove")+"</span>":"")+"\n                                        </div>\n                                      </div>"}),n):'<div class="col-md-12">\n                                    <div class="col-md-6">\n                                        <input name="name" type="text" value="your nameserver" class="form-control" readonly>\n                                    </div>\n                                    <div class="col-md-6">\n                                        <input name="name" type="text" value="'+i[0]+'" class="form-control domain-readonly" readonly>\n                                        <span class="domain-copy">'+c("Copy")+'</span>\n                                    </div>\n                                </div>\n                                <div class="col-md-12">\n                                    <div class="col-md-6">\n                                        <input name="name" type="text" value="your nameserver" class="form-control" readonly>\n                                    </div>\n                                    <div class="col-md-6">\n                                        <input name="name" type="text" value="'+i[1]+'" class="form-control domain-readonly" readonly>\n                                        <span class="domain-copy">'+c("Copy")+"</span>\n                                    </div>\n                                </div>"},function(e){console.error(e.message)});function n(e,t,n){return e.replace("Name Server: ","")}function o(e,t){return 0===e.filter(function(e){return e.toLowerCase()===t.toLowerCase()}).length&&e.push(t),e}}function m(){var e;if(1<l.projectSettings.domains.length){var t=void 0;switch(l.projectSettings.domains[1].status.type){case"info":t="pending";break;case"error":t="error";break;case"success":t="connected";break;default:console.warn("invalid status")}return'<div class="domains-template">\n                        <div class="wrapper col-md-12">\n                            <div class="wrapper__row">\n                                <span class="domains-template__protocol">https://</span>\n                                <input class="form-control domains-template__input" id="userDomain" type="text" value="'+l.projectSettings.domains[1].name+'" readonly/>\n                                <span title="'+l.projectSettings.domains[1].status.description+'" class="domains-template__status '+("pending"===t?"warn":"error"===t?"danger":"")+'">\n                                    '+("pending"===t?'<span id="domainInfo">Pending connection...</span>':"connected"===t?"Connected":"")+'\n                                </span>\n                            </div>\n                            <button class="btn btn-primary" type="button" id="dnsManagerButton"><i class="mbr-icon-cog" style="vertical-align:middle;"></i></button>\n                            <button class="btn btn-warning" type="button" id="domainRemoveButton">'+c("Disconnect")+"</button>\n                        </div>\n                    </div>"}return e=void 0,null!==o&&o.length&&((e=o.filter(function(e){return!e.siteId&&"active"===e.status.toLowerCase()}).map(function(e){return e.name})).getTemplate=function(){return e.reduce(function(e,t){return e+'<option value="'+t+'">'},'<datalist id="mydomains">')+"</datalist>"}),'<div class="domains-template">\n                        <div class="wrapper row">\n                            <div class="wrapper__row col-12">\n                                <div class="d-flex" style="display:flex; align-items: center;">\n                                    <span class="domains-template__protocol">https://</span>\n                                    <input class="domains-template__input form-control" style="margin-right: 15px;" id="userDomain" type="text" '+(e?'list="mydomains"':"")+' placeholder="yourdomain.com"/>\n                                    '+(e?e.getTemplate():"")+'\n                                    <button class="btn btn-primary '+(!0===u?"loading":"")+'" type="button" id="domainConnectButton" '+(!0===u?"disabled":"")+">"+c("Connect")+'</button>\n                                </div>\n                            </div>\n                            <div class="col-12">\n                                <span id="userDomainStatus" class="domains-template__status col-md-12"></span>\n                            </div>\n                        </div>\n                        <div class="wrapper basic row">\n                            <div class="wrapper__row col-12">\n                                <div class="d-flex" style="display:flex; align-items: center;">\n                                    <input style="padding-left:0;" class="domains-template__input form-control" id="newDomain" type="text" value="'+l.projectSettings.domains[0].name.match(/^[A-Za-z0-9-]+/gm)+'"/>\n                                    <span class="col-md-7 domains-template-label">.mobirisesite.com</span>\n                                    <button class="w-100 btn btn-primary" type="button" id="domainChangeButton">'+c("Change")+'</button>\n                                </div>\n                            </div>\n                            <div class="col-12">\n                                <span class="domains-template__status col-md-12"></span>\n                            </div>\n                        </div>\n                    </div>'}function g(r){l.showDialog({title:c("Connect domain"),className:"domain-settings-modal",buttons:{success:{label:c("OK"),default:!0,className:"iconfont-ok",callback:function(){}}},body:['<div class="row wrapper"><div class="col-md-12">\n                    '+l.preloaderHTML+'\n                    <div class="form-group row">\n                        <span class="col-md-12 control-label">\n                            '+c("1. Log into your domain ")+'<span id="registratorUrl"></span><br>\n                            '+c("2. Go to your domain's DNS / name server settings.")+"<br>\n                            "+c("3. Replace your current name servers with the Mobirise name servers shown below.")+'<br>\n                        </span>\n                        <div class="user-domains col-md-12"></div>\n                        <span class="col-md-12 control-label">\n                            '+c("4. After your nameservers change it may take from 20 minutes to 48 hours for your domain to be visible online.")+"<br>\n                        </span>\n                    </div>\n                </div></div>"].join("\n"),create:function(){l.infoUsrDomain(l.projectSettings.id).then(function(e){l.projectSettings.domains=e.domains;var t=s.Deferred(),n=s.Deferred(),i=void 0,o=(((e||{}).domains[1]||{}).requiredDnsRecords[1]||{}).values,i=i||l.projectSettings.domains[1].requiredDnsRecords[0].values;h(r,i).then(function(e){return e=e,t=l.projectSettings.domains[1].name,n=o,s.isEmptyObject(n)?e:e+('<div class="cname-wrapper col-md-12">\n                    <div class="col-md-12 cname-wrapper__title">\n                        <span>'+c("DNS SETTINGS"))+':</span>\n                    </div>\n                    <div class="col-md-12">\n                        <div class="col-md-5 cname-wrapper__domain">\n                            <span>'+t+'</span>\n                        </div>\n                        <div class="col-md-2 cname-wrapper__slash">\n                            <span>CNAME</span>\n                        </div>\n                        <div class="col-md-5 cname-wrapper__cname">\n                            <span>'+n+"</span>\n                        </div>\n                    </div>\n                </div>";var t,n}).then(function(e){l.$body.find(".domain-settings-modal .user-domains").html(e),n.resolve()},function(e){console.error(e.message),n.resolve()}),f(r).then(function(e){try{var t=JSON.parse(e).whois.match(/Registrar URL: .*/);return t?t[0].replace("Registrar URL: ",""):""}catch(e){return console.error(e.message),""}},function(e){console.error(e.message)}).then(function(e){e?l.$body.find("#registratorUrl").html('<a href="'+e+'" target="_blank"> '+c("provider's account")+"</a> ("+e.replace(/https?:\/\//gi,"").split("/")[0].replace("www.","")+")"):l.$body.find("#registratorUrl").html(""+c("provider's account")),t.resolve()},function(e){console.error(e.message),t.resolve()}),s.when(t,n).then(function(e){l.$body.find(".domain-settings-modal .preloader").hide()},function(e){bootbox.alert(e.message)})},function(e){throw new Error(e)})}})}function v(){l.$body.find(".app-layer-common").find(".domains-template__status").each(function(e,t){s(t).html("").removeClass("danger")}),l.$body.find(".app-layer-common").find(".domains-template__input").each(function(e,t){s(t).removeClass("err")})}e.prototype.getMyOwnDomains=function(){var t=[];return Promise.resolve().then(function(){return S.Bridge._REST("me/sites").then(function(e){if(e.items.length)return e.items.forEach(function(e){e.domains&&e.domains.length<2||t.push(new y(e))}),t})}).catch(function(e){return console.error(e),t})},e.prototype.api={request:function(e){return S.Bridge._REST(e)},get:function(e){return S.Bridge._REST(e,{method:"GET"})},post:function(e){var t=e.path,e=e.data;return S.Bridge._REST(t,{method:"POST",data:void 0===e?{}:e})},put:function(e){return S.Bridge._REST(e,{method:"PUT"})},delete:function(e){return S.Bridge._REST(e,{method:"DELETE"})}},e.prototype.getDomainInfo=function(){return this.data&&this.data.domains&&this.data.domains[0]?this.data.domains[0]:null},e.prototype.getCustomDomainInfo=function(){return this.data&&this.data.domains&&this.data.domains[1]?this.data.domains[1]:null},e.prototype.getDomainStatus=function(){var e=this.getCustomDomainInfo();return e&&e.status?"..."===e.status.description.slice(-3)?e.status.description:e.status.description+"...":"Connecting..."},e.prototype.onLoaded=function(){this.isLoading=!1,s("#app-project-sidebar").length&&(s(this.sidebarHTML).empty().html(this.getSidebarTemplate()),s(this.sidebarHTML).find("#pending-overlay").hide()),l.fire("domainManagerLoaded")},e.prototype.onLoad=function(){this.isLoading=!0},e.prototype.syncDomainData=function(){var i=this;if(l.projectSettings.mbrsite)return this.onLoad(),new Promise(function(n,t){i.api.get("/me/sites").then(function(e){e.items.map(function(e){var t;e.id===l.projectSettings.id&&(t=e.domains[1]||null,i.data=e,i.siteId=e.id,i.isConnected=!!t,i.isConnected&&(i.subdomain=l.getSubdomain(t.name)),i.isConnected&&"Deployed"===t.status.name&&(i.isReady=!0,l.fire("CustomDomainConnected")),i.onLoaded(),n(e))})}).catch(function(e){i.onLoaded(),t(e)})});this.onLoaded()},e.prototype.checkPublishTemplate=function(e){var t,n,i,o=this;this.getCustomDomainInfo()&&(t=e.find(".mbrsite-publish-settings .publishBody"),(n=e.find(".mbrsite-publish-settings .publishBody .row")).addClass("custom-domain-publish-row"),!1!==this.isConnected)&&(i=void 0,this.isReady?(i=this.getCustomDomainInfo().name,n.find('[class^="col-"]').hide(),n.append('\n                    <div class="custom-domain-publish-wrap">\n                        <span class="control-label">https://</span>\n                        <input id="custom-domain" type="text" class="form-control" value="'+(i||"")+'" disabled>\n                        <button id="custom-dmn-settings" class="btn btn-primary" style="display: flex;"><i class="mbr-icon-cog"></i></button>\n                    </div>\n                ')):(this.isReady||this.syncDomainData(),n.find('[class^="col-"]').hide(),n.append('<div class="custom-domain-publish-wrap">'+l.preloaderHTML+"</div>"),setTimeout(function(){i=o.getCustomDomainInfo().name,n.find(".custom-domain-publish-wrap").remove(),o.isReady?n.append('\n                        <div class="custom-domain-publish-wrap">\n                            <span>https://</span>\n                            <input id="custom-domain" type="text" class="form-control" value="'+(i||"")+'" disabled>\n                            <button id="custom-dmn-settings" class="btn btn-primary" style="display: flex;"><i class="mbr-icon-cog"></i></button>\n                        </div>\n                    '):(n.find('[class^="col-"]').show(),t.append('<div class="custom-dmn__pending" data-domain="'+i+'">Domain '+i+" pending connection...</div>"))},3e3)))},e.prototype.getSidebarTemplate=function(){return this.isConnected?this.isConnected&&!this.isReady?'<div class="row">\n                                <label class="control-label col" for="site-settings-domain">'+c("Site Domain")+'</label>\n                            </div>\n                            <div class="row">\n                                <div class="custom-domain" style="justify-content: center;">\n                                    <div style="padding-right: 5px;display: flex;justify-content: center;">\n                                        <span class="control-label" style="padding-right: 10px;">https://</span>\n                                        <input id="custom-domain" type="text" class="form-control" value="'+(this.getCustomDomainInfo().name||"")+'" disabled>\n                                    </div>\n                                </div>\n                                <div class="custom-domain__status">\n                                    <span id="domainHelp">'+this.getDomainStatus()+'</span>\n                                </div>\n                            </div>\n                            <div class="mbrsite-buttons form-row">\n                                <div class="col">\n                                    <a href="#" class="disconnnect-domain btn btn-danger w-100">'+c("Cancel")+'</a>\n                                </div>\n                                <div class="col">\n                                    <a href="#" class="custom-dmn-recheck btn btn-primary w-100">'+c("Recheck")+"</a>\n                                </div>\n                            </div>":this.isConnected&&this.isReady?'<div class="row">\n                                <label class="control-label col" for="site-settings-domain">'+c("Site Domain")+'</label>\n                            </div>\n                            <div class="row">\n                                <div class="custom-domain" style="justify-content: center;">\n                                    <div style="display: flex;flex-direction: row;justify-content: center;">\n                                        <div style="padding-right: 5px;display: flex;justify-content: center;">\n                                            <span class="control-label" style="padding-right: 10px;">https://</span>\n                                            <input id="custom-domain" type="text" class="form-control" value="'+(this.getCustomDomainInfo().name||"")+'" disabled>\n                                        </div>\n                                        '+(this.subdomain?"":'<button id="custom-dmn-settings" class="btn btn-primary" style="display: flex;"><i class="mbr-icon-cog"></i></button>')+'\n                                    </div>\n                                    <div class="custom-domain__status">\n                                        <span id="domainHelp" class="deployed">Deployed</span>\n                                    </div>\n                                </div>\n                            </div>\n                            <div class="mbrsite-buttons form-row">\n                                <div class="col">\n                                    <a href="#" class="disconnnect-domain btn btn-danger w-100">'+c("Disconnect")+'</a>\n                                </div>\n                                <div class="col">\n                                    <a href="#" class="custom-dmn-open btn btn-primary w-100">'+c("Open in Browser")+"</a>\n                                </div>\n                            </div>":void 0:'<div class="row">\n                                <label class="control-label col" for="site-settings-domain">'+c("Site Domain")+'</label>\n                            </div>\n                            <div class="row" style="justify-content: center;padding-bottom: 10px;">\n                                <div style="display:flex;flex-direction:row;">\n                                    <div style="padding-right: 5px;">\n                                        <span class="control-label">https://</span>\n                                        <input id="custom-domain" type="text" placeholder="yourdomain.com" class="form-control">\n                                    </div>\n                                    <button id="connect-custom-btn" class="btn btn-primary">'+c("Connect")+'</button>\n                                </div>\n                            </div>\n                            <div class="row">\n                                <div class="col">\n                                    <input name="mbrsiteDomain" id="site-settings-domain" type="text" '+(this.getDomainInfo()?'placeholder="'+l.getSubdomain(this.getDomainInfo().name)+'"':'value="'+l.getUID(10).toLowerCase()+'"')+' class="mbrsite-domain form-control">\n                                    <label class="control-label">.'+n+'</label>\n                                    <button class="btn btn-info mbrsite-change-domain-btn pull-right" data-tooltipster="bottom" title="'+c("OK")+'">\n                                        <i class="mbr-icon-check"></i>\n                                    </button>\n                                </div>\n                            </div>\n                            <div class="row">\n                                <div class="col-md-12">\n                                    <small class="mbrsite-input-status col-12"></small>\n                                </div>\n                            </div>\n                            '+(this.getDomainInfo()?'<div class="mbrsite-buttons form-row">\n                                        <div class="col">\n                                            <a href="#" class="mbrsite-delete btn btn-danger w-100">'+c("Remove Domain")+'</a>\n                                        </div>\n                                        <div class="col">\n                                            <a href="#" class="mbrsite-open btn btn-primary w-100 if-custom-connected">'+c("Open in Browser")+"</a>\n                                        </div>\n                                    </div>":'<div class="mbrsite-buttons form-row">\n                                        <div class="col">\n                                            <a href="#" id="publish-default-btn" class="mbrsite-open btn btn-primary w-100 if-custom-connected">'+c("Publish")+"</a>\n                                        </div>\n                                    </div>")},e.prototype.connectCustomDomain=function(e){var i=this,t=(this.onLoad(),void 0),o=void 0;if("object"===(void 0===e?"undefined":_(e))?(t=e.closest(".mbrsite-domain-control"),o=t.find("input#custom-domain").val(),this.sidebarHTML||(this.sidebarHTML=t)):"string"==typeof e&&(o=e),/^(([a-zA-Z]{1})|([a-zA-Z]{1}[a-zA-Z]{1})|([a-zA-Z]{1}[0-9]{1})|([0-9]{1}[a-zA-Z]{1})|([a-zA-Z0-9][-_\.a-zA-Z0-9]{1,61}[a-zA-Z0-9]))\.([a-zA-Z]{2,13}|[a-zA-Z0-9-]{2,30}\.[a-zA-Z]{2,3})$/gi.test(o))return new Promise(function(t,n){i.syncDomainData().then(function(e){return i.api.post({path:"/sites/"+i.siteId+"/domains",data:JSON.stringify({name:o})}).then(function(e){i.requiredDnsRecords=e.requiredDnsRecords,i.data.domains[1]=e,i.isConnected=!0,i.subdomain=l.getSubdomain(e.name),i.onLoaded(),bootbox.hideAll(),l.$body.find("#app-project-sidebar .app-layer-close").trigger("click"),g(e.name),t(e)})}).catch(function(e){return n(e),i.onLoaded()})});throw this.onLoaded(),l.alertDlg(c("Invalid domain name")),new Error("Invalid domain name")},e.prototype.getRequiredDns=function(){var t=this;return this.api.get({path:"/sites/"+this.siteId+"/domains"}).then(function(e){e.forEach(function(e){e=e.requiredDnsRecords;e&&Array.isArray(e)&&e.length&&(t.requiredDnsRecords=e)})}).catch(function(e){t.onLoaded(),reject(e)})},e.prototype.detachCustomDomain=function(){var i=this;return this.onLoad(),new Promise(function(t,n){i.api.delete("/sites/"+i.siteId+"/domains/"+i.getCustomDomainInfo().id).then(function(e){i.data.domains=[i.data.domains[0]],i.isConnected=!1,i.isReady=!1,i.onLoaded(),l.alertDlg(c("Domain successfully detached")),t(e)}).catch(function(e){i.onLoaded(),n(e)})})};var b=e;function e(){this.data,this.siteId,this.sidebarHTML,this.publishHTML,this.isConnected,this.isReady,this.isLoading,this.requiredDnsRecords,this.subdomain,Object.defineProperty(this,"isLoading",{set:function(e){e?s(this.sidebarHTML).prepend(l.preloaderHTML):s(this.sidebarHTML).find("div.preloader").remove()}})}x(w,[{key:"getDNSRecords",value:function(){return this.customDmn?S.Bridge._REST("/sites/"+this.siteId+"/domains/"+this.customDmn.id+"/records"):Promise.reject(new Error("Custom domain not exist"))}},{key:"deleteDNSRecord",value:function(e){return this.customDmn?S.Bridge._REST("/sites/"+this.siteId+"/domains/"+this.customDmn.id+"/records/"+e,{method:"DELETE"}):Promise.reject(new Error("Custom domain not exist"))}},{key:"setDNSRecords",value:function(e){return this.customDmn?S.Bridge._REST("/sites/"+this.siteId+"/domains/"+this.customDmn.id+"/records",{method:"POST",data:e}):Promise.reject(new Error("Custom domain not exist"))}},{key:"buildNsConstructor",value:function(r){var a=this;if(!Array.isArray(this.records))throw new Error("Invalid NS records");var t,n,i="",e=(d.forEach(function(e){switch(e){case"mx":i+='\n                <div class="ns-form__body" name="mx">\n                    <div class="ns-item">\n                        <label class="">Mail server</label>\n                        <div class="ns-input">\n                            <input name="exchange">\n                        </div>\n                    </div>\n                    <div class="ns-item">\n                        <label class="">Priority</label>\n                        <div class="ns-input">\n                            <input name="priority" placeholder="0 - 65535">\n                        </div>\n                    </div>\n                    <div class="ns-item">\n                        <label class="">TTL</label>\n                        <div class="ns-input">\n                            <input name="ttl">\n                        </div>\n                    </div>\n                </div>';break;case"txt":i+='\n                <div class="ns-form__body" name="txt">\n                    <div class="ns-item">\n                        <label class="">TTL</label>\n                        <div class="ns-input">\n                            <input name="ttl">\n                        </div>\n                    </div>\n                    <div class="ns-item">\n                        <label class="">Content</label>\n                        <div class="ns-input">\n                            <input name="data">\n                        </div>\n                    </div>\n                </div>'}}),s('\n                    <div class="ns-module">\n                        <div class="row ns-module__wrapper">\n                            <div class="ns-module__addbutton">\n                                <button type="button" class="btn btn-success">Add record</button>\n                            </div>\n                            <div class="ns-module__form">\n                                <div class="ns-module__form-body">\n                                    <form name="txt" class="ns-form">\n                                        <div class="ns-form__select">\n                                            <label class="">Type</label>\n                                            <div class="ns-input">\n                                                '+(t=t||d[0],n='<select name="type" class="ns-type-select">',d.forEach(function(e){n+='\n                        <option value="'+e+'" '+(e===t?"selected":"")+">\n                            "+e.toUpperCase()+"\n                        </option>\n                    "}),n)+'</select>\n                                            </div>\n                                        </div>\n                                        <div class="ns-form__body-wrapper">\n                                            '+i+'\n                                        </div>\n                                    </form>\n                                </div>\n                                <div class="ns-module__footer">\n                                    <button type="button" class="btn btn-default ns-module__cancel">Cancel</button>\n                                    <button type="button" class="btn btn-info ns-module__save">Save</button>\n                                </div>\n                            </div>\n                        </div>\n                    </div>'));function o(n,e){n=n||d[0],s(e).find('select.ns-type-select option[value="'+n+'"]').prop("selected",!0),s(e).find(".ns-form__body-wrapper .ns-form__body").each(function(e,t){s(t).attr("name")===n?s(t).show():s(t).hide()})}r.empty(),r.append(e),r.find(".ns-module__addbutton form").on("click",function(e){}),r.find(".ns-module__addbutton > button").on("click",function(e){r.find(".ns-module__form").toggleClass("open"),o(null,r)}),r.find("button.ns-module__cancel").on("click",function(e){r.find(".ns-module__form").toggleClass("open",!1)}),r.find("button.ns-module__save").on("click",function(e){var n,t=s(a.html).find(".preloader"),i=(t.show(),r.find(".ns-form__body-wrapper")),o=r.find("select.ns-type-select").val();o&&(i.find(".ns-form__body").each(function(e,t){s(t).attr("name")!==o&&s(t).remove()}),n={},i=r.find("form.ns-form").serializeArray(),s(i).each(function(e,t){n[t.name]=t.value}),n.name||(n.name=a.customDmn.name),a.setDNSRecords(JSON.stringify(n)).then(function(e){return a.getDNSRecords().then(function(e){a.records=e,a.buildNsTable(s(a.html).find("#nsrecord .nsrecord__table")),a.buildNsConstructor(r),t.hide()})}).catch(function(e){a.buildNsConstructor(r),t.hide(),console.log(e),l.alertDlg(e.message)}))}),r.find("select.ns-type-select").on("click",function(e){o(s(e.target).val(),r)})}},{key:"buildNsTable",value:function(e){var a=this,t=(this.records.sort(function(e,t){return e.type<t.type?-1:e.type>t.type?1:0}),this.records.reduce(function(e,t){var n="";return"A"===t.type&&(t.data=t.address),"SRV"===t.type?e:e+(n+='\n                    <tr data-id="'+t.id+'">\n                        <td name="type">'+t.type+'</td>\n                        <td name="name">'+t.name+"</td>\n                        "+(/MX/i.test(t.type)?'<td name="data" class="mx">\n                                <span class="priority">\n                                    '+t.priority+'\n                                </span>\n                                <span class="mserver">\n                                    '+t.exchange+"\n                                </span>\n                               </td>":'<td name="data">'+t.data+"</td>")+'\n                        <td name="ttl">'+t.ttl+"</td>\n                        "+(d.includes(t.type.toLowerCase())?'<td class="rm">\n                                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M14.3 3.625L12.375 1.7 8 6.075 3.625 1.7 1.7 3.625 6.075 8 1.7 12.375 3.625 14.3 8 9.925l4.375 4.375 1.925-1.925L9.925 8 14.3 3.625z"></path></svg>\n                               </td>':"<td></td>")+"\n                    </tr>\n                ")},""));e.empty(),e.append('<table id="Table" class="Table">\n                        <thead>\n                            <tr>\n                                <th>Type</th>\n                                <th>Name</th>\n                                <th>Value</th>\n                                <th>TTL</th>\n                                <th></th>\n                            </tr>\n                        </thead>\n                        <tbody>\n                            '+t+"\n                        </tbody>\n                    </table> "),e.find("td.rm").on("click",function(e){var t=s(e.target).closest("tr"),n=t.attr("data-id"),i=t.find('td[name="type"]').text(),o=t.find('td[name="name"]').text(),r=(t.find('td[name="ttl"]').text(),t.find('td[name="data"]').text());bootbox.confirm({title:c("Are you sure you want to delete this record?"),message:t.clone(),className:"remove-ns",buttons:{confirm:{label:c("Delete"),className:"btn-warning"},cancel:{label:c("Cancel"),className:"btn-default"}},callback:function(e){e&&o&&i&&r&&a.deleteDNSRecord(n).then(function(e){t.remove()}).catch(function(e){l.alertDlg(c("Internal server error."))})}})})}},{key:"buildNsWindow",value:function(){var i=this;return l.showDialog({title:""+c("DNS management"),className:"domain-manager__ns-editor",body:'<div class="row">\n                            <div class="col-md-12">\n                                <div class="form-group clearfix">\n                                    <div class="row">\n                                        <div class="col-md-12" id="nsrecord" class="nsrecord">\n                                            '+l.preloaderHTML+'\n                                            <div class="nsrecord__add-new"></div>\n                                            <div class="nsrecord__table"></div>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>',create:function(t){var n=s(t).find(".preloader");i.getDNSRecords().then(function(e){i.records=e,n.hide(),i.buildNsConstructor(s(t).find("#nsrecord .nsrecord__add-new")),i.buildNsTable(s(t).find("#nsrecord .nsrecord__table"))}).catch(function(e){console.error(e),bootbox.hideAll(),l.alertDlg(e.message),n.hide()})},cancel:function(e){}})}},{key:"onClick",value:function(){this.html=this.buildNsWindow()}}]);var y=w;function w(e){if(!(this instanceof w))throw new TypeError("Cannot call a class as a function");this.siteId=e.id,this.defaultDmn=e.domains?e.domains[0]:null,this.customDmn=e.domains?e.domains[1]:null,this.name=e.domains?this.customDmn.name:null,this.type="connected",this.html,this.records=null}l.regExtension({name:"plugin-whois",global:{filterCustomDomain:function(e,t,n){n=n||l.projectSettings.domains;return 1<n.length&&"success"===n[1].status.type?t?"https://"+n[1].name+"/":n[1].name:e},getPublicDomain:function(){var e;return S.Bridge.args.external?l.projectSettings.publicUrl:1<(e=l.projectSettings.domains||[]).length&&"success"===e[1].status.type?"https://"+e[1].name+"/":"https://"+e[0].name+"/"},withSubdomain:function(e){return e+"."+n}},events:{load:function(){var i=this;new CustomEvent("updateDomainsList");l.addFilter("sidebarProjectSettings",function(e){var t={title:"Common",name:"common",html:'<div class="form-group domain col-md-12">\n                                    <label class="control-label">Domain</label>\n                                    <div class="domains-wrapper">\n                                        '+m()+"\n                                    </div>\n                                </div>"};return e.push(t),e}),i.$body.on("click","#connectDomain",function(e){bootbox.hideAll(),s(".preview-close").click(),l.openProjectSettings(l.projectPath+"/project.mobirise"),l.fire("selectBasicDomain")}),i.$body.on("click","#domainConnectButton",function(e){l.isPremiumUser().then(function(e){if(!l.projectHasLicense()&&!e)throw l.goToBuyPremium(),new Error("Premium plan required")}).then(function(){function e(e){l.domainManager||(l.domainManager=new b),l.domainManager.syncDomainData().then(function(){return l.domainManager.connectCustomDomain(e)}).catch(function(e){"FeatureNotAvailable"===e.type&&l.goToBuyPremium()})}var t=s("#userDomain").val();if(l.projectSettings.mbrsite)return e(t);var n=l.getPublicDomain();i.publish(!1,n,function(){return l.projectSettings.mbrsite!==n&&(l.projectSettings.mbrsite=n,l.runSaveProject(null,!0)),e(t)})})}),i.$body.on("click","#domainChangeButton",function(e){var t=l.$body.find(".app-layer-common").find("#newDomain"),n=s(e.target),i=n.closest(".wrapper").find(".domains-template__status");n.addClass("loading").prop("disabled",!0),l.changeUsrDomain(t.val()).then(function(e){l.projectSettings.domains[0]=e,l.projectSettings.publicUrl="https://"+e.name+"/",l.projectSettings.mbrsite="https://"+e.name+"/",l.runSaveProject(),l.Core.$body.find(".browser-chrome .address-bar-url").text(e.name),n.removeClass("loading").prop("disabled",!1),i.html(c("Changed")),t.addClass("success"),setTimeout(function(){i.html(""),t.removeClass("success")},1500),l.fire("userDomainChanged",t.val())},function(e){n.removeClass("loading").prop("disabled",!1),t.addClass("err"),i.addClass("danger").html(e.message)})}),i.$body.on("click","#domainRemoveButton",function(e){var t=s(e.target);bootbox.confirm(c("Do you really want to disconnect this domain?"),function(e){e&&(t.addClass("loading").prop("disabled",!0),l.deleteUsrDomain(l.projectSettings.id).then(function(e){l.infoUsrDomain(l.projectSettings.id).then(function(e){l.projectSettings.domains=e.domains,p(!1),l.Core.$body.find(".browser-chrome .address-bar-url").text(e.domains[0].name),l.$body.find("#app-project-sidebar .app-layer-close").trigger("click")}),l.fire("domainDisconnected")},function(e){throw bootbox.alert(c("Something went wrong. Domain disconnecting issue.")),t.removeClass("loading").prop("disabled",!1),new Error(e)}))})}),i.$body.on("click","#domainInfo",function(e){g(s(e.target).closest(".domains-template").find("#userDomain").val())}),i.$body.on("click",".domain-settings-modal .domain-copy",function(e){s(e.target).siblings("input.domain-readonly").select(),document.execCommand("copy"),s(e.target).addClass("copied").text(c("Copied")),setTimeout(function(){s(e.target).text("Copy").removeClass("copied"),window.getSelection?window.getSelection().removeAllRanges():document.selection&&document.selection.empty()},500)}),l.on(["showProjectSettings","showProjectsList"],function(e){1<l.projectSettings.domains.length&&l.infoUsrDomain(l.projectSettings.id).then(function(e){1<l.projectSettings.domains.length&&1<e.domains.length&&l.projectSettings.domains[1].status.type!==e.domains[1].status.type&&(l.projectSettings.domains=e.domains,l.$body.find(".app-layer-common").length)&&(p(!0),l.Core.$body.find(".browser-chrome .address-bar-url").text(e.domains[1].name))})}),l.on("shownProjectSettings",function(e){s(e.target).find(".domains-template__input").each(function(e,t){s(t).off().on("focus",v)})}),l.on("selectBasicDomain",function(e){l.$body.find(".app-layer-common .domains-template").addClass("selected")})},loadedProject:function(){var n,i=this;S.Bridge.args.external||(l.domainManager=new b,l.projectSettings.publicUrl=l.getPublicDomain(),l.domainManager.syncDomainData(),n=l.projectSettings.domains[1]||null,l.domainManager.getMyOwnDomains().then(function(e){e&&n&&e.forEach(function(e,t){!e.name&&e.customDmn.name!==n.name||i.$body.on("click","#custom-dmn-settings, #dnsManagerButton",e.onClick.bind(e))}),o=e}))}}})},["jQuery","mbrApp","TR()","mbrServer"])},function(e,t,n){"use strict";defineM("user-licenses",function(i,o,u,e){n.prototype.renderLicenses=function(){var e,t,n,i,o,r=this,a=this.state.data;return a.length&&(e={type:"subscription",data:a.filter(s("subscription"))},t={type:"theme",data:a.filter(s("theme"))},n={type:"plugin",data:a.filter(s("plugin"))},i={type:"site_plan",data:a.filter(s("site_plan"))},o={type:"archive",data:a.filter(s(null,!0))},e.data.forEach(function(t){o.data=o.data.filter(function(e){return e.items[0].name!==t.items[0].name})}),""+l(e)+l(t)+l(n)+l(i)+l(o))||'<span class="user-licenses-wrap__nolicense">'+u("No active licenses")+"</span>";function s(i,o){return function(e){var t=e.items[0]&&e.items[0].expiredDate,n=+new Date;return!!t&&(o?1e3*t<n:e.items[0].type===i&&n<=1e3*t)}}function l(e){if(!e.data.length)return"";switch(e.type){case"subscription":return"\n                            <label>"+u("Kits")+"</label>\n                            "+c(e.data);case"theme":return"\n                            <label>"+u("Themes")+"</label>\n                            "+c(e.data);case"plugin":return"\n                            <label>"+u("Extensions")+"</label>\n                            "+c(e.data);case"site_plan":return"\n                            <label>"+u("Sites")+"</label>\n                            "+c(e.data);case"archive":return'\n                            <label class="collapsed" data-toggle="collapse" href="#archiveList">\n                                <span style="margin-right: 5px">'+u("Expired")+'</span>\n                                <span class="user-license__expired-icon mbr-icon-angle-right"></span>\n                            </label>\n                            <div class="collapse" id="archiveList">\n                                '+c(e.data)+"\n                            </div>";default:return""}}function c(e){var i={year:"numeric",month:"long",day:"numeric"};return e.reduce(function(e,n){return e+n.items.map(function(t){return'<div id="license-'+n.id+'" class="user-license">\n                            <div>\n                                <span>'+("subscription"===t.type?t.paymentTitle:t.title)+"</span>\n                                "+("site_plan"===t.type?'<span class="user-license__domain"><a href="javascript:void(0)" dataHref="'+d(r.state.sites.items.find(function(e){return e.id===t.params.site.id}))+'">'+d(r.state.sites.items.find(function(e){return e.id===t.params.site.id}))+"</a></span>":"")+'\n                            </div>\n                            <div>\n                                <span class="user-license__expiration '+((e=t.expiredDate)&&+new Date+6048e5>1e3*e?"expires":"")+'">\n                                    '+new Date(1e3*t.expiredDate).toLocaleDateString("en-US",i)+"\n                                </span>\n                            </div>\n                        </div>";var e})},"")}function d(e){return e&&e.domains?e.domains[e.domains.length-1].name:""}},n.prototype.getPlansLicenses=function(){return this.state.data.filter(function(e){return"site_plan"===e.items[0].type})},n.prototype.show=function(){var n=this;o.showDialog({title:u("User Licenses"),className:"app-user-licenses",body:'<div class="row"><div id="user-licenses-wrap" class="col-md-12"></div></div>',show:function(t){n.state.modal=t,o.fire("showUserLicenses",t),n.state.loading=!0,n.state.modal.find("#user-licenses-wrap").html(o.preloaderHTML),n.serverSync().then(function(){return n.getUserSites()}).then(function(e){return n.state.sites=e,n.renderLicenses()}).then(function(e){t.find("#user-licenses-wrap").html(e),t.find("a[dataHref]").each(function(e,t){i(t).click(function(e){o.openUrl("https://"+i(t).attr("dataHref"))})})})},hide:function(){n.state.shown=!1,n.state.modal=null}}),this.state.shown=!0},n.prototype.close=function(){this.state.shown&&this.state.modal&&(this.state.shown=!1,this.state.modal.remove(),this.state.modal=null)},n.prototype.serverSync=function(){var t=this,n=i.Deferred();return e.licenses().then(function(e){t.state.data=e,n.resolve(e)},function(e,t){n.reject(e),o.handleServerError(e,t)}),n},n.prototype.getUserSites=function(){var t=i.Deferred();return o.domainManager?(o.domainManager.api.get("/me/sites").then(function(e){t.resolve(e)}),t):t.resolve([])};var t=n;function n(){this.state={shown:!1,modal:null,loading:!1,data:[],sites:[]}}o.regExtension({name:"user-licenses",global:{userLicenses:new t},events:{initAccountSettings:function(e){e.find("#app-settings-btn").after('<div class="hover-block" id="app-user-licenses"><label>'+u("Licenses")+"</label></div>")},load:function(){i("#app-user-licenses").click(function(){o.userLicenses.show()})},loaded:function(){o.userLicenses.serverSync()}}})},["jQuery","mbrApp","TR()","mbrServer"])},function(e,t,n){"use strict";defineM("app-plugin-help",function(o,r,a,s){r.regExtension({name:"help",global:{helpBtn:".helpme-block",helpLoginMsg:a("Please sign up/login to contact us or get the access to public forums"),showHelp:function(t){r.checkSign(function(e){var n,i;e&&((n=r.getUserInfo())&&n.email?(t=t||{},i=r.showDialog({title:a("Help"),className:"help-dialog",body:"<p>"+a("Please visit %Help Center% or %Forums% before contacting us.").replace(/%(.[^%]+)%/,' <b><a class="link-help" href="https://mobirise.com/help/">$1</a></b>').replace(/%(.[^%]+)%/,'<b><a class="link-forum" href="http://forums.mobirise.com">$1</a></b>')+'</p><a class="btn btn-help" href="https://mobirise.com/help/">'+a("Visit Help Center")+'</a><a class="btn btn-primary link-forum" href="http://forums.mobirise.com">'+a("Visit Forums")+"</a><br/><br/><h4>"+a("Send us a message")+"</h4><span>"+a("From")+':</span><input class="form-control email" disabled="disabled" value="email@email.com" style="margin-bottom: 10px"></input><span>'+a("Message")+':</span><textarea rows="4" class="form-control" placeholder="'+a("Please explain in details what happened and what steps we can take to reproduce the problem.")+'"></textarea>',buttons:{send:{label:a("SEND"),default:!0,callback:function(){var t=i.find("textarea").val();if(!t||t.length<100)return r.alertDlg(a("Your message is too short. Please add more details")),!1;t+="\n--------------\n",r.getAddonsListAsText(function(e){t=(t=(t+=Bridge.appName+" "+Bridge.version+"\n")+"Platform: "+Bridge.getPlatform()+", "+window.navigator.userAgent+"\nAddons: "+e)+"Data location: "+Bridge.dataLocation,s.sendMessage("support",t).then(function(){r.alertDlg(a("Your message has been successfully sent!")+"<br/> "+a("We will reply to your email $userEmail$ shortly.").replace("$userEmail$","<b>"+n.email+"</b>")).on("hidden.bs.modal",function(){i.hide()})},function(e,t){r.alertDlg(e),r.handleServerError(e,t)})})}}},show:function(e){e.find("textarea").val(t.message||""),e.find(".link-forum").attr("href","javascript:void(0)").click(function(){s.url("forum").then(function(e){r.openUrl(e)},function(e,t){r.alertDlg(e),r.handleServerError(e,t)})}),e.find(".link-help, .btn-help").click(function(){r.openUrl("https://mobirise.com/help/")}),e.find(".email").val(n.email),e.on("shown.bs.modal",function(){o(this).find("textarea").focus()}),e.on("hidden.bs.modal",function(){o(this).data("modal",null),t.onhide&&t.onhide(),o(this).remove()}),r.fire("showedHelp")}})):console.log("Error: wrong checkSign"))},r.helpLoginMsg)}},events:{load:function(){var e=this;e.helpBtn=r.addSidebarItem({title:a("Help"),className:"helpme-block",tooltip:a("Visit Help Center or Contact Us"),onclick:function(){r.fire("shownHelpDialog"),e.showHelp()}})}}})},["jQuery","mbrApp","TR()","mbrServer"])},function(e,t,n){"use strict";!function(i){var e=n(142),u=(e=e)&&e.__esModule?e:{default:e},p=n(23);defineM(function(d,s,n){s.regExtension({name:"app-plugin-zip-project",global:{createZipProject:function(){var a=this;s.isPremiumUser().then(function(e){if(!s.projectHasLicense()&&!e)throw s.goToBuyPremium(),new Error("Premium plan required")}).then(function(){return s.applyFilter("createZipProject",Promise.resolve())}).then(function(){s.publish(!1,null,function(){function l(e){return(e=e.replace(/\?.+$/g,"")).replace(/https?:\/\/.*?\/.*?\/.*?\//g,"")}var t=d(s.preloaderHTML),r=(s.$body.find(".site-settings-modal .modal-content").prepend(t),[]),c=(s.prepareProjectText(),p.Bridge.zip());s.Core.getResultProject();u.default.dirList(mbrApp.projectSettings.path).then(function(e){var o=Object.keys(s.Core.getResultProject().pages);e.map(function(n,e){var i,t;/\.html$/.test(n)&&o.includes(n)&&0!==n.indexOf("google")&&(i=d.Deferred(),r.push(i),u.default.loadLocalFile(mbrApp.projectSettings.path+"/"+n).then(function(e){return e=e,o=[],t=/(<amp-img.*?src=")([^">]*\/[^">]*?)(".*?>)/g,t=s.isAMP()?/(<amp-img.*?src=")([^">]*\/[^">]*?)(".*?>)/g:/(<img.*?src=")([^">]*\/[^">]*?)(".*?>)/g,e=(e=(e=(e=(e=e.replace(t,function(e,t,n,i){return o.push(n),t+"assets/"+l(n)+i})).replace(/(url\(['"]?)(.*?)(['"]?\);)+/g,function(e,t,n,i){return 0!==n.indexOf("http")?e:(o.push(n),t+"assets/"+l(n)+i)})).replace(/(<link.*?rel="shortcut icon".*?href=")([^">]*\/[^">]*?)(".*?>)/g,function(e,t,n,i){return o.push(n="assets/images/logo5.png"===n?"app/builder/images/logo5.png":n),t+"assets/"+l(n)+i})).replace(/(<link.*?rel="canonical".*?href=")([^">]*\/[^">]*?)(".*?>)/g,function(e,t,n,i){n=n.split("/");return t+(n[n.length-1]?n[n.length-1]:"/")+i})).replace(/(<script.*?src=")([^">]*\/[^">]*?)(".*?>)/g,function(e,t,n,i){return o.push(n),t+"assets/"+l(n)+i}),d.Deferred().resolve(e,o);var o,t}).then(function(e,t){var s;c.file(n,e),t?(s=[],t.forEach(function(e,t){var n,i,o,r,a;-1!==e.indexOf("dummy")&&((n=e.split("?")).pop(),e=n.join("")),s.push((i=e,o=c,r="assets",a=d.Deferred(),p.Bridge.loadLocalBase64(i,function(e){e?o.file((r||"")+"/"+l(i),e,{base64:!0}):console.log("Loading image error: "+(r||"")+"/"+l(i)),a.resolve()}),a))}),d.when.apply(a,s).then(function(){console.log("all files from "+n+" page are uploaded"),i.resolve()},function(e){console.error(e),i.reject()})):i.resolve()})),(/robots\.txt$/.test(n)||/project\.mobirise$/.test(n)||/manifest\.json$/.test(n)||/sw\.js$/.test(n)||/sw-toolbox\.js$/.test(n))&&(t=d.Deferred(),r.push(t),u.default.loadLocalFile(mbrApp.projectSettings.path+"/"+n).then(function(e){c.file(n,e),t.resolve()},function(e){t.reject()}))}),d.when.apply(a,r).then(function(){console.log("All promise resolved. Starting zip process..."),c.generateAsync({type:"blob"}).then(function(e){p.Bridge.saveAs(e,(e=mbrApp.projectSettings.title,(e=/^[A-Za-z0-9]*$/.test(e)?e:new i(e).toString("hex"))+".zip")),t.remove(),s.fire("zipProjectCreated")},function(e){console.error(e),t.remove()})},function(e){t.remove(),bootbox.alert(n("Something went wrong"))})},function(e){console.error(e),t.remove()})})}).catch(function(e){console.error(e)})}}})},["jQuery","mbrApp","TR()"])}.call(this,n(371).Buffer)},function(e,t,n){"use strict";var s=n(23);defineM("progressive-web-app",function(t,i,n){function o(){return!i.projectSettings.PWA||!i.projectSettings.PWA.enabled}var r=s.Bridge.base+"assets/progressive-web-app",a=r+"/icons/512x512.png";i.$body.on("change","#pwa-switcher",function(){i.$body.find(".pwa-edit")[0].classList.toggle("hidden"),i.projectSettings.PWA?i.projectSettings.PWA.enabled=this.checked:i.projectSettings.PWA={enabled:this.checked},i.runSaveProject(!1,!0)}),i.$body.on("click","#pwa-edit",function(){i.showDialog({title:n("Enter your PWA parameters"),className:"pwa-edit-modal",size:"small",body:'<div class="row">\n                        <div class="form-group col-md-12 col-sm-12">\n                            <p>App Name</p>\n                            <input type="text" class="form-control" id="pwa-name" placeholder="'+i.projectSettings.name+'" value="'+(i.projectSettings.PWA.name||"")+'">\n                        </div>\n                        <div class="form-group col-md-12 col-sm-12 pwa-icon-field">\n                            <p>Icon</p>\n                            <img src="'+(i.projectSettings.PWA.icon||a)+'" id="pwa-current-icon" class="img-responsive">\n                            <button id="pwa-icon-change-btn" class="btn btn-primary">Change Icon</button>\n                        </div>\n                        <div class="form-group col-md-12 col-sm-12 pwa-color-field">\n                            <p>Theme Color</p>\n                            <input type="color" class="form-control" id="pwa-theme-color" value="'+(i.projectSettings.PWA.themeColor||i.projectSettings.theme.styling.primaryColor)+'">\n                        </div>\n                    </div>',create:function(e){t(e).find("#pwa-theme-color").spectrum({showButtons:!1,preferredFormat:"hex",showInput:!0,showPaletteOnly:!0,togglePaletteOnly:!0,togglePaletteMoreText:n("More")+" >",togglePaletteLessText:n("Less")+" <",maxSelectionSize:1,palette:i.getThemeColorsSet(7),move:function(e){t(this).val(e.toHexString())}})},success:function(e){var t=i.projectSettings.PWA;t.name=e[0].querySelector("#pwa-name").value.trim(),t.icon=e[0].querySelector("#pwa-current-icon").src,t.themeColor=e[0].querySelector("#pwa-theme-color").value,i.runSaveProject(!1,!0)},cancel:function(){}})}),i.$body.on("click","#pwa-icon-change-btn, #pwa-current-icon",function(){s.Bridge.openImage("Select 512x512px PNG Icon",i.projectPath?i.projectPath+"/icons":"","",{width:"512",height:"512",keepAspectRatio:!1,format:"png"},function(e){e&&t("#pwa-current-icon").attr("src",s.Bridge.path2app(e))},!1)}),i.addFilter("publishFiles",function(e){return o()||(e.push({srcList:[{src:r+"/sw.js"}],dest:"sw.js"},{srcList:[{src:"manifest.json",filter:"template"}],dest:"manifest.json"}),i.projectSettings.PWA.icon?e.push({srcList:[{src:i.projectSettings.PWA.icon}],dest:"icons/512x512.png"}):e.push({srcList:[{src:a}],dest:"icons/512x512.png"}),i.isAMP())||e.push({srcList:[{src:r+"/sw-connect.js"}],dest:"sw-connect.js"}),e}),i.addFilter("publishTemplating",function(e,t){var n;return!o()&&"manifest.json"==t?(t=i.projectSettings.PWA,n=i.projectSettings,t={name:t.name||n.name,short_name:t.name||n.name,start_url:"/",display:"standalone",theme_color:t.themeColor||n.theme.styling.primaryColor,background_color:t.themeColor||n.theme.styling.primaryColor,icons:[{src:i.projectSettings.resourcesUrl+"icons/"+(i.projectSettings.PWA.icon?s.Bridge.splitPath(i.projectSettings.PWA.icon).name+".png":"512x512.png"),sizes:"512x512",type:"image/png"}]},JSON.stringify(t)):e}),i.addFilter("publishHTML",function(e){return e=o()?e:i.isAMP()?(e=e.replace("</head>",'<meta name="theme-color" content="'+(i.projectSettings.PWA.themeColor||i.projectSettings.theme.styling.primaryColor)+'">\n                     <link rel="manifest" href="manifest.json">\n                     <script async custom-element="amp-install-serviceworker" src="https://cdn.ampproject.org/v0/amp-install-serviceworker-0.1.js"><\/script></head>')).replace("</body>",'<amp-install-serviceworker src="sw.js" layout="nodisplay"></amp-install-serviceworker></body>'):e.replace("</head>",'<meta name="theme-color" content="'+(i.projectSettings.PWA.themeColor||i.projectSettings.theme.styling.primaryColor)+'">\n                     <link rel="manifest" href="manifest.json">\n                     <script src="sw-connect.js"><\/script></head>')}),i.addFilter("changeProjectSettings",function(e,t){return e.hasOwnProperty("pwa-switcher")?i.fire("settingsPWAEnable",!0):i.fire("settingsPWAEnable",!1),e}),i.regExtension({name:"progressive-web-app",events:{load:function(){i.addFilter("additionalSiteSettings",function(e){return e+('<div class="form-group row clearfix">\n                            <label class="col-md-3 control-label" for="pwa-switcher">Progressive Web App</label>\n                            <div class="col-md-9">\n                                <div class="pwa-inner">\n                                    <div class="togglebutton">\n                                        <label style="width: 100%;">\n                                            <input type="checkbox" id="pwa-switcher" name="pwa-switcher" '+(o()?"":"checked")+'>\n                                            <span class="toggle" style="margin-top: -6px;"></span>\n                                        </label>\n                                    </div>\n                                    <button id="pwa-edit" class="btn btn-primary pwa-edit '+(o()?"hidden":""))+'" type="button">PWA Settings</button>\n                                </div>\n                            </div>\n                        </div>'})}}})},["jQuery","mbrApp","TR()"])},function(e,t,n){"use strict";var s=n(469);defineM(function(t,a,n){a.regExtension({name:"dropCSS",events:{load:function(){a.isAMP()&&(a.addFilter("additionalSiteSettings",function(e){return e+'<div class="form-group row clearfix">\n\t\t\t\t            <label class="col-md-3 control-label">'+n("Remove Unused Css")+'</label>\n                            <div class="togglebutton col-md-9">\n                                <label style="width: 100%">\n                                    <input id="unuse-css-check" type="checkbox" '+(a.projectSettings.cleanCSS?"checked":"")+'>\n                                    <span class="toggle" style="margin-top: -6px;"></span>\n                                </label>\n                            </div>\n                        </div>'}),a.$body.on("change","#unuse-css-check",function(e){a.projectSettings.cleanCSS=t(e.target).prop("checked")}))},loadProject:function(){a.addFilter("publishTemplating",function(e){var t,n,i,o,r;return a.projectSettings.cleanCSS&&(r=e.match(/<body>[^]*<\/body>/),t=e.match(/<style amp-custom>([^]*)<\/style>/),r)&&t&&(r=r[0],n=t[1],i=/amp|cookie|scroll/,o=new Set,r=s({html:r,css:n,shouldDrop:function(e){return!i.test(e)&&(o.add(e),!0)}}),e=e.replace(t[0],"<style amp-custom>"+r.css+"</style>")),e})}}})},["jQuery","mbrApp","TR()"])},function(e,s,l){"use strict";function d(e,t,n){throw new Error(e+' parser stopped here: "'+t.substring(n,n+100)+'"')}var c=1,u=2,p=3,f=new Set("area base br col command embed hr img input keygen link meta param source track wbr".split(" ")),h=/<!doctype[^>]*>|<!--[\s\S]*?-->|<script[^>]*>[\s\S]*?<\/script>|<style[^>]*>[\s\S]*?<\/style>|<link[^>]*>|<meta[^>]*>/gim,m={NAME:/\s*<([\w-]+)\s*/imy,ATTR:/\s*([\w-:]+)(?:="([^"]*)"|='([^']*)'|=([\w-]+))?\s*/imy,TAIL:/\s*(\/?>)\s*/imy,TEXT:/\s*[^<]*/my,CLOSE:/\s*<\/[\w-]+>\s*/imy};function g(e){var t,n,i=0,o=[];function r(e){for(var t in i=e.lastIndex,m)m[t].lastIndex=i}for(var a=i;i<e.length;){if(s=l=void 0,null!=m.CLOSE.exec(e))r(m.CLOSE),o.push(p);else if(null!=(t=m.NAME.exec(e))){r(m.NAME);var s,l=t[1];for(o.push(c,l);n=m.ATTR.exec(e);)r(m.ATTR),(s=s||new Map).set(n[1],(n[2]||n[3]||n[4]||"").trim());s&&o.push(u,s),n=m.TAIL.exec(e),!f.has(l)&&"/>"!=n[1]||o.push(p),r(m.TAIL)}else null!=m.TEXT.exec(e)&&r(m.TEXT);a===i&&d("html",e,i),a=i}return r({lastIndex:0}),o}var v=new Set;function b(e,t,n){return{tagName:t,attributes:n,classList:null!=n&&n.has("class")?new Set(n.get("class").split(/\s+/g)):v,parentNode:e,childNodes:[]}}var o=[];function y(e,t){var n,i;return null!=e?(n=e._ofTypes=e._ofTypes||{},t in n||(i=0,n[t]=e.childNodes.filter(function(e){if(e.tagName==t)return e._typeIdx=i++,!0})),n[t]):o}function w(e){for(var t,e=g(e=e.replace(h,"")),i={nodes:[],tag:new Set(["*"]),class:new Set,attr:new Set},n=e,o=function(e,t){var n;t=t,n=i,(e=e).idx=t,t=e.attributes,n.tag.add(e.tagName),e.classList.forEach(function(e){return n.class.add(e)}),t.has("id")&&n.attr.add("[id="+t.get("id")+"]"),t.has("type")&&n.attr.add("[type="+t.get("type")+"]"),n.nodes.push(e)},r=b(null,"root",v),a=0;a<n.length;a++)switch(n[a]){case c:var s=n[++a],l=v;n[a+1]===u&&(l=n[a+=2]),t=r.childNodes.length,r.childNodes.push(r=b(r,s,l)),o(r,t);break;case p:r=r.parentNode}return i}var x=/\s*\/\*[\s\S]*?\*\/\s*/gm,t=/\s*[>~+.#]\s*|\[[^\]]+\]|\s+/gm,_=1,k=2,S=3,C=4,P=5;function T(e){e=e.split(/\s*,\s*/gm);return e.push(e.map(function(e){return function(e){for(var t=e.length;(e=e.replace(n,"")).length!=t;)t=e.length;return e.replace(/:?:[a-z-]+/gm,"")}(e).trim().replace(t,function(e,t){return e=e.trim(),0==t?e:"."==e||"#"==e?"`"+e:e.length<=1?"`":"`"+e.replace(/['"]/gm,"")}).split(/`+/gm)})),e}var n=/:[a-z-]+\([^()]*\)/;function j(e,t,n,i){for(var o="",r=1;e[t]==n?r++:e[t]==i&&r--,0!=r;)o+=e[t++];return o}function E(e){var t,n={RULE_HEAD:/\s*([^{;]+?)\s*[{;]\s*/my,RULE_TAIL:/\s*([^}]*?)\s*\}/my,AT_TAIL:/\s*\}/my,RULE_FULL:/\s*([^{]*?)\{([^}]+?)\}/my},i=0,o=0,r=[];function a(e){for(var t in o=e.lastIndex,n)n[t].lastIndex=o}for(var s=o;o<e.length;){if(c=l=void 0,0<i&&null!=(t=n.AT_TAIL.exec(e)))i--,r.push(k),a(n.AT_TAIL);else if(null!=(t=n.RULE_HEAD.exec(e))){var l=t[1];if(a(n.RULE_HEAD),"@"==l[0])switch(l.match(/@[a-z-]+/)[0]){case"@media":case"@supports":case"@document":i++,r.push(_,l);break;case"@import":case"@charset":case"@namespace":r.push(P,l+";");break;default:i++;var c=j(e,o,"{","}");a({lastIndex:o+c.length}),r.push(_,l,P,c)}else r.push(S,T(t[1])),t=n.RULE_TAIL.exec(e),r.push(C,t[1]),a(n.RULE_TAIL)}else o=e.length;s===o&&d("css",e,o),s=o}return r}function A(e){return e.replace(/@[a-z-]+[^{]+\{\s*\}/gm,"")}function L(e){var t,n,i,o={IDENT:/([\w*-]+)/iy,ATTR:/([\w-]+)(?:(.?=)["']?([^\]]*?)["']?)?\]/iy,PSEUDO:/([\w-]+)(\()?/iy,MODE:/\s*[:.#\[]\s*/iy,COMB:/\s*[>~+]\s*|\s+/iy},r=0,a=[],s=-1;function l(e){for(var t in r=e.lastIndex,o)o[t].lastIndex=r}for(;r<e.length;)i=n=void 0,(t=o.COMB.exec(e))?(n=t[0].trim(),a.push(n=""==n?" ":n),l(o.COMB),s=a.length-1):(t=o.MODE.exec(e))?(n=t[0].trim(),l(o.MODE),":"==n?("("==(t=o.PSEUDO.exec(e))[2]&&(i=j(e,o.PSEUDO.lastIndex,"(",")"),o.PSEUDO.lastIndex+=i.length+1,t[2]="not"==t[1]?L(i):i),a.splice(s+1,0,t[2],t[1],n),l(o.PSEUDO)):"["==n?(t=o.ATTR.exec(e),a.splice(s+1,0,t[3],t[2],t[1],n),l(o.ATTR)):(t=o.IDENT.exec(e),a.push(t[1],n),l(o.IDENT))):(t=o.IDENT.exec(e))&&(a.push(t[1],"_"),l(o.IDENT));return a}var r=/^([+-]?\d*)?n([+-]\d+)?$/;function $(e,t,n,i){i=i||"=";e=e.attributes;if(e.has(t)){var o=e.get(t);switch(i){case"=":return null==n||n==o;case"*=":return-1!=o.indexOf(n);case"^=":return o.startsWith(n);case"$=":return o.endsWith(n);case"~=":return n==o||o.startsWith(n+" ")||o.endsWith(" "+n)||-1!=o.indexOf(" "+n+" ")}}return!1}function O(e,t){var n,i,t="odd"==t?e%2==1:"even"==t?e%2==0:/^\d+$/.test(t)?e==+t:(t=t,t=null!=(t=r.exec(t))?[i=null==(i=t[1])||"+"==i?1:"-"==i?-1:+i,i=null==(i=t[2])?0:+i]:[0,0],i=t[0],e=e,!((t=t[1])<0&&i<=0)&&(-1===i?e<=t:0===i?e===t:1===i?t<0||t<=e:((n=t%i)<0&&(n+=i),1<i?t<=e&&e%i===n:(i*=-1,e<=t&&e%i===n))));return t}function D(e,t){return e.some(function(e){return function e(t,n){for(var i,o,r,a;-1<n.idx;){switch(t[n.idx]){case"_":l=t[--n.idx],r=n.node,o=(a=l)==r.tagName||"*"==a,n.idx--;break;case"#":c=t[--n.idx],o=$(n.node,"id",c,"="),n.idx--;break;case".":l=t[--n.idx],r=n.node,a=l,o=r.classList.has(a),n.idx--;break;case"[":l=t[--n.idx],i=t[--n.idx],c=t[--n.idx],o=$(n.node,l,c,i),n.idx--;break;case":":var s,l=t[--n.idx],c=t[--n.idx],d=n.node,u=d.tagName,p=d.idx,f=(s=d.parentNode)?s.childNodes.length:1,h=void 0;switch(l){case"not":o=!e(c,{node:n.node,idx:c.length-1});break;case"first-child":o=0==p;break;case"last-child":o=p==f-1;break;case"only-child":o=1==f;break;case"nth-child":o=O(p+1,c);break;case"nth-last-child":o=O(f-p,c);break;case"first-of-type":h=y(s,u),o=0==d._typeIdx;break;case"last-of-type":h=y(s,u),o=d._typeIdx==h.length-1;break;case"only-of-type":o=1==(h=y(s,u)).length;break;case"nth-of-type":h=y(s,u),o=O(d._typeIdx+1,c);break;case"nth-last-of-type":o=O((h=y(s,u)).length-d._typeIdx,c)}n.idx--;break;case" ":for(p=--n.idx,o=!1;!o&&null!=(s=n.node.parentNode);)n.idx=p,n.node=s,o=e(t,n);break;case">":n.idx--,o=null!=(s=n.node.parentNode)&&(n.node=s,e(t,n));break;case"+":n.idx--,o=null!=(s=n.node.parentNode)&&0<n.node.idx&&(n.node=s.childNodes[n.node.idx-1],e(t,n));break;case"~":if(n.idx--,o=!1,p=n.node.idx,null!=(s=n.node.parentNode)&&0<p)for(var m=0;m<p&&!o;m++)n.node=s.childNodes[m],o=e(t,n)}if(!o)break}return o}(t,{idx:t.length-1,node:e})})}function F(e,t,n,i,o){o=o||"";for(var r,a,s,l=t.length-1;-1<l;l--){var c=t[l];n.has(c[2])||!0!==i(o+c[2])||(r=e,a=c[0],c=c[1],s="",e=r.slice(0,a)+s+r.slice(a+c))}return e}var a=/([{};])\s*(--[\w-]+)\s*:\s*([^;}]+);?\s*/gm,i=/var\(([\w-]+)\)/gm,I=/\s*,\s*/gm;function M(e){return e.trim().replace(/'|"/gm,"").split(I)}function B(e,t){var n=function(e){for(var t,n={};i.test(e);){for(;t=a.exec(e);)n[t[2]]=t[3];e=e.replace(i,function(e,t){return i.test(n[t])?e:n[t]})}return e}(e).replace(a,function(e,t){return t});return(e=function(i){for(var e=i;(e=(i=e).replace(a,function(e,t,n){return-1!=i.indexOf("var("+n+")")?e:t}))!=i;);return e}(e=function(e,t,n){for(var i,o="@font-face[^}]+\\}+",r=RegExp(o,"gm"),a=[];i=r.exec(e);)a.push([i.index,i[0].length]);for(var s,l="font-family:([^;!}]+)",c=RegExp(l),d=0;i=r.exec(t);)s=c.exec(i[0]),a[d++].push(M(s[1])[0]);for(var u=new Set,p=RegExp(o+"|"+l,"gm");i=p.exec(t);)"@"!==i[0][0]&&M(i[1]).forEach(function(e){return u.add(e)});for(var f,h=/font:([^;!}]+)/gm,m=/\s*(?:['"][\w- ]+['"]|[\w-]+)\s*(?:,|$)/gm;i=h.exec(t);){for(f="";s=m.exec(i[1]);)f+=s[0];M(f).forEach(function(e){return u.add(e)})}return F(e,a,u,n,"@font-face ")}(e=function(e,t,n){for(var i,o=[],r=/@(?:-\w+-)?keyframes\s+([\w-]+)\s*\{/gm;i=r.exec(e);){var a=j(e,r.lastIndex,"{","}");o.push([i.index,i[0].length+a.length+1,i[1]])}for(var s=new Set,l=/animation(?:-name)?:([^;!}]+)/gm;i=l.exec(t);)i[1].trim().split(I).forEach(function(e){var t=e.match(/^\S+/)[0];/^-?[\d.]+m?s/.test(t)&&(t=e.match(/\S+$/)[0]),s.add(t)});return F(e,o,s,n,"@keyframes ")}(e,n,t),n,t))).replace(/[^{}]+\{\s*\}/gm,"")}var N=/\[([\w-]+)(?:(.?=)"?([^\]]*?)"?)?\]/i,R=/:(?:first|last|nth|only|not)\b/;function U(e){return!0}e.exports=function(e){for(var i=w(e.html,e.keepText),o=e.shouldDrop||U,t=E(e.css.replace(x,"")),r={},n=0;n<t.length;n++){var a=t[n];if(a===S){var s=t[n+1],l=s[s.length-1];n++;for(var c=0;c<l.length;c++)for(var d=l[c],u=0;u<d.length;u++){var p,f=d[u],h=!1,m=void 0;if(""!=f){if(f in r)h=r[f];else switch(f[0]){case"#":m=f.substr(1),r[f]=h=i.attr.has("[id="+m+"]");break;case".":m=f.substr(1),r[f]=h=i.class.has(m);break;case"[":f.startsWith("[type=")?r[f]=h=i.attr.has(f):(p=f.match(N),r[f]=h=i.nodes.some(function(e){return $(e,p[1],p[3],p[2])}));break;default:r[f]=h=i.tag.has(f)}if(!h){!0===o(s[c])?s[c]=null:r[s[c]]=!0;break}}}}}for(var g=0;g<t.length;g++)t[g]===S&&(t[++g].length,t[g]=t[g].filter(function(e){var t,n;return"string"==typeof e&&(e in r?r[e]:""==(n=e.replace(/:?:[a-z-]+/gm,function(e){return e.startsWith("::")||!R.test(e)?"":e}).replace(/:[a-z-]+\(\)/gm,""))||(n in r?r[n]:r[n]=(t=i.nodes,n=n,D(t,Array.isArray(n)?n:L(n))||!0!==o(e))))}));var e=new Set,v=function(e,t){for(var n="",i=0,o=0;o<e.length;o++)switch(e[o]){case S:var r=e[++o];0<(i=r.length)&&(r.forEach(function(e){return t.add(e)}),n+=r.join());break;case C:0<i&&(n+="{"+e[++o]+"}");break;case _:n+=e[++o]+"{";break;case k:n+="}";break;case P:n+=e[++o]}return A(n)}(t,e);return{css:A(B(v,o)),sels:e}}},function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,i=arguments[t];for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e};defineM("google-analytics",function(i,o,n){function e(e,t){gtag("event",e,r({event_category:"engagement"},1<arguments.length&&void 0!==t?t:{}))}o.regExtension({name:"google-analytics",events:{shownAddonsDialog:function(){e("main_sidebar_extensions_click")},toggleComponents:function(){e("toggle_components_sidebar")},showedProjectsList:function(){e("main_sidebar_sites_click")},showedAccountSettings:function(){e("main_sidebar_account_click")},showedPagesList:function(){e("main_sidebar_pages_click")},showedHelp:function(){e("main_sidebar_help_click")},zipProjectCreated:function(){e("publish_click",{publish_click_type:"local"})},publishedToMbrsite:function(){e("publish_click",{publish_click_type:"mbrsite"})},CustomDomainConnected:function(){e("domain_connect")},domainDisconnected:function(){e("domain_disconnect")},openThemeSettings:function(){e("toggle_theme_settings")},redeemActivated:function(){e("redeem_activated")},removedComponent:function(){e("component_removed")},addedPage:function(){e("page_added")},removedPage:function(){e("page_removed")},changedProjectSettings:function(){e("project_settings_changed")},load:function(){o.addFilter("publishHTML",function(e){var t=o.projectSettings["google-analytics"]||"";return t?e.replace("<body>","<body>\n\n\x3c!-- Analytics --\x3e\n"+t+"\n\x3c!-- /Analytics --\x3e\n\n"):e}),o.addFilter("sidebarProjectSettings",function(e){var t={title:"SEO & Analytics",name:"seo-analytics",html:'<div class="form-group col-md-12"><label class="control-label" for="site-settings-google-analytics">'+n("Analytics")+'</label><textarea id="site-settings-google-analytics" rows="5" name="google-analytics" placeholder="'+n("Paste your Analytics code snippet here or paste any other code that you want to have on every page immediately after the opening $body$ tag.").replace("$body$","&lt;body&gt;")+'" class="form-control"></textarea></div>'};return e.push(t),e})},shownSidebarProjectSettings:function(e,t){var n=o.projectSettings["google-analytics"]||"";i("#site-settings-google-analytics").val(n),i("#site-settings-google-analytics").change(function(e){o.projectSettings["google-analytics"]=e.target.value,o.changeProjectSettings(t,{"google-analytics":e.target.value})})}}})},["jQuery","mbrApp","TR()"])},function(e,t,n){"use strict";var L=2147483647,$=36,O=26,o=38,r=700,i=/^xn--/,a=/[^\0-\x7E]/,s=/[\x2E\u3002\uFF0E\uFF61]/g,l={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},c=$-1,D=Math.floor,F=String.fromCharCode;function I(e){throw new RangeError(l[e])}function d(e,t){var n=e.split("@"),i="",n=(1<n.length&&(i=n[0]+"@",e=n[1]),(e=e.replace(s,".")).split("."));return i+function(e,t){for(var n=[],i=e.length;i--;)n[i]=t(e[i]);return n}(n,t).join(".")}function M(e){for(var t=[],n=0,i=e.length;n<i;){var o,r=e.charCodeAt(n++);55296<=r&&r<=56319&&n<i?56320==(64512&(o=e.charCodeAt(n++)))?t.push(((1023&r)<<10)+(1023&o)+65536):(t.push(r),n--):t.push(r)}return t}function B(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function N(e,t,n){var i=0;for(e=n?D(e/r):e>>1,e+=D(e/t);c*O>>1<e;i+=$)e=D(e/c);return D(i+(c+1)*e/(e+o))}function u(e){var t=[],n=e.length,i=0,o=128,r=72,a=e.lastIndexOf("-");a<0&&(a=0);for(var s=0;s<a;++s)128<=e.charCodeAt(s)&&I("not-basic"),t.push(e.charCodeAt(s));for(var l=0<a?a+1:0;l<n;){for(var c=i,d=1,u=$;;u+=$){n<=l&&I("invalid-input");var p=(p=e.charCodeAt(l++))-48<10?p-22:p-65<26?p-65:p-97<26?p-97:$,f=(($<=p||p>D((L-i)/d))&&I("overflow"),i+=p*d,u<=r?1:r+O<=u?O:u-r);if(p<f)break;p=$-f;d>D(L/p)&&I("overflow"),d*=p}var h=t.length+1,r=N(i-c,h,0==c);D(i/h)>L-o&&I("overflow"),o+=D(i/h),i%=h,t.splice(i++,0,o)}return String.fromCodePoint.apply(String,t)}function p(e){var t=[],n=(e=M(e)).length,i=128,o=0,r=72,a=!0,s=!1,l=void 0;try{for(var c,d=e[Symbol.iterator]();!(a=(c=d.next()).done);a=!0){var u=c.value;u<128&&t.push(F(u))}}catch(e){s=!0,l=e}finally{try{!a&&d.return&&d.return()}finally{if(s)throw l}}var p=t.length,f=p;for(p&&t.push("-");f<n;){var h=L,m=!0,g=!1,v=void 0;try{for(var b,y=e[Symbol.iterator]();!(m=(b=y.next()).done);m=!0){var w=b.value;i<=w&&w<h&&(h=w)}}catch(e){g=!0,v=e}finally{try{!m&&y.return&&y.return()}finally{if(g)throw v}}var x=f+1,_=(h-i>D((L-o)/x)&&I("overflow"),o+=(h-i)*x,i=h,!0),g=!1,v=void 0;try{for(var k,S=e[Symbol.iterator]();!(_=(k=S.next()).done);_=!0){var C=k.value;if(C<i&&++o>L&&I("overflow"),C==i){for(var P=o,T=$;;T+=$){var j=T<=r?1:r+O<=T?O:T-r;if(P<j)break;var E=P-j,A=$-j;t.push(F(B(j+E%A,0))),P=D(E/A)}t.push(F(B(P,0))),r=N(o,x,f==p),o=0,++f}}}catch(e){g=!0,v=e}finally{try{!_&&S.return&&S.return()}finally{if(g)throw v}}++o,++i}return t.join("")}window.punycode={version:"2.1.0",ucs2:{decode:M,encode:function(e){return String.fromCodePoint.apply(String,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(e))}},decode:u,encode:p,toASCII:function(e){return d(e,function(e){return a.test(e)?"xn--"+p(e):e})},toUnicode:function(e){return d(e,function(e){return i.test(e)?u(e.slice(4).toLowerCase()):e})}}},function(e,t,n){"use strict";var p=n(23);defineM(function(o,r,a){var s="User-agent: *\r\nDisallow: /cgi-bin\r\n";function l(e){var t,n,i=r.Core.getPages(),o=[];for(n in e=(t=(e=e.match(/\/$/i)?e.slice(0,-1):e).match(/https?:\/\//i)[0])+punycode.toASCII(e.slice(t.length)),i)o.push("\t<url>","\t\t<loc>"+e+"/"+n.toString()+"</loc>","\t</url>");return['<urlset xmlns="http://www.sitemaps.org/schemas/sitemap/0.9">',o=o.join("\n"),"</urlset>"].join("\n")}function c(e){p.Bridge.saveLocalFile(r.projectPath+"/sitemap.xml",e)}function d(e){return e.match(/^https?:\/\/.*/i)}function u(){r.showDialog({title:a("Enter site URL"),className:"site-url-modal",body:['<form class="page-settings-form">','<div class="form-group row clearfix">','<div class="col-md-12">','<span class="site-url-error" style="color: red;display: none;">'+a('URL is not valid! (must be like "http://mysite.com")')+"</span>",'<input class="form-control" type="text" name="siteUrlModal" placeholder="http://mysite.com" value="'+r.projectSettings.siteUrl+'">',"</div>","</div>","</form>"].join("\n"),buttons:[{label:"save",default:!0,callback:function(){var e=o("input[name='siteUrlModal']");if(!d(e.val()))return o(".site-url-error").show(),e.focus(),r.projectSettings.siteUrl="",!1;r.projectSettings.siteUrl=e.val(),o("#siteUrl").parents(".form-group").show(),o("#siteUrl").val(e.val()),o(".sitemapEdit").parents(".form-group").hide()}}]})}r.regExtension({name:"seo",events:{shownSidebarProjectSettings:function(e,t){var n,i;n=t,o("#robotsSwitcher").change(function(e){e=o(e.target).prop("checked");(r.projectSettings.robotsSwitcher=e)&&o(".robotsEdit").click(),r.projectSettings.robotsText=s,o(".robotsText").val(s),o(".robotsEdit").parents(".form-group").toggle()}),o(".robotsEdit").click(function(e){e.preventDefault(),r.showDialog({title:a("Edit robots.txt"),className:"robots-modal",body:['<form class="page-settings-form">','<div class="form-group row clearfix">','<div class="col-md-12">','<textarea class="form-control robotsText" name="robotsText" rows="10">',r.projectSettings.robotsText,"</textarea>","</div>","</div>","</form>"].join("\n"),buttons:[{label:"save",default:!0,callback:function(){r.changeProjectSettings(n,{robotsText:o(".robotsText").val()}),r.projectSettings.robotsText=o(".robotsText").val()}}]})}),i=t,o("#sitemapSwitcher").change(function(e){var t=o(e.target).prop("checked");r.projectSettings.sitemapSwitcher=t,r.projectSettings.siteUrl="",r.projectSettings.sitemapSwitcherAuto="on",r.changeProjectSettings(i,{siteUrl:""}),r.changeProjectSettings(i,{sitemapSwitcherAuto:"on"}),o("#siteUrl").val(""),o("#sitemapSwitcherAuto").prop("checked",!0),o(e.target).prop("checked")?(u(),o(".togglebutton").has("#sitemapSwitcher").prev("label").addClass("col-auto").removeClass("col"),o(".togglebutton").has("#sitemapSwitcherAuto").show(),o(".togglebutton").has("#sitemapSwitcherAuto").prev("label").show(),o(".form-group").has("#siteUrl").show(),o(".form-group").has(".sitemapEdit").hide(),o("input[name='siteUrlModal']").on("input",function(){d(o(this).val())?o(".site-url-error").hide():o(".site-url-error").show()}),o(".site-url-modal").on("hidden.bs.modal",function(){o(".site-url-modal").remove(),r.projectSettings.siteUrl||o("#sitemapSwitcher").trigger("click")})):(o(".togglebutton").has("#sitemapSwitcher").prev("label").addClass("col").removeClass("col-auto"),o(".form-group").has("#siteUrl").hide(),o(".togglebutton").has("#sitemapSwitcherAuto").hide(),o(".togglebutton").has("#sitemapSwitcherAuto").prev("label").hide(),o(".form-group").has(".sitemapEdit").hide())}),o("#siteUrl").click(function(){u()}),o("#sitemapSwitcherAuto").change(function(e){e=o(e.target).prop("checked");return c(l(r.projectSettings.siteUrl)),e?(o("#siteUrl").parents(".form-group").show(),o(".sitemapEdit").parents(".form-group").hide()):(o("#siteUrl").parents(".form-group").hide(),o(".sitemapEdit").parents(".form-group").show()),r.projectSettings.sitemapSwitcherAuto=e?"on":"",r.changeProjectSettings(i,{sitemapSwitcherAuto:e?"on":""}),!0}),o(".sitemapEdit").click(function(e){e.preventDefault(),p.Bridge.loadLocalFile(r.projectPath+"/sitemap.xml",function(e){r.showDialog({title:a("Edit sitemap.xml"),className:"sitemap-modal",body:['<form class="page-settings-form">','<div class="form-group row clearfix">','<div class="col-md-12">','<textarea class="form-control sitemapText" name="robotsText" rows="15">',e,"</textarea>","</div>","</div>","</form>"].join("\n"),buttons:[{label:"save",default:!0,callback:function(){c(o(".sitemapText").val())}}]})}),o(".sitemap-modal").on("hidden.bs.modal",function(){o(".sitemap-modal").remove()})})},load:function(){var n=this;r.addFilter("sidebarProjectSettings",function(e){var t={title:a("SEO & Analytics"),name:"seo-analytics",html:'<div class="form-group col-md-12"><div class="row"><label class="col control-label" for="robotsSwitcher">'+a("Use robots.txt")+'</label><div class="togglebutton col-auto"><label><input type="checkbox" id="robotsSwitcher" name="robotsSwitcher" '+(n.projectSettings.robotsSwitcher?"checked":"")+'><span class="toggle" style="margin:0;"></span></label></div></div></div><div class="form-group col-md-12"'+(n.projectSettings.robotsSwitcher?">":' style="display: none;">')+'<button class="btn btn-primary pull-right robotsEdit" type="button">'+a("Edit Robots.txt")+'</button></div><div class="form-group col-md-12"><div class="row"><label class="'+(n.projectSettings.sitemapSwitcher?"col-auto":"col")+' control-label" for="sitemapSwitcher">'+a("Use sitemap.xml")+'</label><div class="col-auto togglebutton"><label><input type="checkbox" id="sitemapSwitcher" name="sitemapSwitcher" '+(n.projectSettings.sitemapSwitcher?"checked":"")+'><span class="toggle" style="margin:0;"></span></label></div><label class="col text-right control-label"'+(n.projectSettings.siteUrl&&"undefined"!==n.projectSettings.siteUrl&&n.projectSettings.sitemapSwitcher?"":'style="display:none"')+' for="sitemapSwitcherAuto">'+a("Auto")+'</label><div class="col-auto togglebutton"'+(n.projectSettings.siteUrl&&"undefined"!==n.projectSettings.siteUrl&&n.projectSettings.sitemapSwitcher?"":'style="display:none"')+'><label><input type="checkbox" id="sitemapSwitcherAuto" name="sitemapSwitcherAuto" '+(n.projectSettings.sitemapSwitcherAuto?"checked":"")+'><span class="toggle" style="margin:0;"></span></label></div></div></div><div class="form-group col-md-12" '+(n.projectSettings.siteUrl&&n.projectSettings.sitemapSwitcherAuto&&n.projectSettings.sitemapSwitcher?"":'style="display: none;"')+'><input class="form-control" type="text" id="siteUrl" name="siteUrl" placeholder="http://mysite.com" '+(n.projectSettings.siteUrl?'value="'+n.projectSettings.siteUrl+'"':"")+'readonly></div><div class="form-group col-md-12"'+(n.projectSettings.siteUrl&&!n.projectSettings.sitemapSwitcherAuto&&n.projectSettings.sitemapSwitcher?">":'style="display: none;">')+'<button class="btn btn-primary pull-right sitemapEdit" type="button">'+a("Edit Sitemap Settings")+"</button></div>"};return e.push(t),e}),n.addFilter("publishFiles",function(e){return n.projectSettings.robotsSwitcher&&e.push({srcList:[{src:"robots.txt",filter:"template"}],dest:"robots.txt"}),n.projectSettings.siteUrl&&"undefined"!==n.projectSettings.siteUrl&&(n.projectSettings.sitemapSwitcherAuto?e.push({srcList:[{src:"sitemap.xml",filter:"template"}],dest:"sitemap.xml"}):e.push({srcList:[{src:r.projectPath+"/sitemap.xml"}],dest:"sitemap.xml"})),e}),n.addFilter("publishTemplating",function(e,t){return"robots.txt"==t?n.projectSettings.robotsText:"sitemap.xml"==t?l(n.projectSettings.siteUrl):e})}}})},["jQuery","mbrApp","TR()"])},function(e,t,n){"use strict";var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,i=arguments[t];for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e};defineM("cookies-alert",function(c,d,u){var n={colorText:"#a7a7a7",colorLink:"#149dcc",underlineLink:!1,text:u("By continuing you agree to our %Terms of Service% and %Privacy Policy%").replace(/%(.[^%]+)%/,"<a href='terms.html'>$1</a>").replace(/%(.[^%]+)%/,"<a href='policy.html'>$1</a>.")},p="We use cookies to give you the best experience as specified in the <a href='privacy.html'>cookie policy</a>.",f="GOT IT",h="We use cookies to give you the best experience as specified in the <a href='privacy.html'>cookie policy</a>. Rejecting cookies may make some features unavailable.",m="ACCEPT",g="REJECT",v="We use cookies to give you the best experience as specified in the <a href='privacy.html'>cookie policy</a>.",b="ACCEPT",i={customDialogSelector:!1,colorText:"#424a4d",colorBg:"#ffffff",colorButton:"",rejectColor:"",colorLink:"#424a4d",underlineLink:!0,opacityOverlay:"0",bgOpacity:100,text:u("We use cookies to give you the best experience. Read our %cookie policy%").replace(/%(.+)%/,"<a href='privacy.html'>$1</a>."),textButton:u("GOT IT"),rejectText:u("REJECT")};function y(e){return e=e.slice(1),186<.299*parseInt(e.slice(0,2),16)+.587*parseInt(e.slice(2,4),16)+.114*parseInt(e.slice(4,6),16)?"#000000":"#FFFFFF"}function o(){var e=['<span class="gdpr-block'+(d.projectSettings.gdpr?"":" covert")+'">',"<label>",'<span class="textGDPR display-7"><input type="checkbox" name="gdpr" id="gdpr-input" required>'+(d.projectSettings.gdpr?d.projectSettings.gdpr.text:"")+"</span>","</label>","</span>"].join("\n");return e=d.projectSettings.gdpr?(e=e.replace('class="textGDPR display-7"','class="textGDPR display-7" style="color: '+d.projectSettings.gdpr.colorText+'"')).replace(/<a/gi,'<a style="color: '+d.projectSettings.gdpr.colorLink+"; text-decoration: "+(d.projectSettings.gdpr.underlineLink?"underline":"none")+';"'):e}function w(e){var t,n,i={};return"cookiesAlert"===e&&(n=(t=c(".cookiesDialog")).find("#customDialogSelector").val(),i.customDialogSelector="false"!==n&&"true"===n,i.colorText=t.find("#colorText").val(),i.colorBg=t.find("#colorBg").val(),i.textButton=t.find("#buttonCookies").val(),i.colorButton=t.find("#colorButton").val(),i.rejectColor=t.find("#rejectColor").val(),i.colorLink=t.find("#colorLink").val(),i.opacityOverlay=t.find("#opacityOverlay").val(),i.bgOpacity=t.find("#bgOpacity").val(),i.text=t.find("#textCookies").val(),i.rejectText=t.find("#rejectText").val()),"gdpr"===e&&(n=c(".editorGDPR"),i.colorText=n.find("#colorText").val(),i.colorLink=n.find("#colorLink").val(),i.underlineLink=n.find("#underlineLink").prop("checked"),i.text=n.find("#textareaGDPR").val()),i}function x(e,t){var n,i;if(e)return n=parseInt(e.slice(1,3),16),i=parseInt(e.slice(3,5),16),e=parseInt(e.slice(5,7),16),t?"rgba("+n+", "+i+", "+e+", "+t+")":"rgb("+n+", "+i+", "+e+")"}function _(e){var t=e.contents().find("body");d.isAMP()?t.find(".custom-dialog").length?e.css("height",t.find(".cookie-wrapper")[0].scrollHeight+40):e.css("height",t.find("#amp-cookies-notification")[0].scrollHeight):t.find("#cookie-dialog").length||t.find("#cookiesdirective").length?e.css("height",t.find(".cookie-wrapper")[0].scrollHeight+40):e.css("height",t.find("#cookiesdirective")[0].scrollHeight)}function r(){var r=d.projectSettings.cookiesAlert,n=k({},r),e=d.projectSettings.cookiesAlertType,a=d.projectSettings.cookiesAlert||"";function s(e,t){c(e).contents().find("body").find("#epd, #cookie-dialog").remove();var n=d.projectSettings.cookiesAlertType,i=x(a.colorBg),o="rgba($2,$3,$4,"+.01*a.bgOpacity+")",i=i.replace(/(rgba?)\(([0-9]+),\s+([0-9]+),\s+([0-9]+)(,\s+(\d?\.?\d+))?\)/,o);t.customDialogSelector&&(o='<div id="cookie-dialog" style="display: none;"><div id="cookiesdirective" style="background-color:'+i+'"><div class="cookieOverlay" style="position: fixed; top: 0; right: 0; bottom: 0; left: 0; background-color: rgb(0, 0, 0); opacity: '+(t.opacityOverlay?.01*t.opacityOverlay:".8")+'; z-index: 9999;"></div><div style="position: fixed; top: 0; right: 0; bottom: 0; left: 0; display: flex; align-items: center; z-index: 10000;"><div class="cookie-wrapper" style="font-family:sans-serif;position: relative; width: 100%; max-width: 500px; margin-right: auto; margin-left: auto; padding: 1rem; text-align: center; border-radius: .3rem; box-shadow: 0 10px 40px 0 rgba(0,0,0,0.2); font-family: Arial; font-size: 16px; line-height: 1.5; color:'+t.colorText+"; background:"+x(t.colorBg)+';"><div class="mbr-text"><p class="display-7 alert-message">'+t.text.replace(/<a/gi,"<a style='color: "+t.colorLink+"; text-decoration: "+(t.underlineLink?"underline":"none")+";'")+"</div>"+("2"!==n&&"3"!==n?'<div class="mbr-section-btn"><a class="btn btn-sm btn-primary" style="margin:0;'+(t.colorButton?" background-color:"+t.colorButton+"!important;color:"+y(t.colorButton)+"!important":"")+'" id="impliedsubmit">'+t.textButton||!1:"")+"</div></div></div></div>",c(e).contents().find("body").append(o)),e[0].contentWindow.$.cookiesDirective({explicitConsent:"2"===n||"3"===n,cookiesAlertType:n,position:"bottom",duration:0,limit:0,customDialogSelector:t.customDialogSelector?"#cookie-dialog":null,message:t.text,fontFamily:"Arial",fontColor:t.colorText,fontSize:"13px",backgroundColor:x(t.colorBg),bgOpacity:t.bgOpacity,linkColor:t.colorLink,textButton:t.textButton||u("GOT IT"),rejectText:t.rejectText||u("REJECT"),colorButton:t.colorButton,rejectColor:t.rejectColor,underlineLink:t.underlineLink,animate:!1}),c(e).contents().find("#impliedsubmit").attr("demo","")}function l(e,t){e=c(e).contents().find("body");e.empty(),t=t.customDialogSelector?'<amp-user-notification id="amp-cookies-notification" class="custom-dialog" style="position: fixed; top: 0; right: 0; bottom: 0; left: 0; display: flex; align-items: center;"><div class="cookieOverlay" style="position: absolute; top: 0; right: 0; bottom: 0; left: 0; background-color: rgb(0, 0, 0); opacity: '+(t.opacityOverlay?.01*t.opacityOverlay:".8")+'; z-index: 999;"></div><div class="cookie-wrapper" style="background:'+x(t.colorBg)+"; color:"+t.colorText+'; position: relative; width: 100%; max-width: 500px; margin-right: auto; margin-left: auto; padding: 1rem; text-align: center; border-radius: .3rem; box-shadow: 0 10px 40px 0 rgba(0,0,0,0.2); z-index: 1000;"><span class="display-7">'+t.text.replace(/<a/gi,"<a style='color: "+t.colorLink+"; text-decoration: "+(t.underlineLink?"underline":"none")+";'")+'</span><button class="btn btn-sm btn-primary display-7" id="impliedsubmit" style="display: block; margin-top: 10px; margin-right: auto; margin-left: auto; cursor: pointer;'+(t.colorButton?" background-color:"+t.colorButton+";border-color:"+t.colorButton+";color:"+y(t.colorButton)+"!important;":"")+'">'+t.textButton||!1:'<amp-user-notification id="amp-cookies-notification" style="background:'+x(t.colorBg)+"; color:"+t.colorText+'; padding: 10px 5px; display:block; text-align: center;" layout="nodisplay" class="cookie-wrapper"><span class="display-7">'+t.text.replace(/<a/gi,"<a style='color: "+t.colorLink+"; text-decoration: "+(t.underlineLink?"underline":"none")+";'")+'</span><button class="btn btn-sm btn-primary display-7" id="impliedsubmit" style="margin-left: 10px; cursor: pointer;'+(t.colorButton?" background-color:"+t.colorButton+";border-color:"+t.colorButton+";color:"+y(t.colorButton)+"!important;":"")+'">'+(t.textButton||u("GOT IT"))+"</button></amp-user-notification>",e.append(t)}d.showDialog({title:u("Cookies Alert Editor"),className:"cookiesDialog",size:"medium",body:['<div class="row clearfix">','<div class="form-group col-md-12"><div class="row" style="display:flex;align-items:center"><label for="cookiesAlertTypeSwitcher" style="margin:0;" class="col-md-3 control-label">'+u("Consent")+'</label><div class="col"><select'+(d.isAMP()?"disabled":"")+' class="form-control" id="cookiesAlertTypeSwitcher"><option'+("1"===e?" selected":"")+' value="1">'+u("Alert only - without blocking")+"</option>"+(d.isAMP()?"":"<option"+("2"===e?" selected":"")+' value="2">'+u('Reject and Accept - "Reject" blocks JS and iframes')+"</option>")+(d.isAMP()?"":"<option"+("3"===e?" selected":"")+' value="3">'+u('Accept - page loads only after "Accept"')+"</option>")+'</select></div></div></div><div class="form-group col-md-12">','<div class="row" style="display:flex;align-items:center"><label style="margin:0;" class="col-md-3 control-label">'+u("Layout")+"</label>",'<div class="col"><select class="form-control" id="customDialogSelector" name="customDialogSelector"><option'+(n.customDialogSelector?"":" selected")+' value="false">'+u("Bottom panel")+"</option><option"+(n.customDialogSelector?" selected":"")+' value="true">'+u("Center popup")+"</option></select></div></div></div>",'<div class="app-layer-color col-md-6" style="margin-bottom: 15px" data-setting-type="color">',"<label>"+u("Text Color")+"</label>",'<input class="mbr-color" id="colorText" type="text" value='+n.colorText+">","</div>",'<div class="app-layer-color col-md-6" style="margin-bottom: 15px" data-setting-type="color">',"<label>"+u("Background Color")+"</label>",'<input class="mbr-color" id="colorBg" type="text" value='+n.colorBg+">","</div>",'<div class="app-layer-color col-md-6" style="margin-bottom: 15px" data-setting-type="color">',"<label>"+u("Accept Color")+"</label>",'<input class="mbr-color" id="colorButton" type="text" value='+n.colorButton+">","</div>",'<div class="app-layer-color col-md-6" style="margin-bottom: 15px" data-setting-type="color">',"<label>"+u("Link Color")+"</label>",'<input class="mbr-color" id="colorLink" type="text" value='+n.colorLink+">","</div>",'<div class="app-layer-color col-md-12" style="margin-bottom: 15px;'+("2"===e?"display:block":"display:none")+'" data-setting-type="color">',"<label>"+u("Reject Color")+"</label>",'<input class="mbr-color" id="rejectColor" type="text"'+(n.rejectColor?' value="'+n.rejectColor+'"':"")+">","</div>",'<div class="col-md-12 bgopacity-wrap" style="margin-bottom: 15px;'+("3"===e||n.customDialogSelector?"display:none;":"display:block;")+'">',"<label>"+u("Background Opacity")+"</label>",'<input type="range" style="margin-top: 10px" id="bgOpacity" name="bgOpacity" min="0" max="100" step="1" value='+(n.bgOpacity||"100")+">","</div>",'<div class="col-md-12 opacity-overlay-wrap" style="margin-bottom: 15px;'+("3"===e?"display:block;":"display:none;")+'">',"<label>"+u("Overlay Opacity")+"</label>",'<input type="range" style="margin-top: 10px" id="opacityOverlay" name="opacityOverlay" min="0" max="100" step="1" value='+(n.opacityOverlay||"80")+">","</div>",'<div class="col-md-12" style="margin-bottom: 15px">','<label style="margin-bottom: 15px">'+u("Text")+"</label>",'<textarea rows="3" id="textCookies" style="resize: vertical" name="textCookies" placeholder="'+u("Paste your cookies alert message.")+'" class="form-control">'+(n.text||u("We use cookies to give you the best experience. Read our %cookie policy%").replace(/%(.+)%/,"<a href='privacy.html'>$1</a>."))+"</textarea>","</div>",'<div class="col-md-'+("2"===e?"6":"12")+'" style="margin-bottom: 15px;'+("2"===e?"":" display:none;")+'">','<label style="margin-bottom: 15px">'+u("Reject Text")+"</label>",'<input id="rejectText" style="resize: vertical" name="rejectText" placeholder="'+u("Paste your cookies alert reject button text.")+'" class="form-control" value="'+(n.rejectText||u("Reject"))+'"></input>',"</div>",'<div class="col-md-'+("2"===e?"6":"12")+'" style="margin-bottom: 15px">','<label style="margin-bottom: 15px">'+u("Accept Text")+"</label>",'<input id="buttonCookies" style="resize: vertical" name="buttonCookies" placeholder="'+u("Paste your cookies alert accept button text.")+'" class="form-control" value="'+(n.textButton||u("GOT IT"))+'"></input>',"</div>","</div>",'<iframe src="javascript:\'\'" id="iframeCookies" class="" style="width: 100%; height: 40px; border: none; margin-top: 10px">'].join("\n"),buttons:[{label:"save",default:!0,callback:function(){k(r,w("cookiesAlert"))}}],hide:function(e){},show:function(i){var e=i.find("#colorButton"),t=(e.val()||(e.val(d.projectSettings.theme.styling.primaryColor),e.parent().find(".sp-preview-inner").attr("style","background-image: none;background:"+e.val())),i.find("#rejectColor")),n=(t.val()||(t.val("#ffffff"),t.parent().find(".sp-preview-inner").attr("style","background-image: none;background:"+t.val())),t.trigger("change"),e.trigger("change"),i.find("#iframeCookies"));n.on("load",function(){var o=n.contents().find("body");n.contents().find("head");o.css("background-color","#fff"),c("#cookiesAlertTypeSwitcher").change(function(e){d.projectSettings.cookiesAlertType=e.target.value;var t=w("cookiesAlert"),n=d.$body.find(".cookiesDialog #iframeCookies");switch((d.isAMP()?l:s)(n,t),e.target.value){case"1":i.find("#textCookies").val(p),i.find("#buttonCookies").val(f),i.find("#textCookies, #buttonCookies").trigger("change"),i.find("#textCookies, #buttonCookies").trigger("keyup"),i.find("#opacityOverlay").val(0),i.find("#opacityOverlay").trigger("change"),i.find("#opacityOverlay").parent().hide(),t.customDialogSelector||(i.find("#bgOpacity").parent().show(),i.find("#bgOpacity").trigger("change"),i.find("#bgOpacity").val(100));break;case"2":i.find("#textCookies").val(h),i.find("#buttonCookies").val(m),i.find("#rejectText").val(g),i.find("#textCookies, #buttonCookies, #rejectText").trigger("change"),i.find("#textCookies, #buttonCookies, #rejectText").trigger("keyup"),i.find("#opacityOverlay").parent().hide(),i.find("#opacityOverlay").val(0),i.find("#opacityOverlay").trigger("change"),t.customDialogSelector||(i.find("#bgOpacity").parent().show(),i.find("#bgOpacity").trigger("change"),i.find("#bgOpacity").val(100));break;case"3":i.find("#textCookies").val(v),i.find("#buttonCookies").val(b),i.find("#textCookies, #buttonCookies").trigger("change"),i.find("#textCookies, #buttonCookies").trigger("keyup"),i.find("#opacityOverlay").parent().show(),i.find("#opacityOverlay").val(100),i.find("#opacityOverlay").trigger("change"),i.find("#bgOpacity").parent().hide(),i.find("#bgOpacity").trigger("change"),i.find("#bgOpacity").val(100)}"2"===e.target.value?(i.find("#buttonCookies").parent().removeClass("col-md-12"),i.find("#buttonCookies").parent().addClass("col-md-6"),i.find("#rejectColor").parent().show(),i.find("#rejectText").parent().removeClass("col-md-12"),i.find("#rejectText").parent().addClass("col-md-6"),i.find("#rejectText").parent().show()):(i.find("#buttonCookies").parent().removeClass("col-md-6"),i.find("#buttonCookies").parent().addClass("col-md-12"),i.find("#rejectColor").parent().hide(),i.find("#rejectText").parent().addClass("col-md-12"),i.find("#rejectText").parent().removeClass("col-md-6"),i.find("#rejectText").parent().hide()),k(r,w("cookiesAlert")),_(n)}),i.find("#colorText, #colorBg, #colorButton, #colorLink, #rejectColor, #opacityAlert, #cookiesAlertTypeSwitcher").on("change",function(){var e,t,n,i=w("cookiesAlert");d.isAMP()?(t=o.find(".cookie-wrapper"),n=x(a.colorBg),e="rgba($2,$3,$4,"+.01*a.bgOpacity+")",n=n.replace(/(rgba?)\(([0-9]+),\s+([0-9]+),\s+([0-9]+)(,\s+(\d?\.?\d+))?\)/,e),t.css({color:i.colorText,"background-color":n||a.colorBg}),t.find("a").css({color:i.colorLink,"text-decoration":"underline"}),t.find("button").css({"background-color":i.colorButton})):(e=i.customDialogSelector?o.find(".cookie-wrapper"):o.find("#cookiesdirective"),n=x(i.colorBg),t="rgba($2,$3,$4,"+.01*i.bgOpacity+")",n=n.replace(/(rgba?)\(([0-9]+),\s+([0-9]+),\s+([0-9]+)(,\s+(\d?\.?\d+))?\)/,t),e.css({color:i.colorText,"background-color":n}),e.find("a:not(.btn)").css({color:i.colorLink,"text-decoration":"underline"}),t=e.find("#explicitsubmit").length,n=e.find("#impliedsubmit").length,t?(e.find("#explicitsubmit")[0].setAttribute("style","margin:0 5px;"+(i.colorButton?" background-color:"+i.colorButton+" !important;color:"+y(i.colorButton)+"!important;":"")+"border-color:"+i.colorButton+" !important;border:0px solid"+i.colorButton+"; padding:5px 20px; border-radius:2px; cursor: pointer;box-shadow: 0 2px 2px 0 rgb(0 0 0 / 20%);"),e.find("#explicitreject").length&&e.find("#explicitreject")[0].setAttribute("style","margin:0 5px;"+(i.rejectColor?" background-color:"+i.rejectColor+" !important;color:"+y(i.rejectColor)+"!important;":"")+"border-color:"+i.rejectColor+" !important;border:0px solid"+i.rejectColor+"; padding:5px 20px; border-radius:2px; cursor: pointer;box-shadow: 0 2px 2px 0 rgb(0 0 0 / 20%);")):n&&(e.find("#impliedsubmit").css({"background-color":i.colorButton,color:y(i.colorButton)}),e.find("#impliedsubmit")[0].style.setProperty("background-color",i.colorButton,"important"),e.find("#impliedsubmit")[0].style.setProperty("color",y(i.colorButton),"important"))),k(r,w("cookiesAlert"))}),i.find("#opacityOverlay").on("change",function(){var e=w("cookiesAlert");o.find(".cookieOverlay").css("opacity",.01*e.opacityOverlay),k(r,w("cookiesAlert"))}),i.find("#bgOpacity").on("change",function(){var e=w("cookiesAlert"),t=o.find("#cookiesdirective"),n=x(e.colorBg),e="rgba($2,$3,$4,"+.01*e.bgOpacity+")";t.css("background-color",n.replace(/(rgba?)\(([0-9]+),\s+([0-9]+),\s+([0-9]+)(,\s+(\d?\.?\d+))?\)/,e)),k(r,w("cookiesAlert"))}),i.find("#customDialogSelector").on("change",function(e){var t=w("cookiesAlert"),n=d.$body.find(".cookiesDialog #iframeCookies");(d.isAMP()?l:s)(n,t),_(n),"3"===i.find("#cookiesAlertTypeSwitcher").val()?i.find(".opacity-overlay-wrap").show():i.find(".opacity-overlay-wrap").hide(),"1"!==i.find("#cookiesAlertTypeSwitcher").val()&&"2"!==i.find("#cookiesAlertTypeSwitcher").val()||"false"!==e.target.value?i.find(".bgopacity-wrap").hide():i.find(".bgopacity-wrap").show(),k(r,w("cookiesAlert"))}),i.find("#textCookies").on("keyup",function(){var e=o.find(".cookie-wrapper .alert-message"),t=w("cookiesAlert");e.html(this.value),e.find("a:not(.btn)").css({color:t.colorLink,"text-decoration":"underline"}),i.find("#colorText, #colorBg, #colorButton, #colorLink, #opacityAlert").trigger("change"),_(n),k(r,w("cookiesAlert"))}),i.find("#buttonCookies").on("keyup",function(){var e=o.find(".cookie-wrapper").find("#impliedsubmit, #explicitsubmit");e.is("input")?e.val(c(this).val()):e.text(c(this).val()),i.find("#colorText, #colorBg, #colorButton, #colorLink, #opacityAlert").trigger("change"),_(n),k(r,w("cookiesAlert"))}),i.find("#rejectText").on("keyup",function(){var e=o.find(".cookie-wrapper").find("#explicitreject");e.is("input")?e.val(c(this).val()):e.text(c(this).val()),i.find("#colorText, #colorBg, #colorButton, #colorLink, #opacityAlert").trigger("change"),_(n),k(r,w("cookiesAlert"))})})}}).on("shown.bs.modal",function(){var e=c("#iframeCookies");_(e),e.contents().on("click","a",function(e){e.preventDefault()})}),c("#iframeCookies").on("load",function(){var e=c("#iframeCookies"),t=e.contents().find("body");t.css({margin:0,"background-color":"transparent"}),d.isAMP()||t.append('<input name="cookieData" type="hidden">'),c.when(function(){var t=c("#iframeCookies").contents(),n=c("#iframeCookies").contents().find("head"),i=c.Deferred(),e='<link rel="stylesheet" href="'+d.theme.path+'/plugins/theme/css/style.css"/>',o=c("body .desktop").contents().find('head style[name="theme-styles"]');n.append('<link rel="stylesheet" href="assets/bootstrap/bootstrap.min.css"/>'),n.append(e),n.append(o.clone()),d.isAMP()||n.append('<link rel="stylesheet" href="assets/bootstrap-material/css/material.min.css"/>');d.isAMP()?i.resolve():((e=t[0].createElement("script")).src="assets/jquery/jquery.js",e.onload=function(){var e=t[0].createElement("script");e.src="assets/cookies-alert-plugin/cookies-alert-core.js",n[0].append(e),e.onload=function(){i.resolve()}},n[0].append(e));return i}()).then(function(){(d.isAMP()?l:s)(e,n)})})}function a(){var t=d.projectSettings.gdpr,e=k({},t);d.showDialog({title:u("Compliance GDPR"),className:"editorGDPR",size:"medium",body:['<div class="row clearfix">','<div class="app-layer-color col-md-12" style="margin-bottom: 15px" data-setting-type="color">',"<label>"+u("Text Color")+":</label>",'<input class="mbr-color" id="colorText" type="text" value='+e.colorText+">","</div>",'<div class="app-layer-color col-md-12" style="margin-bottom: 15px" data-setting-type="color">',"<label>"+u("Link Color")+":</label>",'<input class="mbr-color" id="colorLink" type="text" value='+e.colorLink+">","</div>",'<div class="col-md-12" style="margin-bottom: 15px">','<label class="col-md-3 control-label" style="padding: 0;">'+u("Underline Link")+":</label>",'<div class="togglebutton col-md-9" style="display: flex; padding: 0; justify-content: flex-end;">',"<label>",'<input type="checkbox" id="underlineLink" name="underlineLink"'+(e.underlineLink?"checked":"")+">",'<span class="toggle" style="margin: 0"></span>',"</label>","</div>","</div>",'<div class="col-md-12" style="margin-bottom: 15px">','<label style="margin-bottom: 15px">Text:</label>','<textarea rows="2" id="textareaGDPR" style="resize: vertical" placeholder="'+u("Paste your GDPR message.")+'" class="form-control">'+e.text+"</textarea>","</div>",'<div class="col-md-12">','<label style="margin-bottom: 15px">'+u("Demo")+":</label>",'<span class="gdpr-block-for-customization" style="display: block;"><label><input type="checkbox" name="gdpr" id="gdpr-input" required style="width: 15px; height: 15px; margin: 0; margin-right: 10px;"></label><span class="textGDPR display-7">'+t.text+"</span></span>","</div>","</div>"].join("\n"),buttons:[{label:"Save",default:!0,callback:function(e){k(t,w("gdpr"))}}],show:function(e){e.find("#colorText, #colorLink, #underlineLink").on("change",function(){var e=c(".gdpr-block-for-customization").find(".textGDPR"),t=w("gdpr");e.css({color:t.colorText}),e.find("a").css({color:t.colorLink,"text-decoration":"underline"})}),e.find("#textareaGDPR").on("keyup",function(){c(".gdpr-block-for-customization").find(".textGDPR").html(c(this).val()),e.find("#colorText, #colorLink, #underlineLink").trigger("change")}),e.find("#colorText").trigger("change")}})}d.regExtension({name:"cookies-alert",filters:{getPluginResource:function(e,t,n,i,o){var r,a=d.projectSettings.cookiesAlertType;return void 0!==a&&"1"!==a&&d.projectSettings.cookiesAlert&&!d.isAMP()&&(r="","js"===n&&(r=i.includes("cookies-alert")?'<script src="'+i+'"><\/script>\n':'<script type="text/plain" data-src="'+i+'"><\/script>\n',o?e.js_head=r:e.js=r),"css"===n)&&"3"===a&&(e.css='<link rel="stylesheet" data-href="'+i+'">\n'),e}},events:{load:function(){d.addFilter("sidebarProjectSettings",function(e){var t=d.projectSettings.customCookies||d.projectSettings.cookiesAlert||"",n=d.projectSettings.gdpr||"",t={title:u("Cookies Alert"),name:"cookies-alert",html:'<div class="form-group col-md-12"><div class="row" style="margin-bottom:1rem;"><label for="cookiesAlertSwitcher" class="col control-label">'+u("Enable")+'</label><div class="togglebutton col-auto"><label><input type="checkbox" name="cookiesAlert" id="cookiesAlertSwitcher" '+(""!==t?"checked":"")+'><span class="toggle" style="margin:0;"></span></label></div></div></div><div class="form-group col-md-12" style="display:'+(""!==t?"block":"none")+'"><div class="row"><div class="col-md-12 customCookiesAlert"><button class="btn btn-primary pull-right" id="customCookiesButton" type="button">'+u("Edit")+"</button></div></div></div>"},n={title:u("GDPR Compliance"),name:"gdpr-compliance",html:'<div class="form-group col-md-12"><div class="row"><label for="gdprSwitcher" class="col control-label">'+u("Enable")+'</label><div class="togglebutton col-auto"><label><input type="checkbox" name="gdpr" id="gdprSwitcher" '+(""!==n?"checked":"")+'><span class="toggle" style="margin:0;"></span></label></div></div></div><div class="form-group col-md-12" style="display:'+(""!==n?"block":"none")+'"><div class="row"><div class="col-md-12 customGdpr"><button class="btn btn-primary pull-right" id="customGdprButton" type="button">'+u("Edit")+"</button></div></div></div>"};return e.push(t),e.push(n),e}),d.addFilter("publishHTML",function(e){var t,n,i,o=d.projectSettings.cookiesAlert||"",r=d.projectSettings.cookiesAlertType||"";return e=o?d.isAMP()?(t=o.customDialogSelector?'<amp-user-notification style="height: 100vh; padding-top: 40vh; background: none;" id="amp-cookies-notification" layout="nodisplay"><div style="position: absolute; top: 0; right: 0; bottom: 0; left: 0; background-color: rgb(0, 0, 0); opacity: '+(o.opacityOverlay?.01*o.opacityOverlay:".8")+'; z-index: 999;"></div><div class="cookie-wrapper" style="position: relative; width: 100%; max-width: 500px; margin-right: auto; margin-left: auto; padding: 1rem; text-align: center; border-radius: .3rem; box-shadow: 0 10px 40px 0 rgba(0,0,0,0.2); z-index: 1000; color:'+o.colorText+"; background:"+x(o.colorBg)+';"><span class="mbr-text display-7">'+o.text.replace(/<a/gi,"<a style='color: "+o.colorLink+"; text-decoration: "+(o.underlineLink?"underline":"none")+";'")+'</span><span class="mbr-section-btn" style="display:block"><button class="btn btn-sm btn-primary display-7" on="tap:amp-cookies-notification.dismiss,amp-cookies-notification.hide" style="display: block; margin-top: 10px; margin-right: auto; margin-left: auto; cursor: pointer;'+(o.colorButton?" background-color:"+o.colorButton+"; border-color:"+o.colorButton+";":"")+'">'+(o.textButton||u("GOT IT"))+"</button></span></div></amp-user-notification>":'<amp-user-notification class="display-7" id="amp-cookies-notification" style="color:'+o.colorText+"; background:"+x(o.colorBg)+'; padding: 10px 5%; display:inline-block;text-align: center;" layout="nodisplay"><span class="display-7">'+o.text.replace(/<a/gi,"<a style='color: "+o.colorLink+"; text-decoration: "+(o.underlineLink?"underline":"none")+";'")+'</span><span class="mbr-section-btn"><button class="btn btn-sm btn-primary display-7" on="tap:amp-cookies-notification.dismiss,amp-cookies-notification.hide" style="display: inline-block; cursor: pointer; margin-left: 10px;'+(o.colorButton?" background-color:"+o.colorButton+"; border-color:"+o.colorButton+";":"")+'">'+(o.textButton||u("GOT IT"))+"</button></span></amp-user-notification>",(e=/<script.*?(?=amp-user-notification-\d\.\d\.js).*?>/.test(e)?e:e.replace("</head>",'  <script async custom-element="amp-user-notification" src="https://cdn.ampproject.org/v0/amp-user-notification-0.1.js"><\/script>\n  </head>')).replace("</body>",t+"\n </body>")):(t=["data-cookie-cookiesAlertType='"+(r||"false")+"'","data-cookie-customDialogSelector='"+(o.customDialogSelector?"#cookie-dialog":"null")+"'","data-cookie-colorText='"+o.colorText+"'","data-cookie-colorBg='"+x(o.colorBg)+"'","data-cookie-opacityOverlay='"+o.opacityOverlay+"'","data-cookie-bgOpacity='"+o.bgOpacity+"'","data-cookie-textButton='"+(o.textButton||u("GOT IT"))+"'","data-cookie-rejectText='"+(o.rejectText||u("REJECT"))+"'","data-cookie-colorButton='"+(o.colorButton||"")+"'","data-cookie-rejectColor='"+(o.rejectColor||"")+"'","data-cookie-colorLink='"+o.colorLink+"'","data-cookie-underlineLink='"+o.underlineLink+"'",'data-cookie-text="'+o.text+'"'],n=x(o.colorBg),i="rgba($2,$3,$4,"+.01*o.bgOpacity+")",n=n.replace(/(rgba?)\(([0-9]+),\s+([0-9]+),\s+([0-9]+)(,\s+(\d?\.?\d+))?\)/,i),o.customDialogSelector&&(i='<div id="cookie-dialog" style="display: none;"><div id="cookiesdirective" style="background-color:'+n+'"><div style="position: fixed; top: 0; right: 0; bottom: 0; left: 0; background-color: rgb(0, 0, 0); opacity: '+(o.opacityOverlay?.01*o.opacityOverlay:".8")+'; z-index: 9999;"></div><div style="position: fixed; top: 0; right: 0; bottom: 0; left: 0; display: flex; align-items: center; z-index: 10000"><div class="cookie-wrapper" style="font-family: sans-serif;position: relative; width: 100%; max-width: 500px; margin-right: auto; margin-left: auto; padding: 1rem; text-align: center; border-radius: .3rem; box-shadow: 0 10px 40px 0 rgba(0,0,0,0.2); color:'+o.colorText+"; background:"+x(o.colorBg)+';"><div class="mbr-text"><p class="display-7 accept-text">'+o.text.replace(/<a/gi,"<a style='color: "+o.colorLink+"; text-decoration: "+(o.underlineLink?"underline":"none")+";'")+"</p></div>"+("2"!==r&&"3"!==r?'<div class="mbr-section-btn"><a class="btn btn-sm btn-primary" style="margin:0;'+(o.colorButton?" background-color:"+o.colorButton+"!important;color:"+y(o.colorButton)+"!important":"")+'" id="impliedsubmit">'+(o.textButton||u("GOT IT"))+"</a></div>":"")+"</div></div></div></div>",e=e.replace("</body>",i+"\n  </body>")),"2"===r&&(e=(e=e.replace(/(<iframe(?![^>]*data-src=")[^>]*)(src=")/g,'$1data-src="')).replace(/<script(.*?)>/gm,function(e,t){return e.includes('type="text/plain"')||e.includes("cookies-alert")?e:'<script type="text/plain"'+t.replace(" src"," data-src")+">"})),(e="3"===r?(e=e.replace(/(<(?:iframe|object|embed|img)(?![^>]*data-src=")[^>]*)(src=")/g,'$1data-src="')).replace(/<script(.*?)>/gm,function(e,t){return e.includes('type="text/plain"')||e.includes("cookies-alert")?e:'<script type="text/plain"'+t.replace(" src"," data-src")+">"}):e).replace("</body>",'<input name="cookieData" type="hidden" '+t.join(" ")+">\n  </body>")):e}),d.Core.addFilter("loadComponentTemplate",function(e,t,n,i){return(t._customHTML&&t._customHTML.indexOf("</form>")||t.form)&&(e=e.replace("</form>",o()+"</form>")),n&&!d.projectSettings.gdpr&&-1!==e.indexOf(o())&&(t=new RegExp(o(),"gi"),e=e.replace(t,"")),e}),d.registerAmpPlugin(["gdpr-plugin"])},shownSidebarProjectSettings:function(e,t){c("#cookiesAlertSwitcher").change(function(){c(this).prop("checked")?(d.projectSettings.cookiesAlert=k({},i),r(),c(".customCookiesAlert").parents(".form-group").show()):(delete d.projectSettings.cookiesAlert,delete d.projectSettings.cookiesAlertType,c(".customCookiesAlert").parents(".form-group").hide())}),c("#customCookiesButton").click(r),c("#gdprSwitcher").change(function(){c(this).prop("checked")?(d.projectSettings.gdpr=k({},n),a(),c(".customGdpr").parents(".form-group").show()):(delete d.projectSettings.gdpr,c(".customGdpr").parents(".form-group").hide())}),c("#customGdprButton").click(a)},loadedProject:function(){var e;if(d.projectSettings.gdpr&&"string"==typeof d.projectSettings.gdpr&&((e=k({},n)).text=d.projectSettings.gdpr,d.projectSettings.gdpr=k({},e)),d.projectSettings.cookiesAlert&&"string"==typeof d.projectSettings.cookiesAlert&&((t=k({},i)).text=d.projectSettings.cookiesAlert,d.projectSettings.cookiesAlert=k({},t)),d.projectSettings.customCookies&&"object"===s(d.projectSettings.customCookies)){if(d.projectSettings.cookiesAlert&&"object"===s(!!d.projectSettings.cookiesAlert))return void(d.projectSettings.cookiesAlert=k(d.projectSettings.cookiesAlert,d.projectSettings.customCookies),delete d.projectSettings.customCookies);var t=k({},i);t=k(t,d.projectSettings.customCookies),d.projectSettings.cookiesAlert=k({},t),delete d.projectSettings.customCookies}d.projectSettings.cookiesAlert&&d.projectSettings.cookiesAlert.colorButton&&!d.projectSettings.cookiesAlert.hasOwnProperty("customDialogSelector")&&"#ffffff"===d.projectSettings.cookiesAlert.colorButton&&delete d.projectSettings.cookiesAlert.colorButton}}})},["jQuery","mbrApp","TR()"])},function(e,t,n){"use strict";defineM("app-plugin-projects-presets",function(l,f,c,d){function a(s,t){return new Promise(function(r,i){var e,a;e=e=(e=(e=t).filter(function(e){return e.themeName===s.name})).map(function(e){return function(e){var t,n,i,o,r=e.presetsList,a=[],s=void 0;for(n in s=e.local?(t=f.getAddonDir(e.themeName),d.path2app(t)):"https://my.mobirise.com/data/upload/thumbs/"+e.themeName,r)r.hasOwnProperty(n)&&a.push((o=r[i=n],'<div class="column column-preset col-sm-4 col-md-4 col-lg-3" data-local=\''+e.local+"' data-theme='"+e.themeName+"' namepreset=\""+i+'" titlepreset="'+o.title+'">\n                                       <div class="column-content">\n                                            <div class="wrapper-img">\n                                                <img src="'+s+"/projects/"+i+'/cover.jpg">\n                                            </div>\n                                            <div class="wrapper-name">\n                                                <span>'+o.title+"</span>\n                                            </div>\n                                       </div>\n                                    </div>"));return a}(e).join("")}),e='<div class="main-wrapper">\n                            <div class="row form-group">\n                                <div class="search-preset-wrap col-xs-4">\n                                    <input class="search-preset-input form-control" type="text" placeholder="'+c("Search")+'" value="">\n                                </div>\n                            </div>\n                            <div class="row">\n                                <div class="columns">\n                                    <div class="column-options">\n                                        <div class="column column-option plus col-sm-4 col-md-4 col-lg-3">\n                                            <div class="column-content">\n                                                <div class="wrapper-icon">\n                                                    <i class="mbr-icon-file"></i>\n                                                </div>\n                                                <div class="wrapper-name">\n                                                    <span>Add Blank Page</span>\n                                                </div>\n                                            </div>\n                                        </div>\n                                    </div>\n                                    <div class="columns-presets">\n                                        '+e.join("\n")+"\n                                    </div>\n                                </div>\n                            </div>\n                        </div>",a=f.showDialog({title:c("Choose Template for $nameTheme$ Theme").replace("$nameTheme$",s.title),className:"presets-site-modal",body:e,create:function(e){l(e).find(".columns-presets").on("click",".column-preset",function(){var n,e,t,i,o;"false"===l(this).attr("data-local")?(e=l(this),n=e,e="",t=f.getUserInfo(),i=n.attr("data-theme"),o=n.attr("data-theme"),t&&t.email&&(e=t.email),f.confirmDlg({message:c("The $extension$ theme isn't available for your account").replace("$extension$",o?"<strong>"+o+"</strong>":"")+(e?" "+e+"<br>":".<br>")+c("If the theme is installed, please reinstall it."),buttons:{cancel:{label:c("Cancel"),className:"btn-default"},confirm:{label:c("Upgrade"),className:"btn-primary"}},callback:function(e){var t;e&&((e=f.AddonsRegistry.get(i)).get("downloadURL")&&!e.isExpired()?(t=l(f.preloaderHTML).css({position:"fixed",opacity:"0.8",transition:"0.2s"}).appendTo(".presets-site-modal"),f.downloadAddon(e.toJSON()).done(function(){n.attr("data-local","true"),n.click()}).fail(function(){f.showError(c("Error add extension")+' "'+o+'"')}).always(function(){t.remove()})):f.goToBuyPremium())}})):(a.modal("hide"),s.titlePreset=l(this).attr("titlepreset"),s.nameSelectPreset=l(this).attr("namepreset"),s.presetSourceTheme=l(this).attr("data-theme"),r(s))}),l(e).find(".column-options").on("click",".column-option",function(){l(this).hasClass("plus")?(a.modal("hide"),r(void 0)):l(this).hasClass("features")&&(f.showAddonsList(),a.modal("hide"),i())});var t=l(e).find(".columns-presets > .column-preset");var n=f.stopIfRepeatDecorator(function(e){var n=e.target.value.toLowerCase();t.each(function(e,t){t=l(t);t.attr("titlepreset").toLowerCase().includes(n)?t.removeClass("hidden"):t.addClass("hidden")})},100);l(e).find(".search-preset-input").on("input",function(e){return n(e)}),l(e).on("shown.bs.modal",function(){l(e).find(".search-preset-input").focus()})}}).on("hidden.bs.modal",function(){f.hidePreloader()})})}f.regExtension({name:"app-plugin-projects-presets",global:{},events:{load:function(){f.presetsList=[],f.on(["deletedAddon","downloadedAddon","redeemActivated","importedAddon"],function(){f.presetsList=[]}),f.addFilter("promiseChosenTheme",function(e){return e.then(function(r){return new Promise(function(t,n){var i,e=r.name.endsWith("amp"),o=f.presetsList;1<o.length&&o[0].themeName.endsWith("amp")===e?(o=o.filter(function(e){return void 0!==e}).sort(function(e,t){return e.themeName===r.name||t.themeName!==r.name&&e.local?-1:1}),a(r,o).then(function(e){return t(e||r)},function(){return n()})):(i=l(f.preloaderHTML).css({position:"fixed",opacity:"0.8",transition:"0.2s"}).appendTo(".create-site-modal"),e=f.getAddonDir(r.name)+"/projects/list.json",d.getLocalJSON(e,function(e){if(!(o=[{themeName:r.name,presetsList:e,local:!0}]).length)return i.remove(),t();a(r,o).then(function(e){return t(e||r)},function(){return n()}),i.remove()}))})})}),f.addFilter("promiseDefaultProject",function(e,t,a){return a.nameSelectPreset?e.then(function(r){return new Promise(function(t){var n,i,e,o=f.getAddonDir(a.presetSourceTheme);i=function(e){t(e||r)},e=(n=a).nameSelectPreset,d.loadLocalFile(o+"/projects/"+e+"/project.mobirise",function(e){try{e=l.parseJSON(e)}catch(e){return console.error("File 'project.mobirise' is missing!"),i()}if((e=function(t,e){if(1!==Object.keys(t.pages).length)return new Error("Error! Preset could not be loaded (> 1 page)");var n,i=void 0;for(n in t)if(t.hasOwnProperty(n))if("settings"===n){var o,r=t[n];for(o in r)if(r.hasOwnProperty(o))if("theme"===o){var a,s=r[o];for(a in s)s.hasOwnProperty(a)&&("name"===a?(i=s[a],s[a]=e.name):"title"===a?s[a]=e.title:"styling"!==a&&delete s[a])}else"currentPage"===o?r[o]="index.html":delete r[o]}else if("pages"===n){var l,c,d=t[n];for(l in d)d.hasOwnProperty(l)&&(c=d[l],"index.html"!==l&&(c=d["index.html"]=d[l],delete d[l]),c.settings=h.pages["index.html"].settings)}var u=JSON.stringify(t),p="startm5"!==i?f.getAddonDir(i):"..";u=u.replace(/@THEME_PATH@/g,f.path2core(p)),"startm5"!==f.theme.name&&(u=u.replace(/=\\"..\//g,'=\\"'+p+"/components/"));try{u=JSON.parse(u)}catch(e){console.error(e),u=t}return u}(e,n))instanceof Error)return console.error(e.message),i();i(e)})})}):e})}}});var h={pages:{"index.html":{settings:{main:!0,title:"Home",meta_descr:"",header_custom:"",footer_custom:"",html_before:""},components:[]}}}},["jQuery","mbrApp","TR()","Bridge"])},function(e,t,n){"use strict";var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,i=arguments[t];for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e};function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}defineM("app-plugin-page-presets",function(u,p,f,h){function r(n){return n=n.filter(function(e){return e.themeName===p.theme.name}),new Promise(function(d,o){function t(e,t){var i=1<arguments.length&&void 0!==t?t:{},t=e.map(function(e){return function(e){var t,n,i,o,r=e.presetsList,a=[],s=void 0;for(n in s=e.local?(t=p.getAddonDir(e.themeName),h.path2app(t)):"https://my.mobirise.com/data/upload/thumbs/"+e.themeName,r)r.hasOwnProperty(n)&&a.push((o=r[i=n],'<div class="column column-preset col-sm-4 col-md-4 col-lg-3" data-local=\''+e.local+"' data-theme='"+e.themeName+"' namepreset=\""+i+'" titlepreset="'+o.title+'">\n\t                                   <div class="column-content">\n\t                                        <div class="wrapper-img">\n\t                                            <img src="'+s+"/projects/"+i+'/cover.jpg">\n\t                                        </div>\n\t                                        <div class="wrapper-name">\n\t                                            <span>'+o.title+"</span>\n\t                                        </div>\n\t                                   </div>\n\t                                </div>"));return a}(e).join("")}),t=(e=t,t=Boolean(i.aiTheme),'<div class="main-wrapper">\n\t                        <div class="row form-group">\n\t                            <div class="search-preset-wrap col-xs-4">\n\t                                <input class="search-preset-input form-control" type="text" placeholder="'+f("Search")+'" value="">\n\t                            </div>\n\t                        </div>\n\t                        <div class="row">\n\t                            <div class="columns">\n\t                                <div class="column-options">\n\t                                    <div class="column column-option plus col-sm-4 col-md-4 col-lg-3">\n\t                                        <div class="column-content">\n\t                                            <div class="wrapper-icon">\n\t                                                <i class="mbr-icon-file"></i>\n\t                                            </div>\n\t                                            <div class="wrapper-name">\n\t                                                <span>Add Blank Page</span>\n\t                                            </div>\n\t                                        </div>\n\t                                    </div>\n\t                                    '+(t?'<div class="column column-option col-sm-4 col-md-4 col-lg-3">\n\t                                        <div class="column-content ai-page project-element-panel">\n\t                                            <div class="ai-counter" style="position:absolute;background-color:#40b0bf;right:5px;top:5px;border-radius:50px;">\n\t                                                <span style="padding:10px;color:#fff">$STATUS$</span>\n\t                                            </div>\n\t                                            <div class="wrapper-icon">\n\t                                                <i class="mbr-icon-sparkles"></i>\n\t                                            </div>\n\t                                            <div class="wrapper-name">\n\t                                                <span>'+f("Generate with AI")+"</span>\n\t                                            </div>\n\t                                        </div>\n\t                                    </div>":"")+'\n\t                                </div>\n\t                                <div class="columns-presets">\n\t                                    '+e.join("\n")+"\n\t                                </div>\n\t                            </div>\n\t                        </div>\n\t                    </div>"),t=p.getAiSitesCount(t);p.showDialog({title:f("Choose Template for Page"),className:"presets-page-modal",body:t,create:function(c){u(c).find(".columns-presets").on("click",".column-preset",function(){var n,e,i,o,r,t,a,s,l;"false"===u(this).attr("data-local")?(e=u(this),n=e,e="",t=p.getUserInfo(),i=n.attr("data-theme"),o=n.attr("data-theme"),t&&t.email&&(e=t.email),p.confirmDlg({message:f("The $extension$ theme isn't installed or isn't available for your account").replace("$extension$",o?"<strong>"+o+"</strong>":"")+(e?" "+e+"<br>":".<br>")+f("If the theme is installed, please reinstall it."),buttons:{cancel:{label:f("Cancel"),className:"btn-default"},confirm:{label:f("Install $theme title$").replace("$theme title$",o),className:"btn-primary"}},callback:function(e){var t;e&&((e=p.AddonsRegistry.get(i)).get("downloadURL")&&!e.isExpired()?(t=u(p.preloaderHTML).css({position:"fixed",opacity:"0.8",transition:"0.2s"}).appendTo(".presets-page-modal"),p.downloadAddon(e.toJSON()).done(function(){n.attr("data-local","true"),n.click()}).fail(function(){p.showError(f("Error add extension")+' "'+o+'"')}).always(function(){t.remove()})):p.openUrl("https://mobirise.com/extensions/kit/"))}})):(r=u(p.preloaderHTML).css({position:"fixed",opacity:"0.8",transition:"0.2s"}).appendTo(".presets-page-modal"),t=u(this).attr("data-theme"),a=u(this).attr("namepreset"),s=p.getAddonDir(t),l=s+"/projects/"+a+"/assets",p.theme.name===t?h.dirList(l,function(e){h.dirList(p.projectPath+"/assets",function(t){var n=e.filter(function(e){return!t.includes(e)}),i=0;n.length?n.forEach(function(e){h.copyLocal(l+"/"+e,p.projectPath+"/assets/"+e,function(e){++i===n.length&&m(s,a,function(e){d(e),r.remove(),u(c).modal("hide")})})}):m(s,a,function(e){d(e),r.remove(),u(c).modal("hide")})})}):h.copyLocal(l,p.projectPath+"/assets",function(){m(s,a,function(e){d(e),r.remove(),u(c).modal("hide")})}))}),u(c).find(".column-options").on("click",".column-option",function(){u(c).modal("hide"),u(this).hasClass("plus")?d(void 0):u(this).hasClass("features")?(p.showAddonsList(),o()):u(this).find(".ai-page")&&p.checkAiLimits().then(function(e){if(!e)return p.goToBuyPremium({alert:!1});e=p.projectSettings.ai&&p.projectSettings.ai.prompt;p.createExtraAiPage(e,i.aiTheme&&{theme:i.aiTheme.name}).then(function(e){var t=p.Core.getMainPage().components.filter(function(e){return e._global});d([].concat(a(e.components.filter(function(e){return!e._global})),a(t)))}).catch(function(e){return console.log(e)})})});var t=u(c).find(".columns-presets > .column-preset");var n=p.stopIfRepeatDecorator(function(e){var n=e.target.value.toLowerCase();t.each(function(e,t){t=u(t);t.attr("titlepreset").toLowerCase().includes(n)?t.removeClass("hidden"):t.addClass("hidden")})},100);u(c).find(".search-preset-input").on("input",function(e){return n(e)}),u(c).on("shown.bs.modal",function(){u(c).find(".search-preset-input").focus()})}})}p.getAiTheme(p.theme.name).then(function(e){t(n,{aiTheme:e})})})}function m(e,t,n){h.loadLocalFile(e+"/projects/"+t+"/project.mobirise",function(e){try{e=u.parseJSON(e)}catch(e){return console.error("File 'project.mobirise' is missing!"),n()}if((e=function(e){if(1!==Object.keys(e.pages).length)return new Error("Error! Preset could not be loaded (> 1 page)");var t,n=e.pages,i=void 0;for(t in n){i=n[t].components;break}if(!i)return new Error("Error! Empty page found.");var o=JSON.stringify(i),r="mobirise5"!==(a=e.settings.theme.name)&&"startm5"!==a?p.getAddonDir(a):"..",a=(o=(o=o.replace(/@THEME_PATH@/g,p.path2core(r))).replace(/\@PROJECT_PATH\@(\/project\.mobirise)+/g,"@PROJECT_PATH@"),p.path2core(p.getAddonDir(a)+"/projects/"+e.name));o=o.replace(/\@PROJECT_PATH\@/g,a),"mobirise5"!==p.theme.name&&"startm5"!==p.theme.name&&(o=o.replace(/=\\"..\//g,'=\\"'+r+"/components/"));try{o=JSON.parse(o)}catch(e){console.error(e),o=i}return o}(i(e,{name:t})))instanceof Error)return console.error(e.message),n();n(e)})}p.regExtension({name:"app-plugin-page-presets",global:{},events:{load:function(){p.addFilter("getPagePreset",function(e){return e.then(function(){return new Promise(function(t,n){var i,e=p.theme.name.endsWith("amp"),o=p.presetsList;o.length&&o[0].themeName.endsWith("amp")===e?r(o=o.filter(function(e){return void 0!==e}).sort(function(e,t){return e.themeName===p.theme.name||t.themeName!==p.theme.name&&e.local?-1:1})).then(function(e){return t(e)},function(){return n()}):(i=u(p.preloaderHTML).css({opacity:"0.8",transition:"0.2s"}).appendTo("body"),e=p.getAddonDir(p.theme.name)+"/projects/list.json",h.getLocalJSON(e,function(e){if(!(o=[{themeName:p.theme.name,presetsList:e,local:!0}]).length)return i.remove(),t();r(p.presetsList=o).then(function(e){return t(e)},function(){return n()}),i.remove()}))})})})}}})},["jQuery","mbrApp","TR()","Bridge"])},function(e,t,n){"use strict";var m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,i=arguments[t];for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},g=i(n(70)),v=(i(n(143)),i(n(370)));function i(e){return e&&e.__esModule?e:{default:e}}function b(e){return function(){var s=e.apply(this,arguments);return new Promise(function(r,a){return function t(e,n){try{var i=s[e](n),o=i.value}catch(e){return void a(e)}if(!i.done)return Promise.resolve(o).then(function(e){t("next",e)},function(e){t("throw",e)});r(o)}("next")})}}defineM("app-plugin-mobirise-ai",function(a,c,e,s){var i={},n={},l={status:!0,projectLoaded:!1},t=void 0,o='<div class="col-xs-12">\n            <div class="app-new-mobirise-ai project-element-panel">\n                <div class="ai-counter" style="position:absolute;background-color:#40b0bf;right:5px;top:5px;border-radius:50px;">\n                    <span style="padding:10px;color:#fff">$STATUS$</span>\n                </div>\n                <div class="project-img">\n                    <i class="mbr-icon-sparkles"></i>\n                </div>\n                <div class="project-body app-mobirise-ai" style="height:70px;text-align:center;">\n                    <h3 style="margin-top:15px; margin-bottom:15px;" class="app-mobirise-ai-label">'+s("Generate with AI")+"</h3>\n                </div>\n            </div>\n        </div>",r=a('<div class="create-site-counter" style="position:absolute;background-color:#40b0bf;right:5px;top:5px;border-radius:50px;">\n            <span style="padding:10px;color:#fff">$STATUS$</span>\n        </div>');function d(e){i.limit===i.used&&i.isExceeded&&(e=e.replace('project-element-panel">','project-element-panel disabled">'));var t=i.limit-i.used,n=1==t?"generation":"generations";switch(i.period){case"currentMonth":e=e.replace("$STATUS$",t+" "+n+" left this month");break;case"allTime":e=e.replace("$STATUS$",t+" "+n+" left");break;default:e=e.replace("$STATUS$","Unlimited")}return e}function u(e){var t=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).ttl,n=void 0===t?1/0:t,i=void 0,o=void 0,r=void 0,a=!1;function s(){return!l.projectLoaded&&a&&r>Date.now()?Promise.resolve(i):o=o||e().then(function(e){return i=e,a=!(l.projectLoaded=!1),o=null,r=Date.now()+n,i},function(e){throw o=null,e})}return s.clearCache=function(){i=null,a=!1},s}var p=u(function(){return e._REST("me/stats").then(function(e){return n=e.sitesUsage,e})},{ttl:3e5}),f=u(function(){return g.default.request("/v2/me/stats").then(function(e){return i=e.pageGenerationUsage,e})},{ttl:3e5}),h=u(function(){return c.isPremiumUser().then(function(e){return e})},{ttl:3e5});c.regExtension({name:"plugin-mobirise-ai",global:{newAiProjectModal:function(){var i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},o=c.showDialog({title:i.title||s("Generate with AI"),className:"create-site-modal presets-site-project modal-fs",body:['<div class="row justify-content-center">','<form class="project-create-ai-form col-md-6 col-md-offset-3">','<div class="form-group row clearfix">','<label style="font-size:1.8rem;" class="control-label" for="mobirise-ai-prompt">'+(i.description||s("Describe in detail what your site will be about, what it will offer, who is behind it, your benefits and specialties. You can write in any language."))+"</label>",'<textarea rows="7" style="font-size:1.8rem;" id="mobirise-ai-prompt" placeholder="'+(i.placeholder||s("We are Craft22, a team of skilled artisans from Brooklyn, NY.  We offer a wide range of handmade crafts, from custom jewelry to home decor."))+'" class="form-control">'+(i.prompt||"")+"</textarea>",'<small class="text-warning" style="display:none;">'+s("Minimum 32 characters")+"</small>","</div>",'<div style="margin-bottom:0;" class="form-group row clearfix">','<button style="margin-left:auto;text-transform:none;" class="btn btn-primary" type="submit" id="mobirise-ai-generate" disabled>'+s("Generate")+"</button>","</div>","</form>","</div>"].join("\n")}),e=o.find(".modal-content"),t=o.find(".modal-body");o.find(".bootbox-close-button");function r(){return!1}e.length&&(e[0].style.display="flex",e[0].style.flexDirection="column",e[0].style.height="100%"),t.length&&(t[0].style.display="flex",t[0].style.flexDirection="column",t[0].style.height="100%",t[0].style.justifyContent="center",t[0].style.alignContent="center"),a(o).on("shown.bs.modal",function(e){var n=a(e.target),t=n.find(".project-create-ai-form"),e=e.target.querySelector("#mobirise-ai-prompt");n.find(".close").css("position","fixed"),n.find(".close").css("transform","translateZ(15px)"),n.find(".close").css("right","25px"),n.find(".close").css("z-index","10"),n.find("small").hide(),i.onShow&&i.onShow(this),e.addEventListener("keyup",function(e){0!=e.target.value.length?t.find("button").removeAttr("disabled"):t.find("button").attr("disabled","disabled")}),t.submit(function(e){e.stopPropagation(),e.preventDefault(),n.find("small").hide();var t=e.target[0].value;t.length<=10?(n.find("small").text(s("Your prompt is too short, add more details.")),n.find("small").show(),setTimeout(function(){n.find("small").hide()},5e3)):1e3<=t.length?(n.find("small").text(s("Your prompt is too long, shorten it.")),n.find("small").show(),setTimeout(function(){n.find("small").hide()},5e3)):c.getUserAiStats().then(function(e){if(e.pageGenerationUsage.isExceeded)throw m(new Error("AI page generation quota exceeded. Upgrade your plan"),{code:"FeatureNotAvailable"});return h()}).then(function(e){return i.onSubmit?i.onSubmit({dialog:o,isCanceled:r,isPremium:e}):(e={mode:"onClient",clientPrompt:t,loaderNode:n[0]},g.default.multipleGenerator.start(e))}).catch(function(e){c.alertDlg(e.message||e||"Server Error"),"FeatureNotAvailable"===e.code&&c.goToBuyPremium({alert:!1})}).finally(function(){return a(o).remove()})})})},getUserAiStats:function(){return f()},getUserMbrStats:function(e){return p(e)},createCachingWrapper:u,createExtraAiPage:function(n){return new Promise(function(o,e){var t;c.newAiProjectModal({title:s("Create new page with Mobirise AI"),description:s("Describe the page you want to create for your project."),prompt:n,onShow:function(e){n&&a(e).find("#mobirise-ai-prompt").focus().val("").val(n+"\n\n")},onSubmit:(t=b(regeneratorRuntime.mark(function e(){var t,n,i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.dialog.find("#mobirise-ai-prompt").val(),e.next=3,v.default.start({prompt:t});case 3:t=e.sent,n=c.substProject(t,c.projectPath),o(n.pages["index.html"]||{});case 6:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)}),onHide:function(){e()}})})},getAiSitesCount:d,checkAiLimits:function(){return new Promise(function(e){return"allTime"===i.period&&i.isExceeded&&i.limit===i.used?(c.showDialog({title:s("Mobirise AI"),body:s("You've reached the limit for using Mobirise AI. To continue generating new pages, please upgrade your plan."),buttons:{btClose:{label:s("Cancel"),callback:function(){}},btSave:{label:s("Upgrade"),default:!0,callback:function(){c.goToBuyPremium({alert:!1}),gtag("event","ai_upgrade_click",{event_category:"engagement",dom_source:"limit_modal"})}}}}),e(!1)):"currentMonth"===i.period&&i.isExceeded&&i.limit===i.used?(c.showDialog({title:s("Mobirise AI"),body:s("You have reached your monthly limit"),buttons:{btSave:{label:s("Ok"),default:!0,callback:function(){}}}}),e(!1)):e(!0)})},getAiThemes:function(){return t?Promise.resolve(t):g.default.request("/v2/themes").then(function(e){return t=e})},getAiTheme:function(l){return c.getAiThemes().catch(function(e){return console.log(e),[]}).then(function(e){var t=void 0,n=!0,i=!1,o=void 0;try{for(var r,a=e[Symbol.iterator]();!(n=(r=a.next()).done);n=!0){var s=r.value;s.isAvailable&&c.normalizeAiThemeName(s.name)===l&&(t=s)}}catch(e){i=!0,o=e}finally{try{!n&&a.return&&a.return()}finally{if(i)throw o}}return t})},normalizeAiThemeName:function(e){return e.split("-next").shift()}},events:{showedProjectsList:function(t){t.on("click",".app-new-mobirise-ai",function(e){e.preventDefault(),e.stopPropagation(),a(e.target).hasClass("disabled")||c.checkAiLimits().then(function(e){if(!e)return c.goToBuyPremium({alert:!1});c.newAiProjectModal()})}),c.getUserMbrStats(t).then(function(e){t.find(".app-new-project .create-site-counter").length?t.find(".app-new-project .create-site-counter span").html(n.isUnlimited?"Unlimited":(n.used||1)+" of "+n.limit+" sites created"):(r=r.find("span").html(n.isUnlimited?"Unlimited":(n.used||1)+" of "+n.limit+" sites created"),t.find(".app-new-project").append(r)),n.isUnlimited||n.used!==n.limit||(a(".app-new-mobirise-ai").addClass("disabled"),a(".app-new-project").addClass("disabled"))})},loadedProject:function(){l.status=!0,l.projectLoaded=!0,p.clearCache(),h(),c.getUserAiStats().then(function(e){var t="";switch((i=e.pageGenerationUsage).isUnlimited&&(t="Pro"),i.period){case"currentMonth":t="Start AI";break;case"allTime":t="Free AI"}var n='<div class="sidebar-ai-panel hover-block">\n                            <h4 class="sidebar-ai-planname">'+t+'</h4>\n                            <span class="sidebar-ai-generation-count hover-block-sub" style="margin-top:0;padding-top:5px">$STATUS$</span>\n                            '+("Free"===t?'<button class="btn btn-primary" type="button">Upgrade</button>':"")+"\n                        </div>";switch(i.period){case"currentMonth":n=n.replace("$STATUS$",i.limit-i.used+" left this month");break;case"allTime":n=n.replace("$STATUS$",i.limit-i.used+" generations left");break;default:n=n.replace("$STATUS$","Unlimited")}c.$sidebar.find(".sidebar-ai-panel").length||(c.$sidebar.append(a(n)),c.$sidebar.find(".sidebar-ai-panel .btn").on("click",function(){c.goToBuyPremium({alert:!1}),gtag("event","ai_upgrade_click",{event_category:"engagement",dom_source:"sidebar"})}))})},sidebarOpened:function(){c.$sidebar.find(".sidebar-ai-panel .sidebar-ai-planname, .sidebar-ai-panel .sidebar-ai-generation-count").each(function(e,t){a(t).on("click",function(){c.userLicenses.show()})})},removedProject:function(){p.clearCache(),p().then(function(e){n=e.sitesUsage,a(".app-new-project .create-site-counter").length?a(".app-new-project .create-site-counter span").html(n.isUnlimited?"Unlimited":(n.used||1)+" of "+n.limit+" used"):(r.find("span").html(n.isUnlimited?"Unlimited":(n.used||1)+" of "+n.limit+" used"),a(".app-new-project").append(r)),n.isUnlimited||(n.used===n.limit?(a(".app-new-mobirise-ai").addClass("disabled"),a(".app-new-project").addClass("disabled")):(a(".app-new-mobirise-ai").removeClass("disabled"),a(".app-new-project").removeClass("disabled"))),l.status=!1})},addedPage:function(){c.getUserAiStats().then(function(e){i=e.pageGenerationUsage})}},filters:{showProjectsListStart:function(e){return e+d(o)}}})},["jQuery","mbrApp","Bridge","TR()"])},function(e,t,n){"use strict";var F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n=n(70),I=(n=n)&&n.__esModule?n:{default:n};defineM(function(d,u,p,s,n){var l="mbrsite",e="mobirisesite.com",c="r."+e,i="en",t=new RegExp("^(.+?)\\."+e.replace(/\./g,"\\.")+"$"),f={};function h(e){e.stopPropagation();var t=d(e.target).closest(".project-element"),e=t.find(".project-domain").text();u.confirmDlg(p("There is no local copy of the site, do you want to download it from $url$?").replace("$url$",'<a href="#" class="mbrsite-delete-link">'+e+"</a>"),function(e){var o;e&&(o=d(u.preloaderHTML).appendTo(".show-site-list-modal").on("click",function(e){e.stopPropagation()}),s.initProject(function(e,r){var a,n,i;!e&&r&&r.path?(a=t.attr("site-id"),n=t.attr("site-domain"),i=r.path+"/project.mobirise",g.Api.get("sites/"+a+"/files/").then(function(e){e&&e.contents&&e.contents.length?(e=e.contents.filter(function(e){return e.startsWith("assets/images/")||"project.mobirise"===e}),d.when.apply(d,e.map(function(e){return n=e,i=d.Deferred(),o="https://"+c+"/"+a+"/"+n,s.download3(o,{callback:function(e){var t;e&&"Incorrect status code"!==e?(t=r.path+"/"+n,s.moveLocal(e,t,function(e){e?i.resolve():i.reject("error getting file: "+o)})):i.reject("error getting file: "+o)}}),i.promise();var n,i,o})).then(function(){return s.getLocalJSON(i)},function(e){console.error(e)}).then(function(t){var e;t?(e=new g({id:a,domain:n,protocol:l}),t.settings[l]=e.toString(),delete t.settings.screenshot,u.runSaveProject(function(e){e||console.error("Error: unable to save current project"),u.loadProject(i,t,{onError:function(e){u.showError(p("Error loading project")+": "+e),o.remove()},onDone:function(){u.closeSidebar(),o.remove()}})},!1)):o.remove()},function(e){u.showError(p("Error loading project")+": "+e),o.remove()})):(u.showError(p("Can't download the site because it was published incorrectly.")),o.remove())})):(u.showError(p("Unable to init project")),o.remove())}))}).find(".mbrsite-delete-link").click(function(e){e=e.target.textContent;u.openUrl(e)})}function m(e){e.stopPropagation();var t=d(u.preloaderHTML).on("click",function(e){e.stopPropagation()}),n=d(e.target).closest(".project-element"),i=n.attr("site-id"),e=n.attr("site-domain"),o=new g({id:i,domain:e,protocol:l});(e=u.confirmDlg({message:p("Do you want to remove the domain $domain$? Your site will be completely removed from the Web.").replace("$domain$",'<a href="#" class="mbrsite-delete-link">'+u.escapeHtml(o.get("domain"))+"</a>").replace("?","?<br>"),callback:function(e){e&&(t.appendTo(".show-site-list-modal"),o.delete().then(function(){n.remove();for(var e=0;e<f.items.length;e++)if(f.items[e].id===parseInt(i)){f.items.splice(e,1),--f.count;break}},function(e){u.showError(p("Error removing site")+": "+e)}).always(function(){t.remove()}))},buttons:{cancel:{label:p("Cancel")},confirm:{label:p("Remove")}}})).find(".modal-footer .btn-primary").removeClass("btn-primary").addClass("btn-danger"),e.find(".mbrsite-delete-link").click(function(){u.openUrl(o.getUrl())})}r.size=function(e){var t=e.content.length;return 0==e.encoding.indexOf("base64")?!t||t%4?0:3*(t/4-1)+atob(e.content.substr(-4)).length:"utf8"==e.encoding?t+(encodeURIComponent(e.content).match(/%[89ABab]/g)||[]).length:t};var o=r;function r(e){this.content=(e=e||{}).content||"",this.encoding=e.encoding||"utf8",this.sourcePath=e.sourcePath||null,Object.defineProperty(this,"size",{get:function(){return r.size(this)}})}var a=function(t,n){var e,i=d.Deferred();return(n=n||{}).encoding||(n.encoding="base64"),n.templating?i.resolve(new o({content:s.templating(t),encoding:"utf8",sourcePath:t})):(e="base64"==n.encoding?"loadLocalBase64":"loadLocalFile",s[e](t,function(e){i.resolve(new o({content:e,encoding:n.encoding,sourcePath:t}))})),i.promise()},g=(v.parseString=function(e){e=e.match(/^([-a-z0-9]+):\/\/(.*)$/i);return e?d.extend(decodeURIComponent(e[2]),{protocol:e[1]}):{}},v.Api={_request:function(t,n){return I.default.fetchAccessToken().then(null,function(e,t){return u.handleServerError(e,t),d.Deferred().reject(new Error(e)).promise()}).then(function(e){if((t="string"==typeof(t=t||{})?{path:t}:t).headers=d.extend({"X-App":s.appName+"/"+s.version,Authorization:"Bearer "+e,"Accept-Language":i},t.headers||{}),t.dataType){e=String(t.dataType);if("json"!==e.toLowerCase())throw new Error('Unknown dataType: "'+e+'".');t.data=JSON.stringify(t.data),t.headers["Content-Type"]="application/json"}return n&&d.extend(!0,t,n),s._REST("https://api.mobirisesite.com/v1/"+(t.path||""),{method:t.method||"GET",timeout:t.timeout||3e4,data:t.data||""})})},request:function(e){return this._request(e)},get:function(e){return this._request(e,{method:"GET"})},post:function(e){return this._request(e,{method:"POST"})},put:function(e){return this._request(e,{method:"PUT"})},delete:function(e){return this._request(e,{method:"DELETE"})}},v.prototype.set=function(e,t){if("object"==(void 0===e?"undefined":F(e))){var n=e;for(e in n)this.set(e,n[e])}else this.attrs[e]=t,"id"===e&&(this.id=t);return this},v.prototype.get=function(e){return this.attrs[e]},v.prototype.getUrl=function(){return u.domainManager&&u.domainManager.siteId===this.id&&u.domainManager.isConnected&&u.domainManager.isReady?"https://"+u.domainManager.getCustomDomainInfo().name:"https://"+this.attrs.domain},v.prototype.toString=function(){return this.attrs.protocol+"://"+encodeURIComponent(JSON.stringify(this))},v.prototype.toJSON=function(){return{id:this.id,domain:this.attrs.domain}},v.prototype.save=function(e){return e=d.extend(this.toJSON(),e||{}),u.getSubdomain(e.domain)?(this.id?v.Api.put({path:"sites/"+this.id,data:e,dataType:"json"}):v.Api.post({path:"sites",data:e,dataType:"json"})).then(this.set.bind(this)):d.Deferred().reject(new Error(p("Incorrect domain name."))).promise()},v.prototype.delete=function(){return v.Api.delete({path:"sites/"+this.id}).then(function(){this.set("id",null)}.bind(this))},v.prototype.isAvailableFeature=function(t){return e=this.id,n.get("sites/"+e+"/licenses").then(function(e){for(var t={},n=0;n<e.length;n++)e[n].isExpired||e[n].plan.features.forEach(function(e){return t[e]=1});return Object.keys(t)},function(e){return console.error(e),d.when([])}).then(function(e){return e.includes(t)});var e},v);function v(e){e="string"==typeof e?v.parseString(e):e||{},this.fs=new b({site:this}),this.id=null,this.attrs={},this.set(d.extend({protocol:"site"},e))}y.prototype.deleteFile=function(e){return this.site.id?g.Api.delete("sites/"+this.site.id+"/files/"+e):d.Deferred().reject(new Error("Unable to delete file.")).promise()},y.prototype.uploadFile=function(e,t){var n;return this.site.id?6e6<t.size?d.Deferred().reject(new Error(p("File too large")+": "+e)).promise():(n={},"utf8"!=t.encoding&&(n["X-Payload-Encoding"]=t.encoding),g.Api.post({path:"sites/"+this.site.id+"/files/"+e,data:t.content,headers:n})):d.Deferred().reject(new Error("Unable to upload file.")).promise()};var b=y;function y(e){d.extend(this,e||{})}function w(l){(l=l||{}).pipes||(l.pipes=[]),i="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";var i,c=function(){for(var e=Math.floor((new Date).getTime()/1e3),t=i.length,n="";0<e;)n=i.charAt(e%t)+n,e=(e-e%t)/t;return n};return function(e,t,n){if(0==e.indexOf(l.name+"://")){n.onStart(t.length);for(var i=new g(e),o=new w.Stream(t),r={ver:c(),site:i,stream:o},a=0;a<l.pipes.length;a++){var s=l.pipes[a];o.pipe(s.bind(r))}return o.pipe(function(e){return n.onFile(e.destPath),i.fs.uploadFile(e.destPath,e).then(function(){n.onUploaded(e.destPath)})}).done(function(){bootbox.dialog({className:"mbrsite",message:'<div class="congrats-modal text-center">\n                                <br>\n                                <h3 class="title">\n                                    <span><b>'+p("Congratulations!")+"</b></span>\n                                </h3>\n                                <br>\n                                <div>"+p("Your site is published and live online:")+'</div>\n                                <span><a class="congrats-site-link" href="'+i.getUrl()+'" target="_blank">'+i.getUrl()+'</a></span>\n                                <button class="btn btn-primary" id="viewSite">View Site</button>\n                                <br>\n                                '+(u.domainManager&&!0===u.domainManager.isConnected?"":'<div class="separator">\n                                            <h3>'+p("Next:")+"</h3>\n                                            <div>"+p("Edit your site online:")+'</div>\n                                            <span><a href="'+i.getUrl()+'/edit/" target="_blank">'+i.getUrl()+'/edit/</a></span>\n                                            <button class="btn btn-primary" id="editSite">Edit Site</button>\n                                        </div>\n                                        <div class="item mbrsite-domain-control">\n                                            <span>'+p("Connect your own domain")+"</span>\n                                            <br>\n                                            <span>"+p("https://")+'</span>\n                                            <input id="custom-domain" type="text" placeholder="yourdomain.com" class="form-control">\n                                            <button class="btn btn-primary" id="connect-custom-btn">Connect</button>\n                                        </div>')+"\n                            </div>",buttons:{cancel:{label:p("ok"),className:"btn-primary"}}}).on("hidden.bs.modal",function(){n.onClose()}).on("click","#viewSite",function(){n.onClose(i.getUrl())}).on("click","#editSite",function(){n.onClose(i.getUrl()+"/edit/")}).on("click","#connect-custom-btn",function(e){n.onClose()}),u.fire("endUploader")}).fail(function(e){n.onError(e.message)}),d.extend(o.control(),{exit:function(){o.pause(),n.onClose()}})}}}function x(e){d.extend(this,{_pos:0,_list:e||[],_funcs:{pipe:[],done:[],fail:[this.pause.bind(this)]},_timeout:setTimeout(this.resume.bind(this),0),_isPaused:!0})}w.Stream=(x.isBinaryFile=function(e){return 1==e.length&&!e[0].filter&&!/\.(html|xml|css|map|less|js|json|mobirise)$/.test(e[0].src)},x.prototype._next=function(){var t,n,e;this._pos>=this._list.length?this._funcs.done.forEach(function(e){e()}):(e=(t=this._list[this._pos++]).srcList,n=x.isBinaryFile(e),e=d.when.apply(d,e.map(function(e){return a(e.src,{encoding:n?null:"utf8",templating:e.filter})})).then(function(){var e=[].slice.call(arguments),e=e.length<2?e[0]:new o({content:e.map(function(e){return e.content}).join(""),encoding:"utf8"});return e.destPath=t.dest,e}),e=this._funcs.pipe.reduce(function(e,t){return e.then(t)},e).then(function(){this.isPaused()||this._next()}.bind(this)),this._funcs.fail.reduce(function(e,t){return e.fail(t)},e))},x.prototype.isPaused=function(){return this._isPaused},x.prototype.pause=function(){return clearTimeout(this._timeout),this._isPaused=!0,this},x.prototype.resume=function(){return this.isPaused()&&(this._isPaused=!1,this._next()),this},x.prototype.pipe=function(e){return this._funcs.pipe.push(e),this},x.prototype.done=function(e){return this._funcs.done.push(e),this},x.prototype.fail=function(e){return this._funcs.fail.push(e),this},x.prototype.repeat=function(){return 0<this._pos&&this._pos--,this.resume()},x.prototype.control=function(){return{pause:this.pause.bind(this),resume:this.resume.bind(this),repeat:this.repeat.bind(this)}},x);function _(e){var o=this;switch(e.destPath.split(".").pop()){case"html":e.content=e.content.replace(C,function(e,t,n){var i=L(n)?"?v="+o.ver:"";return t+'="https://'+c+"/"+o.site.id+"/"+n+i+'"'}).replace(P,function(e,t,n){var i=L(n)?"?v="+o.ver:"";return t+'=\\"https://'+c+"/"+o.site.id+"/"+n+i+'\\"'}).replace(S,function(e,t,n){return"url("+t+"https://"+c+"/"+o.site.id+"/"+n+"?v="+o.ver+t+")"}).replace(A,function(e,t,n){var i=L(n)?"?v="+o.ver:"";return t+(n="https://"+c+"/"+o.site.id+"/"+n+i)+"']"}).replace(E,function(e,t,n){var n=JSON.parse(decodeURIComponent(n)),i=L(n.images)?"?v="+o.ver:"";return n.images="https://"+c+"/"+o.site.id+"/"+n.images+i,t+encodeURIComponent(JSON.stringify(n))+'"'}),e.content=e.content.replace(j,function(e,t,n){return t+'="https://'+c+"/"+o.site.id+"/"+n+'"'});break;case"css":e.content=e.content.replace(T,function(e,t,n){var i;return i=n,"."==(n=(/^(\.|https?:|data:)/.test(i)?"":"./")+i).charAt(0)&&L(n)&&(n+="?v="+o.ver),"url("+t+n+t+")"})}switch(e.destPath){case"manifest.json":e.content=e.content.replace("assets/icons/512x512.png","https://"+c+"/"+o.site.id+"/assets/icons/512x512.png");break;case"sw.js":e.content=e.content.replace("importScripts('assets/sw-toolbox.js')","importScripts('https://"+c+"/"+o.site.id+"/assets/sw-toolbox.js');")}return e}var k,S,C,P,T,j,E,A;k=/(\.png|\.jpe?g|\.gif|\/mbr-additional\.css)$/,S=/url\((["']?)(?:\.\.\/)*(assets\/.+?)\1\)/g,C=/(href|src)="(?:\.\.\/)*(assets\/.+?)"/g,P=/(href|src)=\\"(?:\.\.\/)*(assets\/.+?)\\"/g,T=/url\((["']?)(.+?)\1\)/g,j=/(content)="(?:\.\.\/)*(assets\/.+?)"/g,E=/(href="data:application\/json,)(.*?)(?=")/g,A=/(tap:.+'images':\[')(.+?)']/g;function L(e){return k.test(e)}function $(t){return"utf8"==t.encoding&&6e6<t.size?s.gzipBase64(t.content).then(function(e){return t.content=e,t.encoding="base64-gzip",t}):t}function O(e){return u.applyFilter(l+"UploadFile",d.when(e))}var D=d('<h3 class="project-label project-domain text-primary"></h3>');u.regExtension({name:l,global:{Site:g.Api,getSubdomain:function(e){return"string"!=typeof e?null:(e=t.exec(e))&&e[1]},isAvailableFeature:function(e){return e=e,!!(t=u.projectSettings||(u.projectSettings={}))[l]&&new g(t[l]).isAvailableFeature(e);var t}},events:{createPublishModal:function(e){var t=u.projectSettings&&u.projectSettings[l];e.find('input[name="mbrsiteDomain"]').val(t?u.getSubdomain(g.parseString(t).domain):u.getUID(10).toLowerCase()),u.domainManager&&u.domainManager.checkPublishTemplate(e)},loaded:function(){u.addFilter("getPublishUrl",function(e,t,n){var i;return t===l?(u.projectSettings||(u.projectSettings={}),i=d(u.preloaderHTML).css({opacity:.8,borderRadius:"8px"}),n.find(".modal-content").before(i),t=d("[name=mbrsiteDomain]"),u.changeUsrDomain(t.val()).then(function(e){return u.projectSettings.domains[0]=e,u.projectSettings.publicUrl="https://"+e.name+"/",u.runSaveProject(),i.remove(),n.modal("hide"),!0}).catch(function(e){throw console.log(e),i.remove(),n.find(".mbrsite-publish-settings").addClass("mbrsite-domain-error").end(),n.find(".mbrsite-input-status").html(e.message),e})):e})},load:function(){u.addFilter("removeProject",function(e,t){return e.then(function(){return s.getLocalJSON(t+"/project.mobirise")}).then(function(e){var r,a,s=d.Deferred(),e=e&&e.settings&&e.settings[l];return e?(r=new g(e),a=r.id,(e=u.confirmDlg({message:p("Do you want to remove the domain $domain$? Your site will be completely removed from the Web.").replace("$domain$",'<a href="#" class="mbrsite-delete-link">'+u.escapeHtml(r.get("domain"))+"</a>").replace("?","?<br>"),callback:function(e){var t,n,i,o;e?(t=d(u.preloaderHTML).appendTo(".show-site-list-modal").on("click",function(e){e.stopPropagation()}),r.delete().then(function(){for(var e=0;e<f.items.length;e++)if(f.items[e].id===parseInt(a)){f.items.splice(e,1),--f.count;break}},function(e){u.showError(p("Error removing site")+": "+e)}).always(function(){t.remove(),s.resolve()})):(n=(e=u.$body.find(".show-site-list-modal .site-list .project-element").eq(0)).clone(),i=r.getUrl(),o=r.get("domain"),n.attr({"site-id":a,"site-domain":o}).find(".project-element-panel").removeClass("active").addClass("project-remote").find(".project-img").addClass("project-img-icon").html('<i class="mbr-icon-globe-with-americas-shown"></i>').end().find(".project-name").text(u.getSubdomain(o)).end().find(".btn-group > .btn:not(.app-project-remove)").remove(),n.find(".project-domain").length?n.find(".project-domain").text(i):((o=D.clone()).text(i),n.find(".project-name").after(o)),e.after(n),n.find(".project-domain").on("click",function(e){e.stopPropagation();e=e.target.textContent;u.openUrl(e)}),n.find(".project-remote").on("click",h),n.find(".app-project-remove").on("click",m).tooltipster({content:p("Remove Site"),delay:0,speed:100,position:"bottom"}),s.resolve())},show:function(t){t.one("keypress",function(e){e.code,t.find("[data-bb-handler='confirm']").click()})},buttons:{cancel:{label:p("Cancel")},confirm:{label:p("Remove")}}})).find(".modal-footer .btn-primary").removeClass("btn-primary").addClass("btn-danger"),e.find(".mbrsite-delete-link").click(function(){u.openUrl(r.getUrl())})):s.resolve(),s.promise()})}),u.addFilter("projectHashesUrl",function(e){var t;return e&&0==e.indexOf(l+"://")?(t=g.parseString(e)).protocol+"://"+encodeURIComponent(JSON.stringify({id:t.id})):e}),u.addFilter("publishProjectSettings",function(e,t){return t&&delete e[l],e}),s.getSettings("language",function(e){e&&(i=e)}),s.fileManagerAddUploader(new w({name:l,pipes:[_,O,$]})),u.addFilter("showProjectsListEach",function(e,t,n){var i,o;return n[l]?(i=d(e),n=new g(n[l]),(o=D.clone()).text(n.getUrl()),i.find(".project-element-panel").find(".project-name").after(o),i[0].outerHTML):e}),this.$body.on("click",".mbrsite-open",function(){var e=u.projectSettings&&u.projectSettings[l];e&&(e=new g(e),u.openUrl(e.getUrl()))}),this.$body.on("click",".mbrsite-delete",function(){var i,o=d(".app-layer-common"),e=(d(".mbrsite-domain-control"),u.projectSettings&&u.projectSettings[l]);if(e)return i=new g(e),(e=u.confirmDlg(p("Do you want to remove the domain $domain$? Your site will be completely removed from the Web.").replace("$domain$",'<a href="#" class="mbrsite-delete-link">'+u.escapeHtml(i.get("domain"))+"</a>").replace("?","?<br>"),function(e){var t,n;e&&(t=d(u.preloaderHTML).css("opacity",.8),o.find(".app-layer-cont").before(t),n=i.id,i.delete().then(null,function(e){return(404===e.code?d.Deferred().resolve():d.Deferred().reject(e)).promise()}).then(function(){for(var e=0;e<f.items.length;e++)if(f.items[e].id===n){f.items.splice(e,1),--f.count;break}return d.Deferred(function(t){delete u.projectSettings[l],u.runSaveProject(function(e){t.resolve(),u.fire("mbrsiteDeleted")},!0)}).promise()}).always(function(){t.remove()}))})).find(".modal-footer .btn-primary").removeClass("btn-primary").addClass("btn-danger"),e.find(".mbrsite-delete-link").click(function(){u.openUrl(i.getUrl())}),!1}).end(),u.addFilter("publishFiles",function(e,t){return"mbrsite"===u.projectSettings.publishType&&e.push({dest:"edit/index.html",srcList:[{src:"edit/index.html",filter:"template"}]}),e}),u.addFilter("publishTemplating",function(e,t){return"mbrsite"===u.projectSettings.publishType&&"edit/index.html"==t?'<!DOCTYPE html>\n                                <html lang="en">\n                                    <head>\n                                        <meta charset="UTF-8">\n                                        <meta name="viewport" content="width=device-width, initial-scale=1.0">\n                                        <title>CMS</title>\n                                    </head>\n                                    <body>\n                                        <script src="https://c.ybnz.com/creator.js"><\/script>\n                                    </body>\n                                </html>':e})},showedProjectsList:function(e){var t=d(u.preloaderHTML).appendTo(".show-site-list-modal").on("click",function(e){e.stopPropagation()});e.on("shown.bs.modal",function(){e.find(".search-site-input").focus()});d.when.apply(d,e.find(".site-list .project-element").toArray().map(function(e){return e=e,n=d.Deferred(),(i=d(e)).find(".project-domain").length?n.resolve():(e=i.attr("data-url"),s.getLocalJSON(e).then(function(e){var t,e=e&&e.settings&&e.settings[l];e&&(e=new g(e),(t=D.clone()).text(e.getUrl()),i.find(".project-element-panel").find(".project-name").after(t)),n.resolve()}).catch(function(e){console.log(e),n.resolve()})),n.promise();var n,i})).then(function(){f.count||t.remove()},function(e){console.error(e),t.remove()})},loadedProject:function(){u.updateProjectName()},savedProject:function(){u.updateProjectName()},changedProjectSettings:function(){u.updateProjectName()},domainManagerLoaded:function(){var e=u.projectSettings&&u.projectSettings[l];if(e){var e=new g(e),o=d(".app-layer-common"),r=d(".mbrsite-domain-control"),a=o.find(".mbrsite-change-domain-btn");try{var t=d(".app-layer-common").find(".mbrsite-change-domain-btn"),n=u.domainManager.data?u.getSubdomain(u.domainManager.getDomainInfo().name):e.attrs?u.getSubdomain(e.attrs.domain):"";d(".app-layer-common").find("#site-settings-domain").attr("value",n).on("focus",function(){t.css("visibility","visible")}).on("blur",function(e){e=e.relatedTarget;e&&d(e).hasClass("mbrsite-change-domain-btn")||t.css("visibility","hidden")}).end()}catch(e){console.error(e)}a.on("click",function(){var e,t,n,i=u.projectSettings||(u.projectSettings={});i[l]&&(e=new g(i[l]),(t=u.withSubdomain(o.find("input.mbrsite-domain").val().trim()))===e.get("domain")?a.css("visibility","hidden"):(n=d(u.preloaderHTML).css("opacity",.8).appendTo(o),r.removeClass("mbrsite-domain-error"),e.save({domain:t}).then(function(){i[l]=e.toString()},function(e){return(404===e.code?(delete i[l],d.Deferred().resolve()):(r.addClass("mbrsite-domain-error").find(".mbrsite-input-status").html(e.message),n.remove(),d.Deferred().reject(e))).promise()}).always(function(){a.css("visibility","hidden"),u.domainManager&&u.domainManager.syncDomainData(),n.remove()})))}),u.updateProjectName()}}}})},["jQuery","mbrApp","TR()","Bridge","mbrServer"])},function(e,t,n){"use strict";var b=n(23),n=n(70),i=(n=n)&&n.__esModule?n:{default:n};defineM("app-updater",function(l,h,c){var d="skippingAnnounce",m="lastMessageId",g="lastMessageDate",v=/^online\$(.)(\d+|∞)/;function e(e,f,t){var n;n=l.Deferred(),h.isPremiumUser().then(function(e){e?n.resolve("p"):n.resolve("f")}),n.then(function(p){b.Bridge.getSettings(g,function(e){var u=(new Date).toISOString().split("T")[0];e||b.Bridge.setSettings(g,u),e!=u&&b.Bridge.getSettings(d,function(d){b.Bridge.getSettings(m,function(e){var n,c=parseInt((e||"").replace("online#",""))||0,e=b.Bridge.substUrl(t);n=function(e){if(e){for(var t=d||"",n=0,i=(v.test(t)&&(n=parseInt(v.exec(t)[2])),void 0),t=void 0,o=void 0,r=0;r<e.length&&e[r];r++){var a,s,l=e[r];v.test(l.id)?(s=v.exec(l.id)[1],a=parseInt(/\d+/.exec(l.id))||(/∞/.test(l.id)?1/0:0),(p===s||"a"===s)&&n<a&&(!i||v.test(i.id)&&a<parseInt(v.exec(i.id)[2]))&&(i=l)):/^online\#/.test(l.id)&&(s=parseInt(l.id.replace("online#",""))||0,c<s)&&(!o||s<parseInt(o.id.replace("#","")))&&(o=l)}if(t=i||o){if(t.message&&(t.message=t.message.join("\n")),f)try{f(t)}catch(e){}b.Bridge.setSettings(g,u)}}else h.rmExtension("app-updater")},b.Bridge.loadLocalFile(e,function(e){if(n){var t={};try{t=JSON.parse(e)}catch(e){console.log("Error in news.json: "+e.message+" at line "+e.line+" in file "+path)}n(t)}})})})})})}function t(e){var t='<div class="modal fade no-select" tabindex="-1" role="dialog" aria-hidden="true" data-backdrop="static"><div class="modal-dialog modal-lg"><div class="modal-content"><div class="modal-header"><h4 class="modal-title">@TITLE@</h4></div><div class="modal-body">@MESSAGE@</div><div class="modal-footer"></div></div></div></div>',n=c("Remind later"),t=l(t.replace("@TITLE@",e.title||TITLE_TEXT_DEFAULT).replace("@MESSAGE@",e.message||e.title||text)),i=l('[href*="app://stop"]',t),o=l('[href*="app://close"]',t),r=l('[href*="app://accept"]',t),a=l('[href^="http"]',t),s=l("button",t),n=(l().add(i).add(o).add(r).add(a).length||(o=l('<button type="button" class="btn" data-dismiss="modal">@TEXT@</button>'.replace("@TEXT@",n)),l(".modal-footer",t).prepend(o)),v.test(e.id)?l().add(i).add(o).add(r).add(a).add(s).on("click",function(){/∞/.test(e.id)||b.Bridge.setSettings(d,e.id)}):/^online\#/.test(e.id)&&l().add(i).add(o).add(r).add(a).add(s).click(function(){b.Bridge.setSettings(m,e.id)}),a.each(function(){l(this).attr("_href",l(this).attr("href"))}),a.click(function(e){e.preventDefault(),h.openUrl(l(this).attr("_href"))}),l().add(i).add(o).add(r).add(a).attr("href","javascript:void(0)").click(function(){t.modal("hide")}),t.on("hidden",function(){t.remove(),h.rmExtension("app-updater")}),t.modal({show:!0,keyboard:!1,backdrop:"static"}));h.fire("showUpdaterWindow",n)}h.regExtension({name:"app-updater",events:{loaded:function(){!1!==h.getUserInfo()&&setTimeout(function(){i.default.storage.has("prompt")||e(0,t,"https://mobirise.com/news.json")},5e3)}}})},["jQuery","mbrApp","TR()"])},,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){n(144),n(145),e.exports=n(358)}]);